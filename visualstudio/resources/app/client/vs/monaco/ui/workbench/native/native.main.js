/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/base/strings",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main"],function(e,t,n){function r(e,t,n){void 0===n&&(n="0");for(var r=""+e,i=[r],o=r.length;t>o;o++)i.push(n);return i.reverse().join("")}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(j,function(e,n){var r=parseInt(n,10);return isNaN(r)||0>r||r>=t.length?e:t[r]})}function o(e){return e||(e=new Date),n.localize("vs_base_strings",0,r(e.getMonth()+1,2),r(e.getDate(),2),r(e.getFullYear(),4),r(e.getHours(),2),r(e.getMinutes(),2),r(e.getSeconds(),2))}function s(e){return e||(e=new Date),n.localize("vs_base_strings",1,r(e.getHours(),2),r(e.getMinutes(),2),r(e.getSeconds(),2))}function a(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function l(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function c(e,t,n){return e.replace(new RegExp(l(t.toString()),"g"),n)}function u(e,t){void 0===t&&(t=" ");var n=d(e,t);return p(n,t)}function d(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;for(var r=0,i=-1;(i=e.indexOf(t,r))===r;)r+=n;return e.substring(r)}function p(e,t){if(!e||!t)return e;var n=t.length,r=e.length;if(0===n||0===r)return e;for(var i=r,o=-1;;){if(o=e.lastIndexOf(t,i-1),-1===o||o+n!==i)break;if(0===o)return"";i=o}return e.substring(0,i)}function h(e){return e.replace(/(^\s+|\s+$)/g,"")}function m(e){return e.replace(/\s+/g," ")}function f(e){var t=(new Date).getTime(),r=(t-e)/1e3;if(60>r)return n.localize("vs_base_strings",2,Math.floor(r));var i=r/60;if(60>i)return n.localize("vs_base_strings",3,Math.floor(i));var o=i/60;if(24>o)return n.localize("vs_base_strings",4,Math.floor(o));var s=o/24;return n.localize("vs_base_strings",5,Math.floor(s))}function v(e){var t=(new Date).getTime(),r=(t-e)/1e3;if(60>r)return n.localize("vs_base_strings",6);var i=r/60;if(60>i)return 1===Math.floor(i)?n.localize("vs_base_strings",7):n.localize("vs_base_strings",8,Math.floor(i));var o=i/60;if(24>o)return 1===Math.floor(o)?n.localize("vs_base_strings",9):n.localize("vs_base_strings",10,Math.floor(o));var s=o/24;return 1===Math.floor(s)?n.localize("vs_base_strings",11):s>6&&8>s?n.localize("vs_base_strings",12):s>30&&40>s?n.localize("vs_base_strings",13):n.localize("vs_base_strings",14,Math.floor(s))}function g(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function b(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===e.length-t.length:0===n?e===t:!1}function _(e,t,n,r){return void 0===r&&(r=""),e.substring(0,t)+r+e.substring(t+n)}function w(e,t,n,r){if(""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),r&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var i="g";return n||(i+="i"),new RegExp(e,i)}function E(e){var t=e.exec("");return t&&0===e.lastIndex}function S(e,t){if(!e)return e;if(t){for(var n=e.split("/"),r=0,i=n.length;i>r;r++)n[r]=encodeURIComponent(n[r]);return n.join("/")}return encodeURIComponent(e)}function T(e){return/^\w[\w.]*$/.test(e)}function k(e){return!e||!e.trim()}function C(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function x(e,t,n){return t&&(e="^"+e),n&&(e+="$"),e}function A(e,t){if(E(new RegExp(e,t)))throw new Error("Regular expression /"+e+"/g results in infinitive matches")}function L(e){return e?(0===e.indexOf("/")&&(e=e.substring(1)),S(e,!0)):""}function N(e,t){return"["+e+"m"+t+"[0m"}function I(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function O(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return e.substring(0,t);return e}function R(e){for(var t=e.length-1;t>=0;t--)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function P(e,t){return e.localeCompare(t)}function D(e){return e>=97&&122>=e||e>=65&&90>=e}function M(e,t){var n=e.length,r=t.length;if(n!==r)return!1;for(var i=0;n>i;i++){var o=e.charCodeAt(i),s=t.charCodeAt(i);if(o!==s)if(D(o)&&D(s)){var a=Math.abs(o-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(o).toLocaleLowerCase()!==String.fromCharCode(s).toLocaleLowerCase())return!1}return!0}function F(e,t){var n,r=Math.min(e.length,t.length);for(n=0;r>n;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}function V(e,t){var n,r=Math.min(e.length,t.length),i=e.length-1,o=t.length-1;for(n=0;r>n;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(o-n))return n;return r}function B(e,t,n){void 0===n&&(n=4);var r=Math.abs(e.length-t.length);if(r>n)return 0;var i,o,s=[],a=[];for(i=0;i<t.length+1;++i)a.push(0);for(i=0;i<e.length+1;++i)s.push(a);for(i=1;i<e.length+1;++i)for(o=1;o<t.length+1;++o)s[i][o]=e[i-1]===t[o-1]?s[i-1][o-1]+1:Math.max(s[i-1][o],s[i][o-1]);return s[e.length][t.length]-Math.sqrt(r)}function H(e){for(var t,n=/\r\n|\r|\n/g,r=[0];t=n.exec(e);)r.push(n.lastIndex);return r}function W(e,n){if(e.length<n)return e;for(var r=e.split(/\b/),i=0,o=r.length-1;o>=0;o--)if(i+=r[o].length,i>n){r.splice(0,o);break}return r.join(t.empty).replace(/^\s/,t.empty)}function U(e){return e&&(e=e.replace(G,""),e=e.replace(z,"\n"),e=e.replace(q,""),e=e.replace(K,"")),e}function $(e){return e&&e.length>0&&e.charCodeAt(0)===Y}t.empty="",t.pad=r;var j=/{(\d+)}/g;t.format=i,t.formatDate=o,t.formatTime=s,t.escape=a,t.escapeRegExpCharacters=l,t.replaceAll=c,t.trim=u,t.ltrim=d,t.rtrim=p,t.trimWhitespace=h,t.normalize=m,t.conciseformatDiff=f,t.verboseformatDiff=v,t.convertSimple2RegExpPattern=g,t.startsWith=b,t.endsWith=y,t.splice=_,t.createRegExp=w,t.regExpLeadsToEndlessLoop=E,t.encodeURIPart=S,t.isCamelCasePattern=T,t.isFalsyOrWhitespace=k,t.toRegExpPattern=C,t.anchorPattern=x,t.assertRegExp=A,t.normalizePath=L,t.colorize=N,t.firstNonWhitespaceIndex=I,t.getLeadingWhitespace=O,t.lastNonWhitespaceIndex=R,t.localeCompare=P,t.equalsIgnoreCase=M,t.commonPrefixLength=F,t.commonSuffixLength=V,t.difference=B,t.computeLineStarts=H,t.lcut=W;var G=/\x1B\x5B[12]?K/g,z=/\xA/g,q=/\x1b\[\d+m/g,K=/\x1b\[0?m/g;t.removeAnsiEscapeCodes=U;var Y=65279;t.UTF8_BOM_CHARACTER=String.fromCharCode(Y),t.startsWithUTF8BOM=$}),define("vs/base/types",["require","exports"],function(e,t){function n(e){return Array.isArray?Array.isArray(e):e&&"number"==typeof e.length&&e.constructor===Array?!0:!1}function r(e){return"string"==typeof e||e instanceof String?!0:!1}function i(e){return"undefined"==typeof e||null===e?!1:"[object Object]"===Object.prototype.toString.call(e)}function o(e){return("number"==typeof e||e instanceof Number)&&!isNaN(e)?!0:!1}function s(e){return e===!0||e===!1}function a(e){return"undefined"==typeof e}function l(e){return a(e)||null===e}function c(e){if(!i(e))return!1;for(var t in e)if(m.call(e,t))return!1;return!0}function u(e){return"[object Function]"===Object.prototype.toString.call(e)}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e&&e.length>0&&e.every(function(e){return u(e)})}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object.create(e.prototype);return e.apply(r,t),r}function h(e){var t=!1,n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];return t||(t=!0,n=e.apply(self,r)),n}}t.isArray=n,t.isString=r,t.isObject=i,t.isNumber=o,t.isBoolean=s,t.isUndefined=a,t.isUndefinedOrNull=l;var m=Object.prototype.hasOwnProperty;t.isEmptyObject=c,t.isFunction=u,t.areFunctions=d,t.create=p,t.runOnce=h}),define("vs/base/objects",["require","exports","./types"],function(e,t,n){function r(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]&&"object"==typeof e[n]?r(e[n]):e[n]}),t}function i(e){if(!e||"object"!=typeof e)return e;var t=Array.isArray(e)?[]:{};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]&&"object"==typeof e[n]?i(e[n]):e[n]}),t}function o(e,t){return s(e,t,[])}function s(e,t,r){if(n.isUndefinedOrNull(e))return e;var i=t(e);if("undefined"!=typeof i)return i;if(n.isArray(e)){for(var o=[],a=0;a<e.length;a++)o.push(s(e[a],t,r));return o}if(n.isObject(e)){if(r.indexOf(e)>=0)throw new Error("Cannot clone recursive data-structure");r.push(e);var l={};for(var c in e)v.call(e,c)&&(l[c]=s(e[c],t,r));return r.pop(),l}return e}function a(e,t,r){return void 0===r&&(r=!0),n.isObject(e)?(n.isObject(t)&&Object.keys(t).forEach(function(i){i in e?r&&(n.isObject(e[i])&&n.isObject(t[i])?a(e[i],t[i],r):e[i]=t[i]):e[i]=t[i]}),e):t}function l(e,t){return a(r(t),e||{})}function c(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1}else{var i=[];for(r in e)i.push(r);i.sort();var o=[];for(r in t)o.push(r);if(o.sort(),!c(i,o))return!1;for(n=0;n<i.length;n++)if(!c(e[i[n]],t[i[n]]))return!1}return!0}function u(e,t,n){"undefined"==typeof e[t]&&(e[t]=n)}function d(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function p(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var n=d(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function h(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t=t||function(){};var r=e.prototype,i=t.prototype;t.prototype=Object.create(r);for(var n in i)i.hasOwnProperty(n)&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(i,n));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})}function m(e){var t=[];return JSON.stringify(e,function(e,r){if(n.isObject(r)||Array.isArray(r)){if(-1!==t.indexOf(r))return"[Circular]";t.push(r)}return r})}var f=function(){function e(e,t){this.first=e,this.second=t}return e}();t.Tuple=f,t.clone=r,t.deepClone=i;var v=Object.prototype.hasOwnProperty;t.cloneAndChange=o,t.mixin=a,t.withDefaults=l,t.equals=c,t.ensureProperty=u,t.arrayToHash=d,t.createKeywordMatcher=p,t.derive=h,t.safeStringify=m}),define("vs/base/env",["require","exports","vs/base/types"],function(e,t,n){function r(){var e=3,t=self.has||function(){return!1};t("standaloneEditor")&&(e=2);var n=location.search.match(/monaco-workers=(\d+)/i);return n&&(e=parseInt(n[1],10)),i("workersCount",e)}function i(e,t){return void 0===t&&(t=!1),self.MonacoEnvironment&&self.MonacoEnvironment.hasOwnProperty(e)?self.MonacoEnvironment[e]:t}function o(){return v}function s(){return"undefined"!=typeof self.Worker}function a(){return!h.document&&"undefined"!=typeof self.importScripts}function l(){return self.isEmulatedWorker}function c(){return self.isProcessWorker}function u(){return h.parent!==h}function d(){return f}function p(e){f=e}var h=self,m=navigator.userAgent,f=!!h.isTest,v=h.document&&h.document.URL.match(/[^\?]*\?[^\#]*pseudo=true/),g=m.indexOf("Trident")>=0&&m.indexOf("MSIE")<0,b=m.indexOf("MSIE 10")>=0,y=m.indexOf("MSIE 9")>=0,_=m.indexOf("Firefox")>=0,w=!1;t.browser={isOpera:m.indexOf("Opera")>=0,isIE11orEarlier:g||b||y,isIE11:g,isIE10orEarlier:b||y,isIE10orLater:g||b,isIE10:b,isIE9:y,isFirefox:_,isWebKit:m.indexOf("AppleWebKit")>=0,isChrome:m.indexOf("Chrome")>=0,isSafari:-1===m.indexOf("Chrome")&&m.indexOf("Safari")>=0,isIPad:m.indexOf("iPad")>=0,canUseTranslate3d:!y&&!_,canPushState:function(){return!w&&h.history&&h.history.pushState},disablePushState:function(){w=!0},hasCSSAnimationSupport:function(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;if(!h.document)return!1;for(var e=!1,t=h.document.createElement("div"),r=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],i=0;i<r.length;i++){var o=r[i];if(!n.isUndefinedOrNull(t.style[o])||t.style.hasOwnProperty(o)){e=!0;break}}return this._hasCSSAnimationSupport=e?!0:!1,this._hasCSSAnimationSupport},canPlayVideo:function(e){if(!h.document)return!1;var t=h.document.createElement("video");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1},canPlayAudio:function(e){if(!h.document)return!1;var t=h.document.createElement("audio");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1}},function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(t.Platform||(t.Platform={}));var E=t.Platform;t.platform=E.Web;var S=i("platform",null);S&&("darwin"===S?t.platform=E.Mac:"win32"===S?t.platform=E.Windows:("linux"===S||"freebsd"===S)&&(t.platform=E.Linux)),t.isWindows=m.indexOf("Windows")>=0&&t.platform===E.Web||t.platform===E.Windows,t.isMacintosh=m.indexOf("Macintosh")>=0&&t.platform===E.Web||t.platform===E.Mac,t.isLinux=m.indexOf("Linux")>=0&&t.platform===E.Web||t.platform===E.Linux,t.isNative=t.platform!==E.Web,t.isWeb=!t.isNative,t.enableEmptySelectionClipboard=t.browser.isWebKit,t.applicationName=i("appNameLong",null),t.workersCount=r(),t.enableUpload=i("enableUpload"),t.enableDownloadWorkspace=i("enableDownloadWorkspace"),t.enableSearch=i("enableSearch"),t.enableBuild=i("enableBuild"),t.enableBuildNative=i("enableBuildNative"),t.enableGit=i("enableGit"),t.enableConsole=i("enableConsole"),t.enableNativeConsole=i("enableNativeConsole"),t.enableOutput=i("enableOutput"),t.enableQuickStart=i("enableQuickStart"),t.enableTestCoverage=i("enableTestCoverage"),t.enableFeedback=i("enableFeedback"),t.enablePerformanceEvents=i("enablePerformanceEvents"),t.enableTelemetry=i("enableTelemetry"),t.enablePrivateTelemetry=i("enablePrivateTelemetry"),t.enableMonacoTelemetryPipeLine=i("enableMonacoTelemetryPipeLine"),t.appInsightsInstrumentationKey=i("appInsightsInstrumentationKey"),t.enableTestViewlet=i("enableTestViewlet"),t.enableDebug=i("enableDebug"),t.enablePluginHost=i("enablePluginHost"),t.enableGlobalCSSRuleChecker=i("enableGlobalCSSRuleChecker"),t.enableNLSWarnings=i("enableNLSWarnings"),t.enableEditorLanguageServiceIndicator=i("enableEditorLanguageServiceIndicator"),t.enablePerformanceTools=i("enablePerformanceTools"),t.enableRunWorkspace=i("enableRunWorkspace"),t.enableJavaScriptRewriting=i("enableJavaScriptRewriting"),t.enableTypeScriptServiceMode=i("enableTypeScriptServiceMode"),t.enableEnhancedEditorTheme=i("enableEnhancedEditorTheme"),t.enableNativeReload=i("enableNativeReload"),t.processWorkers=i("processWorkers"),t.runFromAzure=i("runFromAzure"),t.enableTFSConnection=i("enableTFSConnection"),t.portalLink=i("portalLink",null),t.version=i("version",null),t.hideDerivedResources=i("hideDerivedResources"),t.isCaseSensitiveFs=t.isLinux,t.enableAzurePortalNavigation=i("enableAzurePortalNavigation"),t.privacyLink=i("privacyLink",null),t.supportLink=i("supportLink",null),t.legalLink=i("legalLink",null),t.videosLink=i("videosLink",null),t.azureWebSiteName=i("azureWebSiteName",null),t.azureWebSiteComputeMode=i("azureWebSiteComputeMode",null),t.azureWebSiteMode=i("azureWebSiteMode",null),t.azureWebSiteScmType=i("azureWebSiteScmType",null),t.azureWebSiteAppsettingScmType=i("azureWebSiteAppsettingScmType",null),t.azureWebSiteProjectType=i("azureWebSiteProjectType",null),t.azureWebSiteForZumo=i("azureWebSiteForZumo",null),t.azurePortalLink=i("azurePortalLink",null),t.azureWebSiteTryMode=i("azureWebSiteTryMode",!1),t.tryAzureLink=i("tryAzureLink",null),t.tryAzureSignUpLink=i("tryAzureSignUpLink",null),t.tryAzureLifeTimeInMinutes=i("tryAzureLifeTimeInMinutes",null),t.tryAzureLastModifiedUTC=i("tryAzureLastModifiedUTC",null),t.logWorkerMessages=!1,t.appRoot=i("appRoot",null),t.appSettingsHome=i("appSettingsHome",null),t.appSettingsPath=i("appSettingsPath",null),t.appKeybindingsPath=i("appKeybindingsPath",null),t.welcomePath=i("welcomePath",null),t.standaloneEditorTelemetryEndpoint=i("telemetryEndpoint",null),t.getCrossOriginWorkerScriptUrl=i("getWorkerUrl",null),t.isPseudoLanguage=o,t.hasWebWorkerSupport=s,t.isInWebWorker=a,t.isInEmulatedWebWorker=l,t.isInProcessWorker=c,t.isInIframe=u,t.isTesting=d,t.setTesting=p}),define("vs/base/errors",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/objects","vs/base/env","vs/base/types","vs/base/strings"],function(e,t,n,r,i,o,s){function a(e){t.errorHandler.setUnexpectedErrorHandler(e)}function l(e){m(e)||t.errorHandler.onUnexpectedError(e)}function c(e){if(!(e instanceof Error))return e;var t={};return e.stacktrace?t.stack=e.stacktrace:e.stack&&(t.stack=e.stack),t.message=e.toString(),t}function u(e,t){var n=new E(e);return t?n.verboseMessage:n.message}function d(e,t){return t&&e.message&&(e.stack||e.stacktrace)?n.localize("vs_base_errors",7,e.message,e.stack||e.stacktrace):e.message?e.message:n.localize("vs_base_errors",8)}function p(e,t){if(void 0===t&&(t=!1),!e)return n.localize("vs_base_errors",9);if(o.isString(e))return e;if(!o.isUndefinedOrNull(e.status))return u(e,t);if(e.detail){var r=e.detail;if(r.error){if(r.error&&!o.isUndefinedOrNull(r.error.status))return u(r.error,t);if(!o.isArray(r.error))return d(r.error,t);for(var i=0;i<r.error.length;i++)if(r.error[i]&&!o.isUndefinedOrNull(r.error[i].status))return u(r.error[i],t)}if(r.exception)return o.isUndefinedOrNull(r.exception.status)?d(r.exception,t):u(r.exception,t)}return e.stack?d(e,t):e.message?e.message:n.localize("vs_base_errors",10)}function h(e){if(e)if(o.isArray(e)){for(var t=0;t<e.length;t++)if(e[t]&&e[t].status)return e[t].status}else if(e.status)return e.status;return-1}function m(e){return e instanceof Error&&e.name===S&&e.message===S}function f(){var e=new Error(S);return e.name=e.message,e}function v(){return new Error(n.localize("vs_base_errors",11))}function g(e){return e?new Error(n.localize("vs_base_errors",12,e)):new Error(n.localize("vs_base_errors",13))}function b(e){return e?new Error(n.localize("vs_base_errors",14,e)):new Error(n.localize("vs_base_errors",15))}function y(){return i.isWeb?new Error(n.localize("vs_base_errors",16)):new Error(n.localize("vs_base_errors",17))}function _(e,t){void 0===t&&(t=null);var n=new Error(e);return t&&(n.actions=t),n}var w=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e}();t.ErrorHandler=w,t.errorHandler=new w,t.setUnexpectedErrorHandler=a,t.onUnexpectedError=l,t.transformErrorForSerialization=c;var E=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(t){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var n=JSON.parse(this.responseText);this.errorMessage=n.message,this.errorCode=n.code,this.errorObject=n}catch(r){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var r=e.errorCode,i=e.errorMessage;return null!==r&&null!==i?n.localize("vs_base_errors",0,s.rtrim(i,"."),r):null!==i?i:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var r=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==r?n.localize("vs_base_errors",1,r):n.localize("vs_base_errors",2):r?r:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_errors",3,e.statusText,e.status,e.responseText):n.localize("vs_base_errors",4,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_errors",5,e.responseText):n.localize("vs_base_errors",6)},e}();t.ConnectionError=E,r.derive(Error,E),t.toErrorMessage=p,t.getHttpStatus=h;var S="Canceled";t.isPromiseCanceledError=m,t.canceled=f,t.notImplemented=v,t.illegalArgument=g,t.illegalState=b,t.loaderError=y,t.error=_}),define("vs/base/cookiesUtil",["require","exports","vs/base/strings"],function(e,t,n){function r(e){if(!e)return null;var t=document.cookie.split(";"),n="";for(n in t){var r=t[n].split("=");if(r[0].trim()===e)return r[1]}return null}function i(e){if(!e||!e.key||!e.value)throw new Error("cookies must have a key and a value");document.cookie=[n.escape(e.key),"=",n.escape(e.value),e.expires?"; expires="+e.expires.toUTCString():"",e.domain?"; domain="+e.domain:"",e.path?"; path="+e.path:"",e.domain?"; secure":""].join(" ")}function o(e){var t={key:e,value:" ",expires:new Date((new Date).valueOf()-864e5)};i(t)}t.getCookie=r,t.setCookie=i,t.removeCookie=o}),/*!
  Â© Microsoft. All rights reserved.

  This library is supported for use in Windows Store apps only.

  Build: 1.0.9200.20602.win8_ldr.130108-1504
  
  Version: Microsoft.WinJS.1.0
*/
"undefined"==typeof WinJS&&(!function(e){e.setImmediate||(e.setImmediate="undefined"!=typeof process&&"function"==typeof process.nextTick?function(e){return process.nextTick(e)}:function(e){return setTimeout(e,0)})}(this),function(e,t){function n(e,n){var r,i,o,s=Object.keys(n);for(i=0,o=s.length;o>i;i++){var a=s[i],l=95!==a.charCodeAt(0),c=n[a];!c||"object"!=typeof c||c.value===t&&"function"!=typeof c.get&&"function"!=typeof c.set?l?e[a]=c:(r=r||{},r[a]={value:c,enumerable:l,configurable:!0,writable:!0}):(c.enumerable===t&&(c.enumerable=l),r=r||{},r[a]=c)}r&&Object.defineProperties(e,r)}!function(t){function r(e,t,r){for(var i=e,o=t.split("."),s=0,a=o.length;a>s;s++){var l=o[s];i[l]||Object.defineProperty(i,l,{value:{},writable:!1,enumerable:!0,configurable:!0}),i=i[l]}return r&&n(i,r),i}function i(t,n){return r(e,t,n)}e[t]||(e[t]=Object.create(Object.prototype));var o=e[t];o.Namespace||(o.Namespace=Object.create(Object.prototype)),Object.defineProperties(o.Namespace,{defineWithParent:{value:r,writable:!0,enumerable:!0,configurable:!0},define:{value:i,writable:!0,enumerable:!0,configurable:!0}})}("WinJS"),function(e){function t(t,r,i){return t=t||function(){},e.Utilities.markSupportedForProcessing(t),r&&n(t.prototype,r),i&&n(t,i),t}function r(r,i,o,s){if(r){i=i||function(){};var a=r.prototype;return i.prototype=Object.create(a),e.Utilities.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),o&&n(i.prototype,o),s&&n(i,s),i}return t(i,o,s)}function i(e){e=e||function(){};var t,r;for(t=1,r=arguments.length;r>t;t++)n(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:r,mix:i})}(e.WinJS)}(this),function(e,t){function n(e){return e}function r(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}var i=!!e.Windows,o={notSupportedForProcessing:"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"};t.Namespace.define("WinJS.Utilities",{_setHasWinRT:{value:function(e){i=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return i},configurable:!1,enumerable:!0},_getMemberFiltered:r,getMember:function(t,i){return t?r(t,i||e,n):null},ready:function(n,r){return new t.Promise(function(i,o){function s(){if(n)try{n(),i()}catch(e){o(e)}else i()}var a=t.Utilities.testReadyState;a||(a=e.document?document.readyState:"complete"),"complete"===a||e.document&&null!==document.body?r?e.setImmediate(s):s():e.addEventListener("DOMContentLoaded",s,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:function(e){return e.supportedForProcessing=!0,e},configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var r=!0;switch(r=r&&!(n===e),r=r&&!(n===e.location),r=r&&!(n instanceof HTMLIFrameElement),r=r&&!("function"==typeof n&&!n.supportedForProcessing),e.frames.length){case 0:break;case 1:r=r&&!(n===e.frames[0]);break;default:for(var i=0,s=e.frames.length;r&&s>i;i++)r=r&&!(n===e.frames[i])}if(r)return n;throw new t.ErrorFromName("WinJS.Utilities.requireSupportedForProcessing",t.Resources._formatString(o.notSupportedForProcessing,n))},configurable:!1,writable:!1,enumerable:!0}}),t.Namespace.define("WinJS",{validation:!1,strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}(this,this.WinJS),function(e){function t(e,t,n){var r=e;return"function"==typeof r&&(r=r()),(n&&o.test(n)?"":n?n+": ":"")+(t?t.replace(i,":")+": ":"")+r}function n(t,n,r){var i=e.Utilities.formatLog(t,n,r);console[r&&o.test(r)?r:"log"](i)}function r(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var i=/\s+/g,o=/^(error|warn|info|log)$/;e.Namespace.define("WinJS.Utilities",{startLog:function(t){t=t||{},"string"==typeof t&&(t={tags:t});var o=t.type&&new RegExp("^("+r(t.type).replace(i," ").split(" ").join("|")+")$"),s=t.excludeTags&&new RegExp("(^|\\s)("+r(t.excludeTags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),a=t.tags&&new RegExp("(^|\\s)("+r(t.tags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),l=t.action||n;if(!(o||s||a||e.log))return e.log=l,void 0;var c=function(e,t,n){o&&!o.test(n)||s&&s.test(t)||a&&!a.test(t)||l(e,t,n),c.next&&c.next(e,t,n)};c.next=e.log,e.log=c},stopLog:function(){delete e.log},formatLog:t})}(this.WinJS),function(e){function t(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var r=this[t];n?(r||(r={wrapper:function(e){return r.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:r,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,r.wrapper,!1)),r.userHandler=n):r&&(this.removeEventListener(e,r.wrapper,!1),this[t]=null)},enumerable:!0}}function n(){for(var e={},n=0,r=arguments.length;r>n;n++){var i=arguments[n];e["on"+i]=t(i)}return e}var r=e.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),i={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var r=this._listeners[e]=this._listeners[e]||[],i=0,o=r.length;o>i;i++){var s=r[i];if(s.useCapture===n&&s.listener===t)return}r.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var i=new r(e,t,this);n=n.slice(0,n.length);for(var o=0,s=n.length;s>o&&!i._stopImmediatePropagationCalled;o++)n[o].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var r=this._listeners&&this._listeners[e];if(r)for(var i=0,o=r.length;o>i;i++){var s=r[i];if(s.listener===t&&s.useCapture===n){r.splice(i,1),0===r.length&&delete this._listeners[e];break}}}};e.Namespace.define("WinJS.Utilities",{_createEventProperty:t,createEventProperties:n,eventMixin:i})}(this.WinJS),function(e,t,n){var r,i=!1,o="contextchanged",s=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),a=new s,l={malformedFormatStringInput:"Malformed, did you mean to escape your '{0}'?"};t.Namespace.define("WinJS.Resources",{addEventListener:function(e,n,r){if(t.Utilities.hasWinRT&&!i&&e===o)try{Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(e){t.Resources.dispatchEvent(o,{qualifier:e.key,changed:e.target[e.key]})},!1),i=!0}catch(s){}a.addEventListener(e,n,r)},removeEventListener:a.removeEventListener.bind(a),dispatchEvent:a.dispatchEvent.bind(a),_formatString:function(e){var n=arguments;return n.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,r,i,o,s,a){if(s||a)throw t.Resources._formatString(l.malformedFormatStringInput,s||a);return r&&"{"||i&&"}"||n[(0|o)+1]})),e},_getStringWinRT:function(e){if(!r){var t=Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{r=t.getSubtree("Resources")}catch(i){}r||(r=t)}var o,s,a;try{a=r.getValue(e),a&&(o=a.valueAsString,o===n&&(o=a.toString()))}catch(i){}if(!o)return{value:e,empty:!0};try{s=a.getQualifierValue("Language")}catch(i){return{value:o}}return{value:o,lang:s}},_getStringJS:function(t){var n=e.strings&&e.strings[t];return"string"==typeof n&&(n={value:n}),n||{value:t,empty:!0}}}),Object.defineProperties(t.Resources,t.Utilities.createEventProperties(o));var c;t.Resources.getString=function(e){return(c=c||(t.Utilities.hasWinRT?t.Resources._getStringWinRT:t.Resources._getStringJS))(e)}}(this,this.WinJS),function(e,t,n){function r(){}function i(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:D,e._value=t,e._setState(n)}function o(e,t,n,r,i,o){return{exception:e,error:t,promise:n,handler:o,id:r,parent:i}}function s(e,t,n,r){var i=n._isException,s=n._errorId;return o(i?t:null,i?null:t,e,s,n,r)}function a(e,t,n){var r=n._isException,i=n._errorId;return g(e,i,r),o(r?t:null,r?null:t,e,i,n)}function l(e,t){var n=++B;return g(e,n),o(null,t,e,n)}function c(e,t){var n=++B;return g(e,n,!0),o(t,null,e,n)}function u(e,t,n,r){v(e,{c:t,e:n,p:r})}function d(e,t,n,r){e._value=t,m(e,t,n,r),e._setState(F)}function p(e,t){var n=e._value,r=e._listeners;if(r){e._listeners=null;var i,o;for(i=0,o=Array.isArray(r)?r.length:1;o>i;i++){var s=1===o?r:r[i],a=s.c,l=s.promise;if(l){try{l._setCompleteValue(a?a(n):n)}catch(c){l._setExceptionValue(c)}l._state!==I&&l._listeners&&t.push(l)}else G.prototype.done.call(e,a)}}}function h(e,t){var n=e._value,r=e._listeners;if(r){e._listeners=null;var i,o;for(i=0,o=Array.isArray(r)?r.length:1;o>i;i++){var a=1===o?r:r[i],l=a.e,c=a.promise;if(c){try{l?(l.handlesOnError||m(c,n,s,e,l),c._setCompleteValue(l(n))):c._setChainedErrorValue(n,e)}catch(u){c._setExceptionValue(u)}c._state!==I&&c._listeners&&t.push(c)}else $.prototype.done.call(e,null,l)}}}function m(e,t,n,r,i){if(T._listeners[k]){if(t instanceof Error&&t.message===C)return;T.dispatchEvent(k,n(e,t,r,i))}}function f(e,t){var n=e._listeners;if(n){var r,i;for(r=0,i=Array.isArray(n)?n.length:1;i>r;r++){var o=1===i?n:n[r],s=o.p;if(s)try{s(t)}catch(a){}o.c||o.e||!o.promise||o.promise._progress(t)}}}function v(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function g(e,t,n){e._isException=n||!1,e._errorId=t}function b(e,t,n,r){e._value=t,m(e,t,n,r),e._setState(V)}function y(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:M,e._value=t,e._setState(n)}function _(e,t,n,r){var i=new U(e);return v(e,{promise:i,c:t,e:n,p:r}),i}function w(e){var n;return new t.Promise(function(t){e?n=setTimeout(t,e):setImmediate(t)},function(){n&&clearTimeout(n)})}function E(e,t){var n=function(){t.cancel()},r=function(){e.cancel()};return e.then(n),t.then(r,r),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var S=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),T=new S;T._listeners={};var k="error",C="Canceled",x=!1,A={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};A.all=A.promise|A.thenPromise|A.errorPromise|A.exceptionPromise|A.completePromise;var L,N,I,O,R,P,D,M,F,V,B=1;L={name:"created",enter:function(e){e._setState(N)},cancel:r,done:r,then:r,_completed:r,_error:r,_notify:r,_progress:r,_setCompleteValue:r,_setErrorValue:r},N={name:"working",enter:r,cancel:function(e){e._setState(R)},done:u,then:_,_completed:i,_error:d,_notify:r,_progress:f,_setCompleteValue:y,_setErrorValue:b},I={name:"waiting",enter:function(e){var t=e._value,n=function(r){t._errorId?e._chainedError(r,t):(m(e,r,s,t,n),e._error(r))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))},cancel:function(e){e._setState(O)},done:u,then:_,_completed:i,_error:d,_notify:r,_progress:f,_setCompleteValue:y,_setErrorValue:b},O={name:"waiting_canceled",enter:function(e){e._setState(P);var t=e._value;t.cancel&&t.cancel()},cancel:r,done:u,then:_,_completed:i,_error:d,_notify:r,_progress:f,_setCompleteValue:y,_setErrorValue:b},R={name:"canceled",enter:function(e){e._setState(P),e._cancelAction()},cancel:r,done:u,then:_,_completed:i,_error:d,_notify:r,_progress:f,_setCompleteValue:y,_setErrorValue:b},P={name:"canceling",enter:function(e){var t=new Error(C);t.name=t.message,e._value=t,e._setState(F)},cancel:r,done:r,then:r,_completed:r,_error:r,_notify:r,_progress:r,_setCompleteValue:r,_setErrorValue:r},D={name:"complete_notify",enter:function(e){if(e.done=G.prototype.done,e.then=G.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(M)},cancel:r,done:null,then:null,_completed:r,_error:r,_notify:p,_progress:r,_setCompleteValue:r,_setErrorValue:r},M={name:"success",enter:function(e){e.done=G.prototype.done,e.then=G.prototype.then,e._cleanupAction()},cancel:r,done:null,then:null,_completed:r,_error:r,_notify:p,_progress:r,_setCompleteValue:r,_setErrorValue:r},F={name:"error_notify",enter:function(e){if(e.done=$.prototype.done,e.then=$.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(V)},cancel:r,done:null,then:null,_completed:r,_error:r,_notify:h,_progress:r,_setCompleteValue:r,_setErrorValue:r},V={name:"error",enter:function(e){e.done=$.prototype.done,e.then=$.prototype.then,e._cleanupAction()},cancel:r,done:null,then:null,_completed:r,_error:r,_notify:h,_progress:r,_setCompleteValue:r,_setErrorValue:r};var H,W=t.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,a,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,l);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,a,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,c);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),U=t.Class.derive(W,function(e){x&&(x===!0||x&A.thenPromise)&&(this._stack=t.Promise._getStack()),this._creator=e,this._setState(L),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),$=t.Class.define(function(e){x&&(x===!0||x&A.errorPromise)&&(this._stack=t.Promise._getStack()),this._value=e,m(this,e,l)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||m(null,n,s,this,t);var r=t(n);return r&&"object"==typeof r&&"function"==typeof r.done&&r.done(),void 0}catch(i){n=i}n instanceof Error&&n.message===C||setImmediate(function(){throw n})},then:function(e,t){if(!t)return this;var n,r=this._value;try{t.handlesOnError||m(null,r,s,this,t),n=new G(t(r))}catch(i){n=i===r?this:new j(i)}return n}},{supportedForProcessing:!1}),j=t.Class.derive($,function(e){x&&(x===!0||x&A.exceptionPromise)&&(this._stack=t.Promise._getStack()),this._value=e,m(this,e,c)},{},{supportedForProcessing:!1}),G=t.Class.define(function(e){if(x&&(x===!0||x&A.completePromise)&&(this._stack=t.Promise._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var n=new U(null);return n._setCompleteValue(e),n}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(n){setImmediate(function(){throw n})}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new G(t)}catch(n){return new j(n)}}},{supportedForProcessing:!1}),z=t.Class.derive(W,function(e,n){x&&(x===!0||x&A.promise)&&(this._stack=t.Promise._getStack()),this._oncancel=n,this._setState(L),this._run();try{var r=this._completed.bind(this),i=this._error.bind(this),o=this._progress.bind(this);e(r,i,o)}catch(s){this._setExceptionValue(s)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){{e.message,e.stack}T.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){T.addEventListener(e,t,n)},any:function(e){return new z(function(n,r){{var i=Object.keys(e);Array.isArray(e)?[]:{}}0===i.length&&n();var o=0;i.forEach(function(s){z.as(e[s]).then(function(){n({key:s,value:e[s]})},function(a){return a instanceof Error&&a.name===C?(++o===i.length&&n(t.Promise.cancel),void 0):(r({key:s,value:e[s]}),void 0)})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=z.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new G(e)},cancel:{get:function(){return H=H||new $(new t.ErrorFromName(C))}},dispatchEvent:function(e,t){return T.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new z(function(r,i,o){var s=Object.keys(e),a=Array.isArray(e)?[]:{},l=Array.isArray(e)?[]:{},c=0,u=s.length,d=function(e){if(0===--u){var n=Object.keys(a).length;if(0===n)r(l);else{var c=0;s.forEach(function(e){var t=a[e];t instanceof Error&&t.name===C&&c++}),c===n?r(t.Promise.cancel):i(a)}}else o({Key:e,Done:!0})};return s.forEach(function(t){var r=e[t];r===n?c++:z.then(r,function(e){l[t]=e,d(t)},function(e){a[t]=e,d(t)})}),u-=c,0===u?(r(l),void 0):void 0},function(){Object.keys(e).forEach(function(t){var n=z.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){T.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,r){return z.as(e).then(t,n,r)},thenEach:function(e,t,n,r){var i=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){i[o]=z.as(e[o]).then(t,n,r)}),z.join(i)},timeout:function(e,t){var n=w(e);return t?E(n,t):n},wrap:function(e){return new G(e)},wrapError:function(e){return new $(e)},_veryExpensiveTagWithStack:{get:function(){return x},set:function(e){x=e}},_veryExpensiveTagWithStack_tag:A,_getStack:function(){if(Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}}});Object.defineProperties(z,t.Utilities.createEventProperties(k));var q=t.Class.derive(W,function(e){this._oncancel=e,this._setState(L),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),K=t.Class.define(function(e){this._promise=new q(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});t.Namespace.define("WinJS",{Promise:z,_Signal:K})}(this,this.WinJS),function(e,t){t.Namespace.define("WinJS",{ErrorFromName:t.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1})})}(this,this.WinJS),function(e){e.Namespace.define("WinJS",{xhr:function(t){var n;return new e.Promise(function(e,r,i){n=new XMLHttpRequest,n.onreadystatechange=function(){n._canceled||(4===n.readyState?(n.status>=200&&n.status<300||1223===n.status?e(n):r(n),n.onreadystatechange=function(){}):i(n))},n.open(t.type||"GET",t.url,!0,t.user,t.password),n.responseType=t.responseType||"",Object.keys(t.headers||{}).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),t.customRequestInitializer&&t.customRequestInitializer(n),n.send(t.data)},function(){n._canceled=!0,n.abort()})}})}(this.WinJS),function(e,t){var n,r,i,o,s,a,l={nonStaticHTML:"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."};n=r=function(e,t){e.innerHTML=t},i=o=function(e,t){e.outerHTML=t},s=a=function(e,t,n){e.insertAdjacentHTML(t,n)};var c=e.MSApp;if(c)r=function(e,t){c.execUnsafeLocalFunction(function(){e.innerHTML=t})},o=function(e,t){c.execUnsafeLocalFunction(function(){e.outerHTML=t})},a=function(e,t,n){c.execUnsafeLocalFunction(function(){e.insertAdjacentHTML(t,n)})};else if(e.msIsStaticHTML){var u=function(n){if(!e.msIsStaticHTML(n))throw new t.ErrorFromName("WinJS.Utitilies.NonStaticHTML",l.nonStaticHTML)};n=function(e,t){u(t),e.innerHTML=t},i=function(e,t){u(t),e.outerHTML=t},s=function(e,t,n){u(n),e.insertAdjacentHTML(t,n)}}t.Namespace.define("WinJS.Utilities",{setInnerHTML:n,setInnerHTMLUnsafe:r,setOuterHTML:i,setOuterHTMLUnsafe:o,insertAdjacentHTML:s,insertAdjacentHTMLUnsafe:a})}(this,this.WinJS)),function(e){"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/lib/raw.winjs.base",e.WinJS):module.exports=e.WinJS}(this),define("vs/base/lib/winjs.base",["./raw.winjs.base","vs/base/errors","vs/base/env"],function(e,t,n){function r(e){if(!n.isNative){var r=e.detail,i=r.id;if(r.parent)return r.handler&&s&&delete s[i],void 0;s[i]=r,1===Object.keys(s).length&&setTimeout(function(){var e=s;s={},Object.keys(e).forEach(function(n){var r=e[n];r.exception?t.onUnexpectedError(r.exception):r.error&&t.onUnexpectedError(r.error),console.log("WARNING: Promise with no error callback:"+r.id),console.log(r),r.exception&&console.log(r.exception.stack)})},0)}}function i(e,t,n){var r,i,s,a=new o.Promise(function(e,t,n){r=e,i=t,s=n},function(){e.cancel()});return e.then(function(e){t&&t(e),r(e)},function(e){n&&n(e),i(e)},s),a}var o=e,s={};return o.Promise.addEventListener("error",r),{decoratePromise:i,Class:o.Class,xhr:o.xhr,Promise:o.Promise,TPromise:o.Promise,PPromise:o.Promise,Utilities:o.Utilities}}),define("vs/base/assert",["require","exports"],function(e,t){function n(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}function r(e,t,n){if(e!==t||!e||!t)throw new Error(n?"Assertion failed ("+n+")":"Assertion Failed")}t.ok=n,t.equals=r}),define("vs/platform/platform",["require","exports","vs/base/env","vs/base/types","vs/base/assert"],function(e,t,n,r,i){var o=function(){function e(){this.data={}}return e.prototype.add=function(e,t){i.ok(r.isString(e)),i.ok(r.isObject(t)),i.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new o;var s=function(){function e(){this.toBeInstantiated=[],this.instances=[]}return e.prototype.setInstantiationService=function(e){var t=this;if(this.instantiationService=e,n.isTesting())this.toBeInstantiated.forEach(function(e){t.instantiate(e)});else for(;this.toBeInstantiated.length>0;){var r=this.toBeInstantiated.shift();this.instantiate(r)}},e.prototype.instantiate=function(e){var t=this.instantiationService.createInstance(e);this.instances.push(t)},e.prototype._register=function(e){this.instantiationService?this.instantiate(e):this.toBeInstantiated.push(e)},e.prototype._getInstances=function(){return this.instances.slice(0)},e.prototype._setInstances=function(e){this.instances=e},e}();t.BaseRegistry=s}),define("vs/base/filters",["require","exports","vs/base/strings"],function(e,t,n){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var r=0,i=e.length;i>r;r++){var o=e[r](t,n);if(o)return o}return null}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var r=[],i=0,o=e.length;o>i;i++){var s=e[i](t,n);if(!s)return null;r=r.concat(s)}return r}}function o(e,t,n){if(0===n.length||n.length<t.length)return null;e&&(t=t.toLowerCase(),n=n.toLowerCase());for(var r=0;r<t.length;r++)if(t[r]!==n[r])return null;return t.length>0?[{start:0,end:t.length}]:[]}function s(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function a(e,t){return l(e.toLowerCase(),t.toLowerCase(),0,0)}function l(e,t,n,r){if(n===e.length)return[];if(r===t.length)return null;if(e[n]===t[r]){var i=null;if(i=l(e,t,n+1,r+1))return m({start:r,end:r+1},i)}return l(e,t,n,r+1)}function c(e,t){if(0===t.length)return null;for(var n=null,r=0;r<t.length&&null===(n=v(e.toLowerCase(),t,0,r));)r=f(t,r+1);return n}function u(e){var t=e.charCodeAt(0);return t>=97&&122>=t}function d(e){var t=e.charCodeAt(0);return t>=65&&90>=t}function p(e){var t=e.charCodeAt(0);return t>=48&&57>=t}function h(e){return u(e)||d(e)||p(e)}function m(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function f(e,t){for(var n=t;n<e.length;n++){var r=e[n];if(d(r)||p(r)||n>0&&!h(e[n-1]))return n}return e.length}function v(e,t,n,r){if(n===e.length)return[];if(r===t.length)return null;if(e[n]!==t[r].toLowerCase())return null;var i=null,o=r+1;for(i=v(e,t,n+1,r+1);!i&&(o=f(t,o))<t.length;)i=v(e,t,n+1,o),o++;return null===i?null:m({start:r,end:r+1},i)}t.or=r,t.and=i,t.matchesStrictPrefix=function(e,t){return o(!1,e,t)},t.matchesPrefix=function(e,t){return o(!0,e,t)},t.matchesContiguousSubString=s,t.matchesSubString=a,t.matchesCamelCase=c;var g=function(){function e(){}return e.matches=function(t,r){var i=e.RegExpCache[t];i||(i=new RegExp(n.convertSimple2RegExpPattern(t),"i"),e.RegExpCache[t]=i);var o=i.exec(r);return o?[{start:o.index,end:o.index+o[0].length}]:e.DefaultFilter(t,r)},e.DefaultFilter=r(t.matchesPrefix,c,s),e.RegExpCache={},e}();t.CombinedMatcher=g}),define("vs/editor/modes/modesFilters",["require","exports","vs/base/filters"],function(e,t,n){function r(e){return function(t,n){var r=e(t,n.label);return n.highlights=r||[],!!r}}function i(e,t){return function(n,r){return e(n,r)||t(n,r)}}function o(e,t){return function(n,r){return e(n,r)&&t(n,r)}}t.StrictPrefix=r(n.matchesStrictPrefix),t.Prefix=r(n.matchesPrefix),t.CamelCase=r(n.matchesCamelCase),t.ContiguousSubString=r(n.matchesContiguousSubString),t.or=i,t.and=o,t.DefaultFilter=i(i(t.Prefix,t.CamelCase),t.ContiguousSubString)}),define("vs/editor/modes/modes",["require","exports","vs/base/types"],function(e,t,n){function r(e){return null===e||"object"!=typeof e?!1:"string"!=typeof e.label||"string"!=typeof e.codeSnippet||"string"!=typeof e.type?!1:n.isUndefinedOrNull(e.highlights)||n.isArray(e.highlights)?n.isUndefinedOrNull(e.typeLabel)||"string"==typeof e.typeLabel?n.isUndefinedOrNull(e.documentationLabel)||"string"==typeof e.documentationLabel?!0:!1:!1:!1}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.Bracket||(t.Bracket={}));t.Bracket;t.isISuggestion=r,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent"}(t.IndentAction||(t.IndentAction={}));t.IndentAction}),define("vs/editor/modes/nullMode",["require","exports","vs/editor/modes/modes"],function(e,t,n){function r(e){void 0===e&&(e="");for(var t="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",n="(-?\\d*\\.\\d\\w*)|([^",r=0;r<t.length;r++)e.indexOf(t[r])>=0||(n+="\\"+t[r]);return n+="\\s]+)",new RegExp(n,"g")}function i(e,t,r,i){void 0===i&&(i=0);var o=[{startIndex:i,type:"",bracket:n.Bracket.None}],s=[{startIndex:i,mode:e}];return{tokens:o,actualStopOffset:i+t.length,endState:r,modeTransitions:s}}var o=function(){function e(e,t){this.mode=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.mode,t)},e.prototype.equals=function(e){if(this.mode!==e.getMode())return!1;var t=e.getStateData();return this.stateData||t?this.stateData&&t?this.stateData.equals(t):!1:!0},e.prototype.getMode=function(){return this.mode},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=o,t.createWordRegExp=r;var s=function(){function e(){this.tokenTypeClassificationSupport=this}return e.prototype.getId=function(){return e.ID},e.prototype.bindModel=function(){},e.prototype.unbindModel=function(){},e.prototype.getNonWordTokenTypes=function(){return[]},e.prototype.getWordDefinition=function(){return e.DEFAULT_WORD_REGEXP},e.DEFAULT_WORD_REGEXP=r(),e.ID="vs.editor.modes.nullMode",e}();t.NullMode=s,t.nullTokenize=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/async",["require","exports","vs/base/errors","vs/base/lib/winjs.base"],function(e,t,n,r){function i(e,t){return new r.Promise(function(r,i,o){e.done(function(e){try{t(e)}catch(i){n.onUnexpectedError(i)}r(e)},function(e){try{t(e)}catch(r){n.onUnexpectedError(r)}i(e)},function(e){o(e)})},function(){e.cancel()})}function o(e){function t(){return e.length?e.pop()():null}function n(e){e&&i.push(e);var o=t();return o?o.then(n):r.Promise.as(i)}var i=[];return e=e.reverse(),r.Promise.as(null).then(n)}function s(e){var t,n=this,r=!1;return function(){return r?t:(r=!0,t=e.apply(n,arguments))}}var a=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=this.activePromise.then(n,n)}return new r.Promise(function(e,n){t.queuedPromise.then(e,n)},function(){})}return this.activePromise=e(),this.activePromise.then(function(e){return t.activePromise=null,e},function(e){return t.activePromise=null,r.Promise.wrapError(e)})},e}();t.Throttler=a;var l=function(){function e(e){this.defaultDelay=e,this.timeoutPromise=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new r.Promise(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task();return n.task=null,e})),this.timeoutPromise=r.Promise.timeout(t),this.timeoutPromise.then(function(){n.timeoutPromise=null,n.onSuccess(null)}),this.completionPromise},e.prototype.isTriggered=function(){return!!this.timeoutPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null)},e}();t.Delayer=l;var c=function(e){function t(t){e.call(this,t),this.throttler=new a}return __extends(t,e),t.prototype.trigger=function(t,n){var r=this;return e.prototype.trigger.call(this,function(){return r.throttler.queue(t)},n)},t}(l);t.ThrottledDelayer=c;var u=function(e){function t(t,n){void 0===n&&(n=0),e.call(this,t),this.minimumPeriod=n,this.periodThrottler=new a}return __extends(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.periodThrottler.queue(function(){return r.Promise.join([r.Promise.timeout(i.minimumPeriod),t()]).then(function(e){return e[1]})})},n)},t}(c);t.PeriodThrottledDelayer=u;var d=function(){function e(){var e=this;this._value=new r.TPromise(function(t,n){e._completeCallback=t,e._errorCallback=n})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.complete=function(e){this._completeCallback(e)},e.prototype.error=function(e){this._errorCallback(e)},e}();t.PromiseSource=d;var p=function(e){function t(t){var r,i,o;e.call(this,function(e,t,n){r=e,i=t,o=n},function(){i(n.canceled())}),t.then(r,i,o)}return __extends(t,e),t}(r.TPromise);t.ShallowCancelThenPromise=p,t.always=i,t.sequence=o,t.once=s}),define("vs/base/hash",["require","exports"],function(e,t){function n(e){for(var t=1540483477,n=24,r=0,i=e.length,o=i,s=0^o,a=r;o>=2;){var l=e.charCodeAt(a),c=e.charCodeAt(a+1),u=l|c<<16;
u*=t,u^=u>>n,u*=t,s*=t,s^=u,a+=2,o-=2}return 1===o&&(s^=e.charCodeAt(a),s*=t),s^=s>>13,s*=t,s^=s>>15}function r(e,t){return(t<<5)+t+e&2147483647}t.computeMurmur2StringHashCode=n,t.combine=r}),define("vs/base/worker/marshalling",["require","exports","vs/base/objects","vs/base/types"],function(e,t,n,r){function i(e){c.push(e)}function o(e){return n.cloneAndChange(e,function(e){if("object"==typeof e){for(var t=0;t<c.length;t++){var n=c[t];if(n.canSerialize(e))return n.serialize(e,o)}if(u&&u.canSerialize(e))return u.serialize(e,o)}return void 0})}function s(e){return n.cloneAndChange(e,function(e){if(r.isObject(e)){for(var t=0;t<c.length;t++){var n=c[t];if(n.canDeserialize(e))return n.deserialize(e,s)}if(u&&u.canDeserialize(e))return u.deserialize(e,o)}return void 0})}function a(e,t){void 0===t&&(t=null),u=t;var n=JSON.stringify(o(e));return u=null,n}function l(e,t){void 0===t&&(t=null),u=t;var n=s(JSON.parse(e));return u=null,n}var c=[];t.registerMarshallingContribution=i;var u=null;t.serialize=o,t.deserialize=s,i({canSerialize:function(e){return e instanceof RegExp},serialize:function(e){var t="";return e.global?t+="g":e.ignoreCase?t+="i":e.multiline&&(t+="m"),{$isRegExp:!0,source:e.source,flags:t}},canDeserialize:function(e){return e.$isRegExp},deserialize:function(e){return new RegExp(e.source,e.flags)}}),t.marshallObject=a,t.demarshallObject=l}),define("vs/base/paths",["require","exports","./env"],function(e,t,n){function r(e,n){e=i(e),n=i(n);for(var r=e.split(t.sep),o=n.split(t.sep);r.length>0&&o.length>0&&r[0]===o[0];)r.shift(),o.shift();for(var s=0,a=r.length;a>s;s++)o.unshift("..");return o.join(t.sep)}function i(e,n){if(!e)return e;for(var r=e.split(/[\\\/]/),i=0,o=r.length;o>i;i++)"."===r[i]&&r[i+1]&&(r.splice(i,1),i--);return r.join(n?h:t.sep)}function o(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?".":0===~t?e[0]:e.substring(0,~t)}function s(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?s(e.substring(0,e.length-1)):e.substr(~t+1)}function a(e){var t=~e.lastIndexOf(".");return t?e.substring(~t):""}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=m.exec(e[0]);n&&(e[0]=e[0].substr(n[0].length));for(var r=[],i=/^[\\\/]/.test(e[0]),o=/[\\\/]$/.test(e[e.length-1]),s=0;s<e.length;s++)r.push.apply(r,e[s].split(/\/|\\/));for(var s=0;s<r.length;s++){var a=r[s];"."===a||0===a.length?(r.splice(s,1),s-=1):".."===a&&r[s-1]&&".."!==r[s-1]&&(r.splice(s-1,2),s-=2)}i&&r.unshift(""),o&&r.push("");var l=r.join("/");return n&&(l=n[0]+l),l}function c(e){return e&&"/"===e[0]}function u(e){return c(i(e))?e:t.sep+e}function d(e){return e&&e.length>1&&"."===e[0]}function p(e,t){var n=g(i(e)),r=g(i(t)),o=r.length;r[o-1]||(o-=1);for(var s=0;o>s;s++)if(n[s]!==r[s])return!1;return!0}t.sep="/";var h=n.isWindows?"\\":"/";t.relative=r,t.normalize=i,t.dirname=o,t.basename=s,t.extname=a;var m=/^\w[\w\d.+-]*:\/\//;t.join=l,t.isAbsolute=c,t.makeAbsolute=u,t.isRelative=d,t.isEqualOrParent=p;var f=function(e){return e.split(t.sep)},v=function(e){return e.split(t.sep).map(function(e){return e.toLowerCase()})},g=n.isCaseSensitiveFs?f:v}),define("vs/base/uri",["require","exports","vs/base/worker/marshalling"],function(e,t,n){var r;return function(e){function t(e){return e?"string"!=typeof e.scheme?!1:"string"!=typeof e.authority?!1:"string"!=typeof e.path?!1:"string"!=typeof e.query?!1:"string"!=typeof e.fragment?!1:"function"!=typeof e.with?!1:"function"!=typeof e.withScheme?!1:"function"!=typeof e.withAuthority?!1:"function"!=typeof e.withPath?!1:"function"!=typeof e.withQuery?!1:"function"!=typeof e.withFragment?!1:"function"!=typeof e.toString?!1:"function"!=typeof e.toJSON?!1:!0:!1}function r(e){var t;return e&&(t=d.exec(e))?o(t[2],t[4],t[5],t[7],t[9]):o()}function i(e){return o("file",h,e)}function o(e,t,n,r,i){e=e?e.toLowerCase():h;var o={scheme:e,authority:t,path:n,query:r,fragment:i};(v[e]||a)(o);var l=(f[e]||s)(o);return new m(l,o)}function s(e){var t=[];return e.scheme&&(t.push(e.scheme),t.push(":")),e.authority&&(t.push("//"),t.push(e.authority)),e.path&&(e.authority&&e.path.charCodeAt(0)!==p.charCodeAt(0)&&t.push(p),t.push(e.path)),e.query&&(t.push("?"),t.push(e.query)),e.fragment&&(t.push("#"),t.push(e.fragment)),t.join(h)}function a(e){e.scheme=e.scheme||h,e.authority=e.authority||h,e.path=e.path||h,e.query=e.query||h,e.fragment=e.fragment||h}function l(e){e.scheme=e.scheme?e.scheme.toLowerCase():h,e.authority=e.authority?e.authority.toLowerCase():h,e.path=e.path||h,e.query=e.query||h,e.fragment=e.fragment||h}function c(e){var t=[];return t.push("file://"),e.path&&(b.test(e.path)&&t.push(p),t.push(e.path)),e.query&&(t.push("?"),t.push(e.query)),e.fragment&&(t.push("#"),t.push(e.fragment)),t.join(h)}function u(e){if(e.authority=h,e.path){var t,n=[];(t=g.exec(e.path))?(n.push(t[2].toLowerCase()),n.push(t[3])):n.push(e.path),e.path=n.join(h).replace(/\\/g,p)}else e.path=h;e.query=e.query||h,e.fragment=e.fragment||h}e.isURI=t;var d=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;e.parse=r,e.file=i;var p="/",h="",m=function(){function e(e,t){this._str=e,this._data=t}return Object.defineProperty(e.prototype,"scheme",{get:function(){return this._data.scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._data.authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._data.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._data.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._data.fragment},enumerable:!0,configurable:!0}),e.prototype.withScheme=function(e){return o(e,this._data.authority,this._data.path,this._data.query,this._data.fragment)},e.prototype.withAuthority=function(e){return o(this._data.scheme,e,this._data.path,this._data.query,this._data.fragment)},e.prototype.withPath=function(e){return o(this._data.scheme,this._data.authority,e,this._data.query,this._data.fragment)},e.prototype.withQuery=function(e){return o(this._data.scheme,this._data.authority,this._data.path,e,this._data.fragment)},e.prototype.withFragment=function(e){return o(this._data.scheme,this._data.authority,this._data.path,this._data.query,e)},e.prototype.with=function(){return o.apply(void 0,arguments)},e.prototype.toString=function(){return this._str},e.prototype.toJSON=function(){return this._str},e}();n.registerMarshallingContribution({canSerialize:function(e){return e instanceof m},serialize:function(e){return{$isURI:!0,$value:e.toString()}},canDeserialize:function(e){return e.$isURI},deserialize:function(e){return r(e.$value)}}),e.create=o;var f=Object.create(null);f.file=c;var v=Object.create(null);v.http=l,v.https=l,v.file=u;var g=/^(\\|\/)?([A-Za-z])(:.*)$/,b=/^([A-Za-z])(:.*)$/}(r||(r={})),r}),define("vs/base/network",["require","exports","./assert","./hash","./strings","vs/base/worker/marshalling","vs/base/paths","vs/base/uri"],function(e,t,n,r,i,o,s,a){o.registerMarshallingContribution({canSerialize:function(e){return e instanceof h},serialize:function(e){return{$isURL:!0,$value:e.toUnique()}},canDeserialize:function(e){return e.$isURL},deserialize:function(e){return new h(e.$value)}});var l=":".charCodeAt(0),c="/".charCodeAt(0),u="?".charCodeAt(0),d="#".charCodeAt(0),p=function(){function e(e){this.spec=e||i.empty,this.specLength=this.spec.length,this.parse()}return e.prototype.forwardSubstring=function(e,t){return t>e?this.spec.substring(e,t):i.empty},e.prototype.getScheme=function(){return this.forwardSubstring(this.schemeStart,this.domainStart-1)},e.prototype.getProtocol=function(){return this.forwardSubstring(this.schemeStart,this.domainStart)},e.prototype.getDomain=function(){return this.forwardSubstring(this.domainStart+2,this.portStart)},e.prototype.getPort=function(){return this.forwardSubstring(this.portStart+1,this.pathStart)},e.prototype.getHost=function(){return this.forwardSubstring(this.domainStart+2,this.pathStart)},e.prototype.getPath=function(){return this.forwardSubstring(this.pathStart,this.queryStringStart)},e.prototype.getQueryString=function(){return this.forwardSubstring(this.queryStringStart+1,this.fragmentIdStart)},e.prototype.getFragmentId=function(){return this.forwardSubstring(this.fragmentIdStart+1,this.specLength)},e.prototype.getAllBeforePath=function(){return this.forwardSubstring(0,this.pathStart)},e.prototype.getAllBeforeFragmentId=function(){return this.forwardSubstring(0,this.fragmentIdStart)},e.prototype.combine=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),r=e.length;-1!==t&&r>t&&(r=t),-1!==n&&r>n&&(r=n);var o=e.substring(0,r),a=e.substring(r);o=o.replace("\\","/");var l;for(l=i.startsWith(o,"/")?s.join(o):s.join(s.dirname(this.getPath()),o),"/"===l.charAt(0)&&(l=l.substr(1));0===l.indexOf("../");)l=l.substr(3);return this.getAllBeforePath()+"/"+l+a},e.prototype.parse=function(){var e,t,n=0,r=1,i=2,o=3,s=4,a=n,p=this.spec,h=this.specLength,m=-1,f=-1;for(this.schemeStart=0,this.domainStart=this.specLength,this.portStart=this.specLength,this.pathStart=this.specLength,this.queryStringStart=this.specLength,this.fragmentIdStart=this.specLength,e=0;h>e;e++){switch(t=p.charCodeAt(e),a){case n:m===c&&t===c&&(a=r,this.domainStart=e-1);break;case r:t===l?(a=i,this.portStart=e):t===c?(a=o,this.portStart=e,this.pathStart=e):t===d&&(this.portStart=e,this.pathStart=e,this.queryStringStart=e,this.fragmentIdStart=e,e=h);break;case i:t===c?(a=o,this.pathStart=e):t===d&&(this.pathStart=e,this.queryStringStart=e,this.fragmentIdStart=e,e=h);break;case o:t===u?(a=s,this.queryStringStart=e):t===d&&(this.queryStringStart=e,this.fragmentIdStart=e,e=h);break;case s:t===d&&(this.fragmentIdStart=e,e=h)}f=m,m=t}a===n&&(this.schemeStart=this.specLength)},e}();t.ParsedUrl=p;var h=function(){function e(e){n.ok(!!e,"spec must not be null"),this._uri="string"==typeof e?a.parse(e):e,this._spec=this._uri.toString(),this._parsed=null}return e.fromEncoded=function(t){return new e(decodeURIComponent(t))},e.fromValue=function(t){return new e(t)},e.fromUri=function(t){return new e(t)},e.prototype.equals=function(t){return this.toString()!==String(t)?!1:t instanceof e||a.isURI(t)},e.prototype.hashCode=function(){return r.computeMurmur2StringHashCode(this._spec)},e.prototype.isInMemory=function(){return this.scheme===m.inMemory},e.prototype.getScheme=function(){return this._ensureParsedUrl(),this._parsed.getScheme()},e.prototype.getPath=function(){return this._ensureParsedUrl(),this._parsed.getPath()},e.prototype.toUnique=function(){return this._ensureParsedUrl(),this._parsed.getAllBeforeFragmentId()},e.prototype.startsWith=function(e){return i.startsWith(this._spec,e._spec)},e.prototype.combine=function(t){return this._ensureParsedUrl(),new e(this._parsed.combine(t))},e.prototype._ensureParsedUrl=function(){null===this._parsed&&(this._parsed=new p(this._spec))},Object.defineProperty(e.prototype,"scheme",{get:function(){return this._uri.scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._uri.authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._uri.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._uri.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._uri.fragment},enumerable:!0,configurable:!0}),e.prototype.withScheme=function(e){return a.create(e,this.authority,this.path,this.query,this.fragment)},e.prototype.withAuthority=function(e){return a.create(this.scheme,e,this.path,this.query,this.fragment)},e.prototype.withPath=function(e){return a.create(this.scheme,this.authority,e,this.query,this.fragment)},e.prototype.withQuery=function(e){return a.create(this.scheme,this.authority,this.path,e,this.fragment)},e.prototype.withFragment=function(e){return a.create(this.scheme,this.authority,this.path,this.query,e)},e.prototype.with=function(e,t,n,r,i){return a.create(e,t,n,r,i)},e.prototype.toString=function(){return this._spec},e.prototype.toJSON=function(){return this.toString()},e}();t.URL=h;var m;!function(e){e.inMemory="inmemory",e.http="http",e.https="https",e.file="file"}(m=t.schemas||(t.schemas={}))}),define("vs/base/time/precision",["require","exports"],function(e,t){function n(){return new i(r?self.performance.now():(new Date).getTime())}var r=self.performance&&"function"==typeof self.performance.now,i=function(){function e(e){this._startTime=e,this._stopTime=-1}return e.prototype.stop=function(){this._stopTime=r?self.performance.now():(new Date).getTime()},e.prototype.elapsed=function(){if(-1!==this._stopTime)return this._stopTime-this._startTime;var e=r?self.performance.now():(new Date).getTime();return e-this._startTime},e}();t.StopWatch=i,t.createStopWatch=n}),define("vs/base/performance/timer",["require","exports","vs/base/env","vs/base/errors","vs/base/time/precision"],function(e,t,n,r,i){function o(e,t,n,r){return p.start(e,t,n,r)}function s(){return p}var a=!!self.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH",e[e.STARTUP=4]="STARTUP"}(t.Topic||(t.Topic={}));var l=t.Topic,c=function(){function e(){}return e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}(),u=function(){function e(e,t,n,r,o){if(this.timeKeeper=e,this.name=t,this.description=o,this.topic=n,this.stopTime=null,r)return this.startTime=r,void 0;if(this.startTime=new Date,this.sw=i.createStopWatch(),a){var s=["Monaco",this.topic,this.name,"start"];self.msWriteProfilerMark(s.join("|"))}}return e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,this.sw=null,this.timeKeeper._onEventStopped(this),void 0;if(this.stopTime=new Date,this.sw&&this.sw.stop(),this.timeKeeper._onEventStopped(this),a){var t=["Monaco",this.topic,this.name,"stop"];self.msWriteProfilerMark(t.join("|"))}}},e.prototype.timeTaken=function(){return this.sw?this.sw.elapsed():this.stopTime?this.stopTime.getTime()-this.startTime.getTime():-1},e}(),d=function(){function e(){this.cleaningIntervalId=-1,this.collectedEvents=[],this.listeners=[]}return e.prototype.isEnabled=function(){return n.enablePerformanceEvents},e.prototype.start=function(e,n,r,i){if(!this.isEnabled())return t.nullEvent;var o;"string"==typeof e?o=e:e===l.EDITOR?o="Editor":e===l.LANGUAGES?o="Languages":e===l.WORKER?o="Worker":e===l.WORKBENCH?o="Workbench":e===l.STARTUP&&(o="Startup"),this.initAutoCleaning();var s=new u(this,n,o,r,i);return this.addEvent(s),s},e.prototype.dispose=function(){-1!==this.cleaningIntervalId&&(clearInterval(this.cleaningIntervalId),this.cleaningIntervalId=-1)},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){for(var t=0;t<this.listeners.length;t++)if(this.listeners[t]===e)return this.listeners.splice(t,1),void 0},e.prototype.addEvent=function(t){t.id=e.EVENT_ID,e.EVENT_ID++,this.collectedEvents.push(t),this.collectedEvents.length>e._EVENT_CACHE_LIMIT&&this.collectedEvents.shift()},e.prototype.initAutoCleaning=function(){var t=this;-1===this.cleaningIntervalId&&(this.cleaningIntervalId=setInterval(function(){var n=Date.now();t.collectedEvents.forEach(function(t){!t.stopTime&&n-t.startTime.getTime()>=e._MAX_TIMER_LENGTH&&t.stop()})},e._CLEAN_UP_INTERVAL))},e.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},e.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},e.prototype._onEventStopped=function(e){for(var t=[e],n=this.listeners.slice(0),i=0;i<n.length;i++)try{n[i](t)}catch(o){r.onUnexpectedError(o)}},e.prototype.setInitialCollectedEvents=function(t,n){var r=this;this.isEnabled()&&(n&&(e.PARSE_TIME=n),t.forEach(function(e){var t=new u(r,e.name,e.topic,e.startTime,e.description);t.stop(e.stopTime),r.addEvent(t)}))},e._MAX_TIMER_LENGTH=6e4,e._CLEAN_UP_INTERVAL=12e4,e._EVENT_CACHE_LIMIT=1e3,e.EVENT_ID=1,e.PARSE_TIME=new Date,e}();t.TimeKeeper=d;var p=new d;t.nullEvent=new c,t.start=o,t.getTimeKeeper=s}),define("vs/base/http",["require","exports"],function(e,t){function n(e){return e>=300&&303>=e||307===e}function r(e,t,n,r){var i,o;return{header:function(n){if("undefined"==typeof o)for(o=Object.create(null),c.lastIndex=t;;){var r=c.exec(e);if(!r)break;if(o[r[1].toLowerCase()]=r[2],r[3])break}return o[n.toLowerCase()]},value:function(){return"undefined"==typeof i&&(i=e.substr(n+2,r)),i}}}function i(e,t,n){void 0===n&&(n=0);var i=e.responseText;for(l.lastIndex=n;;){var o=l.exec(i);if(!o)return n;var s=parseInt(o[1],10);if(i.length<l.lastIndex+s)return n;t.push(r(i,n,l.lastIndex-2,s)),n=l.lastIndex+s}}t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE";var o;!function(e){e.CONTENT_TYPE="Content-Type",e.CONTENT_LENGTH="Content-Length",e.LAST_MODIFIED="Last-Modified",e.LOCATION="Location",e.ETAG="ETag",e.X_CONTENT_CHARSET="X-Content-Charset",e.X_CONTENT_TYPES="X-Content-Types",e.X_CONTENT_HASH="X-Content-Hash",e.X_FILEPATH="X-Filepath",e.X_RESOURCE="X-Resource"}(o=t.Header||(t.Header={}));var s;!function(e){e.RAW="application/octet-stream",e.JSON="application/json",e.TEXT="text/plain",e.HTML="text/html"}(s=t.Mime||(t.Mime={}));var a;!function(e){e.UTF8="utf-8",e.UTF8_BOM="UTF8_BOM"}(a=t.Charset||(t.Charset={})),t.isRedirect=n;var l=/X-Chunk-Length:(\d+)\r\n\r\n/gi,c=/(.+?):(.+?)\r\n(\r\n)?/gm;t.parseChunkedData=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/events",["require","exports"],function(e,t){var n=function(){function e(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}return e}();t.Event=n;var r=function(e){function t(t,n,r){e.call(this,r),this.stack=n,this.message=t}return __extends(t,e),t}(n);t.MessageEvent=r;var i=function(e){function t(t,n,r,i){e.call(this,i),this.key=t,this.oldValue=n,this.newValue=r}return __extends(t,e),t}(n);t.PropertyChangeEvent=i;var o=function(e){function t(t,n){e.call(this,n),this.element=t}return __extends(t,e),t}(n);t.ViewerEvent=o,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",CONTENTS_CHANGED:"contentsChanged",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",INFO:"info",WARNING:"warning",ERROR:"error",CHANGE:"change",DISPOSE:"dispose"}}),define("vs/base/arrays",["require","exports"],function(e,t){function n(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function r(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],function(){e.splice(n,1),n--,r--})}function i(e,t,n){if(e.length!==t.length)return!1;for(var r=0,i=e.length;i>r;r++)if(!n(e[r],t[r]))return!1;return!0}function o(e,t){void 0===t&&(t=null);for(var n=new Array(e);e-->0;)n.push(t);return n}function s(e,t,n){for(var r=0,i=e.length-1;i>=r;){var o=Math.floor((r+i)/2),s=n(e[o],t);if(0>s)r=o+1;else{if(!(s>0))return o;i=o-1}}return-1}function a(e,t){var n=0,r=e.length;if(0===r)return 0;for(;r>n;){var i=Math.floor((n+r)/2);t(e[i])?r=i:n=i+1}return n}function l(e,t){var n=new Array;if(t)for(var r={},i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var s=e[i][o],a=t(s);r.hasOwnProperty(a)||(r[a]=!0,n.push(s))}else for(var i=0,l=e.length;l>i;i++)n.push.apply(n,e[i]);return n}function c(e,t){for(var n,r=0,i=e.length-1;i>r;)n=r+Math.ceil((i-r)/2),e[n].startIndex>t?i=n-1:r=n;return r}function u(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r&&t.push(r)}return t}function d(e,t){return e.indexOf(t)>=0}function p(e,t,n){var r=e[t],i=e[n];e[t]=i,e[n]=r}function h(e,t,n){e.splice(n,0,e.splice(t,1)[0])}function m(e){return!Array.isArray(e)||0===e.length}function f(e,t){return e===t}function v(e,t,n){return void 0===n&&(n=f),e.every(function(e){return t.some(function(t){return n(e,t)})})}function g(e,t,n){return void 0===n&&(n=f),e.every(function(e){return!t.some(function(t){return n(e,t)})})}function b(e,t){if(!t)return e.filter(function(t,n){return e.indexOf(t)===n});var n={};return e.filter(function(e){var r=t(e);return n[r]?!1:(n[r]=!0,!0)})}function y(e,t,n){void 0===n&&(n=null);for(var r=0;r<e.length;r++){var i=e[r];if(t(i))return i}return n}function _(e,t){for(var n=[],r=0;t>r;r++)n.push(e);return n}t.tail=n,t.forEach=r,t.equals=i,t.fill=o,t.binarySearch=s,t.findFirst=a,t.merge=l,t.findIndexInSegmentsArray=c,t.coalesce=u,t.contains=d,t.swap=p,t.move=h,t.isFalsyOrEmpty=m,t.withlist=v,t.blocklist=g,t.distinct=b,t.first=y,t.repeat=_}),define("vs/base/mime",["require","exports","vs/base/paths","vs/base/types","vs/base/strings"],function(e,t,n,r,i){function o(e,t){e&&t&&(m[e]=t)}function s(e,t){e&&t&&f.push({regexp:e,mime:t})}function a(e){if(!e)return!1;var n;return n=r.isArray(e)?e:e.split(",").map(function(e){return e.trim()}),n.indexOf(t.MIME_BINARY)>=0}function l(e,r){if(!e)return[t.MIME_UNKNOWN];e=e.toLowerCase();var o=n.basename(e),s=n.extname(e);for(var a in m){var l=a.toLowerCase();if(o===l||"."===a[0]&&i.endsWith(o,l)){var c=[m[a]];return c.push(t.MIME_TEXT),c}}if(r&&i.startsWithUTF8BOM(r)&&(r=r.substr(1)),r&&r.length>0)for(var u=0;u<f.length;++u){var v=r.match(f[u].regexp);if(v&&v.length>0&&v[0].length===r.length)return[f[u].mime,t.MIME_TEXT]}if(d[o]){var c=[d[o]];return c.push(t.MIME_TEXT),c}if(p[s]){var c=[p[s]];return p[s]!==t.MIME_TEXT&&c.push(t.MIME_TEXT),c}if(h[s]){var c=[h[s]];return h[s]!==t.MIME_BINARY&&c.push(t.MIME_BINARY),c}return[t.MIME_UNKNOWN]}function c(e){return e?"string"==typeof e?e===t.MIME_BINARY||e===t.MIME_TEXT||e===t.MIME_UNKNOWN:1===e.length&&c(e[0]):!0}function u(e,t){for(var n in m){var r=m[n];if(r===e)return t+n}for(var n in p)if(p.hasOwnProperty(n)){var r=p[n];if(r===e)return t+n}for(var n in h)if(h.hasOwnProperty(n)){var r=h[n];if(r===e)return t+n}return null}t.MIME_TEXT="text/plain",t.MIME_BINARY="application/octet-stream",t.MIME_UNKNOWN="application/unknown";var d={jakefile:"text/javascript",makefile:"text/x-makefile"},p={".html":"text/html",".htm":"text/html",".shtml":"text/html",".mdoc":"text/html",".jsp":"text/html",".jshtm":"text/x-jshtm",".js":"text/javascript",".json":"application/json",".bowerrc":"application/json",".jshintrc":"application/json",".jscsrc":"application/json",".css":"text/css",".less":"text/x-less",".txt":"text/plain",".gitignore":"text/plain",".dtd":"application/xml-dtd",".php":"application/x-php",".ctp":"application/x-php",".md":"text/x-web-markdown",".markdown":"text/x-web-markdown",".mdown":"text/x-web-markdown",".mkdn":"text/x-web-markdown",".mkd":"text/x-web-markdown",".mdwn":"text/x-web-markdown",".mdtxt":"text/x-web-markdown",".mdtext":"text/x-web-markdown",".dot":"text/x-dot",".cshtml":"text/x-cshtml",".handlebars":"text/x-handlebars-template",".hbs":"text/x-handlebars-template",".scss":"text/x-scss"},h={".bmp":"image/bmp",".gif":"image/gif",".jpg":"image/jpg",".jpeg":"image/jpg",".jpe":"image/jpg",".png":"image/png",".tiff":"image/tiff",".tif":"image/tiff",".ico":"image/x-icon",".tga":"image/x-tga",".psd":"image/vnd.adobe.photoshop",".mid":"audio/midi",".midi":"audio/midi",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".spx":"audio/ogg",".aac":"audio/x-aac",".wav":"audio/x-wav",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".mp4v":"video/mp4",".mpg4":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpe":"video/mpeg",".m1v":"video/mpeg",".m2v":"video/mpeg",".ogv":"video/ogg",".qt":"video/quicktime",".mov":"video/quicktime",".webm":"video/webm",".mkv":"video/x-matroska",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".avi":"video/x-msvideo",".exe":"application/x-msdownload-exe",".dll":"application/x-msdownload",".com":"application/x-msdownload",".msi":"application/x-msdownload",".pdf":"application/pdf",".doc":"application/msword",".dot":"application/msword",".ppt":"application/vnd.ms-powerpoint",".pps":"application/vnd.ms-powerpoint",".pot":"application/vnd.ms-powerpoint",".xls":"application/vnd.ms-excel",".xlm":"application/vnd.ms-excel",".xla":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",".xlt":"application/vnd.ms-excel",".xlw":"application/vnd.ms-excel",".zip":"application/zip",".rar":"application/x-rar-compressed",".iso":"application/x-iso9660-image",".dmg":"application/x-apple-diskimage",".bin":"application/octet-stream",".tar":"application/x-tar",".gz":"application/x-gzip",".7z":"application/x-7z-compressed",".cab":"application/vnd.ms-cab-compressed",".ttf":"application/x-font-ttf",".jar":"application/java-archive",".ai":"application/postscript",".swf":"application/x-shockwave-flash",".aif":"audio/x-aiff",".odt":"application/vnd.oasis.opendocument.text",".so":"application/octet-stream",".obj":"application/octet-stream",".class":"application/java-vm",".jnilib":"application/octet-stream",".woff":"application/x-font-woff",".suo":"application/octet-stream",".deb":"application/x-debian-package",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".rtf":"application/rtf",".war":"application/octet-stream",".pdb":"application/vnd.palm",".xap":"application/x-silverlight-app",".lnk":"application/octet-stream",".mdb":"application/x-msaccess",".nupkg":"application/octet-stream",".cspkg":"application/octet-stream",".cer":"application/pkix-cert",".node":"application/octet-stream",".sl":"application/octet-stream",".snk":"application/octet-stream",".chm":"application/vnd.ms-htmlhelp",".reg":"application/octet-stream",".xcf":"application/octet-stream",".eot":"application/vnd.ms-fontobject",".bson":"application/octet-stream",".cache":"application/octet-stream",".pyc":"application/octet-stream",".movie":"video/x-sgi-movie",".pyo":"application/octet-stream",".out":"application/output"},m=Object.create(null);t.registerTextMimeByFilename=o;var f=[];t.registerTextMimeByFirstLine=s,t.isBinaryMime=a,t.guessMimeTypes=l,t.isUnspecific=c,t.suggestFilename=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/files/files",["require","exports","vs/base/assert","vs/base/paths","vs/base/uri","vs/base/types","vs/base/strings","vs/base/arrays","vs/base/ui/events","vs/base/mime"],function(e,t,n,r,i,o,s,a,l,c){function u(e){return"undefined"!=typeof e.charset&&"string"!=typeof e.charset?!1:"string"!=typeof e.etag?!1:"string"!=typeof e.mime?!1:"number"!=typeof e.mtime?!1:"string"!=typeof e.name?!1:"string"!=typeof e.path?!1:"string"!=typeof e.value?!1:!0}!function(e){e[e.UPDATED=0]="UPDATED",e[e.ADDED=1]="ADDED",e[e.DELETED=2]="DELETED"}(t.FileChangeType||(t.FileChangeType={}));var d=t.FileChangeType;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FILE=1]="FILE",e[e.DIRECTORY=2]="DIRECTORY"}(t.FileChangeKind||(t.FileChangeKind={}));t.FileChangeKind;t.EventType={FILE_CHANGES:"files:fileChanges"};var p=function(e){function t(t){e.call(this),this._changes=t,this._changes.forEach(function(e){e.path=r.makeAbsolute(r.normalize(e.path))})}return __extends(t,e),t.fromRaw=function(e){return e=a.distinct(e,function(e){return e.type+e.resource+e.kind}),new t(e.map(function(e){return{type:e.type,resource:i.parse(e.resource),path:e.path,kind:e.kind}}))},Object.defineProperty(t.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),t.prototype.filter=function(e){return new t(this._changes.filter(function(t){var n=t.path.split(/\//);return n.shift(),e(t,n)}))},t.prototype.contains=function(e,t){return e?this.containsAny([e],t):!1},t.prototype.containsAny=function(e,t){return e&&e.length?this._changes.some(function(n){return n.type!==t?!1:t===d.DELETED?e.some(function(e){if(!e)return!1;var t="string"==typeof e?e:e.path;return r.isEqualOrParent(t,n.resource.path)}):e.some(function(e){if(!e)return!1;var t="string"==typeof e?e:e.path;return t===n.resource.path})}):!1},t.prototype.getAdded=function(){return this.getOfType(d.ADDED)},t.prototype.gotAdded=function(){return this.hasType(d.ADDED)},t.prototype.getDeleted=function(){return this.getOfType(d.DELETED)},t.prototype.gotDeleted=function(){return this.hasType(d.DELETED)},t.prototype.getUpdated=function(){return this.getOfType(d.UPDATED)},t.prototype.gotUpdated=function(){return this.hasType(d.UPDATED)},t.prototype.getOfType=function(e){return this._changes.filter(function(t){return t.type===e})},t.prototype.hasType=function(e){return this._changes.some(function(t){return t.type===e})},t}(l.Event);t.FileChangesEvent=p,t.isIContent=u;var h=function(){function e(e,t,n,i,o,s,a,l){this.resource=e,this.path=t&&r.makeAbsolute(r.normalize(t)),this.value=n,this.name=i,this.etag=l,this.mime=s,this.charset=a,this.mtime="number"==typeof o?o:"string"==typeof o?new Date(o).getTime():-1,this.mime&&this.mime.indexOf("; charset")>=0&&(this.mime=this.mime.substring(0,this.mime.indexOf(";")))}return e}();t.Content=h,function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ANY=2]="ANY"}(t.StatType||(t.StatType={}));var m=t.StatType,f=function(){function e(e,t,s,a,l,u,d){n.ok(!a||s,"Only a directory can have children"),this.resource="string"==typeof e?i.parse(e):e,this.path=r.makeAbsolute(r.normalize(t)),o.isString(l)?this.name=l:this.path&&(this.name=r.basename(this.path)),this.isDirectory=!!s,this.hasChildren=s&&a,this.mime=s?void 0:c.guessMimeTypes(this.path).join(", "),this.isDirectoryResolved=!1,this.etag=d,this.mtime=u,this.isDirectory&&(this.children=[])}return e.fromRAW=function(t,n,i){var s=new e(t.resource,t.path,t.isDirectory,t.hasChildren,t.name,t.mtime,t.etag);if(n&&n instanceof e?n.addChild(s):o.isString(n)&&(s.path=r.makeAbsolute(r.normalize(n))),s.isDirectory&&(s.children=[],s.isDirectoryResolved=!!t.children||!!i&&i.some(function(e){return r.isEqualOrParent(e,s.path)}),t.children))for(var a=0,l=t.children.length;l>a;a++)e.fromRAW(t.children[a],s,i);return s},e.prototype.clone=function(){var t=new e(i.parse(this.resource.toString()),this.path,this.isDirectory,this.hasChildren,this.name,this.mtime,this.etag);return t.isDirectoryResolved=this.isDirectoryResolved,this.parent&&(t.parent=this.parent),this.isDirectory&&this.children.forEach(function(e){t.addChild(e.clone())}),t},e.prototype.addChild=function(e){n.ok(this.isDirectory,"Can only add a child to a folder"),this.removeChild(e),e.parent=this,e.updatePath(!1),this.children.push(e),this.hasChildren=this.children.length>0},e.prototype.hasChild=function(e,t,r){void 0===r&&(r=m.ANY),n.ok(this.isDirectory,"Can only call hasChild on a directory"),n.ok(o.isString(e),"Expected parameter of type String");for(var i=0;i<this.children.length;i++){var s=this.children[i];if(!(r===m.FILE&&s.isDirectory||r===m.FOLDER&&!s.isDirectory)){if(s.name===e)return!0;if(t&&s.name.toLowerCase()===e.toLowerCase())return!0}}return!1},e.prototype.removeChild=function(e){n.ok(this.isDirectory,"Can only remove a child from a directory"),n.ok(!!this.children,"Expected children for directory but found none: "+this.path);for(var t=0;t<this.children.length;t++)if(this.children[t].path===e.path){this.children.splice(t,1);break}this.hasChildren=this.children.length>0},e.prototype.move=function(e,t,r){var i=this;n.ok(e.isDirectory,"Can only move an element into a directory"),n.ok(!this.isRoot(),"Can not move the root"),t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.addChild(i),i.updatePath(!0),r&&r()})},e.prototype.updatePath=function(e){this.resource=i.file(r.join(this.parent.resource.path,this.name)),this.path=r.join(this.parent.path,this.name),e&&this.isDirectory&&this.hasChildren&&this.children&&this.children.forEach(function(e){e.updatePath(!0)
})},e.prototype.rename=function(e){n.ok(!this.isRoot(),"Can not rename root"),this.name=e.name,this.mime=e.mime,this.mtime=e.mtime,this.updatePath(!0)},e.prototype.find=function(e){return n.ok(o.isString(e),"Expected String as parameter"),n.ok(this.isDirectory,"Can only find() in directories"),n.ok(this.isRoot(),"Can only find() from root"),this.doFind(e)},e.prototype.doFind=function(e){if(e===r.sep&&this.isRoot())return this;if(!this.hasChildren)return null;e=s.trim(e,r.sep);var t=e.split(r.sep);if(t.length>0)for(var n=0;n<this.children.length;n++)if(this.children[n].name===t[0])return 1===t.length?this.children[n]:this.children[n].doFind(e.substr(e.indexOf(r.sep)));return null},e.prototype.isRoot=function(){return this.path===r.sep},e.prototype.isAncestorOf=function(e){return this.isDirectory&&r.isEqualOrParent(e.path,this.path)},e.prototype.isParentOf=function(e){if(!this.isAncestorOf(e))return!1;var t=this.isRoot()?s.empty:this.path;return 2===e.path.substring(t.length).split(r.sep).length},e.prototype.equals=function(t){return t&&t instanceof e&&t.path===this.path},e}();t.FileStatImpl=f,function(e){e[e.FILE_IS_BINARY=0]="FILE_IS_BINARY",e[e.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",e[e.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",e[e.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",e[e.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",e[e.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",e[e.FILE_READ_ONLY=6]="FILE_READ_ONLY"}(t.FileOperationResult||(t.FileOperationResult={}));t.FileOperationResult});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/services",["require","exports","vs/base/lib/winjs.base","vs/base/async","vs/base/env","vs/base/strings","vs/base/network","vs/base/uri","vs/base/paths","vs/base/performance/timer","vs/base/objects","vs/base/hash","vs/base/errors","vs/base/worker/marshalling","vs/base/http","vs/base/ui/events","vs/platform/files/files"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw p.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=g;var b=function(e){function t(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.call(this,n),this._ctor=t}return __extends(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e===this?!0:e instanceof t?e.ctor===this.ctor:!1},t.prototype.hashCode=function(){return 61*(1+this.ctor.length)},t}(g);t.SyncDescriptor=b,h.registerMarshallingContribution({canSerialize:function(e){return e instanceof y},serialize:function(e,t){return{$isAsyncDescriptor:!0,$moduleName:e.moduleName,$ctorName:e.ctorName,$staticArguments:t(e.staticArguments())}},canDeserialize:function(e){return e.$isAsyncDescriptor},deserialize:function(e,t){var n=new y(e.$moduleName,e.$ctorName);return n.appendStaticArguments(t(e.$staticArguments)),n}});var y=function(t){function n(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t.call(this,r),this._moduleName=e,this._ctorName=n}return __extends(n,t),n.create=function(e,t){return new n(e,t)},Object.defineProperty(n.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),n.prototype.equals=function(e){return e===this?!0:e instanceof n?e.moduleName===this.moduleName&&e.ctorName===this.ctorName:!1},n.prototype.hashCode=function(){return d.computeMurmur2StringHashCode(this.moduleName)*d.computeMurmur2StringHashCode(this.ctorName)},n.prototype.toSyncDescriptor=function(){var t;try{t=e(this.moduleName)}catch(n){return null}var r=t[this.ctorName],i=new b(r);return i.appendStaticArguments(this.staticArguments()),i},n}(g);t.AsyncDescriptor=y,function(e){e[e.None=0]="None",e[e.Group1=1]="Group1",e[e.Group2=2]="Group2",e[e.Group3=3]="Group3",e[e.Group4=4]="Group4",e[e.Group5=5]="Group5",e[e.Group6=6]="Group6",e[e.Group7=7]="Group7",e[e.Group8=8]="Group8",e[e.Group9=9]="Group9",e[e.All=10]="All"}(t.ThreadAffinity||(t.ThreadAffinity={}));var _=(t.ThreadAffinity,function(){function e(e,t,n){void 0===n&&(n={}),this.workspace=e,this.configuration=t,this.options=n}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getOptions=function(){return this.options},e.prototype.toWorkspaceRelativePath=function(e){if(e&&this.workspace){var t=this.workspace.resource.path;if(l.isEqualOrParent(e.path,t))return l.makeAbsolute(e.path.substr(t.length))}return null},e.prototype.toResource=function(e){return"string"==typeof e&&this.workspace?a.file(l.join(this.workspace.resource.path,e)):null},e}());t.BaseWorkspaceContextService=_;var w=function(){function e(e,t,n){var r=null;if(e&&e.contextService){var s=e.contextService,a=s.getWorkspace();this._serviceMap=a||Object.create(null),this._telemetryService=e.telemetryService;var l=s.getConfiguration();l&&(this._additionalHeaders=l.additionalHeaders),a&&(r=o.rtrim(a.resource.toString(),"/")+"/",!i.isNative&&a.publicUrl&&(r=a.publicUrl))}else this._serviceMap=e,this._additionalHeaders=t,this._telemetryService=n;this.computeOrigin(r)}return e.prototype.computeOrigin=function(e){if(e){this._origin=e;var t=new s.URL(this._origin).getPath();t&&t.length>0&&(this._origin=this._origin.substring(0,this._origin.length-t.length+1)),o.endsWith(this._origin,"/")||(this._origin+="/")}else this._origin="/"},e.prototype.getRequestUrl=function(e,t,n){if(this._serviceMap[e]){var r=this._serviceMap[e]+o.normalizePath(t),i=new s.URL(r);return i.getScheme()?r:n?this._origin+o.ltrim(r,"/"):r}return null},e.prototype.getPath=function(e,t){var n=this.getRequestUrl(e,"/",!0);if(!n)return null;var r=t.toString().indexOf(n);return 0===r?t.toString().substr(n.length-1):null},e.prototype.getAdditionalHeaders=function(){return this._additionalHeaders||{}},e.prototype.supportsPrivateChannel=function(){return!1},e.prototype.establishPrivateChannel=function(){return n.Promise.wrapError("Not Implemented")},e.prototype.supportsRemoteEvents=function(){return!1},e.prototype.addRemoteListener=function(){throw new Error("Not Implemented")},e.prototype.makeCrossOriginRequest=function(e){var t=this.getRequestUrl("http");if(t){var n=o.format("{0}?url={1}",t,encodeURIComponent(e.url));return e.url=n,this.makeRequest(e)}return null},e.prototype.makeRequest=function(e){var t=c.nullEvent,i=!1,s=e.url;if(!s)throw new Error("IRequestService.makeRequest: Url is required");if((o.startsWith(s,"http://")||o.startsWith(s,"https://"))&&this._origin&&!o.startsWith(s,this._origin)){var a=this.makeCrossOriginRequest(e);if(a)return a;i=!0}var l=e;if(!i){var d=this.getAdditionalHeaders();this._telemetryService&&(d["X-TelemetrySession"]=this._telemetryService.sessionID),d["X-Requested-With"]="XMLHttpRequest",l.headers=u.mixin(l.headers,d)}return e.customRequestConfiguration&&(l.customRequestInitializer=function(t){u.mixin(t,e.customRequestConfiguration)}),this._telemetryService&&(t=this._telemetryService.start(i?"CorsXHR":"WorkbenchXHR",{url:s},!1)),r.always(n.xhr(l),function(e){t.data&&(t.data.status=e.status),t.stop()})},e.prototype.makeChunkedRequest=function(e){var t,r,i,o=this,s=0,a=!1;return new n.TPromise(function(n,a,l){t=n,r=a,i=l,o.makeRequest(e).done(function(e){var n={request:e,chunks:[]};s=m.parseChunkedData(e,n.chunks,s),t(n)},function(e){r(e)},function(){})},function(){a=!0})},e.prototype.reconnect=function(){},e}();t.BaseRequestService=w;var E=function(){function e(){}return e.CONNECTION_STATE_CHANGE="connectionStateChanged",e.CONNECTION_RECONNECTED="connectionReconnected",e}();t.RequstServiceEventTypes=E,function(e){e[e.CONNECTED=0]="CONNECTED",e[e.DISCONNECTED=1]="DISCONNECTED",e[e.SESSION_OVER=2]="SESSION_OVER",e[e.OUTDATED_CLIENT=3]="OUTDATED_CLIENT"}(t.ConnectionState||(t.ConnectionState={}));t.ConnectionState;!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.StorageScope||(t.StorageScope={}));t.StorageScope;t.StorageEventType={STORAGE:"storage"};var S=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return __extends(t,e),t.prototype.isLocal=function(){return!this.originalEvent},t}(f.PropertyChangeEvent);t.StorageEvent=S,function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(t.Position||(t.Position={}));var T=t.Position;t.POSITIONS=[T.LEFT,T.CENTER,T.RIGHT];var k=function(){function e(e){this._selection=e||[]}return Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._selection.length},e.EMPTY=new e([]),e}();t.Selection=k;var C=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.toArray=function(){return this.selection},t}(k);t.StructuredSelection=C,function(e){e[e["transient"]=1]="transient",e[e.permanent=2]="permanent"}(t.MarkerType||(t.MarkerType={}));var x=(t.MarkerType,function(){function e(){}return e.UPDATED="update",e}());t.ConfigurationServiceEventTypes=x,t.ResourceEvents={ADDED:"resource.added",REMOVED:"resource.removed",CHANGED:"resource.changed"};var A;!function(e){!function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(e.QueryType||(e.QueryType={}));var t=(e.QueryType,function(){function e(){}return e.prototype.search=function(){return n.TPromise.as([])},e.Instance=new e,e}());e.NullSearchService=t}(A=t.Search||(t.Search={})),t.Files=v}),define("vs/platform/thread/attribute",["require","exports","vs/base/lib/winjs.base","vs/platform/services"],function(e,t,n,r){function i(e,t){for(var n in e)if(e[n]===t)return n;throw new Error("Member not found in prototype")}function o(e){var n=e[t.THREAD_SERVICE_PROPERTY_NAME];if(!n)throw new Error("Objects that use thread attributes must be instantiated with the thread service");return n}function s(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return o(this).MainThread(this,n,t,e)}}function a(e,t,s,a){void 0===a&&(a=r.ThreadAffinity.None);var l,c=i(e.prototype,t);"function"==typeof s?l=s:"undefined"!=typeof s&&(a=s),e.prototype[c]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(l){var i=this,s=l.call(i);return n.Promise.is(s)||(s=n.Promise.as(s)),s.then(function(){return o(i).OneWorker(i,c,t,e,a)})}return o(this).OneWorker(this,c,t,e,a)}}function l(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return o(this).AllWorkers(this,n,t,e)}}function c(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return o(this).Everywhere(this,n,t,e)}}t.THREAD_SERVICE_PROPERTY_NAME="__$$__threadService",t.MainThread=s,t.OneWorker=a,t.AllWorkers=l,t.Everywhere=c}),define("vs/base/remote/remote",["require","exports"],function(e,t){function n(e,t,n){var i={$__IS_REMOTE_OBJ:!0};for(var o in n.prototype)"function"==typeof n.prototype[o]&&(i[o]=r(e,t,o));return i}function r(e,t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];return e.callOnRemote(t,n,r)}}var i=Object.prototype.hasOwnProperty;t.createProxyFromCtor=n;var o=function(){function e(e){this._remoteCom=e}return e.prototype.canSerialize=function(e){return"string"==typeof e.$__CREATE__PROXY__REQUEST},e.prototype.serialize=function(e){for(var t={methods:[],props:{}},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];"function"==typeof e[i]?t.methods.push(i):t.props[i]=e[i]}return{$isProxyDescriptor:!0,proxyId:e.$__CREATE__PROXY__REQUEST,desc:t}},e.prototype.canDeserialize=function(e){return e.$isProxyDescriptor===!0},e.prototype.deserialize=function(e){for(var t={$__IS_REMOTE_OBJ:!0},n=e.desc.methods,o=0;o<n.length;o++)t[n[o]]=r(this._remoteCom,e.proxyId,n[o]);var s=e.desc.props;for(var a in s)i.call(s,a)&&(t[a]=s[a]);return t},e}();t.ProxiesMarshallingContribution=o}),define("vs/platform/thread/abstractThreadService",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/platform/thread/attribute","vs/base/remote/remote","vs/base/types"],function(e,t,n,r,i,o,s){var a=function(){function e(){this.isInMainThread=!r.isInWebWorker()&&!r.isInEmulatedWebWorker()&&!r.isInProcessWorker(),this._boundObjects={},this._pendingObjects=[],this._localObjMap=Object.create(null),this._proxyObjMap=Object.create(null)}return e.prototype.setInstantiationService=function(e){this._instantiationService=e},e.prototype.createInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this._doCreateInstance(e)},e.prototype._doCreateInstance=function(e){var t=this,r=this._instantiationService.createInstance.apply(this._instantiationService,e);if(n.Promise.is(r)){var i=r.then(function(e){if(e.asyncCtor){var t=e.asyncCtor();if(n.Promise.is(t))return t.then(function(){return e})}return e});return this._pendingObjects.push(i),i.then(function(e){for(var n=t._finishInstance(e),r=0;r<t._pendingObjects.length;r++)if(t._pendingObjects[r]===i){t._pendingObjects.splice(r,1);break}return n})}return this._finishInstance(r)},e.prototype._finishInstance=function(e){return e[i.THREAD_SERVICE_PROPERTY_NAME]=this,this._boundObjects[e.getId()]=e,e.creationDone&&e.creationDone(),e},e.prototype.registerInstance=function(e){this._finishInstance(e)},e.prototype.handle=function(e,t,n){if(!this._localObjMap[e])throw new Error("Unknown actor "+e);var r=this._localObjMap[e];return r[t].apply(r,n)},e.prototype._getLocalInstance=function(e){if(!this._localObjMap[e])throw new Error("Missing participant "+e);return this._localObjMap[e]},e.prototype._getProxyInstance=function(e){if(!this._proxyObjMap[e])throw new Error("Missing participant "+e);return this._proxyObjMap[e]},e.prototype._createAndRegisterProxyInstance=function(e,t,n){var r=o.createProxyFromCtor(e,t,n.ctor);return this._proxyObjMap[t]=r,r},e.prototype._createAndRegisterLocalInstance2=function(e,t){var n=this._instantiationService.createInstance(t,this);return this._localObjMap[e]=n,n},e.prototype.proxifyMethods=function(e,t){if(!s.isObject(t))return null;this._localObjMap[e]=t;var n={$__CREATE__PROXY__REQUEST:e};for(var r in t)"function"==typeof t[r]&&(n[r]=t[r].bind(t));return n},e.prototype.proxifyMembers=function(e,t,n){if(!s.isObject(t))return null;this._localObjMap[e]=t;var r={$__CREATE__PROXY__REQUEST:e};for(var i in t)-1!==n.indexOf(i)&&(r[i]="function"==typeof t[i]?t[i].bind(t):t[i]);return r},e.prototype.isProxyObject=function(e){return e&&!!e.$__IS_REMOTE_OBJ},e}();t.AbstractThreadService=a}),define("vs/base/collections",["require","exports"],function(e,t){function n(){return Object.create(null)}function r(){return Object.create(null)}function i(e,t,n){void 0===n&&(n=null);var r=String(t);return a(e,r)?e[r]:n}function o(e,t,n){var r=String(t);return a(e,r)?e[r]:("function"==typeof n&&(n=n()),e[r]=n,n)}function s(e,t,n){e[n(t)]=t}function a(e,t){return v.call(e,t)}function l(e){return{every:function(t){for(var n in e)if(v.call(e,n)&&!t(n))return!1;return!0}}}function c(e){var t=[];for(var n in e)v.call(e,n)&&t.push(e[n]);return t}function u(e,t){for(var n in e)if(v.call(e,n)){var r=t({key:n,value:e[n]},function(){delete e[n]});if(r===!1)return}}function d(e,t){return v.call(e,t)?(delete e[t],!0):!1}function p(e,t){var r=n();return e.forEach(function(e){return o(r,t(e),[]).push(e)}),r}function h(e){var n=e.length;return 0===n?t.EmptyIterable:1===n?e[0]:{every:function(t){for(var r=0;n>r;r++)if(!e[r].every(t))return!1;return!0}}}function m(e){return{every:function(t){return t(e)}}}function f(e){if(Array.isArray(e))return e;var t=[];return e.every(function(e){return t.push(e),!0}),t}t.createStringDictionary=n,t.createNumberDictionary=r,t.lookup=i,t.lookupOrInsert=o,t.insert=s;var v=Object.prototype.hasOwnProperty;t.contains=a,t.keys=l,t.values=c,t.forEach=u,t.remove=d,t.groupBy=p,t.EmptyIterable={every:function(){return!0}},t.combine=h,t.singleton=m,t.toArray=f}),define("vs/platform/instantiation/instantiationService",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/base/strings","vs/base/types","vs/platform/services","vs/base/collections"],function(e,t,n,r,i,o,s,a){function l(e){return new d(e,new c)}t.create=l;var c=function(){function e(){this._value=0}return Object.defineProperty(e.prototype,"locked",{get:function(){return 0===this._value},enumerable:!0,configurable:!0}),e.prototype.runUnlocked=function(e){this._value++;try{return e()}finally{this._value--}},e}(),u=function(){function e(e,t){var n=this;this._services=e,this._lock=t,a.forEach(this._services,function(e){n.registerService(e.key,e.value)})}return e.prototype.registerService=function(e,t){var n=this;Object.defineProperty(this,e,{get:function(){if(n._lock.locked)throw r.illegalState("the services map can only be used during construction");if(!t)throw r.illegalArgument(i.format("service with '{0}' not found",e));return t},set:function(){throw r.illegalState("services cannot be changed")},configurable:!1,enumerable:!1}),this._services[e]=t},Object.defineProperty(e.prototype,"lock",{get:function(){return this._lock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"services",{get:function(){return this._services},enumerable:!0,configurable:!0}),e.prototype.createInstance=function(e,t){var n=[e.ctor,this];return n.push.apply(n,e.staticArguments()),n.push.apply(n,t),this._lock.runUnlocked(function(){var t=o.create.apply(null,n);return e._validate(t),t})},e}(),d=function(){function t(e,t){e.instantiationService=this,this._servicesMap=new u(e,t)}return t.prototype.createChild=function(e){var n={};return a.forEach(this._servicesMap.services,function(e){n[e.key]=e.value}),a.forEach(e,function(e){n[e.key]=e.value}),new t(n,this._servicesMap.lock)},t.prototype.registerService=function(e,t){this._servicesMap.registerService(e,t)},t.prototype.createInstance=function(e){for(var t=new Array(arguments.length-1),n=1,r=arguments.length;r>n;n++)t[n-1]=arguments[n];return e instanceof s.SyncDescriptor?this._servicesMap.createInstance(e,t):e instanceof s.AsyncDescriptor?this._createInstanceAsync(e,t):this._servicesMap.createInstance(new s.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,i){var o,a=this;return new n.TPromise(function(n,l){e([t.moduleName],function(e){if(o&&l(o),!e)return l(r.illegalArgument("module not found: "+t.moduleName));var c;if(c=t.ctorName?e[t.ctorName]:e,"function"!=typeof c)return l(r.illegalArgument("not a function: "+t.ctorName||t.moduleName));try{i.unshift.apply(i,t.staticArguments()),n(a._servicesMap.createInstance(new s.SyncDescriptor(c),i))}catch(u){return l(u)}},l)},function(){o=r.canceled()})},t}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/thread/nullThreadService",["require","exports","vs/base/lib/winjs.base","vs/platform/thread/abstractThreadService","vs/platform/instantiation/instantiationService"],function(e,t,n,r,i){var o=function(e){function t(t){e.call(this),this._warn=t,this.setInstantiationService(i.create({threadService:this}))}return __extends(t,e),t.prototype._doCreateInstance=function(t){return this._warn&&console.warn("Instantiating using the null thread service"),e.prototype._doCreateInstance.call(this,t)},t.prototype.MainThread=function(e,t,n,r){return n.apply(e,r)},t.prototype.OneWorker=function(){return n.Promise.as(null)},t.prototype.AllWorkers=function(){return n.Promise.as(null)},t.prototype.Everywhere=function(e,t,n,r){return n.apply(e,r)},t.prototype.ensureWorkers=function(){},t.prototype.addStatusListener=function(){},t.prototype.removeStatusListener=function(){},t.prototype.registerAndInstantiateMainProcessActor=function(e,t){return this._createAndRegisterLocalInstance2(e,t)},t.prototype.registerAndInstantiatePluginHostActor=function(e,t){return this._createAndRegisterLocalInstance2(e,t)},t.prototype.registerAndInstantiateWorkerActor=function(e,t){return this._createAndRegisterLocalInstance2(e,t)},t}(r.AbstractThreadService);t.NULL_THREAD_SERVICE=new o(!0)}),define("vs/editor/modes/stream",["require","exports"],function(e,t){var n=function(){function e(e){this._source=e,this.sourceLength=e.length,this._pos=0,this.whitespace="	 Â ",this.whitespaceArr=this.stringToArray(this.whitespace),this.separators="",this.separatorsArr=this.stringToArray(this.separators),this.tokenStart=-1,this.tokenEnd=-1}return e.prototype.stringToArray=function(t){return e.STRING_TO_ARRAY_CACHE.hasOwnProperty(t)||(e.STRING_TO_ARRAY_CACHE[t]=this.actualStringToArray(t)),e.STRING_TO_ARRAY_CACHE[t]},e.prototype.actualStringToArray=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n);var r=[];for(n=0;t>n;n++)r[n]=!1;for(n=0;n<e.length;n++)r[e.charCodeAt(n)]=!0;return r},e.prototype.pos=function(){return this._pos},e.prototype.eos=function(){return this._pos>=this.sourceLength},e.prototype.peek=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this._source[this._pos]},e.prototype.next=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this.tokenStart=-1,this.tokenEnd=-1,this._source[this._pos++]},e.prototype.next2=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");this.tokenStart=-1,this.tokenEnd=-1,this._pos++},e.prototype.advance=function(e){if(0===e)return"";var t=this._pos;return this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,this._source.substring(t,this._pos)},e.prototype._advance2=function(e){return 0===e?e:(this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,e)},e.prototype.advanceToEOS=function(){var e=this._pos;return this._pos=this.sourceLength,this.resetPeekedToken(),this._source.substring(e,this._pos)},e.prototype.goBack=function(e){this._pos-=e,this.resetPeekedToken()},e.prototype.createPeeker=function(e){var t=this;if(e instanceof RegExp)return function(){var n=e.exec(t._source.substr(t._pos));if(null===n)return 0;if(0!==n.index)throw new Error('Regular expression must begin with the character "^"');return n[0].length};if((e instanceof String||"string"==typeof e)&&e)return function(){for(var n=e.length,r=t._pos+n<=t.sourceLength,i=0;r&&n>i;i++)r=t._source.charCodeAt(t._pos+i)===e.charCodeAt(i);return r?n:0};throw new Error("Condition must be either a regular expression, function or a non-empty string")},e.prototype._advanceIfStringCaseInsensitive=function(e){var t,n=this._pos,r=this._source,i=e.length;if(1>i||n+i>this.sourceLength)return 0;for(t=0;i>t;t++)if(r.charAt(n+t).toLowerCase()!==e.charAt(t).toLowerCase())return 0;return i},e.prototype.advanceIfStringCaseInsensitive=function(e){return this.advance(this._advanceIfStringCaseInsensitive(e))},e.prototype.advanceIfStringCaseInsensitive2=function(e){return this._advance2(this._advanceIfStringCaseInsensitive(e))},e.prototype._advanceIfString=function(e){var t,n=this._pos,r=this._source,i=e.length;if(1>i||n+i>this.sourceLength)return 0;for(t=0;i>t;t++)if(r.charCodeAt(n+t)!==e.charCodeAt(t))return 0;return i},e.prototype.advanceIfString=function(e){return this.advance(this._advanceIfString(e))},e.prototype.advanceIfString2=function(e){return this._advance2(this._advanceIfString(e))},e.prototype._advanceIfCharCode=function(e){return this._pos<this.sourceLength&&this._source.charCodeAt(this._pos)===e?1:0},e.prototype.advanceIfCharCode=function(e){return this.advance(this._advanceIfCharCode(e))},e.prototype.advanceIfCharCode2=function(e){return this._advance2(this._advanceIfCharCode(e))},e.prototype._advanceIfRegExp=function(e){return this._pos>=this.sourceLength?0:e.test(this._source.substr(this._pos))?RegExp.lastMatch.length:0},e.prototype.advanceIfRegExp=function(e){return this.advance(this._advanceIfRegExp(e))},e.prototype.advanceIfRegExp2=function(e){return this._advance2(this._advanceIfRegExp(e))},e.prototype.advanceLoop=function(e,t,n){if(this.eos())return"";var r=this.createPeeker(e),i=this._pos,o=0,s=null;for(s=t?function(e){return e>0}:function(e){return 0===e};!this.eos()&&s(o=r());)o>0?this.advance(o):this.next();return n&&!this.eos()&&this.advance(o),this._source.substring(i,this._pos)},e.prototype.advanceWhile=function(e){return this.advanceLoop(e,!0,!1)},e.prototype.advanceUntil=function(e,t){return this.advanceLoop(e,!1,t)},e.prototype._advanceUntilString=function(e,t){if(this.eos()||0===e.length)return 0;var n=this._pos,r=this._source.indexOf(e,n);return-1===r?this.sourceLength-n:t?r+e.length-n:r-n},e.prototype.advanceUntilString=function(e,t){return this.advance(this._advanceUntilString(e,t))},e.prototype.advanceUntilString2=function(e,t){return this._advance2(this._advanceUntilString(e,t))},e.prototype.resetPeekedToken=function(){this.tokenStart=-1,this.tokenEnd=-1},e.prototype.setTokenRules=function(e,t){(this.separators!==e||this.whitespace!==t)&&(this.separators=e,this.separatorsArr=this.stringToArray(this.separators),this.whitespace=t,this.whitespaceArr=this.stringToArray(this.whitespace),this.resetPeekedToken())},e.prototype.peekToken=function(){if(-1!==this.tokenStart)return this._source.substring(this.tokenStart,this.tokenEnd);var e=this._source,t=this.sourceLength,n=this.whitespaceArr,r=this.separatorsArr,i=this._pos;if(i>=t)throw new Error("Stream is at the end");for(;n[e.charCodeAt(i)]&&t>i;)i++;var o=i;if(r[e.charCodeAt(o)]&&t>o)o++;else for(;!r[e.charCodeAt(o)]&&!n[e.charCodeAt(o)]&&t>o;)o++;return this.tokenStart=i,this.tokenEnd=o,e.substring(i,o)},e.prototype.nextToken=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");var e;return e=-1===this.tokenStart?this.peekToken():this._source.substring(this.tokenStart,this.tokenEnd),this._pos=this.tokenEnd,this.tokenStart=-1,this.tokenEnd=-1,e},e.prototype.peekWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,r=this._pos;n[e.charCodeAt(r)]&&t>r;)r++;return e.substring(this._pos,r)},e.prototype._skipWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,r=this._pos,i=this._pos;n[e.charCodeAt(i)]&&t>i;)i++;return i-r},e.prototype.skipWhitespace=function(){return this.advance(this._skipWhitespace())},e.prototype.skipWhitespace2=function(){return this._advance2(this._skipWhitespace())},e.STRING_TO_ARRAY_CACHE={},e}();t.LineStream=n}),define("vs/editor/modes/autoIndentation/autoIndentation",["require","exports","vs/editor/modes/modes","vs/base/strings"],function(e,t,n,r){var i;!function(e){e[e.Unknown=0]="Unknown",e[e.Lowercase=1]="Lowercase",e[e.Uppercase=2]="Uppercase",e[e.Camelcase=3]="Camelcase"}(i||(i={}));var o=function(){function e(e,t,n,r,i){void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=!1),this.brackets=e,this.regexBrackets=t?t:[],this.docComment=n?n:null,this.caseInsensitive=r?r:!1,this.textAfterBrackets=i?i:!1}return e.prototype.getElectricCharacters=function(){for(var e,t=[],n=this.brackets.length,r=0;n>r;r++)if(e=this.brackets[r],e.isElectric){var i=e.close.charAt(e.close.length-1);t.push(this.caseInsensitive?i.toLowerCase():i)}var o;n=this.regexBrackets.length;for(var r=0;n>r;r++)o=this.regexBrackets[r],o.openTrigger&&t.push(this.caseInsensitive?o.openTrigger.toLowerCase():o.openTrigger),o.closeTrigger&&t.push(this.caseInsensitive?o.closeTrigger.toLowerCase():o.closeTrigger);if(this.docComment&&t.push(this.docComment.open.charAt(this.docComment.open.length-1)),this.caseInsensitive)for(var s=t.length,r=0;s>r;++r)t.push(t[r].toUpperCase());return t=t.filter(function(e,t,n){return n.indexOf(e)==t})},e.prototype.onEnter=function(e,t){return 0===e.getTokenCount()?null:this._onEnterDocComment(e,t)||this._onEnterRegexBrackets(e,t)||this._onEnterStandardBrackets(e,t)},e.prototype.onElectricCharacter=function(e,t){return 0===e.getTokenCount()?null:this._onElectricCharacterDocComment(e,t)||this._onElectricCharacterRegexBrackets(e,t)||this._onElectricCharacterStandardBrackets(e,t)},e.prototype.tokenTypeFromString=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var n,r=0;r<this.brackets.length;r++)if(n=this.brackets[r],t===n.open||t===n.close)return n.tokenType;return null},e.prototype.bracketTypeFromString=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var r,i=0;i<this.brackets.length;i++){if(r=this.brackets[i],t===r.open)return n.Bracket.Open;if(t===r.close)return n.Bracket.Close}return null},e.prototype.tokenTypeIsBracket=function(e){for(var t=0;t<this.brackets.length;t++)if(e===this.brackets[t].tokenType)return!0;return!1},e.prototype.stringIsBracket=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var n,r=0;r<this.brackets.length;r++)if(n=this.brackets[r],t===n.open||t===n.close)return!0;return!1},e.prototype.containsTokenTypes=function(e,t){for(var n=t.split("."),r=0;r<n.length;++r)if(e.indexOf(n[r])<0)return!1;return!0},e.prototype._onEnterStandardBrackets=function(e,t){if(this.textAfterBrackets){for(var r=0,i=e.findIndexOfOffset(t),o=0;i>=o&&!(o===i&&e.getTokenEndIndex(o)>t);o++){var s=e.getTokenBracket(o);s===n.Bracket.Open&&r++,s===n.Bracket.Close&&r--}if(r>0)return{indentAction:n.IndentAction.Indent}}for(var i=e.findIndexOfOffset(t-1),a=i;a>0&&""===e.getTokenType(a);)a--;if(a>=0&&e.getTokenEndIndex(a)>t)return null;if(e.getTokenBracket(a)!==n.Bracket.Open)return null;for(var l=i+1;l<e.getTokenCount()&&""===e.getTokenType(l);)l++;return l<e.getTokenCount()&&e.getTokenType(l)===e.getTokenType(a)&&e.getTokenBracket(l)===n.Bracket.Close?{indentAction:n.IndentAction.IndentOutdent}:{indentAction:n.IndentAction.Indent}},e.prototype._onEnterRegexBrackets=function(e,t){for(var r=0;r<this.regexBrackets.length;++r){var i=this.regexBrackets[r],o=e.getLineContent();this.caseInsensitive&&(o=o.toLowerCase());var s=o.substr(0,t),a=s.match(i.open);if(a){if(i.closeComplete){s=o.substring(t);var l=a[0].replace(i.open,i.closeComplete);if(0===s.indexOf(l))return{indentAction:n.IndentAction.IndentOutdent}}return{indentAction:n.IndentAction.Indent}}}return null},e.prototype._onEnterDocComment=function(e,t){if(!this.docComment)return null;var r=e.findIndexOfOffset(t);if(!this.containsTokenTypes(e.getTokenType(r),this.docComment.scope))return null;var i=e.getLineContent(),o=i.indexOf(this.docComment.open),s=-1;return this.docComment.close&&(s=i.indexOf(this.docComment.close)),-1===o&&-1===s?{indentAction:n.IndentAction.None,appendText:this.docComment.lineStart.replace(/^\s*/,"")}:-1!==o&&t>=o+3?-1!==s&&s>=t?{indentAction:n.IndentAction.IndentOutdent,appendText:this.docComment.lineStart}:{indentAction:n.IndentAction.None,appendText:this.docComment.lineStart}:null},e.prototype._onElectricCharacterStandardBrackets=function(e,t){var n=e.findIndexOfOffset(t),i=e.getTokenText(n),o=e.getTokenType(n);if(!this.stringIsBracket(i))return null;if(n>=0&&e.getTokenEndIndex(n)-1>t)return null;var s=r.firstNonWhitespaceIndex(e.getLineContent());return-1!==s&&s<=t-i.length?null:{matchBracketType:o}},e.prototype._onElectricCharacterRegexBrackets=function(e,t){for(var n=e.getLineContent(),r=0;r<this.regexBrackets.length;++r){var i=this.regexBrackets[r];if(i.openTrigger&&i.closeComplete&&(n.charAt(t)===i.openTrigger||this.caseInsensitive&&n.charAt(t).toLowerCase()===i.openTrigger.toLowerCase())){var o=n.substr(0,t+1),s=o.match(i.open);if(s){var a=s[0].replace(i.open,i.closeComplete);return i.matchCase&&(a=this._changeLettercase(a,this._detectLetercase(s[0]))),{appendText:a}}}if(i.closeTrigger&&(n.charAt(t)===i.closeTrigger||this.caseInsensitive&&n.charAt(t).toLowerCase()===i.closeTrigger.toLowerCase())){var s=o.match(i.close);
if(s){var l=s[0];return this.caseInsensitive&&(l=l.toLowerCase()),{matchBracketType:l.replace(i.close,i.tokenType)}}}}return null},e.prototype._onElectricCharacterDocComment=function(e,t){if(!this.docComment||!this.docComment.close)return null;var n=e.getLineContent(),r=n[t];if(r!==this.docComment.open.charAt(this.docComment.open.length-1))return null;if(n.indexOf(this.docComment.close,t)>=0)return null;var i=e.findIndexOfOffset(t);return this.containsTokenTypes(e.getTokenType(i),this.docComment.scope)?n.substring(e.getTokenStartIndex(i),t+1)!==this.docComment.open?null:{appendText:this.docComment.close}:null},e.prototype._detectLetercase=function(e){return e.toLowerCase()===e?i.Lowercase:e.toUpperCase()===e?i.Uppercase:e.length>1&&e.charAt(0).toUpperCase()===e.charAt(0)&&e.charAt(1).toLowerCase()===e.charAt(1)?i.Camelcase:i.Unknown},e.prototype._changeLettercase=function(e,t){switch(t){case i.Lowercase:return e.toLowerCase();case i.Uppercase:return e.toUpperCase();case i.Camelcase:for(var n=e.toLowerCase().split(" "),r=0;r<n.length;++r)n[r]=n[r].charAt(0).toUpperCase()+n[r].substr(1);return n.join(" ");default:return e}},e}();t.Brackets=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/modes/supports",["require","exports","vs/base/types","vs/base/strings","vs/base/arrays","vs/base/lib/winjs.base","vs/editor/modes/stream","vs/editor/modes/modes","vs/editor/modes/nullMode","vs/editor/modes/autoIndentation/autoIndentation","vs/editor/modes/modesFilters"],function(e,t,n,r,i,o,s,a,l,c,u){function d(e,t,n){var r=e.modeTransitions;if(1===r.length)return n(r[0].mode,e,t);var o=i.findIndexInSegmentsArray(r,t),s=r[o].mode,a=r[o].startIndex,l=e.findIndexOfOffset(a),c=-1,u=-1;o+1<r.length?(u=e.findIndexOfOffset(r[o+1].startIndex),c=e.getTokenStartIndex(u)):(u=e.getTokenCount(),c=e.getLineContent().length);var d=e.getTokenStartIndex(l),p=new m(e,s,l,u,d,c);return n(s,p,t-d)}function p(e,t,n,i){if(void 0===i&&(i=!1),!Array.isArray(n)||0===n.length)return!1;if(e.getLineContent().length<=t)return!1;for(var o=e.findIndexOfOffset(t),s=e.getTokenType(o),a=0,l=n.length;l>a;a++)if(i){if(s.indexOf(n[a])>=0)return!0}else if(r.endsWith(s,n[a]))return!0;return!1}var h=function(){function e(e,t,n){this.startIndex=e,this.type=t,this.bracket=n}return e}();t.Token=h,t.handleEvent=d,t.isLineToken=p;var m=function(){function e(e,t,n,r,i,o){this.modeTransitions=[{startIndex:0,mode:t}],this._actual=e,this._firstTokenInModeIndex=n,this._nextTokenAfterMode=r,this._firstTokenCharacterOffset=i,this._nextCharacterAfterModeIndex=o}return e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this._firstTokenCharacterOffset,this._nextCharacterAfterModeIndex)},e.prototype.getTokenCount=function(){return this._nextTokenAfterMode-this._firstTokenInModeIndex},e.prototype.findIndexOfOffset=function(e){return this._actual.findIndexOfOffset(e+this._firstTokenCharacterOffset)-this._firstTokenInModeIndex},e.prototype.getTokenStartIndex=function(e){return this._actual.getTokenStartIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenEndIndex=function(e){return this._actual.getTokenEndIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenType=function(e){return this._actual.getTokenType(e+this._firstTokenInModeIndex)},e.prototype.getTokenBracket=function(e){return this._actual.getTokenBracket(e+this._firstTokenInModeIndex)},e.prototype.getTokenText=function(e){return this._actual.getTokenText(e+this._firstTokenInModeIndex)},e}();t.FilteredLineContext=m;var f=function(){function e(e){this._mode=e}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),e}();t.AbstractSupport=f;var v=function(e){function t(t,r,i){e.call(this,t);var o=t,s=!1;void 0!==r&&(void 0!==i?(o=r,s=i):"boolean"==typeof r&&(s=r)),this.customization=o,this.supportsNestedModes=s,this.shouldGenerateEmbeddedModels=s,this.defaults={enterNestedMode:!n.isFunction(o.enterNestedMode),getNestedMode:!n.isFunction(o.getNestedMode),getNestedModeInitialState:!n.isFunction(o.getNestedModeInitialState),getLeavingNestedModeData:!n.isFunction(o.getLeavingNestedModeData),onReturningFromNestedMode:!n.isFunction(o.onReturningFromNestedMode)}}return __extends(t,e),t.prototype.getInitialState=function(){return this.customization.getInitialState()},t.prototype.tokenize=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=n+e.length),t.getMode()!==this.mode?this._nestedTokenize(e,t,n,r,[],[]):this._myTokenize(e,t,n,r,[],[])},t.prototype._nestedTokenize=function(e,t,n,r,i,o){for(var s=t.getStateData(),a=this.getLeavingNestedModeData(e,s),c=t;c.getStateData()&&c.getStateData().getMode()!==this.mode;)c=c.getStateData();var u=c.getMode();if(!a){var d;return d=u.tokenizationSupport?u.tokenizationSupport.tokenize(e,t,n,r):l.nullTokenize(u,e,t,n),d.tokens=i.concat(d.tokens),d.modeTransitions=o.concat(d.modeTransitions),d}var p=a.nestedModeBuffer;if(p.length>0){var h;h=u.tokenizationSupport?u.tokenizationSupport.tokenize(p,t,n,r):l.nullTokenize(u,p,t,n),t=h.endState,i=i.concat(h.tokens),o=o.concat(h.modeTransitions)}var m=a.bufferAfterNestedMode,f=a.stateAfterNestedMode;return f.setStateData(s.getStateData()),this.onReturningFromNestedMode(f,t),this._myTokenize(m,f,n+p.length,r,i,o)},t.prototype._myTokenize=function(e,n,r,i,o,l){var c,u,d=new s.LineStream(e),p=null,m=null;n=n.clone(),(l.length<=0||l[l.length-1].mode!==this.mode)&&l.push({startIndex:r,mode:this.mode});for(var f=Math.min(i-r,e.length),v=a.Bracket.None;d.pos()<f;){u=d.pos();do{if(c=n.tokenize(d),null===c||void 0===c||(void 0===c.type||null===c.type)&&(void 0===c.nextState||null===c.nextState))throw new Error("Tokenizer must return a valid state");if(c.nextState&&(c.nextState.setStateData(n.getStateData()),n=c.nextState),d.pos()<=u)throw new Error("Stream did not advance while tokenizing. Mode id is "+this.mode.getId()+' (stuck at token type: "'+c.type+'", prepend tokens: "'+o.map(function(e){return e.type}).join(",")+'").')}while(!c.type&&""!==c.type);if((p!==c.type||c.bracket||null===p)&&o.push(new h(u+r,c.type,c.bracket||v)),p=c.type,this.supportsNestedModes&&this.enterNestedMode(n)){var g=this._getEmbeddedLevel(n);if(g<t.MAX_EMBEDDED_LEVELS){var b=this.getNestedModeInitialState(n);if(!d.eos()){var y=e.substr(d.pos()),_=this._nestedTokenize(y,b.state,r+d.pos(),i,o,l);return _.retokenize=_.retokenize||b.missingModePromise,_}n=b.state,m=b.missingModePromise}}}return{tokens:o,actualStopOffset:d.pos()+r,modeTransitions:l,endState:n,retokenize:m}},t.prototype._getEmbeddedLevel=function(e){for(var t=-1;e;)t++,e=e.getStateData();return t},t.prototype.enterNestedMode=function(e){return this.defaults.enterNestedMode?!1:this.customization.enterNestedMode(e)},t.prototype.getNestedMode=function(e){return this.defaults.getNestedMode?null:this.customization.getNestedMode(e)},t._validatedNestedMode=function(e){var t=new l.NullMode,n=null;return e&&e.mode&&(t=e.mode),e&&e.missingModePromise&&(n=e.missingModePromise),{mode:t,missingModePromise:n}},t.prototype.getNestedModeInitialState=function(e){if(this.defaults.getNestedModeInitialState){var n,r=t._validatedNestedMode(this.getNestedMode(e)),i=r.missingModePromise;return n=r.mode.tokenizationSupport?r.mode.tokenizationSupport.getInitialState():new l.NullState(r.mode,null),n.setStateData(e),{state:n,missingModePromise:i}}return this.customization.getNestedModeInitialState(e)},t.prototype.getLeavingNestedModeData=function(e,t){return this.defaults.getLeavingNestedModeData?null:this.customization.getLeavingNestedModeData(e,t)},t.prototype.onReturningFromNestedMode=function(e,t){return this.defaults.onReturningFromNestedMode?null:this.customization.onReturningFromNestedMode(e,t)},t.MAX_EMBEDDED_LEVELS=5,t}(f);t.TokenizationSupport=v;var g=function(e){function t(t,r){void 0===r&&(r=t),e.call(this,t),this.defaults={getElectricCharacters:!n.isFunction(r.getElectricCharacters),onElectricCharacter:!n.isFunction(r.onElectricCharacter),onEnter:!n.isFunction(r.onEnter)},this.customization=r}return __extends(t,e),t.prototype.getElectricCharacters=function(){return this.defaults.getElectricCharacters?[]:this.customization.getElectricCharacters()},t.prototype.onElectricCharacter=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?n.defaults.onElectricCharacter?null:n.customization.onElectricCharacter(t,r):e.electricCharacterSupport?e.electricCharacterSupport.onElectricCharacter(t,r):null})},t.prototype.onEnter=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?n.defaults.onEnter?null:n.customization.onEnter(t,r):e.electricCharacterSupport?e.electricCharacterSupport.onEnter(t,r):null})},t}(f);t.ElectricCharacterSupport=g;var b=function(e){function t(t,n){e.call(this,t),this.contribution=n,this.brackets=new c.Brackets(n.brackets,n.regexBrackets,n.docComment,n.caseInsensitive,n.textAfterBrackets)}return __extends(t,e),t.prototype.getElectricCharacters=function(){return Array.isArray(this.contribution.embeddedElectricCharacters)?this.contribution.embeddedElectricCharacters.concat(this.brackets.getElectricCharacters()):this.brackets.getElectricCharacters()},t.prototype.onElectricCharacter=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?n.brackets.onElectricCharacter(t,r):e.electricCharacterSupport?e.electricCharacterSupport.onElectricCharacter(t,r):null})},t.prototype.onEnter=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?n.brackets.onEnter(t,r):e.electricCharacterSupport?e.electricCharacterSupport.onEnter(t,r):null})},t}(f);t.BracketElectricCharacterSupport=b;var y=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindDeclaration=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||p(t,r,n.contribution.tokens):e.declarationSupport?e.declarationSupport.canFindDeclaration(t,r):!1})},t.prototype.findDeclaration=function(e,t){return this.contribution.findDeclaration(e,t)},t}(f);t.DeclarationSupport=y;var _=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindTypeDeclaration=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||p(t,r,n.contribution.tokens):e.typeDeclarationSupport?e.typeDeclarationSupport.canFindTypeDeclaration(t,r):!1})},t.prototype.findTypeDeclaration=function(e,t){return this.contribution.findTypeDeclaration(e,t)},t}(f);t.TypeDeclarationSupport=_;var w=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindReferences=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||p(t,r,n.contribution.tokens):e.referenceSupport?e.referenceSupport.canFindReferences(t,r):!1})},t.prototype.findReferences=function(e,t,n){return this.contribution.findReferences(e,t,n)},t}(f);t.ReferenceSupport=w;var E=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.getParameterHintsTriggerCharacters=function(){return this.contribution.triggerCharacters},t.prototype.shouldTriggerParameterHints=function(e,t){var n=this;return d(e,t,function(e,t,r){return n.mode===e?Array.isArray(n.contribution.excludeTokens)?1===n.contribution.excludeTokens.length&&"*"===n.contribution.excludeTokens[0]?!1:!p(t,r-1,n.contribution.excludeTokens):!0:e.parameterHintsSupport?e.parameterHintsSupport.shouldTriggerParameterHints(t,r):!1})},t.prototype.getParameterHints=function(e,t){return this.contribution.getParameterHints(e,t)},t}(f);t.ParameterHintsSupport=E;var S=function(e){function t(t,n){if(e.call(this,t),this.contribution=n,this.suggest=function(e,t){return n.suggest(e,t)},"function"==typeof n.getSuggestionDetails&&(this.getSuggestionDetails=function(e,t,r){return n.getSuggestionDetails(e,t,r)}),this.sortByType=[],this.separatorForType=[],Array.isArray(n.sortBy)&&n.sortBy.length>0)for(var r=0;r<n.sortBy.length;++r)this.sortByType.push(n.sortBy[r].type),this.separatorForType.push(n.sortBy[r].partSeparator)}return __extends(t,e),t.prototype.shouldAutotriggerSuggest=function(e,t,n){var r=this;return d(e,t,function(e,t,i){return r.mode===e?Array.isArray(r.contribution.excludeTokens)?1===r.contribution.excludeTokens.length&&"*"===r.contribution.excludeTokens[0]?!1:!p(t,i-1,r.contribution.excludeTokens,!0):!0:e.suggestSupport?e.suggestSupport.shouldAutotriggerSuggest(t,i,n):!1})},t.prototype.getFilter=function(){return u.DefaultFilter},t.prototype.getSorter=function(){var e=this;return function(t,n){if(e.sortByType.length>0){var i=e.sortByType.indexOf(t.type),o=e.sortByType.indexOf(n.type);if(0>i&&(i=e.sortByType.length),0>o&&(o=e.sortByType.length),o>i)return-1;if(i>o)return 1;if(i<e.sortByType.length){var s=e.separatorForType[i],a="string"==typeof s&&s.length>0?t.label.split(s):[t.label],l="string"==typeof s&&s.length>0?n.label.split(s):[n.label];if(a.length<l.length)return-1;if(a.length>l.length)return 1;for(var c=0;c<a.length;c++){var u=r.localeCompare(a[c],l[c]);if(0!==u)return u}return 0}}return r.localeCompare(t.label.toLowerCase(),n.label.toLowerCase())}},t.prototype.getTriggerCharacters=function(){return this.contribution.triggerCharacters},t.prototype.shouldShowEmptySuggestionList=function(){return!0},t}(f);t.SuggestSupport=S;var T=function(e){function t(t,n){e.call(this,t),this._autoClosingPairs=n.autoClosingPairs,this._surroundingPairs=Array.isArray(n.surroundingPairs)?n.surroundingPairs:n.autoClosingPairs}return __extends(t,e),t.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},t.prototype.shouldAutoClosePair=function(e,t,n){var r=this;return d(t,n,function(t,n,i){if(r.mode===t){if(0===n.getTokenCount())return!0;for(var o=n.findIndexOfOffset(i-1),s=n.getTokenType(o),a=0;a<r._autoClosingPairs.length;++a)if(r._autoClosingPairs[a].open===e){if(r._autoClosingPairs[a].notIn)for(var l=0;l<r._autoClosingPairs[a].notIn.length;++l)if(s.indexOf(r._autoClosingPairs[a].notIn[l])>-1)return!1;break}return!0}return t.characterPairSupport?t.characterPairSupport.shouldAutoClosePair(e,n,i):null})},t.prototype.getSurroundingPairs=function(){return this._surroundingPairs},t}(f);t.CharacterPairSupport=T;var k=function(){function e(){}return e.prototype.valueSetsReplace=function(e,t,n){for(var r=null;e.length>0&&null===r;)r=this.valueSetReplace(e.pop(),t,n);return r},e.prototype.valueSetReplace=function(e,t,n){var r=e.indexOf(t);return r>=0?(r+=n?1:-1,0>r?r=e.length-1:r%=e.length,e[r]):null},e}();t.ReplaceSupport=new k;var C=function(){function e(e,t){void 0===t&&(t=null),this.resourceService=e,this.defaults={textReplace:!t||!n.isFunction(t.textReplace),navigateValueSetFallback:!t||!n.isFunction(t.navigateValueSetFallback)},this.customization=t}return e.prototype.navigateValueSet=function(e,t,n){var r=this.doNavigateValueSet(e,t,n,!0);return r&&r.value&&r.range?o.TPromise.as(r):this.defaults.navigateValueSetFallback?o.TPromise.as(null):this.customization.navigateValueSetFallback(e,t,n)},e.prototype.doNavigateValueSet=function(e,t,n,r){var i,o=this.resourceService.get(e),s={range:null,value:null};if(r)t.startColumn===t.endColumn&&(t.endColumn+=1),i=o.getValueInRange(t),s.range=t;else{var a={lineNumber:t.startLineNumber,column:t.startColumn},l=o.getWordAtPosition(a,!0,!0);if(!l||-1===l.startColumn)return null;i=l.word,s.range={startLineNumber:t.startLineNumber,endLineNumber:t.endLineNumber,startColumn:l.startColumn,endColumn:l.endColumn}}var c=this.numberReplace(i,n);if(null!==c)s.value=c;else{var u=this.textReplace(i,n);if(null!==u)s.value=u;else if(r)return this.doNavigateValueSet(e,t,n,!1)}return s},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),i=parseFloat(e);return isNaN(r)||isNaN(i)||r!==i?null:0!==r||t?(r=Math.floor(r*n),r+=t?n:-n,String(r/n)):null},e.prototype.textReplace=function(e,t){return this.defaults.textReplace?null:this.customization.textReplace(e,t)},e}();t.InplaceReplaceSupport=C;var x=function(){function e(e){this._contribution=e}return e.prototype.getCommentsConfiguration=function(){return this._contribution.commentsConfiguration},e}();t.CommentsSupport=x;var A=function(){function e(e){this._contribution=e}return e.prototype.getNonWordTokenTypes=function(){return"undefined"==typeof this._contribution.nonWordTokenTypes?[]:this._contribution.nonWordTokenTypes},e.prototype.getWordDefinition=function(){return"undefined"==typeof this._contribution.wordDefinition?l.NullMode.DEFAULT_WORD_REGEXP:this._contribution.wordDefinition},e}();t.TokenTypeClassificationSupport=A}),define("vs/platform/plugins",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/base/env"],function(e,t,n,r,i){function o(e){w.INSTANCE.registerPlugins(e)}function s(e){w.INSTANCE.registerPlugin(e)}function a(){return w.INSTANCE.getAllPluginDescriptions()}function l(e,t){w.INSTANCE.registerPointListener(e,t)}function c(e){return w.INSTANCE.activateByEvent(e)}function u(e){return w.INSTANCE.activateAndGet(e)}function d(e){void 0===e&&(e=[]),w.INSTANCE.registrationDone(e)}function p(e){return w.INSTANCE.get(e)}function h(){return w.INSTANCE.onReady()}function m(e){w.INSTANCE=e.accept(w.INSTANCE)}function f(e){w.INSTANCE.setInstantiationService(e)}function v(e){if(!Array.isArray(e))return!1;for(var t=0,n=e.length;n>t;t++)if("string"!=typeof e[t])return!1;return!0}var g=Object.hasOwnProperty,b=this.MonacoPlugins||{},y=this;t.registerPlugins=o,t.registerPlugin=s,t.getAllPluginDescriptions=a,t.registerPointListener=l,t.activateByEvent=c,t.activateAndGet=u,t.registrationDone=d,t.get=p,t.onReady=h,t.replacePluginManager=m,t.setInstantiationService=f;var _=function(){function e(e,t){t(e)}return e}(),w=function(){function t(e){var t=this;e?(this._onReady=n.TPromise.as(!0),this._onReadyC=function(){}):this._onReady=new n.TPromise(function(e){t._onReadyC=e},function(){console.warn("Should really not cancel this ready promise!")}),this._MonacoPlugins=b,this.activatingPlugins={},this.activatedPlugins={},this._pointListeners={},this._instantiationService=null;for(var r in this._MonacoPlugins)if(g.call(this._MonacoPlugins,r)){var i=this._isInvalidPluginDescription(this._MonacoPlugins[r]);if(i)throw new Error("Detected invalid plugin description: "+i)}}return t.prototype.setInstantiationService=function(e){this._instantiationService||(this._instantiationService=e)},t.prototype.registrationDone=function(e){e.forEach(function(e){return r.onUnexpectedError(e)}),this._onReadyC(!0)},t.prototype.onReady=function(){return this._onReady},t.prototype.get=function(e){if(!g.call(this.activatedPlugins,e))throw new Error("Plugin `"+e+"` is not known or not activated");return this.activatedPlugins[e]},t.prototype.accept=function(e){if(this._MonacoPlugins=e._MonacoPlugins,Object.keys(e.activatingPlugins).length>0)throw new Error("Unexpected plugin activation occured");if(Object.keys(e.activatedPlugins).length>0)throw new Error("Unexpected plugin activation occured");return this._pointListeners=e._pointListeners,this._instantiationService=e._instantiationService,this},t.prototype.registerPointListener=function(e,t){this._pointListeners[e]=this._pointListeners[e]||[],this._pointListeners[e].push(t),this._triggerPointListeners(e,this._getAllPluginDescriptionsByPoint(e))},t.prototype._triggerPointListeners=function(e,t){if(t&&0!==t.length&&g.call(this._pointListeners,e))for(var n=this._pointListeners[e].slice(0),r=0;r<n.length;r++)n[r](t)},t.prototype.registerPlugins=function(e){for(var t=0,n=e.length;n>t;t++)this.registerPlugin(e[t])},t.prototype.registerPlugin=function(e){if(i.enableTypeScriptServiceMode||"vs.language.typescript"!==e.pluginId&&!/^typescript\.textMate.*$/.test(e.pluginId)){var t=this._isInvalidPluginDescription(e);if(t)throw new Error("Invalid plugin description: "+t);if(g.call(this._MonacoPlugins,e.pluginId)&&console.warn("Plugin `"+e.pluginId+"` is already registered"),e.contributes)for(var n in e.contributes)g.call(e.contributes,n)&&this._triggerPointListeners(n,[e]);this._MonacoPlugins[e.pluginId]=e}},t.prototype._getAllPluginDescriptionsByPoint=function(e){var t=[];for(var n in this._MonacoPlugins)if(g.call(this._MonacoPlugins,n)){var r=this._MonacoPlugins[n];r.contributes&&g.call(r.contributes,e)&&t.push(r)}return t},t.prototype.getAllPluginDescriptions=function(){var e=[];for(var t in this._MonacoPlugins)g.call(this._MonacoPlugins,t)&&e.push(this._MonacoPlugins[t]);return e},t.prototype.activateByEvent=function(e){var t=this;return this._onReady.then(function(){var n=t.getAllPluginDescriptions(),r=n.filter(function(n){return g.call(t.activatedPlugins,n.pluginId)?!1:n.activationEvents?n.activationEvents.indexOf(e)>=0:!1});return t._activatePlugins(r)})},t.prototype.activateAndGet=function(e){var t=this;return this._onReady.then(function(){if(!g.call(t._MonacoPlugins,e))throw new Error("Plugin `"+e+"` is not known");return t._activatePlugins([t._MonacoPlugins[e]]).then(function(){return t.get(e)})})},t.prototype._activatePlugins=function(e){for(var t=this,r=Object.create(null),i=Object.create(null),o=0,s=e.length;s>o;o++){var a=e[o],l=!0;if("undefined"!=typeof a.dependencies)for(var c=0,u=a.dependencies.length;u>c;c++){var d=a.dependencies[c];if(!g.call(this._MonacoPlugins,d)){console.error("Unknown dependency `"+d+"` for plugin `"+a.pluginId+"`. Skipping plugin activation."),l=!1;break}r[d]=this._MonacoPlugins[d],i[a.pluginId]=a}l&&(i[a.pluginId]=a)}var p=Object.keys(r).map(function(e){return r[e]}),h=Object.keys(i).map(function(e){return i[e]}),m=function(){return n.TPromise.join(h.map(function(e){return t._activatePlugin(e)}))};return p.length?this._activatePlugins(p).then(m):m()},t.prototype._activatePlugin=function(e){var t=this;return g.call(this.activatedPlugins,e.pluginId)?n.TPromise.as(this.activatedPlugins):g.call(this.activatingPlugins,e.pluginId)?this.activatingPlugins[e.pluginId]:(this.activatingPlugins[e.pluginId]=this._actualActivatePlugin(e).then(function(n){return t.activatedPlugins[e.pluginId]=n,delete t.activatingPlugins[e.pluginId],n},function(t){return console.error("Activating plugin `"+e.pluginId+"` failed: ",t),console.log("Here is the error stack: ",t.stack),{}}).then(function(n){return t.activatedPlugins[e.pluginId]=n,delete t.activatingPlugins[e.pluginId],n}),this.activatingPlugins[e.pluginId])},t._callActivate=function(e,r,i){if(void 0===i&&(i=[]),"function"==typeof e.activate){if(!r)return console.warn("Instantiating a plugin without having the instantiation service"),t.callActivateWithCtx(e,{},i);var o;return r.createInstance(_,function(n){o=t.callActivateWithCtx(e,n,i)}),o}return n.TPromise.as(e)},t.callActivateWithCtx=function(e,t,r){void 0===r&&(r=[]);var i=[t].concat(r);try{return n.TPromise.as(e.activate.apply(y,i))}catch(o){return n.TPromise.wrapError(o)}},t._loadAMDModule=function(t){return new n.TPromise(function(n,r){e([t],function(e){n(e)},r)})},t.prototype._actualActivatePlugin=function(e){var n=this;return t._loadAMDModule(e.mainModule).then(function(r){return r=r||{},t._callActivate(r,n._instantiationService,e.mainModuleExtra)})},t.prototype._isInvalidPluginDescription=function(e){return"string"!=typeof e.pluginId?"Could not find property `pluginId`":"undefined"==typeof e.dependencies||v(e.dependencies)?"undefined"==typeof e.activationEvents||v(e.activationEvents)?"undefined"!=typeof e.mainModule&&"string"!=typeof e.mainModule?"Property `mainModule` is not a string":"undefined"==typeof e.mainModuleExtra||Array.isArray(e.mainModuleExtra)?void 0:"Property `mainModuleExtra` is not an array":"Property `activationEvents` is not a string array":"Property `dependencies` is not a string array"},t.INSTANCE=new t(!0),t}();t.PluginManager=w}),define("vs/base/eventEmitter",["require","exports","vs/base/errors"],function(e,t,n){var r=function(){function e(e,t,n){void 0===n&&(n=null),this._type=e,this._data=t,this._emitterType=n}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e.prototype.getEmitterType=function(){return this._emitterType},e}();t.EmitterEvent=r;var i=function(){function e(e){if(void 0===e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return function(){n&&(n._removeListener(e,t),n=null,t=null)}},e.prototype.addListener2=function(e,t){var n=this.addListener(e,t);return{dispose:n}},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeListener=function(e,t){var n=this.addListener(e,function(e){n(),t(e)});return n},e.prototype.addOneTimeDisposableListener=function(e,t){var n=this.addOneTimeListener(e,t);return{dispose:n}},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),function(){t._removeBulkListener(e)}},e.prototype.addBulkListener2=function(e){var t=this.addBulkListener(e);return{dispose:t}},e.prototype.addEmitter=function(e,t){var n=this;return void 0===t&&(t=null),e.addBulkListener(function(e){var i=e;if(t){i=[];for(var o=0,s=e.length;s>o;o++)i.push(new r(e[o].getType(),e[o].getData(),t))}0===n._deferredCnt?n._emitEvents(i):n._collectedEvents.push.apply(n._collectedEvents,i)})},e.prototype.addEmitter2=function(e,t){var n=this.addEmitter(e,t);return{dispose:n}},e.prototype.addEmitterTypeListener=function(e,t,n){if(t){if("*"===e)throw new Error("Bulk listeners cannot specify an emitter type");return this.addListener(e+"/"+t,n)}return this.addListener(e,n)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],r=0,i=n.length;i>r;r++)if(n[r]===t){n.splice(r,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;n>t;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var r=this._listeners[e].slice(0),i=0,o=r.length;o>i;i++)try{r[i](t)}catch(s){n.onUnexpectedError(s)}},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),r=0,i=t.length;i>r;r++)try{t[r](e)}catch(o){n.onUnexpectedError(o)}},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this._emitToSpecificTypeListeners(r.getType(),r.getData()),r.getEmitterType()&&this._emitToSpecificTypeListeners(r.getType()+"/"+r.getEmitterType(),r.getData())}},e.prototype.emit=function(e,t){if(void 0===t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't white-listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new r(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype.deferredEmit=function(e){this._deferredCnt=this._deferredCnt+1;var t=null;try{t=e()}catch(r){n.onUnexpectedError(r)}return this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e}();t.EventEmitter=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/modes/modesExtensions",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/platform/platform","./modesFilters","vs/editor/modes/nullMode","vs/platform/services","vs/platform/thread/nullThreadService","vs/platform/thread/attribute","./supports","vs/platform/plugins","vs/base/errors","vs/base/objects","vs/base/env","vs/base/mime","vs/base/eventEmitter"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){function g(e){return J[e]||ct.INSTANCE.getModeIdForLanguageNameLowercase(e)}function b(e,t){return null===e&&null===t?!0:null===e||null===t?!1:e.equals(t)}function y(e){return e?e.clone():null}function _(e){nt.push(e)}function w(e,n,r,o){var s=i.Registry.as(t.Extensions.EditorModes);s.registerMode(e,n,r,o)}function E(e,n,r,o){var s=i.Registry.as(t.Extensions.EditorModes);s.registerMode(e,n,r,o)}function S(e,t,n,r,i){w(e,t,n,new a.AsyncDescriptor(r,i))}function T(e,n){var r=i.Registry.as(t.Extensions.EditorModes);r.configureModeById(e,n)}function k(e){var n=i.Registry.as(t.Extensions.EditorModes);return n.getOrCreateMode(e)}function C(e){var n=i.Registry.as(t.Extensions.EditorModes);return n.getMode(e)}function x(e,n,r){var o=i.Registry.as(t.Extensions.EditorModes);o.registerWorkerParticipant(e,new a.AsyncDescriptor(n,r))}function A(e,t,n){var r=ot.getThreadService()||l.NULL_THREAD_SERVICE;return r.isInMainThread&&st.instantiateModeInWorkers(n),r.createInstance(t,{id:n}).then(function(e){return e.configSupport&&e.configSupport.configure(at.getConfigurationForMode(n)),e})}function L(e,t){ot.registerModeSupport(e,"characterPairSupport",function(e){return new u.CharacterPairSupport(e,t)})}function N(e,t){ot.registerModeSupport(e,"codeLensSupport",function(){return t})}function I(e,t){ot.registerModeSupport(e,"commentsSupport",function(){return new u.CommentsSupport(t)})}function O(e,t){ot.registerModeSupport(e,"declarationSupport",function(e){return new u.DeclarationSupport(e,t)})}function R(e,t){ot.registerModeSupport(e,"electricCharacterSupport",function(e){return new u.BracketElectricCharacterSupport(e,t)})}function P(e,t){ot.registerModeSupport(e,"extraInfoSupport",function(){return t})}function D(e,t){ot.registerModeSupport(e,"formattingSupport",function(){return t})}function M(e,t){ot.registerModeSupport(e,"inplaceReplaceSupport",function(){return t})}function F(e,t){ot.registerModeSupport(e,"navigateTypesSupport",function(){return t})}function V(e,t){ot.registerModeSupport(e,"occurrencesSupport",function(){return t})}function B(e,t){ot.registerModeSupport(e,"outlineSupport",function(){return t})}function H(e,t){ot.registerModeSupport(e,"parameterHintsSupport",function(e){return new u.ParameterHintsSupport(e,t)})}function W(e,t){ot.registerModeSupport(e,"quickFixSupport",function(){return t})}function U(e,t){ot.registerModeSupport(e,"referenceSupport",function(e){return new u.ReferenceSupport(e,t)})}function $(e,t){ot.registerModeSupport(e,"renameSupport",function(){return t})}function j(e,t){ot.registerModeSupport(e,"suggestSupport",function(e){return new u.SuggestSupport(e,t)})}function G(e,t){ot.registerModeSupport(e,"tokenizationSupport",t)}function z(e,t){ot.registerModeSupport(e,"tokenTypeClassificationSupport",function(){return new u.TokenTypeClassificationSupport(t)})}function q(e,t){ut[e]=(ut[e]||[]).concat(t)}function K(e,t){var n=e.getWordAtPosition(t,!1),r=n?n.word.substring(0,t.column-n.startColumn):"";return{currentWord:r,suggestions:ut[e.getMode().getId()]||[]}}t.createWordRegExp=s.createWordRegExp;var Y=Object.prototype.hasOwnProperty;t.isDigit=function(){var e="0".charCodeAt(0),t="1".charCodeAt(0),n="2".charCodeAt(0),r="3".charCodeAt(0),i="4".charCodeAt(0),o="5".charCodeAt(0),s="6".charCodeAt(0),a="7".charCodeAt(0),l="8".charCodeAt(0),c="9".charCodeAt(0),u="a".charCodeAt(0),d="b".charCodeAt(0),p="c".charCodeAt(0),h="d".charCodeAt(0),m="e".charCodeAt(0),f="f".charCodeAt(0),v="A".charCodeAt(0),g="B".charCodeAt(0),b="C".charCodeAt(0),y="D".charCodeAt(0),_="E".charCodeAt(0),w="F".charCodeAt(0);
return function(E,S){var T=E.charCodeAt(0);switch(S){case 1:return T===e;case 2:return T>=e&&t>=T;case 3:return T>=e&&n>=T;case 4:return T>=e&&r>=T;case 5:return T>=e&&i>=T;case 6:return T>=e&&o>=T;case 7:return T>=e&&s>=T;case 8:return T>=e&&a>=T;case 9:return T>=e&&l>=T;case 10:return T>=e&&c>=T;case 11:return T>=e&&c>=T||T===u||T===v;case 12:return T>=e&&c>=T||T>=u&&d>=T||T>=v&&g>=T;case 13:return T>=e&&c>=T||T>=u&&p>=T||T>=v&&b>=T;case 14:return T>=e&&c>=T||T>=u&&h>=T||T>=v&&y>=T;case 15:return T>=e&&c>=T||T>=u&&m>=T||T>=v&&_>=T;default:return T>=e&&c>=T||T>=u&&f>=T||T>=v&&w>=T}}}();var X=function(){function t(e,t,n){void 0===n&&(n=null),this._resourceService=e.resourceService,this._instantiationService=e.instantiationService,this._threadService=e.threadService,this._modelService=e.modelService,this._descriptor=t,this._workerDescriptor=n||a.AsyncDescriptor.create("vs/languages/nullWorker","NullWorker"),this._options=null,this.autoValidateDelay=500,this.modelSyncSupport=this,this.occurrencesSupport=this,this.suggestSupport=this,this.inplaceReplaceSupport=this,this.diffSupport=this,this.dirtyDiffSupport=this,this.linkSupport=this,this.configSupport=this,this.commentsSupport=this,this.tokenTypeClassificationSupport=this,this._workerPiecePromise=null}return t.prototype.getId=function(){return this._descriptor.id},t.prototype.creationDone=function(){this._threadService.isInMainThread&&this._pickAWorkerToValidate()},t.prototype._getOrCreateWorker=function(){var e=this;return this._workerPiecePromise||(this._workerPiecePromise=t._loadModule(this._workerDescriptor.moduleName).then(function(){var t=ot.getWorkerParticipants(e._descriptor.id);return n.TPromise.join(t.map(function(t){return e._instantiationService.createInstance(t)}))}).then(function(t){return e._instantiationService.createInstance(e._workerDescriptor,e,t)})),this._workerPiecePromise},t._loadModule=function(t){return new n.TPromise(function(n,r){e([t],n,r)},function(){})},t.prototype._worker=function(e){return this._getOrCreateWorker().then(e)},t.prototype.bindModel=function(e){this._modelService&&this._modelService.addModel(e)},t.prototype.unbindModel=function(e){this._modelService&&this._modelService.removeModel(e)},t.prototype._pickAWorkerToValidate=function(){return this._worker(function(e){return e.enableValidator()})},t.prototype.getFilter=function(){return o.DefaultFilter},t.prototype.suggest=function(e,t){return this._worker(function(n){return n.suggest(e,t)})},t.prototype.getTriggerCharacters=function(){return[]},t.prototype.shouldAutotriggerSuggest=function(e,n,r){return u.handleEvent(e,n,function(e,n,i){return e.suggestSupport?e instanceof t?e.shouldAutotriggerSuggestImpl(n,i,r):e.suggestSupport.shouldAutotriggerSuggest(n,i,r):!1})},t.prototype.shouldAutotriggerSuggestImpl=function(){return!1},t.prototype.shouldShowEmptySuggestionList=function(){return!0},t.prototype.findOccurrences=function(e,t,n){return void 0===n&&(n=!1),this._worker(function(r){return r.findOccurrences(e,t,n)})},t.prototype.navigateValueSet=function(e,t,n){return this._worker(function(r){return r.inplaceReplaceSupport.navigateValueSet(e,t,n)})},t.prototype.computeDiff=function(e,t,n){return this._worker(function(r){return r.computeDiff(e,t,n)})},t.prototype.computeDirtyDiff=function(e,t){return this._worker(function(n){return n.computeDirtyDiff(e,t)})},t.prototype.computeLinks=function(e){return this._worker(function(t){return t.computeLinks(e)})},t.prototype.configure=function(e){return this._options=e,this._threadService.isInMainThread?this._configureWorkers(e):this._worker(function(t){return t.configure(e)})},t.prototype._configureWorkers=function(e){return this._worker(function(t){return t.configure(e)})},t.prototype.getNonWordTokenTypes=function(){return[]},t.prototype.getWordDefinition=function(){return s.NullMode.DEFAULT_WORD_REGEXP},t.prototype.getCommentsConfiguration=function(){return null},t.prototype._getMirrorModelAtPosition=function(e,t){var n=this._resourceService.get(e);return n.getEmbeddedAtPosition(t)},t.prototype._delegateToModeAtPosition=function(e,t,n){var r=this._resourceService.get(e);if(!r)return null;var i=r.getEmbeddedAtPosition(t);if(!i)return n(!1,r);var o=i.getMode();return n(o.getId()!==this.getId(),i)},t.prototype._delegateToAllModes=function(e,t){var n=this._resourceService.get(e);return n?t(n.getAllEmbedded()):null},t.$_pickAWorkerToValidate=c.OneWorker(t,t.prototype._pickAWorkerToValidate,a.ThreadAffinity.Group1),t.$suggest=c.OneWorker(t,t.prototype.suggest),t.$findOccurrences=c.OneWorker(t,t.prototype.findOccurrences),t.$navigateValueSet=c.OneWorker(t,t.prototype.navigateValueSet),t.$computeDiff=c.OneWorker(t,t.prototype.computeDiff),t.$computeDirtyDiff=c.OneWorker(t,t.prototype.computeDirtyDiff),t.$computeLinks=c.OneWorker(t,t.prototype.computeLinks),t.$_configureWorkers=c.AllWorkers(t,t.prototype._configureWorkers),t}();t.AbstractMode=X;var Q;!function(e){function t(e,t){return o(e,i(t))}function n(e,t,n){return a(e,i(t),n)}function i(e){return e&&e.tokenizationSupport?e.tokenizationSupport:{shouldGenerateEmbeddedModels:!1,getInitialState:function(){return new s.NullState(null,null)},tokenize:function(e,t,n,r){return void 0===n&&(n=0),s.nullTokenize(null,e,t,n,r)}}}function o(e,t){var n={tagName:"div",style:"white-space: pre",children:[]},r=function(e,t){n.children.push({tagName:"span",className:e,text:t})},i=function(){n.children.push({tagName:"br"})};return l(e,t,r,i),n}function a(e,t,n){void 0===n&&(n=""),n&&n.length>0&&(n=" "+n);var i="",o=function(e,t){i+='<span class="'+e+n+'">'+r.escape(t)+"</span>"},s=function(){i+="<br/>"};return i='<div style="white-space: pre;">',l(e,t,o,s),i+="</div>"}function l(e,t,n,r){for(var i=e.split(/\r\n|\r|\n/),o=t.getInitialState(),s=0;s<i.length;s++)o=c(i[s],t,n,o),s<i.length-1&&r()}function c(e,t,n,r){for(var i,o=t.tokenize(e,r),s=o.endState,a=o.tokens,l=0,c=0;c<a.length;c++){var u=a[c];c<a.length-1?(i=e.substring(l,a[c+1].startIndex),l=a[c+1].startIndex):i=e.substr(l);var d="token",p=u.type.replace(/[^a-z0-9\-]/gi," ");p.length>0&&(d+=" "+p),n(d,i)}return s}e.tokenizeToHtmlContent=t,e.tokenizeToString=n}(Q=t.TextToHtmlTokenizer||(t.TextToHtmlTokenizer={}));var J={css:"text/css",handlebars:"text/x-handlebars-template",htm:"text/html",html:"text/html",xhtml:"text/html",javascript:"text/javascript",js:"text/javascript",json:"application/json",less:"text/x-less",markdown:"text/x-web-markdown",php:"application/x-php",text:"text/plain",razor:"text/x-cshtml",sass:"text/x-scss",scss:"text/x-scss"};t.languageAliasToMime=g;var Z=function(){function e(){}return e.apply=function(e){if(e){var n=i.Registry.as(t.Extensions.EditorModes),r=n.getRegisteredModes();r.forEach(function(t){var r=e[t];n.configureModeById(t,r)})}},e}();t.ModesConfiguration=Z;var et=function(){function e(e,t){void 0===t&&(t=null),this.mode=e,this.stateData=t}return e.prototype.getMode=function(){return this.mode},e.prototype.clone=function(){var e=this.makeClone();return e.initializeFrom(this),e},e.prototype.makeClone=function(){throw new Error("Abstract Method")},e.prototype.initializeFrom=function(e){this.stateData=null!==e.stateData?e.stateData.clone():null},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e.prototype.equals=function(t){return null===t||this.mode!==t.getMode()?!1:t instanceof e?b(this.stateData,t.stateData):!1},e.prototype.tokenize=function(){throw new Error("Abstract Method")},e}();t.AbstractState=et,t.safeStateEquals=b,t.safeStateClone=y,t.Extensions={EditorModes:"editor.modes"};var tt=function(e){function t(t,n){e.call(this,t,{id:n}),this._eventEmitter=new v.EventEmitter}return __extends(t,e),t.prototype.registerSupport=function(e,t){var n=t(this);this[e]=n;var r={codeLensSupport:!1,modelSyncSupport:!1,tokenizationSupport:!1,occurrencesSupport:!1,declarationSupport:!1,typeDeclarationSupport:!1,navigateTypesSupport:!1,referenceSupport:!1,suggestSupport:!1,parameterHintsSupport:!1,extraInfoSupport:!1,outlineSupport:!1,logicalSelectionSupport:!1,formattingSupport:!1,inplaceReplaceSupport:!1,diffSupport:!1,dirtyDiffSupport:!1,emitOutputSupport:!1,linkSupport:!1,configSupport:!1,electricCharacterSupport:!1,commentsSupport:!1,characterPairSupport:!1,tokenTypeClassificationSupport:!1,quickFixSupport:!1};r[e]=!0,this._eventEmitter.emit("modeSupportChanged",r)},t.prototype.addSupportChangedListener=function(e){return this._eventEmitter.addListener2("modeSupportChanged",e)},t}(X),nt=[];t.registerThreadServiceListener=_;var rt=function(){function e(e){this.instantiationService=e.instantiationService}return e.prototype.getId=function(){return"vs/editor/modes/modesExtensions.InstantiationServiceExtractor"},e}(),it=function(){function e(){this._threadService=null,this._activationPromises={},this._instantiatedModes={},this._frankensteinModes={}}return e.prototype.getThreadService=function(){return this._threadService},e.prototype.setThreadService=function(e){if(null===this._threadService){this._threadService=e,nt.forEach(function(t){return t(e)}),st.register(e),at.register(e);var t=e.createInstance(rt);d.setInstantiationService(t.instantiationService)}},e.prototype.registerWorkerParticipant=function(e,t){var n={pluginId:e+":"+t.moduleName+"."+t.ctorName+".impl",activationEvents:["mode:"+e],something:t,isFake:!0};d.registerPlugin(n)},e.prototype.getWorkerParticipants=function(e){return d.getAllPluginDescriptions().filter(function(t){return"undefined"!=typeof t.activationEvents?t.activationEvents.indexOf("mode:"+e)>=0:!1}).map(function(e){return e.something})},e.prototype.isRegisteredMode=function(e){return ct.INSTANCE.isRegisteredMode(e)},e.prototype.getRegisteredModes=function(){return ct.INSTANCE.getRegisteredModes()},e.prototype.getRegisteredMimetypes=function(){return ct.INSTANCE.getRegisteredMimetypes()},e.prototype.getRegisteredLanguageNames=function(){return ct.INSTANCE.getRegisteredLanguageNames()},e.prototype.getMimeForMode=function(e){return ct.INSTANCE.getMimeForMode(e)},e.prototype.getLanguageName=function(e){return ct.INSTANCE.getLanguageName(e)},e.prototype.registerMode=function(e,t,n,r){var i={};n.forEach(function(t){return i[t]=e});var o={};o[t]=e;var s={};s[e]=!0;var a={pluginId:e+".impl",isFake:!0,activationEvents:["textModel:"+e],mainModule:"vs/editor/modes/modesExtensions",mainModuleExtra:[r,e,!1],contributes:{language:[{id:e,aliases:[t],__isCompat:!0,mimetypes:n}]},forceLoadingInUI:!0};d.registerPlugin(a)},e.prototype.configureMode=function(e,t){var n=this.getModeId(e);n&&this.configureModeById(n,t)},e.prototype.configureModeById=function(e,t){at.configureModeById(e,t)},e.prototype.lookup=function(e){for(var t=[],n=ct.INSTANCE.extractModeIds(e),r=0;r<n.length;r++){var i=n[r];t.push({modeId:i,isInstantiated:this._instantiatedModes.hasOwnProperty(i)})}return t},e.prototype.getMode=function(e){for(var t=ct.INSTANCE.extractModeIds(e),n=!1,r=0;r<t.length;r++){if(this._instantiatedModes.hasOwnProperty(t[r]))return this._instantiatedModes[t[r]];n=n||"plainText"===t[r]}if(m.isTesting()||n){var i=null;return this.getOrCreateMode(e).then(function(e){i=e}).done(null,p.onUnexpectedError),i}},e.prototype.getModeId=function(e){var t=ct.INSTANCE.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getModeIdByLanguageName=function(e){var t=ct.INSTANCE.getModeIdsFromLanguageName(e);return t.length>0?t[0]:null},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var n=ct.INSTANCE.getModeIdsFromFilenameOrFirstLine(e,t);return n.length>0?n[0]:null},e.prototype.getOrCreateMode=function(e){var t=this;return d.onReady().then(function(){var n=t.getModeId(e);return t._getOrCreateMode(n||"plainText")})},e.prototype.getOrCreateModeByLanguageName=function(e){var t=this;return d.onReady().then(function(){var n=t.getModeIdByLanguageName(e);return t._getOrCreateMode(n||"plainText")})},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var n=this;return d.onReady().then(function(){var r=n.getModeIdByFilenameOrFirstLine(e,t);return n._getOrCreateMode(r||"plainText")})},e.prototype._getOrCreateMode=function(e){var t=this;return this._instantiatedModes.hasOwnProperty(e)?n.TPromise.as(this._instantiatedModes[e]):this._activationPromises.hasOwnProperty(e)?this._activationPromises[e]:(this._activationPromises[e]=this._createMode(e).then(function(n){return t._instantiatedModes[e]=n,delete t._activationPromises[e],t._instantiatedModes[e]}),this._activationPromises[e])},e.prototype._createMode=function(e){var t=this,n="textModel:"+e;if(ct.INSTANCE.isCompat(e))return d.activateByEvent(n).then(function(t){if(t=t.filter(function(e){return!!e}),0===t.length)return console.warn("mode not found: "+e),null;if(1===t.length)return t[0];throw new Error("Cannot have more than one mode for activation event "+n+"!")});var r=this._threadService||l.NULL_THREAD_SERVICE;return r.isInMainThread&&st.instantiateModeInWorkers(e),this._frankensteinModes.hasOwnProperty(e)||(this._frankensteinModes[e]=r.createInstance(tt,e)),d.activateByEvent(n).then(function(){return t._frankensteinModes[e]})},e.prototype.registerModeSupport=function(e,t,n){if(!this._frankensteinModes.hasOwnProperty(e)){if(ct.INSTANCE.isCompat(e))return console.warn("Cannot register support "+t+" on mode "+e+" because it is not a Frankenstein mode"),void 0;var r=this._threadService||l.NULL_THREAD_SERVICE;r.isInMainThread&&st.instantiateModeInWorkers(e),this._frankensteinModes[e]=r.createInstance(tt,e)}var i=this._frankensteinModes[e];i.registerSupport(t,n)},e}(),ot=new it;i.Registry.add(t.Extensions.EditorModes,ot),t.registerModeAsyncDescriptor=w,t.registerCustomMonarchMode=E,t.registerMode=S,t.configureMode=T,t.getOrCreateMode=k,t.getMode=C,t.registerWorkerParticipant=x;var st=function(){function e(){}return e.register=function(t){e.INSTANCE_REGISTERED||(e.INSTANCE_REGISTERED=!0,t.registerInstance(e.INSTANCE))},e.instantiateModeInWorkers=function(t){e.register(l.NULL_THREAD_SERVICE),e.INSTANCE._instantiateInWorkers(t)},e.prototype.getId=function(){return"vs.editor.modes.modeInstantiator"},e.prototype._instantiateInWorkers=function(e){ot._getOrCreateMode(e).done(null,p.onUnexpectedError)},e.INSTANCE=new e,e.INSTANCE_REGISTERED=!1,e.$_instantiateInWorkers=c.AllWorkers(e,e.prototype._instantiateInWorkers),e}(),at=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.configureModeById=function(t,n){e.INSTANCE._configureModeById(t,n)},e.getConfigurationForMode=function(t){return e.INSTANCE._getConfigurationForMode(t)},e.register=function(t){if(!(e.INSTANCE instanceof lt)){var n=new lt(e.INSTANCE);t.registerInstance(n),e.INSTANCE=n}},e.prototype._configureModeById=function(e,t){var n=this._config[e]||{},r=h.mixin(h.clone(n),t);return h.equals(n,r)?!1:(this._config[e]=r,!0)},e.prototype._getConfigurationForMode=function(e){return this._config[e]||{}},e.INSTANCE=new e,e}(),lt=function(e){function t(t){e.call(this,t._config)}return __extends(t,e),t.prototype.getId=function(){return"vs.editor.modes.modeConfigurator"},t.prototype.getSerializableState=function(){return this._config},t.prototype.setData=function(e){this._config=e},t.prototype._configureModeById=function(t,n){if(e.prototype._configureModeById.call(this,t,n)){var r=ot.getMode(t);r&&r.configSupport&&r.configSupport.configure(this._getConfigurationForMode(t))}},t.$_configureModeById=c.Everywhere(t,t.prototype._configureModeById),t}(at);t.activate=A,t.registerDeclarativeCharacterPairSupport=L,t.registerCodeLensSupport=N,t.registerDeclarativeCommentsSupport=I,t.registerDeclarativeDeclarationSupport=O,t.registerDeclarativeElectricCharacterSupport=R,t.registerExtraInfoSupport=P,t.registerFormattingSupport=D,t.registerInplaceReplaceSupport=M,t.registerNavigateTypesSupport=F,t.registerOccurrencesSupport=V,t.registerOutlineSupport=B,t.registerDeclarativeParameterHintsSupport=H,t.registerQuickFixSupport=W,t.registerDeclarativeReferenceSupport=U,t.registerRenameSupport=$,t.registerDeclarativeSuggestSupport=j,t.registerTokenizationSupport=G,t.registerDeclarativeTokenTypeClassificationSupport=z,_(function(e){e.registerInstance(ct.INSTANCE),ct.INSTANCE.registeredWithThreadService()});var ct=function(){function e(){var e=this;this._isRegisteredWithThreadService=!1,this.knownModeIds={},this.mime2LanguageId={},this.name2LanguageId={},this.id2Name={},this.isCompatModeId={},this.lowerName2Id={},this._isRegisteredWithThreadService=!1,d.registerPointListener("language",function(t){return e._onLanguages(t)})}return e.prototype.registeredWithThreadService=function(){this._isRegisteredWithThreadService=!0},e.prototype.getId=function(){return"modesExtensions.LanguagePoint"},e.prototype.getSerializableState=function(){return{knownModeIds:this.knownModeIds,mime2LanguageId:this.mime2LanguageId,name2LanguageId:this.name2LanguageId,id2Name:this.id2Name,isCompatModeId:this.isCompatModeId,lowerName2Id:this.lowerName2Id}},e.prototype.setData=function(e){this.knownModeIds=e.knownModeIds,this.mime2LanguageId=e.mime2LanguageId,this.name2LanguageId=e.name2LanguageId,this.id2Name=e.id2Name,this.isCompatModeId=e.isCompatModeId,this.lowerName2Id=e.lowerName2Id},e.prototype._onLanguages=function(e){this._isRegisteredWithThreadService?this._onLanguagesEverywhere(e):this._onLanguagesImpl(e)},e.prototype._onLanguagesEverywhere=function(e){this._onLanguagesImpl(e)},e.prototype._onLanguagesImpl=function(e){for(var t=0;t<e.length;t++){var n=e[t].contributes.language;if(Array.isArray(n))for(var r=0;r<n.length;r++)this._onLanguage(e[t],n[r]);else console.warn("Ignoring `language` point for "+e[t].pluginId)}},e.prototype._onLanguage=function(e,t){if("string"!=typeof t.id)return console.warn("Ignoring `language` point for "+e.pluginId),void 0;this.knownModeIds[t.id]=!0;var n=null;if("undefined"!=typeof t.mimetypes&&Array.isArray(t.mimetypes))for(var i=0;i<t.mimetypes.length;i++)n||(n=t.mimetypes[i]),this.mime2LanguageId[t.mimetypes[i]]=t.id;if(n||(n="text/x-"+t.id,this.mime2LanguageId[n]=t.id),"undefined"!=typeof t.extensions&&Array.isArray(t.extensions))for(var i=0;i<t.extensions.length;i++)f.registerTextMimeByFilename(t.extensions[i],n);if("undefined"!=typeof t.filenames&&Array.isArray(t.filenames))for(var i=0;i<t.filenames.length;i++)f.registerTextMimeByFilename(t.filenames[i],n);if("string"==typeof t.firstLine&&t.firstLine.length>0){var o=t.firstLine;"^"!==o.charAt(0)&&(o="^"+o);try{var s=new RegExp(o);r.regExpLeadsToEndlessLoop(s)||f.registerTextMimeByFirstLine(s,n)}catch(a){p.onUnexpectedError(a)}}var l=null;if("undefined"!=typeof t.aliases&&Array.isArray(t.aliases))for(var i=0;i<t.aliases.length;i++)t.aliases[i]&&0!==t.aliases[i].length&&(l||(l=t.aliases[i],this.name2LanguageId[t.aliases[i]]=t.id),this.lowerName2Id[t.aliases[i].toLowerCase()]=t.id);l||(l=t.id),this.id2Name[t.id]=l,"undefined"!=typeof t.__isCompat&&(this.isCompatModeId[t.id]=!0)},e.prototype.isRegisteredMode=function(e){return Y.call(this.mime2LanguageId,e)?!0:Y.call(this.knownModeIds,e)},e.prototype.getRegisteredModes=function(){return Object.keys(this.knownModeIds)},e.prototype.getRegisteredMimetypes=function(){return Object.keys(this.mime2LanguageId)},e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this.name2LanguageId)},e.prototype.getLanguageName=function(e){return this.id2Name[e]||null},e.prototype.getModeIdForLanguageNameLowercase=function(e){return this.lowerName2Id[e]||null},e.prototype.getMimeForMode=function(e){for(var t in this.mime2LanguageId)if(this.mime2LanguageId.hasOwnProperty(t)){var n=this.mime2LanguageId[t];if(n===e)return t}return null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return t.mime2LanguageId[e]||e}).filter(function(e){return t.knownModeIds[e]}):[]},e.prototype.getModeIdsFromLanguageName=function(e){return e?Y.call(this.name2LanguageId,e)?[this.name2LanguageId[e]]:[]:[]},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var n=f.guessMimeTypes(e,t);return this.extractModeIds(n.join(","))},e.prototype.isCompat=function(e){return this.isCompatModeId[e]||!1},e.INSTANCE=new e,e.$_onLanguagesEverywhere=c.Everywhere(e,e.prototype._onLanguagesEverywhere),e}(),ut=Object.create(null);t.registerSnippets=q,t.getSnippets=K}),define("vs/base/time/schedulers",["require","exports"],function(e,t){var n=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){-1!==this.timeoutToken&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.setTimeout=function(e){this.timeout=e},e.prototype.schedule=function(){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,this.timeout)},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=n}),define("vs/editor/core/view/viewContext",["require","exports"],function(e,t){t.ClassNames={TEXTAREA_COVER:"textAreaCover",TEXTAREA:"inputarea",LINES_CONTENT:"lines-content",OVERFLOW_GUARD:"overflow-guard",VIEW_LINES:"view-lines",VIEW_LINE:"view-line",SCROLLABLE_ELEMENT:"editor-scrollable",CONTENT_WIDGETS:"contentWidgets",OVERLAY_WIDGETS:"overlayWidgets",LINE_NUMBERS:"line-numbers",GLYPH_MARGIN:"glyph-margin",SCROLL_DECORATION:"scroll-decoration",VIEW_CURSORS_LAYER:"cursors-layer",VIEW_ZONES:"view-zones"},t.EventNames={ModelFlushedEvent:"modelFlushedEvent",LinesDeletedEvent:"linesDeletedEvent",LinesInsertedEvent:"linesInsertedEvent",LineChangedEvent:"lineChangedEvent",TokensChangedEvent:"tokensChangedEvent",DecorationsChangedEvent:"decorationsChangedEvent",CursorPositionChangedEvent:"cursorPositionChangedEvent",CursorSelectionChangedEvent:"cursorSelectionChangedEvent",RevealRangeEvent:"revealRangeEvent",LineMappingChangedEvent:"lineMappingChangedEvent"};var n=function(){function e(e,t,n,r,i,o){this.editorId=e,this.configuration=t,this.model=n,this.privateViewEventBus=r,this.addEventHandler=i,this.removeEventHandler=o}return e}();t.ViewContext=n}),define("vs/editor/core/view/lines/viewLineParts",["require","exports","vs/base/arrays","vs/base/strings"],function(e,t,n,r){function i(e,t,n,r,i){return i&&(r=s(e,t,r)),r.length>0?new l(e,n,t,r):new a(n,t)}function o(e,t){if(e.length<=1)return e;var n=e[e.length-1].startIndex;return n<t.length?e:e.slice(0,e.length-1)}function s(e,t,n){if(0===t.length)return n;var i=null,o=null,s=!0,a=r.firstNonWhitespaceIndex(t);if(0!==a&&(-1===a?(s=!1,i={startLineNumber:e,endLineNumber:e,startColumn:1,endColumn:t.length+1}):i={startLineNumber:e,endLineNumber:e,startColumn:1,endColumn:a+1}),s){var l=r.lastNonWhitespaceIndex(t);l!==t.length-1&&(o={startLineNumber:e,endLineNumber:e,startColumn:l+2,endColumn:t.length+1})}if(i||o){var c=n.slice(0);return i&&c.unshift({options:{inlineClassName:"leading whitespace"},range:i}),o&&c.push({options:{inlineClassName:"trailing whitespace"},range:o}),c}return n}t.createLineParts=i;var a=function(){function e(e,t){this.lineTokens=e,this.parts=e.getTokens(),this.parts=o(this.parts,t)}return e.prototype.getParts=function(){return this.parts},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.lineTokens.equals(n.lineTokens)}return!1},e.prototype.findIndexOfOffset=function(e){return n.findIndexInSegmentsArray(this.parts,e)},e}();t.FastViewLineParts=a;var l=function(){function e(e,t,n,r){for(var i,o,s,a=p.normalize(e,r),l=0,u=a.length,d=t.getTokens(),h=[],m=0,f=d.length;f>m;m++){for(i=d[m].startIndex,o=f>m+1?d[m+1].startIndex:t.getTextLength(),s=d[m].type;u>l&&a[l].startOffset<o;){if(a[l].startOffset>i&&(h.push(new c(i,s)),i=a[l].startOffset),h.push(new c(i,s+" "+a[l].className)),a[l].endOffset>=o){i=o;break}i=a[l].endOffset+1,l++}o>i&&h.push(new c(i,s))}this.parts=h,this.lastPartIndex=h.length-1,this.lastEndOffset=o}return e.prototype.getParts=function(){return this.parts},e.prototype.equals=function(t){if(t instanceof e){var n=t;if(this.lastPartIndex!==n.lastPartIndex)return!1;if(this.lastEndOffset!==n.lastEndOffset)return!1;for(var r=0,i=this.parts.length;i>r;r++){if(this.parts[r].startIndex!==n.parts[r].startIndex)return!1;if(this.parts[r].type!==n.parts[r].type)return!1}return!0}return!1},e.prototype.findIndexOfOffset=function(e){return n.findIndexInSegmentsArray(this.parts,e)},e}();t.ViewLineParts=l;var c=function(){function e(e,t){this.startIndex=e,this.type=t}return e}(),u=function(){function e(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}return e}();t.DecorationSegment=u;var d=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var r=0;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;n.push(new u(t,this.stopOffsets[r],this.classNames.join(" "))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.count-=r+1}return this.count>0&&e>t&&(n.push(new u(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),p=function(){function e(){}return e.normalize=function(t,n){var r=[];if(0===n.length)return r;var i,o,s,a,l,c=new d,u=0;for(a=0,l=n.length;l>a;a++)i=n[a],i.range.endLineNumber<t||i.range.startLineNumber>t||(i.range.startLineNumber!==i.range.endLineNumber||i.range.startColumn!==i.range.endColumn)&&(o=i.range.startLineNumber===t?i.range.startColumn-1:0,s=i.range.endLineNumber===t?i.range.endColumn-2:e.MAX_LINE_LENGTH-1,0>s||(u=c.consumeLowerThan(o,u,r),0===c.count&&(u=o),c.insert(s,i.options.inlineClassName)));return c.consumeLowerThan(e.MAX_LINE_LENGTH,u,r),r},e.MAX_LINE_LENGTH=1e7,e}();t.LineDecorationsNormalizer=p}),define("vs/base/dom/iframe",["require","exports"],function(e,t){function n(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return a=!0,null}catch(r){return a=!0,null}return e.parent}function r(e,t){for(var n,r=e.document.getElementsByTagName("iframe"),i=0,o=r.length;o>i;i++)if(n=r[i],n.contentWindow===t)return n;return null}function i(){if(!l){l=[];var e,t=window;do e=n(t),e?l.push({window:t,iframeElement:r(e,t)}):l.push({window:t,iframeElement:null}),t=e;while(t)}return l.slice(0)}function o(){return l||i(),a}function s(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,r=0,o=i(),s=0;s<o.length;s++){var a=o[s];if(a.window===t)break;if(!a.iframeElement)break;var l=a.iframeElement.getBoundingClientRect();n+=l.top,r+=l.left}return{top:n,left:r}}var a=!1,l=null;t.getSameOriginWindowChain=i,t.hasDifferentOriginAncestor=o,t.getPositionOfChildWindowRelativeToAncestorWindow=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/dom/mouseEvent",["require","exports","vs/base/env","vs/base/dom/iframe"],function(e,t,n,r){function i(e){var t=window.MonacoScrollDivisor||120;return e/t}var o=function(){function e(e){var t=this;this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target||e.targetNode||e.srcElement,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.posx=0,this.posy=0,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var i=function(){return e.clientX||e.clientY?(t.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,!0):!1},o=function(){return e.pageX||e.pageY?(t.posx=e.pageX,t.posy=e.pageY,!0):!1},s=o,a=i;n.browser.isIE10&&(s=i,a=o),s()||a();var l=r.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=l.left,this.posy-=l.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},e}();t.StandardMouseEvent=o;var s=function(e){function t(t){e.call(this,t),this.dataTransfer=t.dataTransfer}return __extends(t,e),t}(o);t.DragMouseEvent=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(s);t.DropMouseEvent=a;var l=function(){function e(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e){var o=e,s=e;"undefined"!=typeof o.wheelDeltaY?this.deltaY=i(o.wheelDeltaY):"undefined"!=typeof s.VERTICAL_AXIS&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),"undefined"!=typeof o.wheelDeltaX?this.deltaX=n.browser.isSafari&&n.isWindows?-i(o.wheelDeltaX):i(o.wheelDeltaX):"undefined"!=typeof s.HORIZONTAL_AXIS&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=i(e.wheelDelta))}}return e.prototype.preventDefault=function(){this.browserEvent&&(this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1)},e.prototype.stopPropagation=function(){this.browserEvent&&(this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0)},e}();t.StandardMouseWheelEvent=l}),define("vs/base/dom/keyboardEvent",["require","vs/base/lib/winjs.base","vs/base/env"],function(e,t,n){function r(e){var t=e.ctrlKey,n=e.shiftKey,r=e.altKey,o=e.metaKey,s=i.extractKey(e);t=t||"Ctrl"===s,r=r||"Alt"===s,n=n||"Shift"===s,o=o||"Meta"===s;var a="";return t&&(a+="Ctrl"),n&&(a+=(""===a?"":"-")+"Shift"),r&&(a+=(""===a?"":"-")+"Alt"),o&&(a+=(""===a?"":"-")+"Meta"),s&&"Ctrl"!==s&&"Shift"!==s&&"Alt"!==s&&"Meta"!==s&&(a+=(""===a?"":"-")+s),a}var i=function(){var e={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};n.browser.isIE11orEarlier?e.Meta=91:n.browser.isFirefox?(e["-"]=109,e["="]=107,e[";"]=59,n.isMacintosh&&(e.Meta=224)):n.browser.isOpera?(e["-"]=109,e["="]=61,e[";"]=59,n.isMacintosh&&(e.Meta=57392)):n.browser.isWebKit&&(e.Meta=91);var t={};!function(){for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n)}(),n.browser.isOpera?(t[189]="-",t[187]="=",t[186]=";"):n.browser.isWebKit&&(n.isMacintosh?t[93]="Meta":t[92]="Meta");var r=function(e,n){return t.hasOwnProperty(e)?t[e]:n},i=null;return i=n.browser.isOpera?function(e){return"keypress"===e.type?e.which<=32?r(e.keyCode,String.fromCharCode(e.keyCode).toUpperCase()):String.fromCharCode(e.which).toUpperCase():r(e.keyCode,"unknown")}:function(e){return e.charCode?String.fromCharCode(e.charCode).toUpperCase():r(e.keyCode,"unknown")},{CHAR_TO_CODE:e,CODE_TO_CHAR:t,extractKey:i}}(),o=t.Class.define(function(e){if(this.browserEvent=e,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.target=e.target||e.targetNode,this.key=i.extractKey(e),this.ctrlKey=this.ctrlKey||"Ctrl"===this.key,this.altKey=this.altKey||"Alt"===this.key,this.shiftKey=this.shiftKey||"Shift"===this.key,this.metaKey=this.metaKey||"Meta"===this.key,n.browser.isOpera&&n.isMacintosh){var t=this.metaKey;
this.metaKey=this.ctrlKey,this.ctrlKey=t,"Ctrl"===this.key?this.key="Meta":"Meta"===this.key&&(this.key="Ctrl")}},{preventDefault:function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},stopPropagation:function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},clone:function(){var e=this.asString(),t=this.asKeybinding();return{ctrlKey:this.ctrlKey,shiftKey:this.shiftKey,altKey:this.altKey,metaKey:this.metaKey,target:this.target,key:this.key,preventDefault:function(){},stopPropagation:function(){},asString:function(){return e},asKeybinding:function(){return t}}},asString:function(){var e="";return this.ctrlKey&&(e+="Ctrl"),this.shiftKey&&(e+=(""===e?"":"-")+"Shift"),this.altKey&&(e+=(""===e?"":"-")+"Alt"),this.metaKey&&(e+=(""===e?"":"-")+"Meta"),this.key&&"Ctrl"!==this.key&&"Shift"!==this.key&&"Alt"!==this.key&&"Meta"!==this.key&&(e+=(""===e?"":"-")+this.key),e},asKeybinding:function(){var e=!1,t=!1,r=!1,i=!1,o="";return this.ctrlKey&&(n.isMacintosh?i=!0:e=!0),this.shiftKey&&(t=!0),this.altKey&&(r=!0),this.metaKey&&(n.isMacintosh?e=!0:i=!0),this.key&&"Ctrl"!==this.key&&"Shift"!==this.key&&"Alt"!==this.key&&"Meta"!==this.key&&(o=this.key),{ctrlCmd:e,shift:t,alt:r,winCtrl:i,key:o}}});return{KEYS:i.CHAR_TO_CODE,toString:r,KeyboardEvent:o}}),define("vs/base/dom/browserService",["require","exports","vs/base/env"],function(e,t,n){function r(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function i(){return s}t.regularIsHTMLElement=r;var o=function(){function e(){this.restore()}return e.prototype.mock=function(e){this.document=e.document,this.window=e.window,this.isHTMLElement=e.isHTMLElement},e.prototype.restore=function(){this.isHTMLElement=r,n.isInWebWorker()?(this.document=null,this.window=null):(this.document=window.document,this.window=window)},e}(),s=new o;t.getService=i}),define("vs/base/dom/dom",["require","exports","vs/base/env","vs/base/types","vs/base/eventEmitter","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","vs/base/errors","vs/base/dom/browserService"],function(e,t,n,r,i,o,s,a,l){function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e){var t=[];return JSON.stringify(e,function(e,n){if(n instanceof Element)return"[Element]";if(r.isObject(n)||Array.isArray(n)){if(-1!==t.indexOf(n))return"[Circular]";t.push(n)}return n})}function d(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}function p(e,t){e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.webkitTransform=t)}function h(e,t){e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.transform=t)}function m(e,t,n,i){var o=function(e){e=e||window.event,n(e)};return r.isFunction(e.addEventListener)?(e.addEventListener(t,o,i||!1),function(){o&&(e.removeEventListener(t,o,i||!1),o=null,e=null,n=null)}):(e.attachEvent("on"+t,o),function(){e.detachEvent("on"+t,o)})}function f(e,t,n,r){var i=m(e,t,n,r);return{dispose:i}}function v(e){return function(t){return e(new o.StandardMouseEvent(t))}}function g(e){return function(t){return e(new s.KeyboardEvent(t))}}function b(e,t){return m(e,"mouseout",function(n){for(var r=n.relatedTarget||n.toElement;r&&r!==e;)r=r.parentNode;r!==e&&t(n)})}function y(e,t){var n=b(e,t);return{dispose:n}}function _(e,n,r,i,o){function s(){c=(new Date).getTime(),r(l),l=null}function a(){if(d=!1,!u){var e=(new Date).getTime()-c;e>=o?s():d||(d=!0,t.scheduleAtNextAnimationFrame(a,Number.MAX_VALUE))}}void 0===i&&(i=J),void 0===o&&(o=0);var l=null,c=0,u=!1,d=!1,p=m(e,n,function(e){l=i(l,e),d||(d=!0,t.scheduleAtNextAnimationFrame(a,Number.MAX_VALUE))});return function(){u=!0,p()}}function w(e,t,n,r,i){function o(){l=-1,a=(new Date).getTime(),n(s),s=null}void 0===r&&(r=J),void 0===i&&(i=Q);var s=null,a=0,l=-1,c=m(e,t,function(e){s=r(s,e);var t=(new Date).getTime()-a;t>=i?(-1!==l&&window.clearTimeout(l),o()):-1===l&&(l=window.setTimeout(o,i-t))});return function(){-1!==l&&window.clearTimeout(l),c()}}function E(e,t,n,r,i){return Y.isNative?_(e,t,n,r,i):w(e,t,n,r,i)}function S(e,t,n,r,i){var o=E(e,t,n,r,i);return{dispose:o}}function T(e){return document.defaultView&&r.isFunction(document.defaultView.getComputedStyle)?document.defaultView.getComputedStyle(e,null):e.currentStyle}function k(e,t,n){var r=T(e),i="0";return r&&(i=r.getPropertyValue?r.getPropertyValue(t):r.getAttribute(n)),Z(e,i)}function C(e){for(var t=e.offsetParent,n=e.offsetTop,r=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;var i=T(e);i&&(r-="rtl"!==i.direction?e.scrollLeft:-e.scrollLeft),e===t&&(r+=et.getBorderLeftWidth(e),n+=et.getBorderTopWidth(e),n+=e.offsetTop,r+=e.offsetLeft,t=e.offsetParent)}return{left:r,top:n}}function x(e){var t=C(e);return{left:t.left,top:t.top,width:e.clientWidth,height:e.clientHeight}}function A(e){var t=et.getBorderLeftWidth(e)+et.getBorderRightWidth(e),n=et.getPaddingLeft(e)+et.getPaddingRight(e);return e.offsetWidth-t-n}function L(e){var t=et.getMarginLeft(e)+et.getMarginRight(e);return e.offsetWidth+t}function N(e){var t=et.getBorderTopWidth(e)+et.getBorderBottomWidth(e),n=et.getPaddingTop(e)+et.getPaddingBottom(e);return e.offsetHeight-t-n}function I(e){var t=et.getMarginTop(e)+et.getMarginBottom(e);return e.offsetHeight+t}function O(e,t){if(null===e)return 0;for(var n=e.offsetLeft,r=e.parentNode;null!==r&&(n-=r.offsetLeft,r!==t);)r=r.parentNode;return n}function R(e,t){if(null===e)return 0;for(var n=e.offsetTop,r=e.parentNode;null!==r&&(n-=r.offsetTop,r!==t);)r=r.parentNode;return n}function P(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function D(e,n,r){for(;e;){if(t.hasClass(e,n))return e;if(r&&t.hasClass(e,r))return null;e=e.parentNode}return null}function M(){var e=document.createElement("style");return e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e),e}function F(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function V(e,t,n){void 0===n&&(n=tt),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function B(e,t){if(void 0===t&&(t=tt),!t)return null;for(var n=F(t),r=0;r<n.length;r++){var i=n[r],o=i.selectorText.replace(/::/gi,":");if(o===e)return i}return null}function H(e,t){if(void 0===t&&(t=tt),t){for(var n=F(t),r=[],i=0;i<n.length;i++){var o=n[i],s=o.selectorText.replace(/::/gi,":");0===s.indexOf(e)&&r.push(i)}for(var i=r.length-1;i>=0;i--)t.sheet.deleteRule(r[i])}}function W(e){return l.getService().isHTMLElement(e)}function U(e){try{var t=$(e);e.select(),e.setSelectionRange&&e.setSelectionRange(0,9999),j(e,t)}catch(n){}}function $(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}function j(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}function G(e){var r=!1,o=!1,s=new i.EventEmitter,a=[],l=null;l={addFocusListener:function(e){var t=s.addListener("focus",e);return a.push(t),t},addBlurListener:function(e){var t=s.addListener("blur",e);return a.push(t),t},dispose:function(){for(;a.length>0;)a.pop()()}};var c=function(){o=!1,r||(r=!0,s.emit("focus",{}))},u=function(){r&&(o=!0,n.isTesting()?o&&(o=!1,r=!1,s.emit("blur",{})):window.setTimeout(function(){o&&(o=!1,r=!1,s.emit("blur",{}))},0))};return a.push(m(e,t.EventType.FOCUS,c,!0)),a.push(m(e,t.EventType.BLUR,u,!0)),l}function z(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),r=n.length;r--;)n[r].parentNode.removeChild(n[r]);return t.innerHTML}function q(){var e={},t=window.location.search;if(t)for(var n=t.split(/[?&]/),r=0;r<n.length;r++){var i=n[r];if(i){var o=i.split("=");2===o.length&&(e[o[0]]=decodeURIComponent(o[1]))}}return e}function K(t){var n=document.createElement("a");return n.href=e.toUrl(t),n.href}t.clearNode=c,t.safeStringifyDOMAware=u,t.isInDOM=d,t.hasClass,t.addClass,t.removeClass,t.toggleClass,function(){function e(e,t){var o=e.className;if(!o)return n=-1,void 0;t=t.trim();var s=o.length,a=t.length;if(0===a)return n=-1,void 0;if(a>s)return n=-1,void 0;if(o===t)return n=0,r=s,void 0;for(var l,c=-1;(c=o.indexOf(t,c+1))>=0;){if(l=c+a,(0===c||o.charCodeAt(c-1)===i)&&o.charCodeAt(l)===i)return n=c,r=l+1,void 0;if(c>0&&o.charCodeAt(c-1)===i&&l===s)return n=c-1,r=l,void 0;if(0===c&&l===s)return n=0,r=l,void 0}n=-1}var n,r,i=" ".charCodeAt(0);t.hasClass=function(t,r){return e(t,r),-1!==n},t.addClass=function(t,r){t.className?(e(t,r),-1===n&&(t.className=t.className+" "+r)):t.className=r},t.removeClass=function(t,i){e(t,i),-1!==n&&(t.className=t.className.substring(0,n)+t.className.substring(r))},t.toggleClass=function(r,i,o){e(r,i),-1===n||o||t.removeClass(r,i),-1===n&&o&&t.addClass(r,i)}}(),t.StyleMutator={setMaxWidth:function(e,t){var n=t+"px";e.style.maxWidth!==n&&(e.style.maxWidth=n)},setWidth:function(e,t){var n=t+"px";e.style.width!==n&&(e.style.width=n)},setHeight:function(e,t){var n=t+"px";e.style.height!==n&&(e.style.height=n)},setTop:function(e,t){var n=t+"px";e.style.top!==n&&(e.style.top=n)},setLeft:function(e,t){var n=t+"px";e.style.left!==n&&(e.style.left=n)},setBottom:function(e,t){var n=t+"px";e.style.bottom!==n&&(e.style.bottom=n)},setRight:function(e,t){var n=t+"px";e.style.right!==n&&(e.style.right=n)},setFontSize:function(e,t){var n=t+"px";e.style.fontSize!==n&&(e.style.fontSize=n)},setLineHeight:function(e,t){var n=t+"px";e.style.lineHeight!==n&&(e.style.lineHeight=n)},setTransform:null,setDisplay:function(e,t){e.style.display!==t&&(e.style.display=t)},setVisibility:function(e,t){e.style.visibility!==t&&(e.style.visibility=t)}},function(){var e=document.createElement("div");t.StyleMutator.setTransform="undefined"!=typeof e.style.webkitTransform?p:h}(),t.addListener=m,t.addDisposableListener=f,t.addStandardDisposableListener=function(e,t,n,r){var i=n;return"click"===t?i=v(n):("keydown"===t||"keypress"===t||"keyup"===t)&&(i=g(n)),e.addEventListener(t,i,r||!1),{dispose:function(){i&&(e.removeEventListener(t,i,r||!1),i=null,e=null,n=null)}}},t.addNonBubblingMouseOutListener=b,t.addDisposableNonBubblingMouseOutListener=y;var Y=function(){var e=function(e){return e((new Date).getTime()),0},t=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,n=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,r=!!t,i=t||e,o=n||n;return{isNative:r,request:function(e){return i(e)},cancel:function(e){return o(e)}}}();t.runAtThisOrScheduleAtNextAnimationFrame,t.scheduleAtNextAnimationFrame;var X=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){a.onUnexpectedError(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],r=null,i=!1,o=!1,s=function(){for(i=!1,r=e,e=[],o=!0;r.length>0;){r.sort(X.sort);var t=r.shift();t.execute()}o=!1};t.scheduleAtNextAnimationFrame=function(t,r){void 0===r&&(r=0);var o=new X(t,r);if(e.push(o),!i)if(i=!0,n.browser.isChrome){var a;Y.request(function(){clearTimeout(a),s()}),a=setTimeout(s,1e3)}else Y.request(s);return o},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,n){if(o){var i=new X(e,n);return r.push(i),i}return t.scheduleAtNextAnimationFrame(e,n)}}();var Q=16,J=function(e,t){return t};t.addThrottledListener=E,t.addDisposableThrottledListener=S,t.getComputedStyle=T;var Z=function(){var e=/^-?\d+(\.\d+)?(px)?$/i,t=/^-?\d+(\.\d+)?/i;return function(n,r){if(!e.test(r)&&t.test(r)){var i=n.style.left;n.style.left=r;var o=n.style.pixelLeft;return n.style.left=i,o}return parseFloat(r)||0}}(),et={getBorderLeftWidth:function(e){return k(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return k(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return k(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return k(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return k(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return k(e,"padding-top","paddingTop")},getPaddingRight:function(e){return k(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return k(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return k(e,"margin-left","marginLeft")},getMarginTop:function(e){return k(e,"margin-top","marginTop")},getMarginRight:function(e){return k(e,"margin-right","marginRight")},getMarginBottom:function(e){return k(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=C,t.getDomNodePosition=x,t.getContentWidth=A,t.getTotalWidth=L,t.getContentHeight=N,t.getTotalHeight=I,t.getRelativeLeft=O,t.getRelativeTop=R,t.isAncestor=P,t.findParentWithClass=D,t.createStyleSheet=M;var tt=M();t.createCSSRule=V,t.getCSSRule=B,t.removeCSSRulesWithPrefix=H,t.isHTMLElement=W,t.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.browser.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:n.browser.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.browser.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.selectTextInInputElement=U,t.saveParentsScrollTop=$,t.restoreParentsScrollTop=j,t.trackFocus=G,t.UnitConverter={_emInPx:-1,emToPixel:function(e){if(this._emInPx<0){var t=document.createElement("div");t.style.position="absolute",t.style.top="10000px",t.style.left="10000px",t.style.fontSize="1em",t.innerHTML="AbcDef",document.body.appendChild(t);var n=I(t);document.body.removeChild(t),this._emInPx=n}var r=e*this._emInPx,i=Math.round(r);return i}},t.removeScriptTags=z,t.parseSearch=q,t.toContentLocation=K});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/lines/viewLine",["require","exports","vs/base/env","vs/editor/core/view/viewContext","vs/editor/core/view/lines/viewLineParts","vs/base/dom/dom"],function(e,t,n,r,i,o){function s(e,t){return e.top===t.top?e.left-t.left:e.top-t.top}function a(e,t,n){var r=e.findIndexOfOffset(t);return n>=r?r:n}function l(e){return new m(e)}function c(e){return new f(e)}function u(e){return new h(e)}function d(e){var t=e.lineContent,n={charOffsetInPart:[],hasOverflowed:!1,lastRenderedPartIndex:0,partsCount:0,output:[]},r=0;if(n.output.push("<span>"),t.length>0){var i,o,s,a,l=t.length,c=-1,u=0,d=0,p=0,h="",m=e.tabSize,f=e.stopRenderingLineAfter,v=!1,C=e.parts;for(-1!==f&&l>f-1&&(h=t.substr(f-1,1),l=f-1,n.hasOverflowed=!0),o=0;l>o;o++){switch(o===u&&(c++,u=c+1<C.length?C[c+1].startIndex:Number.MAX_VALUE,o>0&&n.output.push("</span>"),r++,n.output.push('<span class="'),s="token "+C[c].type.replace(/[^a-z0-9\-]/gi," "),e.renderWhitespace&&(v=s.indexOf("whitespace")>=0),n.output.push(s),n.output.push('">'),p=0),n.charOffsetInPart[o]=p,i=t.charCodeAt(o)){case b:for(a=m-(o+d)%m,d+=a-1,p+=a-1,a>0&&(n.output.push(v?"&rarr;":"&nbsp;"),a--);a>0;)n.output.push("&nbsp;"),a--;break;case g:n.output.push(v?"&middot;":"&nbsp;");break;case y:n.output.push("&lt;");break;case _:n.output.push("&gt;");break;case w:n.output.push("&amp;");break;case 0:n.output.push("&#00;");break;case T:case S:n.output.push(k);break;case E:n.output.push("&#8203");break;default:n.output.push(t.charAt(o))}p++}n.output.push("</span>"),n.charOffsetInPart[l]=p,n.lastRenderedPartIndex=c,h.length>0&&(n.output.push('<span class="'),n.output.push(s),n.output.push('" style="color:grey">'),n.output.push(h),n.output.push("&hellip;</span>"))}else n.output.push("<span>&nbsp;</span>");return n.output.push("</span>"),n.partsCount=r,n}var p=function(){function e(e,t,n,r){this.top=e,this.left=t,this.width=n,this.height=r}return e}(),h=function(){function e(e){this._context=e,this._domNode=null,this._isInvalid=!0,this._isMaybeInvalid=!1,this._lineParts=null,this._charOffsetInPart=[],this._hasOverflowed=!1,this._lastRenderedPartIndex=0}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.setDomNode=function(e){this._domNode=e},e.prototype.onContentChanged=function(){this._isInvalid=!0},e.prototype.onLinesInsertedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLinesDeletedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLineChangedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onModelDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onConfigurationChanged=function(){this._isInvalid=!0},e.prototype.shouldUpdateHTML=function(e,t){var n=null;return(this._isMaybeInvalid||this._isInvalid)&&(n=this._computeLineParts(e,t)),this._isMaybeInvalid&&(this._isInvalid||this._lineParts&&this._lineParts.equals(n)||(this._isInvalid=!0),this._isMaybeInvalid=!1),this._isInvalid&&(this._lineParts=n),this._isInvalid},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._context.configuration.editor.lineHeight.toString()),e.push('px;" class="'),e.push(r.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._isInvalid=!1,this._renderMyLine(e,this._lineParts).join("")},e.prototype.layoutLine=function(e,t){var n=this._domNode.getAttribute("lineNumber");n!==e.toString()&&this._domNode.setAttribute("lineNumber",e.toString()),o.StyleMutator.setTop(this._domNode,t),o.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight)},e.prototype._computeLineParts=function(e,t){return i.createLineParts(e,this._context.model.getLineContent(e),this._context.model.getLineTokens(e),t,this._context.configuration.editor.renderWhitespace)},e.prototype._renderMyLine=function(e,t){this._bustReadingCache();var n=d({lineContent:this._context.model.getLineContent(e),tabSize:this._context.configuration.getIndentationOptions().tabSize,stopRenderingLineAfter:this._context.configuration.editor.stopRenderingLineAfter,renderWhitespace:this._context.configuration.editor.renderWhitespace,parts:t.getParts()});return this._charOffsetInPart=n.charOffsetInPart,this._hasOverflowed=n.hasOverflowed,this._lastRenderedPartIndex=n.lastRenderedPartIndex,n.output},e.prototype._getReadingTarget=function(){return this._domNode.firstChild},e.prototype._bustReadingCache=function(){this._cachedWidth=-1},e.prototype.getHeight=function(){return this._domNode.offsetHeight},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n,r,i,o,s){var a=this._context.configuration.editor.stopRenderingLineAfter;return-1!==a&&t>a&&n>a?null:(-1!==a&&t>a&&(t=a),-1!==a&&n>a&&(n=a),this._readVisibleRangesForRange(e,t,n,r,i,o,s))},e.prototype._readVisibleRangesForRange=function(e,t,n,r,i,o,a){var l;if(l=t===n?this._readRawVisibleRangesForPosition(e,t,r,i,o,a):this._readRawVisibleRangesForRange(e,t,n,r,i,o,a),!l||l.length<=1)return l;l.sort(s);for(var c,u=[],d=l[0],p=1,h=l.length;h>p;p++)c=l[p],d.left+d.width+.3>=c.left?d.width=Math.max(d.width,c.left+c.width-d.left):(u.push(d),d=c);return u.push(d),u},e.prototype._readRawVisibleRangesForPosition=function(e,t,n,r,i,o){if(0===this._charOffsetInPart.length){var s=this._readRawVisibleRangesForEntireLine(n,r,i);return s[0].width=0,s}var l=a(this._lineParts,t-1,this._lastRenderedPartIndex),c=this._charOffsetInPart[t-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),l,c,l,c,n,r,i,o)},e.prototype._readRawVisibleRangesForRange=function(e,t,n,r,i,o,s){if(1===t&&n===this._charOffsetInPart.length)return this._readRawVisibleRangesForEntireLine(r,i,o);var l=a(this._lineParts,t-1,this._lastRenderedPartIndex),c=this._charOffsetInPart[t-1],u=a(this._lineParts,n-1,this._lastRenderedPartIndex),d=this._charOffsetInPart[n-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),l,c,u,d,r,i,o,s)},e.prototype._readRawVisibleRangesForEntireLine=function(e){var t=this._domNode.getBoundingClientRect();return[new p(t.top-e,0,this._getReadingTarget().offsetWidth,t.height)]},e.prototype._readRawVisibleRangesFrom=function(e,t,n,r,i,o,s,a,l){var c=v.createRange();try{var u=0,d=e.children.length-1;if(u>d)return null;t=Math.min(d,Math.max(u,t)),r=Math.min(d,Math.max(u,r)),t!==r&&r>0&&0===i&&(r--,i=Number.MAX_VALUE);var p=e.children[t].firstChild,h=e.children[r].firstChild;if(!p||!h)return null;n=Math.min(p.textContent.length,Math.max(0,n)),i=Math.min(h.textContent.length,Math.max(0,i)),c.setStart(p,n),c.setEnd(h,i);var m=c.getClientRects(),f=null;return m.length>0&&(f=this._createRawVisibleRangesFromClientRects(m,o,s,a)),f}catch(g){return null}finally{v.detachRange(c,l)}},e.prototype._createRawVisibleRangesFromClientRects=function(e,t,n,r){var i,o,s=e.length,a=[];for(o=0;s>o;o++)i=e[o],a.push(new p(i.top-t-n,Math.max(0,i.left-r),i.width,i.height));return a},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var r=-1;t;)t=t.previousSibling,r++;var i=this._lineParts.getParts();if(r>=i.length)return this._context.configuration.editor.stopRenderingLineAfter;if(0===n)return i[r].startIndex+1;var o,s,a=i[r].startIndex;r+1<i.length?(o=i[r+1].startIndex,s=this._charOffsetInPart[o-1]+this._charOffsetInPart[o]):(o=this._context.model.getLineMaxColumn(e)-1,s=this._charOffsetInPart[o]);var l,c=a,u=o;-1!==this._context.configuration.editor.stopRenderingLineAfter&&(u=Math.min(this._context.configuration.editor.stopRenderingLineAfter-1,o));for(var d,p,h,m,f;u>c;){if(l=Math.floor((c+u)/2),d=this._charOffsetInPart[l],p=l===o?Number.MAX_VALUE:l+1===o?s:this._charOffsetInPart[l+1],h=l===a?Number.MIN_VALUE:this._charOffsetInPart[l-1],m=(h+d)/2,f=(d+p)/2,n>m&&f>=n)return l+1;m>=n?u=l-1:c=l+1}return c+1},e}(),m=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._createRawVisibleRangesFromClientRects=function(e,t,n,r){var i,o,s=e.length,a=[],l=screen.logicalYDPI/screen.deviceYDPI,c=screen.logicalXDPI/screen.deviceXDPI;for(a=new Array(s),o=0;s>o;o++)i=e[o],a[o]=new p(i.top*l-t-n,Math.max(0,i.left*c-r),i.width*c,i.height*l);return a},t}(h),f=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._readVisibleRangesForRange=function(t,n,r,i,o,s,a){var l=e.prototype._readVisibleRangesForRange.call(this,t,n,r,i,o,s,a);if(!l||0===l.length||n===r||1===n&&r===this._charOffsetInPart.length)return l;var c=this._readRawVisibleRangesForPosition(t,r-1,i,o,s,a),u=this._readRawVisibleRangesForPosition(t,r,i,o,s,a);if(c&&c.length>0&&u&&u.length>0){var d=c[0],p=u[0],h=!0;d.top===p.top&&(h=d.left<=p.left);var m=l[l.length-1];h&&m.top===p.top&&m.left<p.left?m.width=p.left-m.left:m.top>p.top&&l.splice(l.length-1,1)}return l},t}(h),v=function(){function e(){}return e.createRange=function(){return e._handyReadyRange||(e._handyReadyRange=document.createRange()),e._handyReadyRange},e.detachRange=function(e,t){e.selectNodeContents(t)},e}();t.createLine=function(){return window.screen&&window.screen.deviceXDPI&&(navigator.userAgent.indexOf("Trident/6.0")>=0||navigator.userAgent.indexOf("Trident/5.0")>=0)?l:n.browser.isWebKit?c:u}();var g=" ".charCodeAt(0),b="	".charCodeAt(0),y="<".charCodeAt(0),_=">".charCodeAt(0),w="&".charCodeAt(0),E="\r".charCodeAt(0),S="\u2028".charCodeAt(0),T=65279,k="ï¿½";t.renderLine=d}),define("vs/editor/core/model/tokensBinaryEncoding",["require","exports","vs/base/strings","vs/base/errors"],function(e,t,n,r){function i(e,n){if(0===n.length)return v;if(1===n.length&&0===n[0].startIndex&&!n[0].type&&!n[0].bracket)return b;var i,o,s,a,l,c,u=e._inflate,d=e._deflate,p=-1,h=new Array(n.length);for(i=0,o=n.length;o>i;i++)c=n[i],c.startIndex<=p&&(c.startIndex=p+1,r.onUnexpectedError({message:"Invalid tokens detected",tokens:n})),d.hasOwnProperty(c.type)?s=d[c.type]:(s=u.length,d[c.type]=s,u.push(c.type)),a=c.bracket,0>a&&(a=2),l=a*t.BRACKET_OFFSET+s*t.TYPE_OFFSET+c.startIndex*t.START_INDEX_OFFSET,h[i]=l,p=c.startIndex;return h}function o(e,n){if(0===n)return m;var r=n/t.START_INDEX_OFFSET&t.START_INDEX_MASK,i=n/t.TYPE_OFFSET&t.TYPE_MASK,o=n/t.BRACKET_OFFSET&t.BRACKET_MASK;return 2===o&&(o=-1),new h(r,e._inflate[i],o)}function s(e){return e/t.START_INDEX_OFFSET&t.START_INDEX_MASK}function a(e,r){var i=r/t.TYPE_OFFSET&t.TYPE_MASK;return 0===i?n.empty:e._inflate[i]}function l(e){var n=e/t.BRACKET_OFFSET&t.BRACKET_MASK;return 2===n&&(n=-1),n}function c(e,n){if(0===n.length)return f;if(1===n.length&&0===n[0])return g;var r,i,o,s,a,l,c=new Array(n.length),u=e._inflate;for(r=0,i=n.length;i>r;r++)o=n[r],s=o/t.START_INDEX_OFFSET&t.START_INDEX_MASK,l=o/t.TYPE_OFFSET&t.TYPE_MASK,a=o/t.BRACKET_OFFSET&t.BRACKET_MASK,2===a&&(a=-1),c[r]=new h(s,u[l],a);return c}function u(e,t){return p(e,t)}function d(e,n,r,i){if(0===n.length)return f;if(1===n.length&&0===n[0])return g;var o,s,a,l,c,u,d,m=p(n,r),v=[],b=e._inflate;for(a=n[m],u=a/t.TYPE_OFFSET&t.TYPE_MASK,d=a/t.BRACKET_OFFSET&t.BRACKET_MASK,c=0,v.push(new h(c,b[u],d)),o=m+1,s=n.length;s>o&&(a=n[o],l=a/t.START_INDEX_OFFSET&t.START_INDEX_MASK,!(l>=i));o++)u=a/t.TYPE_OFFSET&t.TYPE_MASK,d=a/t.BRACKET_OFFSET&t.BRACKET_MASK,c=l-r,v.push(new h(c,b[u],d));return v}function p(e,t){for(var n,r,i=0,o=e.length-1;o>i;)n=i+Math.ceil((o-i)/2),r=4294967295&e[n],r>t?o=n-1:i=n;return i}var h=function(){function e(e,t,n){this.startIndex=e,this.type=t,this.bracket=n}return e}();t.START_INDEX_MASK=4294967295,t.TYPE_MASK=65535,t.BRACKET_MASK=255,t.START_INDEX_OFFSET=1,t.TYPE_OFFSET=Math.pow(2,32),t.BRACKET_OFFSET=Math.pow(2,48);var m={startIndex:0,type:"",bracket:0},f=[],v=[],g=[m],b=[0];t.deflateArr=i,t.inflate=o,t.getStartIndex=s,t.getType=a,t.getBracket=l,t.inflateArr=c,t.findIndexOfOffset=u,t.sliceAndInflate=d,t.findIndexInSegmentsArray=p}),define("vs/editor/editor",["require","exports","vs/editor/core/model/tokensBinaryEncoding"],function(e,t,n){!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={}));t.SelectionDirection;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));t.OverviewRulerLane;!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));t.EndOfLinePreference;!function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(t.EndOfLineSequence||(t.EndOfLineSequence={}));t.EndOfLineSequence;t.LineTokensBinaryEncoding=n,function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));t.TrackedRangeStickiness;!function(e){e[e.Simple=0]="Simple",e[e.Center=1]="Center",e[e.CenterIfOutsideViewport=2]="CenterIfOutsideViewport"}(t.VerticalRevealType||(t.VerticalRevealType={}));t.VerticalRevealType;!function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));t.ContentWidgetPositionPreference;!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));t.OverlayWidgetPositionPreference;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={}));t.MouseTargetType;t.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS="editorTextFocus",t.KEYBINDING_CONTEXT_EDITOR_FOCUS="editorFocus",t.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS="editorTabMovesFocus",t.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS="editorHasMultipleSelections",t.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION="editorHasSelection",t.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID="editorLangId"}),define("vs/editor/standalone/colorizer",["require","exports","vs/base/lib/winjs.base","vs/editor/modes/modesExtensions","vs/platform/platform","vs/base/time/schedulers","vs/editor/core/view/lines/viewLine","vs/editor/editor"],function(e,t,n,r,i,o,s,a){function l(e,t){t=t||{};var n=t.theme||"vs",r=t.mimeType||e.getAttribute("lang")||e.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),void 0;var i=e.firstChild.nodeValue;e.className+="monaco-editor "+n;var o=function(t){e.innerHTML=t};return c(i,r,t).then(o,function(e){return console.error(e)},o)}function c(e,t,r){r=r||{},"undefined"==typeof r.tabSize&&(r.tabSize=4);var i,s,a,l,c=e.split("\n"),u=!1,d=new n.TPromise(function(e,t,n){i=e,s=t,a=n},function(){u=!0}),m=new o.RunOnceScheduler(function(){if(!u){var e=p(c,l,r.tabSize);e.retokenize.length>0?(e.retokenize.forEach(function(e){return e.then(f)}),a(e.result)):i(e.result)}},0),f=function(){return m.schedule()};return h.getOrCreateMode(t).then(function(e){return e?e.tokenizationSupport?(l=e,f(),void 0):(s('Mode found ("'+e.getId()+'"), but does not support tokenization.'),void 0):(s('Mode not found: "'+t+'".'),void 0)}),d}function u(e,t,n){void 0===n&&(n=4);var r=s.renderLine({lineContent:e,parts:t,stopRenderingLineAfter:-1,renderWhitespace:!1,tabSize:n});return r.output.join("")}function d(e,t,n){void 0===n&&(n=4);var r=e.getLineContent(t),i=e.getLineTokens(t,!1),o=a.LineTokensBinaryEncoding.inflateArr(i.getBinaryEncodedTokensMap(),i.getBinaryEncodedTokens());return u(r,o,n)}function p(e,t,n){var r,i,o,a,l,c=t.tokenizationSupport,u=[],d=c.getInitialState(),p=[];for(r=0,i=e.length;i>r;r++)o=e[r],a=c.tokenize(o,d),a.retokenize&&p.push(a.retokenize),l=s.renderLine({lineContent:o,parts:a.tokens,stopRenderingLineAfter:-1,renderWhitespace:!1,tabSize:n}),u=u.concat(l.output),u.push("<br/>"),d=a.endState;return{result:u.join(""),retokenize:p}}var h=i.Registry.as(r.Extensions.EditorModes);t.colorizeElement=l,t.colorize=c,t.colorizeLine=u,t.colorizeModelLine=d}),define("vs/editor/core/internalConstants",["require","exports"],function(e,t){t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordRightSelect:"cursorWordRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",MoveTo:"moveTo",MoveToSelect:"moveToSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",ReplacePreviousChar:"replacePreviousChar",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordRight:"deleteWordRight",DeleteAllLeft:"deleteAllLeft",DeleteAllRight:"deleteAllRight",Enter:"enter",RemoveSecondaryCursors:"removeSecondaryCursors",CancelSelection:"cancelSelection",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll"}
}),define("vs/editor/core/constants",["require","exports","./internalConstants"],function(e,t,n){t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor",ITerminal:"vs.editor.ITerminal"},t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.InternalHandlers={Indent:n.Handler.Indent,Outdent:n.Handler.Outdent,LineInsertBefore:n.Handler.LineInsertBefore,LineInsertAfter:n.Handler.LineInsertAfter,AddCursorUp:n.Handler.AddCursorUp,AddCursorDown:n.Handler.AddCursorDown},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelTokensChanged:"modelTokensChanged",ModelModeChanged:"modelsModeChanged",ModelModeSupportChanged:"modelsModeSupportChanged",ModelContentChanged:"contentChanged",ModelContentChanged2:"contentChanged2",ModelContentChangedFlush:"flush",ModelContentChangedLinesDeleted:"linesDeleted",ModelContentChangedLinesInserted:"linesInserted",ModelContentChangedLineChanged:"lineChanged",EditorTextBlur:"blur",EditorTextFocus:"focus",EditorFocus:"widgetFocus",EditorBlur:"widgetBlur",ModelPropertiesChanged:"propertiesChanged",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollWidthChanged:"scrollWidthChanged",ViewScrollHeightChanged:"scrollHeightChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"}}),define("vs/platform/configuration/keybindings",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env"],function(e,t,n,r){function i(e){return c(e,!0,"+")}function o(e){var t=[e.ctrlCmd?"CmdOrCtrl+":"",e.winCtrl&&r.isMacintosh?"Ctrl+":"",e.shift?"Shift+":"",e.alt?"Alt+":"",s(e)].join("");return e.chord?t+" "+o(e.chord):t}function s(e){switch(e.key.toLowerCase()){case"uparrow":return"Up";case"downarrow":return"Down";case"leftarrow":return"Left";case"rightarrow":return"Right";case"del":return"Delete"}return e.key}function a(e,t){return void 0===t&&(t="-"),c(e,!1,t)}function l(e){if(g)switch(e.key){case"LeftArrow":return S;case"UpArrow":return T;case"RightArrow":return k;case"DownArrow":return C}return"Del"===e.key?"Delete":e.key}function c(e,t,n){var i=[];(e.ctrlCmd&&!r.isMacintosh||e.winCtrl&&r.isMacintosh)&&i.push(t?b:"Ctrl"),e.shift&&i.push(t?y:"Shift"),e.alt&&i.push(t?_:"Alt"),e.ctrlCmd&&r.isMacintosh&&i.push(t?w:"Meta"),e.winCtrl&&!r.isMacintosh&&i.push(t?E:"Meta"),t?i.push(l(e)):i.push(e.key);var o=t&&g?i.join(""):i.join(n);return e.chord?o+" "+c(e.chord,t,n):o}function u(e,t,n,r,i){Array.isArray(n)?n.forEach(function(t){return p(t,e,r,i)}):n&&p(n,e,r,i),A[e]=t}function d(e,t,n,r){Array.isArray(t)?t.forEach(function(t){return p(t,e,n,r)}):t&&p(t,e,n,r)}function p(e,t,n,r){x.push({keybinding:e,command:t,context:r,weight:n})}function h(){return A}function m(){return x}function f(e,t){var n=Object.create(null);return e.lookupKeybinding(t).map(function(e){return e.keybinding}).filter(function(e){var t=a(e);return n[t]?!1:(n[t]=!0,!0)})}function v(e,t){return f(e,t).map(function(e){return i(e)})}t.toLabel=i,t.toAtomAccelerator=o,t.asString=a;var g=r.isMacintosh,b=g?"â":n.localize("vs_platform_configuration_keybindings",0),y=g?"â§":n.localize("vs_platform_configuration_keybindings",1),_=g?"â¥":n.localize("vs_platform_configuration_keybindings",2),w=g?"â":n.localize("vs_platform_configuration_keybindings",3),E=n.localize("vs_platform_configuration_keybindings",4),S=String.fromCharCode(8592),T=String.fromCharCode(8593),k=String.fromCharCode(8594),C=String.fromCharCode(8595),x=[],A=Object.create(null);t.registerCommand=u,t.registerCommandRule=d,t.getCommands=h,t.getDefaultKeybindings=m,t.KEYBINDING_CONTEXT_OPERATOR_EQUAL="equal",t.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL="not_equal",t.WEIGHT={editorCore:function(e){return void 0===e&&(e=0),0+e},editorContrib:function(e){return void 0===e&&(e=0),100+e},workbenchContrib:function(e){return void 0===e&&(e=0),200+e}},t.lookupKeyBindings=f,t.lookupKeyBindingsAsLabels=v}),define("vs/editor/core/config/config",["require","exports","vs/base/env","vs/editor/core/internalConstants","vs/editor/editor","vs/platform/configuration/keybindings"],function(e,t,n,r,i,o){function s(e,t,n,r){var i=n.context.editorId;if(!i)return r&&console.warn("Cannot execute "+e+" because no editor is focused."),null;var o=t.codeEditorService.getCodeEditor(i);return o?o:(r&&console.warn("Cannot execute "+e+" because editor `"+i+"` could not be found."),null)}function a(e,t,n,r){var i=s(e,t,n,!0);i&&r(i)}function l(e){var t=e.editorService.getActiveEditor&&e.editorService.getActiveEditor();if(t){var n=t.getControl();if(n&&"function"==typeof n.getEditorType){var r=n;return r}}return null}function c(e,t,n){a(e,t,n,function(t){t.trigger("keyboard",e,n)})}function u(e,t){var n=r.Handler.SelectAll;if(t.context[i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS]){var o=s(n,e,t,!1);if(o)return o.trigger("keyboard",n,t),void 0}var a=document.activeElement;if(a&&["input","textarea"].indexOf(a.tagName.toLowerCase())>=0)return a.select(),void 0;var c=l(e);return c?(c.trigger("keyboard",n,t),void 0):void 0}function d(e,t){return n.isMacintosh?{shift:e,alt:!0,key:t}:{ctrlCmd:!0,shift:e,key:t}}var p=function(){function e(){this.editor={fontFamily:"",fontSize:0,lineHeight:0,lineNumbers:!0,selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,lineDecorationsWidth:10,revealHorizontalRightPadding:30,tabSize:"auto",insertSpaces:"auto",roundedSelection:!0,theme:"vs",pageSize:1,readOnly:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wordWrapBreakBeforeCharacters:"{([+",wordWrapBreakAfterCharacters:" 	})]?|&,;",wordWrapBreakObtrusiveCharacters:".",tabFocusMode:!1,mouseWheelScrollSensitivity:1,forcedTokenizationBoundary:1e3,longLineBoundary:300,isDominatedByLongLines:!1,hover:!0,contextmenu:!0,quickSuggestions:!0,quickSuggestionsDelay:10,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0,selectionHighlight:!0,outlineMarkers:!1,referenceInfos:!0}}return e.prototype.addKeyBinding=function(e,t,n,r){void 0===n&&(n=o.WEIGHT.editorCore()),o.registerCommand(e,c.bind(null,e),t,n,r?r:[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS}])},e}();t.ConfigClass=p,t.findFocusedEditor=s,t.withCodeEditorFromCommandHandler=a,t.getActiveEditor=l,t.Config=new p,t.Config.addKeyBinding(r.Handler.CursorLeft,{key:"LeftArrow"}),t.Config.addKeyBinding(r.Handler.CursorLeftSelect,{shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(r.Handler.CursorRight,{key:"RightArrow"}),t.Config.addKeyBinding(r.Handler.CursorRightSelect,{shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(r.Handler.CursorUp,{key:"UpArrow"}),t.Config.addKeyBinding(r.Handler.CursorUpSelect,{shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(r.Handler.CursorDown,{key:"DownArrow"}),t.Config.addKeyBinding(r.Handler.CursorDownSelect,{shift:!0,key:"DownArrow"}),t.Config.addKeyBinding(r.Handler.CursorPageUp,{key:"PageUp"}),t.Config.addKeyBinding(r.Handler.CursorPageUpSelect,{shift:!0,key:"PageUp"}),t.Config.addKeyBinding(r.Handler.CursorPageDown,{key:"PageDown"}),t.Config.addKeyBinding(r.Handler.CursorPageDownSelect,{shift:!0,key:"PageDown"}),t.Config.addKeyBinding(r.Handler.CursorHome,{key:"Home"}),t.Config.addKeyBinding(r.Handler.CursorHomeSelect,{shift:!0,key:"Home"}),t.Config.addKeyBinding(r.Handler.CursorEnd,{key:"End"}),t.Config.addKeyBinding(r.Handler.CursorEndSelect,{shift:!0,key:"End"}),t.Config.addKeyBinding(r.Handler.Tab,{key:"Tab"},o.WEIGHT.editorCore(),[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:i.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,operator:o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]),t.Config.addKeyBinding(r.Handler.Outdent,{shift:!0,key:"Tab"},o.WEIGHT.editorCore(),[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:i.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,operator:o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]),t.Config.addKeyBinding(r.Handler.DeleteLeft,{key:"Backspace"}),t.Config.addKeyBinding(r.Handler.DeleteLeft,{shift:!0,key:"Backspace"}),t.Config.addKeyBinding(r.Handler.DeleteRight,{key:"Delete"}),o.registerCommand("editor.action.selectAll",u,{ctrlCmd:!0,key:"A"},o.WEIGHT.editorCore()),t.Config.addKeyBinding(r.Handler.CancelSelection,{key:"Escape"},o.WEIGHT.editorCore(),[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:i.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION}]),t.Config.addKeyBinding(r.Handler.RemoveSecondaryCursors,{key:"Escape"},o.WEIGHT.editorCore(1),[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:i.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS}]),t.Config.addKeyBinding(r.Handler.CursorWordLeft,d(!1,"LeftArrow")),t.Config.addKeyBinding(r.Handler.CursorWordLeftSelect,d(!0,"LeftArrow")),t.Config.addKeyBinding(r.Handler.CursorWordRight,d(!1,"RightArrow")),t.Config.addKeyBinding(r.Handler.CursorWordRightSelect,d(!0,"RightArrow")),t.Config.addKeyBinding(r.Handler.CursorDownSelect,d(!0,"DownArrow")),t.Config.addKeyBinding(r.Handler.CursorUpSelect,d(!0,"UpArrow")),t.Config.addKeyBinding(r.Handler.DeleteWordLeft,d(!1,"Backspace")),t.Config.addKeyBinding(r.Handler.DeleteWordRight,d(!1,"Delete")),n.isMacintosh?(t.Config.addKeyBinding(r.Handler.CursorTop,{ctrlCmd:!0,key:"UpArrow"}),t.Config.addKeyBinding(r.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(r.Handler.CursorBottom,{ctrlCmd:!0,key:"DownArrow"}),t.Config.addKeyBinding(r.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"DownArrow"}),n.browser.isOpera?(t.Config.addKeyBinding(r.Handler.Undo,{winCtrl:!0,key:"Z"}),t.Config.addKeyBinding(r.Handler.Redo,{winCtrl:!0,key:"Y"})):(t.Config.addKeyBinding(r.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(r.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"})),t.Config.addKeyBinding(r.Handler.CursorHome,{ctrlCmd:!0,key:"LeftArrow"}),t.Config.addKeyBinding(r.Handler.CursorHomeSelect,{ctrlCmd:!0,shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(r.Handler.CursorEnd,{ctrlCmd:!0,key:"RightArrow"}),t.Config.addKeyBinding(r.Handler.CursorEndSelect,{ctrlCmd:!0,shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(r.Handler.CursorHome,{winCtrl:!0,key:"A"}),t.Config.addKeyBinding(r.Handler.CursorLeft,{winCtrl:!0,key:"B"}),t.Config.addKeyBinding(r.Handler.DeleteRight,{winCtrl:!0,key:"D"}),t.Config.addKeyBinding(r.Handler.CursorEnd,{winCtrl:!0,key:"E"}),t.Config.addKeyBinding(r.Handler.CursorRight,{winCtrl:!0,key:"F"}),t.Config.addKeyBinding(r.Handler.DeleteLeft,{winCtrl:!0,key:"H"}),t.Config.addKeyBinding(r.Handler.DeleteAllRight,{winCtrl:!0,key:"K"}),t.Config.addKeyBinding(r.Handler.CursorDown,{winCtrl:!0,key:"N"}),t.Config.addKeyBinding(r.Handler.LineBreakInsert,{winCtrl:!0,key:"O"}),t.Config.addKeyBinding(r.Handler.CursorUp,{winCtrl:!0,key:"P"}),t.Config.addKeyBinding(r.Handler.CursorPageDown,{winCtrl:!0,key:"V"})):(t.Config.addKeyBinding(r.Handler.CursorTop,{ctrlCmd:!0,key:"Home"}),t.Config.addKeyBinding(r.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"Home"}),t.Config.addKeyBinding(r.Handler.CursorBottom,{ctrlCmd:!0,key:"End"}),t.Config.addKeyBinding(r.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"End"}),t.Config.addKeyBinding(r.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(r.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"}),t.Config.addKeyBinding(r.Handler.Redo,{ctrlCmd:!0,key:"Y"}))}),define("vs/platform/configuration/configurationRegistry",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/base/objects","vs/base/strings","vs/platform/plugins"],function(e,t,n,r,i,o,s){t.Extensions={Configuration:"base.contributions.configuration"};var a=function(){function e(){this.configurationContributors=[]}return e.prototype.registerConfiguration=function(e){this.configurationContributors.push(e)},e.prototype.getConfigurations=function(){return this.configurationContributors.slice(0)},e.prototype.getConfigurationSchemas=function(){var e={id:"local://configuration/user/settings",description:n.localize("vs_platform_configuration_configurationRegistry",0),type:"object",anyOf:[]},t={id:"local://configuration/workspace/settings",description:n.localize("vs_platform_configuration_configurationRegistry",1),type:"object",anyOf:[]},r={id:"local://configuration/default/settings",description:n.localize("vs_platform_configuration_configurationRegistry",2),$ref:"local://configuration/user/settings"},s=[];return s.push(e),s.push(t),s.push(r),this.configurationContributors.forEach(function(n){var r=i.clone(n);r.id=o.format("local://configuration/{0}/{1}",n.container?n.workspace?"workspace":"user":"internal",n.id),n.container||(n.workspace||e.anyOf.push({$ref:r.id}),t.anyOf.push({$ref:r.id})),s.push(r)}),s},e}(),l=new a;r.Registry.add(t.Extensions.Configuration,l),s.registerPointListener("configuration",function(e){for(var t=0;t<e.length;t++){var n=e[t].contributes.configuration,r=i.clone(n);r.id=e[t].pluginId,l.registerConfiguration(r)}})}),define("vs/editor/core/handlerDispatcher",["require","exports"],function(e,t){var n=function(){function e(e,t){this.source=e,this.data=t}return e.prototype.getSource=function(){return this.source},e.prototype.getData=function(){return this.data},e}();t.DispatcherEvent=n;var r=function(){function e(){this.registry={}}return e.prototype.setHandler=function(e,t){this.registry[e]=t},e.prototype.clearHandlers=function(){this.registry={}},e.prototype.getHandler=function(e){return this.registry.hasOwnProperty(e)?this.registry[e]:null},e.prototype.trigger=function(e,t,r){var i=this.getHandler(t),o=!1;if(i){var s=new n(e,r);o=i(s)}return o},e}();t.HandlerDispatcher=r}),define("vs/editor/core/config/elementSizeObserver",["require","exports"],function(e,t){var n=function(){function e(e,t){this.referenceDomElement=e,this.changeCallback=t,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement(!1)}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.dispose=function(){this.stopObserving()},e.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=window.setInterval(function(){return e.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(window.clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},e.prototype.measureReferenceDomElement=function(e,t){var n=0,r=0;t?(n=t.width,r=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,r=this.referenceDomElement.clientHeight),n=Math.max(5,n),r=Math.max(5,r),(this.width!==n||this.height!==r)&&(this.width=n,this.height=r,e&&this.changeCallback())},e}();t.ElementSizeObserver=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/config/configuration",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/editor/core/config/config","vs/base/objects","vs/base/types","vs/platform/platform","vs/platform/configuration/configurationRegistry","vs/editor/core/handlerDispatcher","vs/base/eventEmitter","vs/editor/core/constants","vs/base/strings","vs/base/dom/dom","vs/editor/core/config/elementSizeObserver"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){return"false"===e?!1:Boolean(e)}function v(e,t){var n=parseFloat(e);return isNaN(n)&&(n=t),n}function g(e,t,n){var r=parseInt(e,10);return isNaN(r)&&(r=0),"number"==typeof t&&(r=Math.max(t,r)),"number"==typeof n&&(r=Math.min(n,r)),r}function b(e,t){e.className=t.editorClassName,e.style.fontFamily=t.fontFamily&&t.fontFamily.length>0?t.fontFamily:"",e.style.fontSize=t.fontSize>0?t.fontSize+"px":"",e.style.lineHeight=t.lineHeight>0?t.lineHeight+"px":""}var y=function(){function e(e){this._editor=o.clone(i.Config.editor),this._mergeOptionsIn(e)}return e.prototype.getEditorOptions=function(){return this._editor},e.prototype._mergeOptionsIn=function(e){this._editor=o.mixin(this._editor,e||{})},e.prototype.updateOptions=function(e){this._mergeOptionsIn(e)},e}(),_=function(){function e(){this._keys={},this._values={}}return e.prototype.has=function(t){return this._values.hasOwnProperty(e.key(t))},e.prototype.get=function(t){return this._values[e.key(t)]},e.prototype.put=function(t,n){this._values[e.key(t)]=n},e.prototype.getKeys=function(){var e=[];for(var t in this._keys)e.push(this._keys[t]);return e},e.key=function(e){return e.editorClassName+"-"+e.fontFamily+"-"+e.fontSize+"-"+e.lineHeight},e}(),w=function(){function e(){}return e.readConfiguration=function(t,n,r,i){var o={editorClassName:t,fontFamily:n,fontSize:r,lineHeight:i};if(!e._CACHE.has(o)){var s=e._actualReadConfiguration(o);(s.lineHeight<=2||s.thinnestCharacterWidth<=2||s.maxDigitWidth<=2)&&(s.lineHeight=Math.max(s.lineHeight,s.fontSize,5),s.thinnestCharacterWidth=Math.max(s.thinnestCharacterWidth,s.fontSize,5),s.maxDigitWidth=Math.max(s.maxDigitWidth,s.fontSize,5),e._installChangeMonitor()),e._CACHE.put(o,s)}return e._CACHE.get(o)},e._installChangeMonitor=function(){-1===e._CHANGE_MONITOR_TIMEOUT&&(e._CHANGE_MONITOR_TIMEOUT=setTimeout(function(){e._CHANGE_MONITOR_TIMEOUT=-1,e._monitorForChanges()},500))},e._monitorForChanges=function(){for(var t=!1,n=e._CACHE.getKeys(),r=0;r<n.length;r++){var i=n[r],o=e._actualReadConfiguration(i);o.lineHeight<=2||o.thinnestCharacterWidth<=2||o.maxDigitWidth<=2?t=!0:(e._CACHE.put(i,o),e._invokeChangeListeners())}t&&e._installChangeMonitor()},e._invokeChangeListeners=function(){for(var t=e._CHANGE_LISTENERS.slice(0),n=0;n<t.length;n++)t[n]()},e.addChangeListener=function(t){e._CHANGE_LISTENERS.push(t)},e.removeChangeListener=function(t){for(var n=0;n<e._CHANGE_LISTENERS.length;n++)if(e._CHANGE_LISTENERS[n]===t){e._CHANGE_LISTENERS.splice(n,1);break}},e._testElementId=function(e){return"editorSizeProvider"+e},e._createTestElement=function(t,n){var r=document.createElement("span");r.id=e._testElementId(t);for(var i=" "===n?"&nbsp;":n,o=0;8>o;o++)i+=i;return r.textContent=i,r},e._createTestElements=function(t){var n=document.createElement("div");b(n,t),n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";for(var r=0,i=e._USUAL_CHARS.length;i>r;r++)n.appendChild(document.createElement("br")),n.appendChild(e._createTestElement(r,e._USUAL_CHARS[r]));var o=e._testElementId(e._USUAL_CHARS.length),s=document.createElement("div");return s.id=o,s.appendChild(document.createTextNode("heightTestContent")),n.appendChild(document.createElement("br")),n.appendChild(s),n},e._readTestElementWidth=function(t){return document.getElementById(e._testElementId(t)).offsetWidth/256},e._readFromTestElements=function(){for(var t=[],n=0,r=e._USUAL_CHARS.length;r>n;n++)t.push(e._readTestElementWidth(n));return t},e._actualReadConfiguration=function(t){var n=e._createTestElements(t);document.body.appendChild(n);var r=e._readFromTestElements(),i=document.getElementById(e._testElementId(0)),o=h.getComputedStyle(i),s=e._getFontFromComputedStyle(o),a=o?parseInt(o.fontSize,10):0,l=document.getElementById(e._testElementId(e._USUAL_CHARS.length)),c=l.clientHeight;document.body.removeChild(n);for(var u=0,d=0,p=0,m=e._USUAL_CHARS.length;m>p;p++){var f=e._USUAL_CHARS.charAt(p);f>="0"&&"9">=f?u=Math.max(u,r[p]):"|"===f&&(d=r[p])}return{thinnestCharacterWidth:d,maxDigitWidth:u,lineHeight:c,font:s,fontSize:a}},e._getFontFromComputedStyle=function(e){return e?e.font?e.font:e.fontFamily+" "+e.fontSize+" "+e.fontSizeAdjust+" "+e.fontStretch+" "+e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" ":"unknown"},e._USUAL_CHARS="0123456789|",e._CACHE=new _,e._CHANGE_LISTENERS=[],e._CHANGE_MONITOR_TIMEOUT=-1,e}();t.applyEditorStyling=b;var E=function(e){function t(t,n,r){var i=this;void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,[d.EventType.ConfigurationChanged]),this._cssBasedConfigurationChangeListener=function(){return i._onCSSBasedConfigurationChanged()},w.addChangeListener(this._cssBasedConfigurationChangeListener),this._configWithDefaults=new y(t),this._indentationGuesser=r,this._computedIndentationOptions=null,this._isDominatedByLongLines=!1,this.handlerDispatcher=new c.HandlerDispatcher,this._elementSizeObserver=new m.ElementSizeObserver(n,function(){var e=i.editor;i.editor=i._computeInternalOptions(i.editor.pageSize);var t=i._createConfigurationChangedEvent([]);t.observedOuterWidth=i.editor.observedOuterWidth!==e.observedOuterWidth,t.observedOuterHeight=i.editor.observedOuterHeight!==e.observedOuterHeight,i.emit(d.EventType.ConfigurationChanged,t)}),this._configWithDefaults.getEditorOptions().automaticLayout&&this._elementSizeObserver.startObserving(),this.editor=this._computeInternalOptions(0)}return __extends(t,e),t.prototype._onCSSBasedConfigurationChanged=function(){var e=this.editor;this.editor=this._computeInternalOptions(this.editor.pageSize);var t=this._createConfigurationChangedEvent([]);t.lineHeight=this.editor.lineHeight!==e.lineHeight,t.thinnestCharacterWidth=this.editor.thinnestCharacterWidth!==e.thinnestCharacterWidth,t.maxDigitWidth=this.editor.maxDigitWidth!==e.maxDigitWidth,t.font=this.editor.font!==e.font,t.fontSize=this.editor.fontSize!==e.fontSize,this.emit(d.EventType.ConfigurationChanged,t)},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){w.removeChangeListener(this._cssBasedConfigurationChangeListener),this._elementSizeObserver.dispose(),e.prototype.dispose.call(this)},t.prototype.getRawOptions=function(){return this._configWithDefaults.getEditorOptions()},t.prototype.getScrollbarOptions=function(){var e=o.clone(this.editor.scrollbar);return e.mouseWheelScrollSensitivity=this.editor.mouseWheelScrollSensitivity,e},t.prototype._computeInternalOptions=function(e){var t,n=this._configWithDefaults.getEditorOptions(),r=g(n.wrappingColumn,-1);t="undefined"!=typeof n.stopLineTokenizationAfter?g(n.stopLineTokenizationAfter,-1):r>=0?-1:1e4;var i;i="undefined"!=typeof n.stopRenderingLineAfter?g(n.stopRenderingLineAfter,-1):r>=0?-1:1e4;var o=this._getEditorClassName(n.theme),s=n.fontFamily||"",a=g(n.fontSize,0,100),l=g(n.lineHeight,0,150),c=l;a>0&&0===l&&(c=Math.round(1.3*a));var u=w.readConfiguration(o,s,a,c),d=this._elementSizeObserver.getWidth(),p=this._elementSizeObserver.getHeight();return{observedOuterWidth:d,observedOuterHeight:p,lineNumbers:n.lineNumbers,selectOnLineNumbers:f(n.selectOnLineNumbers),lineNumbersMinChars:g(n.lineNumbersMinChars,1),glyphMargin:f(n.glyphMargin),lineDecorationsWidth:g(n.lineDecorationsWidth,0),revealHorizontalRightPadding:g(n.revealHorizontalRightPadding,0),roundedSelection:f(n.roundedSelection),theme:n.theme,requestedFontFamily:s,requestedFontSize:a,requestedLineHeight:l,adjustedLineHeight:c,readOnly:f(n.readOnly),scrollbar:n.scrollbar,overviewRulerLanes:g(n.overviewRulerLanes,0,3),hideCursorInOverviewRuler:f(n.hideCursorInOverviewRuler),scrollBeyondLastLine:f(n.scrollBeyondLastLine),automaticLayout:f(n.automaticLayout),wrappingColumn:r,wordWrapBreakBeforeCharacters:n.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:n.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:n.wordWrapBreakObtrusiveCharacters,tabFocusMode:f(n.tabFocusMode),forcedTokenizationBoundary:g(n.forcedTokenizationBoundary),stopLineTokenizationAfter:t,stopRenderingLineAfter:i,renderWhitespace:f(n.renderWhitespace),longLineBoundary:g(n.longLineBoundary),hover:f(n.hover),contextmenu:f(n.contextmenu),mouseWheelScrollSensitivity:v(n.mouseWheelScrollSensitivity,1),quickSuggestions:f(n.quickSuggestions),quickSuggestionsDelay:g(n.quickSuggestionsDelay),iconsInSuggestions:f(n.iconsInSuggestions),autoClosingBrackets:f(n.autoClosingBrackets),formatOnType:f(n.formatOnType),suggestOnTriggerCharacters:f(n.suggestOnTriggerCharacters),selectionHighlight:f(n.selectionHighlight),outlineMarkers:f(n.outlineMarkers),referenceInfos:f(n.referenceInfos),lineHeight:u.lineHeight,pageSize:e,thinnestCharacterWidth:u.thinnestCharacterWidth,maxDigitWidth:u.maxDigitWidth,font:u.font,fontSize:u.fontSize,isDominatedByLongLines:this._isDominatedByLongLines}},t.prototype._createConfigurationChangedEvent=function(e){var t={observedOuterWidth:!1,observedOuterHeight:!1,lineHeight:!1,pageSize:!1,thinnestCharacterWidth:!1,maxDigitWidth:!1,font:!1,fontSize:!1,isDominatedByLongLines:!1,lineNumbers:!1,selectOnLineNumbers:!1,lineNumbersMinChars:!1,glyphMargin:!1,lineDecorationsWidth:!1,revealHorizontalRightPadding:!1,roundedSelection:!1,theme:!1,readOnly:!1,scrollbar:!1,overviewRulerLanes:!1,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!1,automaticLayout:!1,wrappingColumn:!1,wordWrapBreakBeforeCharacters:!1,wordWrapBreakAfterCharacters:!1,wordWrapBreakObtrusiveCharacters:!1,tabFocusMode:!1,stopLineTokenizationAfter:!1,stopRenderingLineAfter:!1,longLineBoundary:!1,forcedTokenizationBoundary:!1,hover:!1,contextmenu:!1,mouseWheelScrollSensitivity:!1,quickSuggestions:!1,quickSuggestionsDelay:!1,iconsInSuggestions:!1,autoClosingBrackets:!1,formatOnType:!1,suggestOnTriggerCharacters:!1,selectionHighlight:!1,outlineMarkers:!1,referenceInfos:!1};if(e.length>0)for(var n=0;n<e.length;n++)t[e[n]]=!0;return t},t.prototype.updateOptions=function(e){var t=o.deepClone(this.editor);this._configWithDefaults.updateOptions(e),this.editor=this._computeInternalOptions(this.editor.pageSize);var n=this._changedKeys(t,this.editor);this._computedIndentationOptions=null,n.length>0&&this.emit(d.EventType.ConfigurationChanged,this._createConfigurationChangedEvent(n))},t.prototype._changedKeys=function(e,t){for(var n=Object.keys(e),r=[],i=0,s=n.length;s>i;i++){var a=e[n[i]],l=t[n[i]];o.equals(a,l)||r.push(n[i])}return r},t.prototype._getEditorClassName=function(e){var t="";return r.browser.isIE11orEarlier?t+="ie ":r.browser.isFirefox&&(t+="ff "),r.browser.isIE9&&(t+="ie9 "),r.isMacintosh&&(t+="mac "),"monaco-editor "+t+e},t.prototype.getEditorStyling=function(){return{editorClassName:this._getEditorClassName(this.editor.theme),fontFamily:this.editor.requestedFontFamily,fontSize:this.editor.requestedFontSize,lineHeight:this.editor.adjustedLineHeight}},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this.editor.isDominatedByLongLines=e},t.prototype.resetIndentationOptions=function(){this._computedIndentationOptions=null},t.prototype._getValidatedIndentationOptions=function(){var e=this._configWithDefaults.getEditorOptions(),t={tabSizeIsAuto:!1,tabSize:4,insertSpacesIsAuto:!1,insertSpaces:!1};return"auto"===e.tabSize?t.tabSizeIsAuto=!0:t.tabSize=g(e.tabSize,1,20),"auto"===e.insertSpaces?t.insertSpacesIsAuto=!0:t.insertSpaces=f(e.insertSpaces),t},t.prototype._computeIndentationOptions=function(){var e=this._getValidatedIndentationOptions(),t=null;(e.tabSizeIsAuto||e.insertSpacesIsAuto)&&this._indentationGuesser&&(t=this._indentationGuesser(e.tabSize));var n={insertSpaces:e.insertSpaces,tabSize:e.tabSize};return t&&e.tabSizeIsAuto&&(n.tabSize=t.tabSize),t&&e.insertSpacesIsAuto&&(n.insertSpaces=t.insertSpaces),n},t.prototype.getIndentationOptions=function(){return this._computedIndentationOptions||(this._computedIndentationOptions=this._computeIndentationOptions()),this._computedIndentationOptions},t.prototype.getWrappingColumn=function(){return this.editor.isDominatedByLongLines&&this.editor.wrappingColumn>0?0:this.editor.wrappingColumn},t.prototype._normalizeIndentationFromWhitespace=function(e){var t,n=this.getIndentationOptions(),r=0;for(t=0;t<e.length;t++)"	"===e.charAt(t)?r+=n.tabSize:r++;var i="";if(!n.insertSpaces){var o=Math.floor(r/n.tabSize);for(r%=n.tabSize,t=0;o>t;t++)i+="	"}for(t=0;r>t;t++)i+=" ";return i},t.prototype.normalizeIndentation=function(e){var t=p.firstNonWhitespaceIndex(e);return-1===t&&(t=e.length),this._normalizeIndentationFromWhitespace(e.substring(0,t))+e.substring(t)},t.prototype.getOneIndent=function(){var e=this.getIndentationOptions();if(e.insertSpaces){for(var t="",n=0;n<e.tabSize;n++)t+=" ";return t}return"	"},t}(u.EventEmitter);t.Configuration=E;var S=function(){function e(){}return e.apply=function(t,n){if(t){var r=n;s.isArray(n)||(r=[n]);for(var i=0;i<r.length;i++){var o=r[i];if(o&&s.isFunction(o.updateOptions)){var a=o.getEditorType();switch(a){case d.EditorType.ICodeEditor:case d.EditorType.IDiffEditor:var l=t[e.EDITOR_SECTION];l&&(delete l.readOnly,o.updateOptions(l));break;case d.EditorType.ITerminal:var c=t[e.TERMINAL_SECTION];c&&o.updateOptions(c)}}}}},e.EDITOR_SECTION="editor",e.TERMINAL_SECTION="console",e}();t.EditorConfiguration=S;var T=a.Registry.as(l.Extensions.Configuration);T.registerConfiguration({id:"editor",order:5,type:"object",title:n.localize("vs_editor_core_config_configuration",0),properties:{"editor.fontFamily":{type:"string",default:i.Config.editor.fontFamily,description:n.localize("vs_editor_core_config_configuration",1)},"editor.fontSize":{type:"number",default:i.Config.editor.fontSize,description:n.localize("vs_editor_core_config_configuration",2)},"editor.lineHeight":{type:"number",default:i.Config.editor.lineHeight,description:n.localize("vs_editor_core_config_configuration",3)},"editor.lineNumbers":{type:"boolean",default:i.Config.editor.lineNumbers,description:n.localize("vs_editor_core_config_configuration",4)},"editor.glyphMargin":{type:"boolean",default:i.Config.editor.glyphMargin,description:n.localize("vs_editor_core_config_configuration",5)},"editor.tabSize":{oneOf:[{type:"number"},{type:"string",enum:["auto"]}],default:i.Config.editor.tabSize,minimum:1,description:n.localize("vs_editor_core_config_configuration",6)},"editor.insertSpaces":{oneOf:[{type:"boolean"},{type:"string",enum:["auto"]}],default:i.Config.editor.insertSpaces,description:n.localize("vs_editor_core_config_configuration",7)},"editor.roundedSelection":{type:"boolean",default:i.Config.editor.roundedSelection,description:n.localize("vs_editor_core_config_configuration",8)},"editor.scrollBeyondLastLine":{type:"boolean",default:i.Config.editor.scrollBeyondLastLine,description:n.localize("vs_editor_core_config_configuration",9)},"editor.wrappingColumn":{type:"integer",default:i.Config.editor.wrappingColumn,minimum:-1,description:n.localize("vs_editor_core_config_configuration",10)},"editor.mouseWheelScrollSensitivity":{type:"number",default:i.Config.editor.mouseWheelScrollSensitivity,description:n.localize("vs_editor_core_config_configuration",11)},"editor.quickSuggestions":{type:"boolean",default:i.Config.editor.quickSuggestions,description:n.localize("vs_editor_core_config_configuration",12)},"editor.quickSuggestionsDelay":{type:"integer",default:i.Config.editor.quickSuggestionsDelay,minimum:0,description:n.localize("vs_editor_core_config_configuration",13)},"editor.autoClosingBrackets":{type:"boolean",default:i.Config.editor.autoClosingBrackets,description:n.localize("vs_editor_core_config_configuration",14)},"editor.formatOnType":{type:"boolean",default:i.Config.editor.formatOnType,description:n.localize("vs_editor_core_config_configuration",15)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:i.Config.editor.suggestOnTriggerCharacters,description:n.localize("vs_editor_core_config_configuration",16)},"editor.selectionHighlight":{type:"boolean",default:i.Config.editor.selectionHighlight,description:n.localize("vs_editor_core_config_configuration",17)},"editor.overviewRulerLanes":{type:"integer",default:3,description:n.localize("vs_editor_core_config_configuration",18)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:i.Config.editor.hideCursorInOverviewRuler,description:n.localize("vs_editor_core_config_configuration",19)},"editor.renderWhitespace":{type:"boolean",default:i.Config.editor.renderWhitespace,description:n.localize("vs_editor_core_config_configuration",20)},"editor.referenceInfos":{type:"boolean",default:i.Config.editor.referenceInfos,description:n.localize("vs_editor_core_config_configuration",21)}}}),r.enableConsole&&T.registerConfiguration({id:"console",order:5,type:"object",title:n.localize("vs_editor_core_config_configuration",22),properties:{"console.lineNumbers":{type:"boolean",default:!1,description:n.localize("vs_editor_core_config_configuration",23)},"console.glyphMargin":{type:"boolean",default:!1,description:n.localize("vs_editor_core_config_configuration",24)},"console.roundedSelection":{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",25)},"console.wrappingColumn":{type:"integer",default:0,minimum:-1,description:n.localize("vs_editor_core_config_configuration",26)},"console.quickSuggestionsDelay":{type:"integer",default:50,minimum:0,description:n.localize("vs_editor_core_config_configuration",27)},"console.scrollBeyondLastLine":{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",28)},"console.hideCursorInOverviewRuler":{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",29)}}})
}),define("vs/editor/core/position",["require","exports"],function(e,t){function n(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}function r(e){return e?[0|e.lineNumber,0|e.column]:[-1,-1]}function i(e){return-1===e[0]&&-1===e[1]?null:new l(e[0],e[1])}function o(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i?(t[2*n+0]=0|i.lineNumber,t[2*n+1]=0|i.column):(t[2*n+0]=-1,t[2*n+1]=-1)}return t}function s(e){for(var t=[],n=0,r=Math.floor(e.length/2);r>n;n++)t[n]=-1===e[2*n+0]&&-1===e[2*n+1]?null:new l(e[2*n+0],e[2*n+1]);return t}t.isIPosition=n,t.serialize=r,t.deserialize=i,t.serializeMany=o,t.deserializeMany=s;var a;!function(e){function t(e){return{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column}}function n(e){return{lineNumber:e.startLineNumber,column:e.startColumn}}function r(e){return{lineNumber:e.endLineNumber,column:e.endColumn}}e.asEmptyRange=t,e.startPosition=n,e.endPosition=r}(a=t.PositionUtils||(t.PositionUtils={}));var l=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(e){return!!e&&this.lineNumber===e.lineNumber&&this.column===e.column},e.prototype.isBefore=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<e.column},e.prototype.isBeforeOrEqual=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<=e.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e}();t.Position=l}),define("vs/editor/core/range",["require","exports","vs/editor/core/position"],function(e,t,n){function r(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}function i(e){return e?[0|e.startLineNumber,0|e.startColumn,0|e.endLineNumber,0|e.endColumn]:[-1,-1,-1,-1]}function o(e){return-1===e[0]&&-1===e[1]&&-1===e[2]&&-1===e[3]?null:new w(e[0],e[1],e[2],e[3])}function s(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i?(t[4*n+0]=0|i.startLineNumber,t[4*n+1]=0|i.startColumn,t[4*n+2]=0|i.endLineNumber,t[4*n+3]=0|i.endColumn):(t[4*n+0]=-1,t[4*n+1]=-1,t[4*n+2]=-1,t[4*n+3]=-1)}return t}function a(e){for(var t=[],n=0,r=Math.floor(e.length/4);r>n;n++)t[n]=-1===e[4*n+0]&&-1===e[4*n+1]&&-1===e[4*n+2]&&-1===e[4*n+3]?null:new w(e[4*n+0],e[4*n+1],e[4*n+2],e[4*n+3]);return t}function l(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}function c(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0}function u(e,t){return t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber?!1:t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber?!1:t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn?!1:t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn?!1:!0}function d(e,t){return e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn?!1:t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn?!1:!0}function p(e,t){var n=e.startLineNumber,r=e.startColumn,i=e.endLineNumber,o=e.endColumn,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;return s>n?(n=s,r=a):n===s&&(r=Math.max(r,a)),i>l?(i=l,o=c):i===l&&(o=Math.min(o,c)),n>i?null:n===i&&r>o?null:new w(n,r,i,o)}function h(e,t){var n,r,i,o;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(i=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(i=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(i=e.endLineNumber,o=e.endColumn),new w(n,r,i,o)}function m(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}function f(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn===t.startColumn?e.endLineNumber===t.endLineNumber?e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber:e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber}function v(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}function g(e){return e.endLineNumber>e.startLineNumber}function b(e){return 17*e.startLineNumber+23*e.startColumn+29*e.endLineNumber+37*e.endColumn}function y(e){return{startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.startLineNumber,endColumn:e.startColumn}}function _(e){return e?new w(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}t.isIRange=r,t.serialize=i,t.deserialize=o,t.serializeMany=s,t.deserializeMany=a,t.isEmpty=l,t.containsPosition=c,t.containsRange=u,t.areIntersectingOrTouching=d,t.intersectRanges=p,t.plusRange=h,t.equalsRange=m,t.compareRangesUsingStarts=f,t.compareRangesUsingEnds=v,t.spansMultipleLines=g,t.hashCode=b,t.collapseToStart=y;var w=function(){function e(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}return e.prototype.isEmpty=function(){return l(this)},e.prototype.containsPosition=function(e){return c(this,e)},e.prototype.containsRange=function(e){return u(this,e)},e.prototype.plusRange=function(e){return h(this,e)},e.prototype.intersectRanges=function(e){return p(this,e)},e.prototype.equalsRange=function(e){return m(this,e)},e.prototype.getEndPosition=function(){return new n.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new n.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return new e(this.startLineNumber,this.startColumn,this.startLineNumber,this.startColumn)},e}();t.Range=w,t.create=_});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/selection",["require","exports","vs/editor/core/range","vs/editor/editor"],function(e,t,n,r){function i(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}function o(e){return e?[0|e.selectionStartLineNumber,0|e.selectionStartColumn,0|e.positionLineNumber,0|e.positionColumn]:[-1,-1,-1,-1]}function s(e){return-1===e[0]&&-1===e[1]&&-1===e[2]&&-1===e[3]?null:new d(e[0],e[1],e[2],e[3])}function a(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i?(t[4*n+0]=0|i.selectionStartLineNumber,t[4*n+1]=0|i.selectionStartColumn,t[4*n+2]=0|i.positionLineNumber,t[4*n+3]=0|i.positionColumn):(t[4*n+0]=-1,t[4*n+1]=-1,t[4*n+2]=-1,t[4*n+3]=-1)}return t}function l(e){for(var t=[],n=0,r=Math.floor(e.length/4);r>n;n++)t[n]=-1===e[4*n+0]&&-1===e[4*n+1]&&-1===e[4*n+2]&&-1===e[4*n+3]?null:new d(e[4*n+0],e[4*n+1],e[4*n+2],e[4*n+3]);return t}function c(e){return new d(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}function u(e,t,n,i,o){return o===r.SelectionDirection.LTR?new d(e,t,n,i):new d(n,i,e,t)}t.isISelection=i,t.serialize=o,t.deserialize=s,t.serializeMany=a,t.deserializeMany=l,t.create=c,t.createWithDirection=u;var d=function(e){function t(t,n,r,i){this.selectionStartLineNumber=t,this.selectionStartColumn=n,this.positionLineNumber=r,this.positionColumn=i,e.call(this,t,n,r,i)}return __extends(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.equalsSelection=function(e){return this.selectionStartLineNumber===e.selectionStartLineNumber&&this.selectionStartColumn===e.selectionStartColumn&&this.positionLineNumber===e.positionLineNumber&&this.positionColumn===e.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?r.SelectionDirection.LTR:r.SelectionDirection.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===r.SelectionDirection.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===r.SelectionDirection.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t}(n.Range);t.Selection=d}),define("vs/editor/core/command/shiftCommand",["require","exports","vs/editor/core/range"],function(e,t,n){var r=function(){function e(e,t,n){this._configuration=e,this._isUnshift=t,this._selection=n}return e.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,i=this._selection.endLineNumber;1===this._selection.endColumn&&r!==i&&(i-=1);var o;if(this._isUnshift){var s=this._configuration.getIndentationOptions().tabSize;for(o=r;i>=o;o++){var a,l=e.getLineContent(o);if("	"===l.charAt(0))a=1;else for(a=0;a<l.length&&s>a;a++){if("	"===l.charAt(a)){a++;break}if(" "!==l.charAt(a))break}0!==a&&t.addEditOperation(new n.Range(o,1,o,a+1),null)}}else{var c=this._configuration.getOneIndent();for(o=r;i>=o;o++)t.addEditOperation(new n.Range(o,1,o,1),c)}this._selectionId=t.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.ShiftCommand=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/command/replaceCommand",["require","exports","vs/editor/core/selection"],function(e,t,n){var r=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getText=function(){return this._text},e.prototype.getRange=function(){return this._range},e.prototype.setRange=function(e){this._range=e},e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new n.Selection(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},e}();t.ReplaceCommand=r;var i=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new n.Selection(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},t}(r);t.ReplaceCommandWithoutChangingPosition=i;var o=function(e){function t(t,n,r,i){e.call(this,t,n),this._columnDeltaOffset=i,this._lineNumberDeltaOffset=r}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new n.Selection(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},t}(r);t.ReplaceCommandWithOffsetCursorState=o;var s=function(e){function t(t,n,r){e.call(this,t,n),this._initialSelection=r}return __extends(t,e),t.prototype.getEditOperations=function(t,n){e.prototype.getEditOperations.call(this,t,n),this._selectionId=n.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},t}(r);t.ReplaceCommandThatPreservesSelection=s}),define("vs/editor/core/command/surroundSelectionCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){var i=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(new n.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addEditOperation(new n.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range,o=n[1].range;return new r.Selection(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=i}),define("vs/editor/core/controller/cursorMoveHelper",["require","exports"],function(e,t){var n=function(){function e(e){this.configuration=e}return e.prototype.getLeftOfPosition=function(e,t,n){return n>1?n-=1:t>1&&(t-=1,n=e.getLineMaxColumn(t)),{lineNumber:t,column:n}},e.prototype.getRightOfPosition=function(e,t,n){return n<e.getLineMaxColumn(t)?n+=1:t<e.getLineCount()&&(t+=1,n=1),{lineNumber:t,column:n}},e.prototype.getPositionUp=function(e,t,n,r,i){var o=this.visibleColumnFromColumn(e,t,n)+r;return t-=i,1>t?(t=1,n=1):n=this.columnFromVisibleColumn(e,t,o),r=o-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:r}},e.prototype.getPositionDown=function(e,t,n,r,i){var o=this.visibleColumnFromColumn(e,t,n)+r;t+=i;var s=e.getLineCount();return t>s?(t=s,n=e.getLineMaxColumn(t)):n=this.columnFromVisibleColumn(e,t,o),r=o-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:r}},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){var r=e.getLineFirstNonWhitespaceColumn(t)||1;return n=1!==n&&r>=n?1:r},e.prototype.getColumnAtEndOfLine=function(e,t,n){var r=e.getLineMaxColumn(t),i=e.getLineLastNonWhitespaceColumn(t)||r;return n=n!==r&&n>=i?r:i},e.prototype.visibleColumnFromColumn=function(t,n,r){return e.visibleColumnFromColumn(t,n,r,this.configuration.getIndentationOptions().tabSize)},e.visibleColumnFromColumn=function(t,n,r,i){for(var o=t.getLineContent(n),s=0,a=0;r-1>a;a++)s="	"===o.charAt(a)?e.nextTabColumn(s,i):s+1;return s},e.prototype.columnFromVisibleColumn=function(t,n,r){for(var i=t.getLineContent(n),o=-1,s=0,a=0;a<i.length&&r>=s;a++)o=s,s="	"===i.charAt(a)?e.nextTabColumn(s,this.configuration.getIndentationOptions().tabSize):s+1;return s=Math.abs(r-s),o=Math.abs(r-o),o>s?a+1:a},e.nextTabColumn=function(e,t){return e+t-e%t},e}();t.ModelCursorMoveHelper=n}),define("vs/editor/core/controller/oneCursor",["require","exports","vs/base/env","vs/editor/editor","vs/base/strings","vs/editor/modes/modes","vs/editor/core/position","vs/editor/core/range","vs/editor/core/command/shiftCommand","vs/editor/core/command/replaceCommand","vs/editor/core/command/surroundSelectionCommand","vs/editor/core/selection","vs/base/errors","vs/editor/core/controller/cursorMoveHelper"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(){function e(e,t,n,r,i){this.editorId=e,this.model=t,this.configuration=n,this.modeConfiguration=r,this.viewModelHelper=i,this.helper=new f(this.model,this.configuration),this.position=new s.Position(1,1),this.viewPosition=new s.Position(1,1),this.positionMarkerId=null,this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this.selStartMarkerId=null,this.selEndMarkerId=null,this.leftoverVisibleColumns=0,this.selectionStartLeftoverVisibleColumns=0,this.bracketDecorations=[],this._cachedSelection=null,this._cachedViewSelection=null,this._stopSelectionMode(),this._setPosition(1,1,1,1,0)}return e.prototype.updateModeConfiguration=function(e){this.modeConfiguration=e},e.prototype.duplicate=function(){var t=new e(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);return t.setSelection(this.getSelection()),t.leftoverVisibleColumns=this.leftoverVisibleColumns,t.selectionStartLeftoverVisibleColumns=this.selectionStartLeftoverVisibleColumns,t},e.prototype.dispose=function(){this.positionMarkerId&&(this.model._removeMarker(this.positionMarkerId),this.positionMarkerId=null),this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},e.prototype.adjustBracketDecorations=function(){var e=null,t=this.getSelection();t.isEmpty()&&(e=this.model.matchBracket(this.position,!0));var n=[];if(e&&e.brackets){var i={stickiness:r.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:"bracket-match"};n.push({range:e.brackets[0],options:i}),n.push({range:e.brackets[1],options:i})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,n,this.editorId)},e.computeSelection=function(e,t,n){var r,i,o,s;return e?t.isEmpty()?(r=t.startLineNumber,i=t.startColumn,o=n.lineNumber,s=n.column):n.isBeforeOrEqual(t.getStartPosition())?(r=t.endLineNumber,i=t.endColumn,o=n.lineNumber,s=n.column):(r=t.startLineNumber,i=t.startColumn,o=n.lineNumber,s=n.column):(r=n.lineNumber,i=n.column,o=n.lineNumber,s=n.column),new d.Selection(r,i,o,s)},e.prototype.getSelection=function(){return this._cachedSelection||(this._cachedSelection=e.computeSelection(this.inSelectionMode,this.selectionStart,this.position)),this._cachedSelection},e.prototype.getViewSelection=function(){return this._cachedViewSelection||(this._cachedViewSelection=e.computeSelection(this.inSelectionMode,this.viewSelectionStart,this.viewPosition)),this._cachedViewSelection},e.prototype.setSelection=function(e){var t=this.model.validatePosition({lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn}),n=this.model.validatePosition({lineNumber:e.positionLineNumber,column:e.positionColumn});t.equals(n)?this._stopSelectionMode():this._startSelectionModeFromPosition(t,this.viewModelHelper.convertModelPositionToViewPosition(t.lineNumber,t.column));var r=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);this._setPosition(n.lineNumber,n.column,r.lineNumber,r.column)},e.prototype.getPosition=function(){return this.position},e.prototype.getViewPosition=function(){return this.viewPosition},e.prototype._getValidViewPosition=function(){return this.viewModelHelper.validateViewPosition(this.viewPosition.lineNumber,this.viewPosition.column,this.position)},e.prototype._setPosition=function(e,t,n,r,i){void 0===i&&(i=0),this.inSelectionMode&&this.viewSelectionStart.isEmpty()&&this.viewSelectionStart.startLineNumber===n&&this.viewSelectionStart.startColumn===r&&this._stopSelectionMode(),this.position=new s.Position(e,t),this.viewPosition=new s.Position(n,r),this.leftoverVisibleColumns=i,this.selectionStartLeftoverVisibleColumns=0,this._cachedSelection=null,this._cachedViewSelection=null,this.positionMarkerId?this.model._changeMarker(this.positionMarkerId,this.position.lineNumber,this.position.column):this.positionMarkerId=this.model._addMarker(this.position.lineNumber,this.position.column,!0)},e.prototype._startSelectionModeFromPosition=function(e,t){this.inSelectionMode=!0,this.selectionStart=new a.Range(e.lineNumber,e.column,e.lineNumber,e.column),this.viewSelectionStart=new a.Range(t.lineNumber,t.column,t.lineNumber,t.column),this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._startSelectionModeFromRange=function(e,t){this.inSelectionMode=!0,this.selectionStart=e,this.viewSelectionStart=t,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._stopSelectionMode=function(){this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._ensureSelectionMarkers=function(){this.inSelectionMode?(this.selStartMarkerId?this.model._changeMarker(this.selStartMarkerId,this.selectionStart.startLineNumber,this.selectionStart.startColumn):this.selStartMarkerId=this.model._addMarker(this.selectionStart.startLineNumber,this.selectionStart.startColumn,!0),this.selEndMarkerId?this.model._changeMarker(this.selEndMarkerId,this.selectionStart.endLineNumber,this.selectionStart.endColumn):this.selEndMarkerId=this.model._addMarker(this.selectionStart.endLineNumber,this.selectionStart.endColumn,!0)):(this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null))},e.prototype._moveModelPosition=function(e,t,n,r,i,o,s){var a=this.viewModelHelper.convertModelPositionToViewPosition(r,i);this._actualMove(e,t,n,r,i,a.lineNumber,a.column,o,s)},e.prototype._moveViewPosition=function(e,t,n,r,i,o,s){var a=this.viewModelHelper.convertViewToModelPosition(r,i);this._actualMove(e,t,n,a.lineNumber,a.column,r,i,o,s)},e.prototype._actualMove=function(e,t,n,r,i,o,s,a,l){if(t&&(e.cursorPositionChangeReason=t),n&&!this.inSelectionMode?this._startSelectionModeFromPosition(this.position,this.viewPosition):!n&&this.inSelectionMode&&this._stopSelectionMode(),l){var c=this.model.getEditableRange();r<c.startLineNumber||r===c.startLineNumber&&i<c.startColumn?(r=c.startLineNumber,i=c.startColumn):(r>c.endLineNumber||r===c.endLineNumber&&i>c.endColumn)&&(r=c.endLineNumber,i=c.endColumn)}this._setPosition(r,i,o,s,a)},e.prototype.recoverSelectionFromMarkers=function(e){e.cursorPositionChangeReason="recoverFromMarkers",e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.shouldReveal=!1,e.shouldRevealHorizontal=!1;var t=this.model._getMarker(this.positionMarkerId),n=new s.Position(t.lineNumber,t.column),r=null,i=null,o=null,l=null;if(this.selStartMarkerId&&this.selEndMarkerId){var c=this.model._getMarker(this.selStartMarkerId),u=this.model._getMarker(this.selEndMarkerId);if(r=new a.Range(c.lineNumber,c.column,u.lineNumber,u.column),r.isEmpty())o=new s.Position(r.startLineNumber,r.startColumn),r=null,o.equals(n)?o=null:l=this.viewModelHelper.convertModelPositionToViewPosition(o.lineNumber,o.column);else{var d=this.viewModelHelper.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn),p=this.viewModelHelper.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn);i=new a.Range(d.lineNumber,d.column,p.lineNumber,p.column)}}r?this._startSelectionModeFromRange(r,i):o?this._startSelectionModeFromPosition(o,l):this._stopSelectionMode();var h=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);return this._setPosition(n.lineNumber,n.column,h.lineNumber,h.column),!0},e.prototype.jumpToBracket=function(e){var t=this.bracketDecorations.length;if(2!==t)return!1;for(var n=0;2>n;n++){var r=this.model.getDecorationRange(this.bracketDecorations[n]),i=this.model.getDecorationRange(this.bracketDecorations[1-n]);if(v.isPositionAtRangeEdges(this.position,r)||v.isPositionInsideRange(this.position,r))return this._moveModelPosition(e,null,!1,i.startLineNumber,i.startColumn,0,!1),!0}return!1},e.prototype.moveTo=function(e,t,n,r,i){var o,s=this.model.validatePosition(t);o=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,s):this.viewModelHelper.convertModelPositionToViewPosition(s.lineNumber,s.column);var a="mouse"===r?"explicit":null;return"api"===r&&(i.shouldRevealVerticalInCenter=!0),this._moveViewPosition(i,a,e,o.lineNumber,o.column,0,!1),!0},e.prototype.moveLeft=function(e,t){var n,r;if(this.inSelectionMode&&!e){var i=this.getViewSelection(),o=this.viewModelHelper.validateViewPosition(i.startLineNumber,i.startColumn,this.getSelection().getStartPosition());n=o.lineNumber,r=o.column}else{var s=this._getValidViewPosition(),a=this.helper.getLeftOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,r=a.column}return this._moveViewPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveWordLeft=function(e,t){var n=this.position.lineNumber,r=this.position.column,i=!1;1===r&&n>1&&(i=!0,n-=1,r=this.model.getLineMaxColumn(n));var o=this.helper.findWord(new s.Position(n,r),"left",!0);return r=o?o.start+1:1,this._moveModelPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveRight=function(e,t){var n,r;if(this.inSelectionMode&&!e){var i=this.getViewSelection(),o=this.viewModelHelper.validateViewPosition(i.endLineNumber,i.endColumn,this.getSelection().getEndPosition());n=o.lineNumber,r=o.column}else{var s=this._getValidViewPosition(),a=this.helper.getRightOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,r=a.column}return this._moveViewPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveWordRight=function(e,t){var n=this.position.lineNumber,r=this.position.column,i=!1;r===this.model.getLineMaxColumn(n)&&n<this.model.getLineCount()&&(i=!0,n+=1,r=1);var o=this.helper.findWord(new s.Position(n,r),"right",!0);return r=o?o.end+1:this.model.getLineMaxColumn(n),this._moveModelPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveDown=function(e,t,n){var r,i,o=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.endLineNumber,s.endColumn,this.getSelection().getEndPosition());r=a.lineNumber,i=a.column}else{var l=this._getValidViewPosition();r=l.lineNumber,i=l.column}var c=this.helper.getPositionDown(this.viewModelHelper.viewModel,r,i,this.leftoverVisibleColumns,o);return this._moveViewPosition(n,"explicit",e,c.lineNumber,c.column,c.leftoverVisibleColumns,!0),!0},e.prototype.translateDown=function(e){var t=this.getViewSelection(),n=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var r=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,r.lineNumber,r.column,r.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveUp=function(e,t,n){var r,i,o=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.startLineNumber,s.startColumn,this.getSelection().getStartPosition());r=a.lineNumber,i=a.column}else{var l=this._getValidViewPosition();r=l.lineNumber,i=l.column}var c=this.helper.getPositionUp(this.viewModelHelper.viewModel,r,i,this.leftoverVisibleColumns,o);return this._moveViewPosition(n,"explicit",e,c.lineNumber,c.column,c.leftoverVisibleColumns,!0),!0},e.prototype.translateUp=function(e){var t=this.getViewSelection(),n=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var r=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,r.lineNumber,r.column,r.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveToBeginningOfLine=function(e,t){var n=this._getValidViewPosition(),r=n.lineNumber,i=n.column;return i=this.helper.getColumnAtBeginningOfLine(this.viewModelHelper.viewModel,r,i),this._moveViewPosition(t,"explicit",e,r,i,0,!0),!0},e.prototype.moveToEndOfLine=function(e,t){var n=this._getValidViewPosition(),r=n.lineNumber,i=n.column;return i=this.helper.getColumnAtEndOfLine(this.viewModelHelper.viewModel,r,i),this._moveViewPosition(t,"explicit",e,r,i,0,!0),!0},e.prototype.moveToBeginningOfBuffer=function(e,t){return this._moveModelPosition(t,"explicit",e,1,1,0,!0),!0},e.prototype.moveToEndOfBuffer=function(e,t){var n=this.model.getLineCount(),r=this.model.getLineMaxColumn(n);return this._moveModelPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.selectAll=function(e){var t,n,r,i,o=!0;if(this.model.hasEditableRange()){var s=this.model.getEditableRange(),a=this.getSelection();a.equalsRange(s)||(o=!1,t=s.startLineNumber,n=s.startColumn,r=s.endLineNumber,i=s.endColumn)}return o&&(t=1,n=1,r=this.model.getLineCount(),i=this.model.getLineMaxColumn(r)),this._moveModelPosition(e,null,!1,t,n,0,!1),this._moveModelPosition(e,null,!0,r,i,0,!1),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},e.prototype.line=function(e,t,n,r){var i,o=this.model.validatePosition(t);i=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,o):this.viewModelHelper.convertModelPositionToViewPosition(o.lineNumber,o.column);var s,l;if(e&&this.inSelectionMode)s=i.lineNumber,l=o.isBeforeOrEqual(this.selectionStart.getStartPosition())?1:this.viewModelHelper.viewModel.getLineMaxColumn(s);else{var c=new a.Range(i.lineNumber,1,i.lineNumber,this.viewModelHelper.viewModel.getLineMaxColumn(i.lineNumber)),u=this.viewModelHelper.convertViewToModelPosition(c.startLineNumber,c.startColumn),d=this.viewModelHelper.convertViewToModelPosition(c.endLineNumber,c.endColumn);this._startSelectionModeFromRange(new a.Range(u.lineNumber,u.column,d.lineNumber,d.column),c),s=c.endLineNumber,l=c.endColumn}r.cursorPositionChangeReason="explicit",r.shouldRevealHorizontal=!1;var p=this.viewModelHelper.convertViewToModelPosition(s,l);return this._setPosition(p.lineNumber,p.column,s,l,0),!0},e.prototype.word=function(e,t,n,r){var i,o,s,l,c=this.model.validatePosition(t),u=this.helper.findWord(c,n);if(e&&this.inSelectionMode)i=u?u.start+1:c.column,o=u?u.end+1:c.column,s=c.lineNumber,l=c.isBeforeOrEqual(this.selectionStart.getStartPosition())?i:o;else{if(u)i=u.start+1,o=u.end+1;else{var d=this.model.getLineMaxColumn(c.lineNumber);c.column===d||"left"===n?(i=c.column-1,o=c.column):(i=c.column,o=c.column+1),1>=i&&(i=1),o>=d&&(o=d)}var p=new a.Range(c.lineNumber,i,c.lineNumber,o),h=this.viewModelHelper.convertModelPositionToViewPosition(c.lineNumber,i),m=this.viewModelHelper.convertModelPositionToViewPosition(c.lineNumber,o);this._startSelectionModeFromRange(p,new a.Range(h.lineNumber,h.column,m.lineNumber,m.column)),s=p.endLineNumber,l=p.endColumn}r.cursorPositionChangeReason="explicit";var f=this.viewModelHelper.convertModelPositionToViewPosition(s,l);return this._setPosition(s,l,f.lineNumber,f.column,0),!0},e.prototype.cancelSelection=function(){return this.inSelectionMode?(this._stopSelectionMode(),!0):!1},e.prototype._typeInterceptorEnter=function(e,t){return"\n"!==e?!1:this._enter(!1,t)},e.prototype.lineInsertBefore=function(e){var t=this.position.lineNumber,n=0;return t>1&&(t--,n=this.model.getLineMaxColumn(t)),this._enter(!1,e,new s.Position(t,n),new a.Range(t,n,t,n))},e.prototype.lineInsertAfter=function(e){var t=this.model.getLineMaxColumn(this.position.lineNumber);return this._enter(!1,e,new s.Position(this.position.lineNumber,t),new a.Range(this.position.lineNumber,t,this.position.lineNumber,t))},e.prototype.lineBreakInsert=function(e){return this._enter(!0,e)},e.prototype._enter=function(e,t,n,r){void 0===n&&(n=this.position),void 0===r&&(r=this.getSelection()),t.shouldPushStackElementBefore=!0;var s,a=this.model.getLineContent(n.lineNumber),l=this.model.getLineContext(n.lineNumber);if(this.model.getMode().electricCharacterSupport)try{s=this.model.getMode().electricCharacterSupport.onEnter(l,n.column-1)}catch(u){p.onUnexpectedError(u)}var d=i.getLeadingWhitespace(a);
if(d.length>n.column-1&&(d=d.substring(0,n.column-1)),s?s.appendText?-1===i.firstNonWhitespaceIndex(s.appendText)&&(s.appendText=s.appendText):s.appendText=s.indentAction===o.IndentAction.None?"":"	":s={indentAction:o.IndentAction.None,appendText:""},s.indentAction===o.IndentAction.None)this.actualType("\n"+this.helper.normalizeIndentation(d+s.appendText),e,t,r);else if(s.indentAction===o.IndentAction.Indent)this.actualType("\n"+this.helper.normalizeIndentation(d+s.appendText),e,t,r);else if(s.indentAction===o.IndentAction.IndentOutdent){var h=this.helper.normalizeIndentation(d),m=this.helper.normalizeIndentation(d+s.appendText),f="\n"+m+"\n"+h;t.executeCommand=e?new c.ReplaceCommandWithoutChangingPosition(r,f):new c.ReplaceCommandWithOffsetCursorState(r,f,-1,m.length-h.length)}return!0},e.prototype._typeInterceptorAutoClosingCloseChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsClose.hasOwnProperty(e))return!1;var r=this.model.getLineContent(this.position.lineNumber),i=r[this.position.column-1];if(i!==e)return!1;var o=new a.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column+1);return t.executeCommand=new c.ReplaceCommand(o,e),!0},e.prototype._typeInterceptorAutoClosingOpenChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(e))return!1;if(!this.model.getMode().characterPairSupport)return!1;var r=this.model.getLineContent(this.position.lineNumber),i=r[this.position.column-1];if(i){var o=!1;for(var s in this.modeConfiguration.autoClosingPairsClose)if(i===s){o=!0;break}if(!o&&!/\s/.test(i))return!1}var a=this.model.getLineContext(this.position.lineNumber),l=!1;try{l=this.model.getMode().characterPairSupport.shouldAutoClosePair(e,a,this.position.column-1)}catch(u){p.onUnexpectedError(u)}if(!l)return!1;t.shouldPushStackElementBefore=!0;var d=this.modeConfiguration.autoClosingPairsOpen[e];return t.executeCommand=new c.ReplaceCommandWithOffsetCursorState(n,e+d,0,-d.length),!0},e.prototype._typeInterceptorSurroundSelection=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(n.isEmpty()||!this.modeConfiguration.surroundingPairs.hasOwnProperty(e))return!1;var r,i,o,s,a,l,c=!0,d="	".charCodeAt(0),p=" ".charCodeAt(0);for(r=n.startLineNumber;r<=n.endLineNumber;r++)for(l=this.model.getLineContent(r),i=r===n.startLineNumber?n.startColumn-1:0,o=r===n.endLineNumber?n.endColumn-1:l.length,s=i;o>s;s++)a=l.charCodeAt(s),a!==d&&a!==p&&(c=!1,r=n.endLineNumber+1,s=o);if(c)return!1;var h=this.modeConfiguration.surroundingPairs[e];return t.shouldPushStackElementBefore=!0,t.shouldPushStackElementAfter=!0,t.executeCommand=new u.SurroundSelectionCommand(n,e,h),!0},e.prototype._typeInterceptorElectricChar=function(e,t){var n=this;return this.modeConfiguration.electricChars.hasOwnProperty(e)?(t.postOperationRunnable=function(e){return n._typeInterceptorElectricCharRunnable(e)},this.actualType(e,!1,t)):!1},e.prototype._typeInterceptorElectricCharRunnable=function(e){var t,n=this.model.getLineContent(this.position.lineNumber),r=this.model.getLineContext(this.position.lineNumber);if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.onElectricCharacter(r,this.position.column-2)}catch(o){p.onUnexpectedError(o)}if(t){var s=t.matchBracketType,l=t.appendText;if(s){var u=null;if(s&&(u=this.model.findMatchingBracketUp(s,this.position)),u){var d=u.startLineNumber,h=this.model.getLineContent(d),m=i.getLeadingWhitespace(h),f=this.helper.normalizeIndentation(m),v=this.model.getLineFirstNonWhitespaceColumn(this.position.lineNumber)||this.position.column,g=n.substring(0,v-1);if(g!==f){var b=n.substring(v-1,this.position.column-1),y=f+b,_=new a.Range(this.position.lineNumber,1,this.position.lineNumber,this.position.column);e.shouldPushStackElementAfter=!0,e.executeCommand=new c.ReplaceCommand(_,y)}}}else if(l){var w=-l.length;t.advanceCount&&(w+=t.advanceCount),e.shouldPushStackElementAfter=!0,e.executeCommand=new c.ReplaceCommandWithOffsetCursorState(this.getSelection(),l,0,w)}}},e.prototype.actualType=function(e,t,n,r){return void 0===r&&(r=this.getSelection()),n.executeCommand=t?new c.ReplaceCommandWithoutChangingPosition(r,e):new c.ReplaceCommand(r,e),!0},e.prototype.type=function(e,t){return this._typeInterceptorEnter(e,t)?!0:this._typeInterceptorAutoClosingCloseChar(e,t)?!0:this._typeInterceptorAutoClosingOpenChar(e,t)?!0:this._typeInterceptorSurroundSelection(e,t)?!0:this._typeInterceptorElectricChar(e,t)?!0:this.actualType(e,!1,t)},e.prototype.replacePreviousChar=function(e,t){var n,r=this.getPosition();return n=r.column>1?new a.Range(r.lineNumber,r.column-1,r.lineNumber,r.column):new a.Range(r.lineNumber,r.column,r.lineNumber,r.column),t.executeCommand=new c.ReplaceCommand(n,e),!0},e.prototype.tab=function(e){var t=this.getSelection();if(t.isEmpty()){var n="";if(this.configuration.getIndentationOptions().insertSpaces)for(var r=this.helper.nextTabColumn(this.position.column-1),i=this.position.column;r>=i;i++)n+=" ";else n="	";e.executeCommand=new c.ReplaceCommand(t,n)}else e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,this.indent(e);return!0},e.prototype.indent=function(e){var t=this.getSelection();return e.executeCommand=new l.ShiftCommand(this.configuration,!1,t),e.shouldRevealHorizontal=!1,!0},e.prototype.outdent=function(e){var t=this.getSelection();return e.executeCommand=new l.ShiftCommand(this.configuration,!0,t),e.shouldRevealHorizontal=!1,!0},e.prototype.paste=function(e,t,n){if(n.cursorPositionChangeReason="paste",t&&"\n"===e.charAt(e.length-1)&&e.indexOf("\n")===e.length-1){var r=new a.Range(this.position.lineNumber,1,this.position.lineNumber,1);return n.executeCommand=new c.ReplaceCommand(r,e),!0}return n.executeCommand=new c.ReplaceCommand(this.getSelection(),e),!0},e.prototype._autoClosingPairDelete=function(e){if(!this.configuration.editor.autoClosingBrackets)return!1;var t=this.model.getLineContent(this.position.lineNumber),n=t[this.position.column-2];if(!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(n))return!1;var r=t[this.position.column-1],i=this.modeConfiguration.autoClosingPairsOpen[n];if(r!==i)return!1;var o=new a.Range(this.position.lineNumber,this.position.column-1,this.position.lineNumber,this.position.column+1);return e.executeCommand=new c.ReplaceCommand(o,""),!0},e.prototype.deleteLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getLeftOfPosition(this.model,this.position.lineNumber,this.position.column);t=new a.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new c.ReplaceCommand(t,""),!0)},e.prototype.deleteWordLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,r=this.position.column;if(1===n&&1===r)return!0;var i=this.helper.findWord(this.position,"left",!0);r=i?i.end+1<r?i.end+1:i.start+1:1;var o=new a.Range(n,r,n,this.position.column);if(!o.isEmpty())return e.executeCommand=new c.ReplaceCommand(o,""),!0}return this.deleteLeft(e)},e.prototype.deleteRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getRightOfPosition(this.model,this.position.lineNumber,this.position.column);t=new a.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new c.ReplaceCommand(t,""),!0)},e.prototype.deleteWordRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,r=this.position.column,i=this.model.getLineCount(),o=this.model.getLineMaxColumn(n);if(n===i&&r===o)return!0;var l=this.helper.findWord(new s.Position(n,r),"right",!0);r=l?l.start+1>r?l.start+1:l.end+1:o;var u=new a.Range(n,r,n,this.position.column);if(!u.isEmpty())return e.executeCommand=new c.ReplaceCommand(u,""),!0}return this.deleteRight(e)},e.prototype.deleteAllLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,r=this.position.column;if(1===r)return!0;var i=new a.Range(n,1,n,r);if(!i.isEmpty())return e.executeCommand=new c.ReplaceCommand(i,""),!0}return this.deleteLeft(e)},e.prototype.deleteAllRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,r=this.position.column,i=this.model.getLineMaxColumn(n);if(r===i)return!0;var o=new a.Range(n,r,n,i);if(!o.isEmpty())return e.executeCommand=new c.ReplaceCommand(o,""),!0}return this.deleteRight(e)},e.prototype.cut=function(e){var t=this.getSelection();if(t.isEmpty()){if(!n.enableEmptySelectionClipboard)return!1;var r=this.position.lineNumber,i=1,o=this.position.lineNumber+1,s=1;o>this.model.getLineCount()&&(o--,s=this.model.getLineMaxColumn(o));var l=new a.Range(r,i,o,s);l.isEmpty()||(e.executeCommand=new c.ReplaceCommand(l,""))}else this.deleteRight(e);return!0},e}();t.OneCursor=m;var f=function(){function e(e,t){this.model=e,this.configuration=t,this.moveHelper=new h.ModelCursorMoveHelper(this.configuration)}return e.prototype.getLeftOfPosition=function(e,t,n){return this.moveHelper.getLeftOfPosition(e,t,n)},e.prototype.getRightOfPosition=function(e,t,n){return this.moveHelper.getRightOfPosition(e,t,n)},e.prototype.getPositionUp=function(e,t,n,r,i){return this.moveHelper.getPositionUp(e,t,n,r,i)},e.prototype.getPositionDown=function(e,t,n,r,i){return this.moveHelper.getPositionDown(e,t,n,r,i)},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){return this.moveHelper.getColumnAtBeginningOfLine(e,t,n)},e.prototype.getColumnAtEndOfLine=function(e,t,n){return this.moveHelper.getColumnAtEndOfLine(e,t,n)},e.prototype.normalizeIndentation=function(e){return this.configuration.normalizeIndentation(e)},e.prototype.nextTabColumn=function(e){return e+this.configuration.getIndentationOptions().tabSize-e%this.configuration.getIndentationOptions().tabSize},e.prototype.findWord=function(e,t,n){void 0===n&&(n=!1);var r,i,o,s=this.model.getWords(e.lineNumber,n,!0);if(n){if(r=e.column-1,"left"===t){for(i=s.length-1;i>=0;i--)if(!(s[i].start>=r))return s[i]}else for(i=0,o=s.length;o>i;i++)if(!(s[i].end<=r))return s[i]}else for(r=e.column,"left"===t?1!==r&&(r-=.1):r!==this.model.getLineMaxColumn(e.lineNumber)&&(r+=.1),r-=1,i=0,o=s.length;o>i;i++)if(s[i].start<=r&&r<=s[i].end)return s[i];return null},e}(),v=function(){function e(){}return e.rangeContainsPosition=function(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0},e.isPositionInsideRange=function(e,t){return e.lineNumber<t.startLineNumber?!1:e.lineNumber>t.endLineNumber?!1:e.lineNumber===t.startLineNumber&&e.column<t.startColumn?!1:e.lineNumber===t.endLineNumber&&e.column>t.endColumn?!1:!0},e.isPositionAtRangeEdges=function(e,t){return e.lineNumber===t.startLineNumber&&e.column===t.startColumn?!0:e.lineNumber===t.endLineNumber&&e.column===t.endColumn?!0:!1},e}()}),define("vs/editor/core/controller/cursorCollection",["require","exports","vs/editor/core/controller/oneCursor","vs/editor/core/selection","vs/base/errors"],function(e,t,n,r,i){var o=function(){function e(e,t,r,i){this.editorId=e,this.model=t,this.configuration=r,this.viewModelHelper=i,this.modeConfiguration=this.getModeConfiguration(),this.primaryCursor=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},e.prototype.updateMode=function(){var e=this;this.modeConfiguration=this.getModeConfiguration(),this.getAll().forEach(function(t){t.updateModeConfiguration(e.modeConfiguration)})},e.prototype.getAll=function(){var e=[];return e.push(this.primaryCursor),e=e.concat(this.secondaryCursors)},e.prototype.getPosition=function(e){return 0===e?this.primaryCursor.getPosition():this.secondaryCursors[e-1].getPosition()},e.prototype.getViewPosition=function(e){return 0===e?this.primaryCursor.getViewPosition():this.secondaryCursors[e-1].getViewPosition()},e.prototype.getPositions=function(){var e=[];e.push(this.primaryCursor.getPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getPosition());return e},e.prototype.getViewPositions=function(){var e=[];e.push(this.primaryCursor.getViewPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewPosition());return e},e.prototype.getSelection=function(e){return 0===e?this.primaryCursor.getSelection():this.secondaryCursors[e-1].getSelection()},e.prototype.getSelections=function(){var e=[];e.push(this.primaryCursor.getSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getSelection());return e},e.prototype.getViewSelections=function(){var e=[];e.push(this.primaryCursor.getViewSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewSelection());return e},e.prototype.setSelections=function(e){this.primaryCursor.setSelection(e[0]),this._setSecondarySelections(e.slice(1))},e.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([])>0},e.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var e=0,t=this.secondaryCursors.length;t>e;e++)this.secondaryCursors[e].adjustBracketDecorations()},e.prototype.addSecondaryCursor=function(e){var t=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);e&&t.setSelection(e),this.secondaryCursors.push(t),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.duplicateCursors=function(){var e=[];e.push(this.primaryCursor.duplicate());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].duplicate());this.secondaryCursors=this.secondaryCursors.concat(e),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursor=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},e.prototype._setSecondarySelections=function(e){var t=this.secondaryCursors.length,n=e.length,r=n-t;if(n>t)for(var i=n-t,o=0;i>o;o++)this.addSecondaryCursor(null);else if(t>n)for(var s=t-n,o=0;s>o;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var o=0;n>o;o++)e[o]&&this.secondaryCursors[o].setSelection(e[o]);return r},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(),this.secondaryCursors.splice(e,1)},e.prototype._mergeCursorsIfNecessary=function(){if(0!==this.secondaryCursors.length){for(var e=this.getAll(),t=[],n=0;n<e.length;n++)t.push({index:n,selection:e[n].getSelection()});t.sort(function(e,t){return e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber});for(var i=0;i<t.length-1;i++){var o=t[i],s=t[i+1],a=o.selection,l=s.selection;if(l.getStartPosition().isBeforeOrEqual(a.getEndPosition())){var c=o.index<s.index?i:i+1,u=o.index<s.index?i+1:i,d=t[u].index,p=t[c].index,h=t[u].selection,m=t[c].selection;if(!h.equalsSelection(m)){var f,v=h.plusRange(m),g=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn,b=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn;d===this.lastAddedCursorIndex?(f=g,this.lastAddedCursorIndex=p):f=b;var y;y=f?new r.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new r.Selection(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn),t[c].selection=y,e[p].setSelection(y)}for(var _=0;_<t.length;_++)t[_].index>d&&t[_].index--;e.splice(d,1),t.splice(u,1),this._removeSecondaryCursor(d-1),i--}}}},e.prototype.getModeConfiguration=function(){var e,t,n={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}};if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.getElectricCharacters()}catch(r){i.onUnexpectedError(r),t=null}if(t)for(e=0;e<t.length;e++)n.electricChars[t[e]]=!0;var o;if(this.model.getMode().characterPairSupport)try{o=this.model.getMode().characterPairSupport.getAutoClosingPairs()}catch(r){i.onUnexpectedError(r),o=null}if(o)for(e=0;e<o.length;e++)n.autoClosingPairsOpen[o[e].open]=o[e].close,n.autoClosingPairsClose[o[e].close]=o[e].open;var s;if(this.model.getMode().characterPairSupport)try{s=this.model.getMode().characterPairSupport.getSurroundingPairs()}catch(r){i.onUnexpectedError(r),s=null}if(s)for(e=0;e<s.length;e++)n.surroundingPairs[s[e].open]=s[e].close;return n},e}();t.CursorCollection=o}),define("vs/base/lifecycle",["require","exports"],function(e,t){function n(e){for(var t=0,n=e.length;n>t;t++)e[t]&&e[t].dispose();return[]}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return{dispose:function(){return n(e)}}}function i(e){return{dispose:function(){return n(e)}}}function o(e){return{dispose:function(){return e()}}}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e.map(o))}function a(e){if(e){if("function"==typeof e)return e(),null;if(Array.isArray(e)){for(;e.length>0;)e.pop()();return e}return null}return null}t.disposeAll=n,t.combinedDispose=r,t.combinedDispose2=i,t.fnToDisposable=o,t.toDisposable=s,t.cAll=a;var l=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.generate=function(){return this._prefix+ ++this._lastId},e}();t.IdGenerator=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/cursor",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/core/internalConstants","vs/editor/core/constants","vs/editor/core/range","vs/editor/core/selection","vs/base/eventEmitter","vs/editor/core/handlerDispatcher","vs/editor/editor","vs/editor/core/controller/cursorCollection","vs/base/errors","vs/editor/core/position","vs/base/lifecycle","vs/editor/core/command/replaceCommand"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(e){function t(t,n,r,o){var s=this;e.call(this,[i.EventType.CursorPositionChanged,i.EventType.CursorSelectionChanged,i.EventType.CursorRevealRange]),this.editorId=t,this.configuration=n,this.model=r,this.viewModelHelper=o,this.viewModelHelper||(this.viewModelHelper={viewModel:this.model,convertModelPositionToViewPosition:function(e,t){return new p.Position(e,t)},convertViewToModelPosition:function(e,t){return new p.Position(e,t)},validateViewPosition:function(e,t,n){return n}}),this.cursors=new u.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.typingListeners={},this._isHandling=!1,this.modelUnbinds=[],this.modelUnbinds.push(this.model.addListener2(i.EventType.ModelContentChanged,function(e){s._onModelContentChanged(e)})),this.modelUnbinds.push(this.model.addListener2(i.EventType.ModelModeChanged,function(){s._onModelModeChanged()})),this.modelUnbinds.push(this.model.addListener2(i.EventType.ModelModeSupportChanged,function(){s._onModelModeChanged()})),this._registerHandlers()}return __extends(t,e),t.prototype.dispose=function(){this.modelUnbinds=h.disposeAll(this.modelUnbinds),this.model=null,this.cursors.dispose(),this.cursors=null,this.configuration.handlerDispatcher.clearHandlers(),this.configuration=null,this.viewModelHelper=null,e.prototype.dispose.call(this)},t.prototype.saveState=function(){for(var e,t=this.cursors.getSelections(),n=[],r=0;r<t.length;r++)e=t[r],n.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}});return n},t.prototype.restoreState=function(e){for(var t,n=this,r=[],i=0;i<e.length;i++){t=e[i];var o=1,s=1;t.position&&t.position.lineNumber&&(o=t.position.lineNumber),t.position&&t.position.column&&(s=t.position.column);var a=o,c=s;t.selectionStart&&t.selectionStart.lineNumber&&(a=t.selectionStart.lineNumber),t.selectionStart&&t.selectionStart.column&&(c=t.selectionStart.column),r.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:o,positionColumn:s})}this._onHandler("restoreState",function(){return n.cursors.setSelections(r),!1},new l.DispatcherEvent("restoreState",null))},t.prototype.setEditableRange=function(e){this.model.setEditableRange(e)},t.prototype.getEditableRange=function(){return this.model.getEditableRange()},t.prototype.addTypingListener=function(e,t){this.typingListeners.hasOwnProperty(e)||(this.typingListeners[e]=[]),this.typingListeners[e].push(t)},t.prototype.removeTypingListener=function(e,t){if(this.typingListeners.hasOwnProperty(e))for(var n=this.typingListeners[e],r=0;r<n.length;r++)if(n[r]===t)return n.splice(r,1),void 0},t.prototype._onModelModeChanged=function(){this.cursors.updateMode(),this.emitCursorPositionChanged("model","modeChanged"),this.emitCursorSelectionChanged("model","modeChanged")},t.prototype._onModelContentChanged=function(e){var t=this;e.changeType===i.EventType.ModelContentChangedFlush?(this.cursors.dispose(),this.cursors=new u.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.emitCursorPositionChanged("model","contentFlush"),this.emitCursorSelectionChanged("model","contentFlush")):this._isHandling||this._onHandler("recoverSelectionFromMarkers",function(e){var n=t._invokeForAll(e,function(e,t,n){return t.recoverSelectionFromMarkers(n)});return e.shouldPushStackElementBefore=!1,e.shouldPushStackElementAfter=!1,n},new l.DispatcherEvent("modelChange",null))},t.prototype.getSelection=function(){return this.cursors.getSelection(0)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getPosition=function(){return this.cursors.getPosition(0)},t.prototype.setSelections=function(e,t){var n=this;this._onHandler("setSelections",function(e){return e.shouldReveal=!1,n.cursors.setSelections(t),!1},new l.DispatcherEvent(e,null))},t.prototype._createAndInterpretHandlerCtx=function(e,t,n){var r={cursorPositionChangeReason:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,eventSource:e,eventData:t,executeCommands:[],postOperationRunnables:[],shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1};n(r),this._interpretHandlerContext(r),this.cursors.normalize()},t.prototype._onHandler=function(e,t,n){this._isHandling=!0,this.charactersTyped="";var r=!1;try{var i,o,s,a,l=this.cursors.getSelections(),u=this.cursors.getViewSelections(),p=n.getSource();this._createAndInterpretHandlerCtx(p,n.getData(),function(e){r=t(e),i=e.cursorPositionChangeReason,o=e.shouldReveal,s=e.shouldRevealVerticalInCenter,a=e.shouldRevealHorizontal});for(var h=0;h<this.charactersTyped.length;h++){var m=this.charactersTyped.charAt(h);if(this.typingListeners.hasOwnProperty(m))for(var f=this.typingListeners[m].slice(0),v=0,g=f.length;g>v;v++)try{f[v]()}catch(n){d.onUnexpectedError(n)}}var b=this.cursors.getSelections(),y=this.cursors.getViewSelections(),_=!1;if(l.length!==b.length)_=!0;else{for(var h=0,w=l.length;!_&&w>h;h++)l[h].equalsSelection(b[h])||(_=!0);for(var h=0,w=u.length;!_&&w>h;h++)u[h].equalsSelection(y[h])||(_=!0)}_&&(this.emitCursorPositionChanged(p,i),o&&this.emitCursorRevealRange(s?c.VerticalRevealType.Center:c.VerticalRevealType.Simple,a),this.emitCursorSelectionChanged(p,i))}catch(E){d.onUnexpectedError(E)}return this._isHandling=!1,r},t.prototype._interpretHandlerContext=function(e){e.shouldPushStackElementBefore&&(this.model.pushStackElement(),e.shouldPushStackElementBefore=!1),this._internalExecuteCommands(e.executeCommands,e.postOperationRunnables),e.executeCommands=[],e.shouldPushStackElementAfter&&(this.model.pushStackElement(),e.shouldPushStackElementAfter=!1);for(var t=!1,n=0,r=e.postOperationRunnables.length;r>n;n++)if(e.postOperationRunnables[n]){t=!0;break}if(t){var i=e.postOperationRunnables.slice(0);e.postOperationRunnables=[],this._invokeForAll(e,function(e,t,n){return i[e]&&i[e](n),!1}),this._interpretHandlerContext(e)}},t.prototype._interpretCommandResult=function(e){return e?(this.cursors.setSelections(e),!0):!1},t.prototype._getEditOperationsFromCommand=function(e,t,r){var i=this,o=[],s=0,a=function(e,n){o.push({identifier:{major:t,minor:s++},range:e,text:n})},l=!1,u=function(t,n){var r,o;if(t.isEmpty())if("boolean"==typeof n)r=n,o=n;else{var s=i.model.getLineMaxColumn(t.startLineNumber);t.startColumn===s?(r=!0,o=!0):(r=!1,o=!1)}else t.getDirection()===c.SelectionDirection.LTR?(r=!1,o=!0):(r=!0,o=!1);var a=e.selectionStartMarkers.length;return e.selectionStartMarkers[a]=i.model._addMarker(t.selectionStartLineNumber,t.selectionStartColumn,r),e.positionMarkers[a]=i.model._addMarker(t.positionLineNumber,t.positionColumn,o),a.toString()},p={addEditOperation:a,trackSelection:u};try{r.getEditOperations(this.model,p)}catch(h){return h.friendlyMessage=n.localize("vs_editor_core_controller_cursor",0),d.onUnexpectedError(h),{operations:[],hadTrackedRange:!1}}return{operations:o,hadTrackedRange:l}},t.prototype._getEditOperations=function(e,t){for(var n,r,i=[],o=[],s=0;s<t.length;s++)t[s]?(n=this._getEditOperationsFromCommand(e,s,t[s]),i=i.concat(n.operations),o[s]=n.hadTrackedRange,r=r||o[s]):o[s]=!1;return{operations:i,hadTrackedRanges:o,anyoneHadTrackedRange:r}},t.prototype._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(e,t){return-o.compareRangesUsingEnds(e.range,t.range)});for(var t,n,r,i={},s=1;s<e.length;s++)if(t=e[s-1],n=e[s],t.range.getStartPosition().isBeforeOrEqual(n.range.getEndPosition())){r=t.identifier.major>n.identifier.major?t.identifier.major:n.identifier.major,i[r.toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===r&&(e.splice(a,1),s>a&&s--,a--);s>0&&s--}return i},t.prototype._collapseDeleteCommands=function(e,t){if(1!==e.length){var n=e.every(function(e){if(!(e instanceof m.ReplaceCommand))return!1;var t=e;return t.getText().length>0?!1:!0});if(n){var r=e,i=r.map(function(e,n){return{range:r[n].getRange(),postOperationRunnable:t[n],order:n}});i.sort(function(e,t){return o.compareRangesUsingStarts(e.range,t.range)});for(var s=i[0],a=1;a<i.length;a++)if(s.range.endLineNumber===i[a].range.startLineNumber&&s.range.endColumn===i[a].range.startColumn){var l=new o.Range(s.range.startLineNumber,s.range.startColumn,i[a].range.endLineNumber,i[a].range.endColumn);s.range=l,r[i[a].order].setRange(l),r[s.order].setRange(l)}else s=i[a]}}},t.prototype._internalExecuteCommands=function(e,t){var n={selectionStartMarkers:[],positionMarkers:[]};this._collapseDeleteCommands(e,t);for(var r=this._innerExecuteCommands(n,e,t),i=0;i<n.selectionStartMarkers.length;i++)this.model._removeMarker(n.selectionStartMarkers[i]),this.model._removeMarker(n.positionMarkers[i]);return r},t.prototype._arrayIsEmpty=function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(e[t])return!1;return!0},t.prototype._innerExecuteCommands=function(e,t,n){var r=this;if(this.configuration.editor.readOnly)return!1;if(this._arrayIsEmpty(t))return!1;var i=this.cursors.getSelections(),o=this._getEditOperations(e,t);if(0===o.operations.length&&!o.anyoneHadTrackedRange)return!1;for(var a=o.operations,l=this.model.getEditableRange(),c=l.getStartPosition(),u=l.getEndPosition(),d=0;d<a.length;d++){var p=a[d].range;if(!c.isBeforeOrEqual(p.getStartPosition())||!p.getEndPosition().isBeforeOrEqual(u))return!1}var h=this._getLoserCursorMap(a);if(h.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;for(var m=[],d=0;d<a.length;d++)h.hasOwnProperty(a[d].identifier.major.toString())||m.push(a[d]);var f,v=this.model.pushEditOperations(i,m,function(n){for(var a=[],l=0;l<i.length;l++)a[l]=[];for(var l=0;l<n.length;l++){var c=n[l];a[c.identifier.major].push(c)}for(var u=function(e,t){return e.identifier.minor-t.identifier.minor},d=[],l=0;l<i.length;l++)a[l].length>0||o.hadTrackedRanges[l]?(a[l].sort(u),d[l]=t[l].computeCursorState(r.model,{getInverseEditOperations:function(){return a[l]},getTrackedSelection:function(t){var n=parseInt(t,10),i=r.model._getMarker(e.selectionStartMarkers[n]),o=r.model._getMarker(e.positionMarkers[n]);return new s.Selection(i.lineNumber,i.column,o.lineNumber,o.column)}})):d[l]=i[l];return d}),g=[];for(f in h)h.hasOwnProperty(f)&&g.push(parseInt(f,10));g.sort(function(e,t){return t-e});for(var d=0;d<g.length;d++)v.splice(g[d],1),n.splice(g[d],1);return this._interpretCommandResult(v)},t.prototype.emitCursorPositionChanged=function(e,t){var n=this.cursors.getPositions(),r=n[0],o=n.slice(1),s=this.cursors.getViewPositions(),a=s[0],l=s.slice(1),c=!0;if(this.model.hasEditableRange()){var u=this.model.getEditableRange();u.containsPosition(r)||(c=!1)}var d={position:r,viewPosition:a,secondaryPositions:o,secondaryViewPositions:l,reason:t,source:e,isInEditableRange:c};this.emit(i.EventType.CursorPositionChanged,d)},t.prototype.emitCursorSelectionChanged=function(e,t){var n=this.cursors.getSelections(),r=n[0],o=n.slice(1),s={selection:r,secondarySelections:o,source:e,reason:t};this.emit(i.EventType.CursorSelectionChanged,s)},t.prototype.emitCursorRevealRange=function(e,t){var n=this.cursors.getPosition(0),r=this.cursors.getViewPosition(0),s=new o.Range(n.lineNumber,n.column,n.lineNumber,n.column),a=new o.Range(r.lineNumber,r.column,r.lineNumber,r.column),l={range:s,viewRange:a,verticalType:e,revealHorizontal:t};this.emit(i.EventType.CursorRevealRange,l)},t.prototype._registerHandlers=function(){var e=this,t=r.Handler,n={};n[t.JumpToBracket]=function(t){return e._jumpToBracket(t)},n[t.MoveTo]=function(t){return e._moveTo(!1,t)},n[t.MoveToSelect]=function(t){return e._moveTo(!0,t)},n[t.AddCursorUp]=function(t){return e._addCursorUp(t)},n[t.AddCursorDown]=function(t){return e._addCursorDown(t)},n[t.CreateCursor]=function(t){return e._createCursor(t)},n[t.LastCursorMoveToSelect]=function(t){return e._lastCursorMoveTo(t)},n[t.CursorLeft]=function(t){return e._moveLeft(!1,t)},n[t.CursorLeftSelect]=function(t){return e._moveLeft(!0,t)},n[t.CursorWordLeft]=function(t){return e._moveWordLeft(!1,t)},n[t.CursorWordLeftSelect]=function(t){return e._moveWordLeft(!0,t)},n[t.CursorRight]=function(t){return e._moveRight(!1,t)},n[t.CursorRightSelect]=function(t){return e._moveRight(!0,t)},n[t.CursorWordRight]=function(t){return e._moveWordRight(!1,t)},n[t.CursorWordRightSelect]=function(t){return e._moveWordRight(!0,t)},n[t.CursorUp]=function(t){return e._moveUp(!1,!1,t)},n[t.CursorUpSelect]=function(t){return e._moveUp(!0,!1,t)},n[t.CursorDown]=function(t){return e._moveDown(!1,!1,t)},n[t.CursorDownSelect]=function(t){return e._moveDown(!0,!1,t)},n[t.CursorPageUp]=function(t){return e._moveUp(!1,!0,t)},n[t.CursorPageUpSelect]=function(t){return e._moveUp(!0,!0,t)},n[t.CursorPageDown]=function(t){return e._moveDown(!1,!0,t)},n[t.CursorPageDownSelect]=function(t){return e._moveDown(!0,!0,t)},n[t.CursorHome]=function(t){return e._moveToBeginningOfLine(!1,t)},n[t.CursorHomeSelect]=function(t){return e._moveToBeginningOfLine(!0,t)},n[t.CursorEnd]=function(t){return e._moveToEndOfLine(!1,t)},n[t.CursorEndSelect]=function(t){return e._moveToEndOfLine(!0,t)},n[t.CursorTop]=function(t){return e._moveToBeginningOfBuffer(!1,t)},n[t.CursorTopSelect]=function(t){return e._moveToBeginningOfBuffer(!0,t)
},n[t.CursorBottom]=function(t){return e._moveToEndOfBuffer(!1,t)},n[t.CursorBottomSelect]=function(t){return e._moveToEndOfBuffer(!0,t)},n[t.SelectAll]=function(t){return e._selectAll(t)},n[t.LineSelect]=function(t){return e._line(!1,t)},n[t.LineSelectDrag]=function(t){return e._line(!0,t)},n[t.LastCursorLineSelect]=function(t){return e._lastCursorLine(!1,t)},n[t.LastCursorLineSelectDrag]=function(t){return e._lastCursorLine(!0,t)},n[t.LineInsertBefore]=function(t){return e._lineInsertBefore(t)},n[t.LineInsertAfter]=function(t){return e._lineInsertAfter(t)},n[t.LineBreakInsert]=function(t){return e._lineBreakInsert(t)},n[t.WordSelect]=function(t){return e._word(!1,t)},n[t.WordSelectDrag]=function(t){return e._word(!0,t)},n[t.LastCursorWordSelect]=function(t){return e._lastCursorWord(t)},n[t.CancelSelection]=function(t){return e._cancelSelection(t)},n[t.RemoveSecondaryCursors]=function(t){return e._removeSecondaryCursors(t)},n[t.Type]=function(t){return e._type(t)},n[t.ReplacePreviousChar]=function(t){return e._replacePreviousChar(t)},n[t.Tab]=function(t){return e._tab(t)},n[t.Indent]=function(t){return e._indent(t)},n[t.Outdent]=function(t){return e._outdent(t)},n[t.Paste]=function(t){return e._paste(t)},n[t.DeleteLeft]=function(t){return e._deleteLeft(t)},n[t.DeleteWordLeft]=function(t){return e._deleteWordLeft(t)},n[t.DeleteRight]=function(t){return e._deleteRight(t)},n[t.DeleteWordRight]=function(t){return e._deleteWordRight(t)},n[t.DeleteAllLeft]=function(t){return e._deleteAllLeft(t)},n[t.DeleteAllRight]=function(t){return e._deleteAllRight(t)},n[t.Cut]=function(t){return e._cut(t)},n[t.Undo]=function(t){return e._undo(t)},n[t.Redo]=function(t){return e._redo(t)},n[t.ExecuteCommand]=function(t){return e._externalExecuteCommand(t)},n[t.ExecuteCommands]=function(t){return e._externalExecuteCommands(t)};var i,o=function(t,n){return function(r){return e._onHandler(t,n,r)}};for(i in n)n.hasOwnProperty(i)&&this.configuration.handlerDispatcher.setHandler(i,o(i,n[i]))},t.prototype._invokeForAll=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i,o=!1,s=this.cursors.getAll();e.shouldPushStackElementBefore=n,e.shouldPushStackElementAfter=r;for(var a=0;a<s.length;a++)i={cursorPositionChangeReason:"",cursorPositionChangeSource:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,postOperationRunnable:null,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1},o=t(a,s[a],i)||o,0===a&&(e.cursorPositionChangeReason=i.cursorPositionChangeReason,e.shouldRevealHorizontal=i.shouldRevealHorizontal,e.shouldReveal=i.shouldReveal,e.shouldRevealVerticalInCenter=i.shouldRevealVerticalInCenter),e.shouldPushStackElementBefore=e.shouldPushStackElementBefore||i.shouldPushStackElementBefore,e.shouldPushStackElementAfter=e.shouldPushStackElementAfter||i.shouldPushStackElementAfter,e.executeCommands[a]=i.executeCommand,e.postOperationRunnables[a]=i.postOperationRunnable;return o},t.prototype._jumpToBracket=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.jumpToBracket(n)})},t.prototype._moveTo=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,r,i){return r.moveTo(e,t.eventData.position,t.eventData.viewPosition,t.eventSource,i)})},t.prototype._createCursor=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,r,i){return r===t?e.eventData.wholeLine?r.line(!1,e.eventData.position,e.eventData.viewPosition,i):r.moveTo(!1,e.eventData.position,e.eventData.viewPosition,e.eventSource,i):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._lastCursorMoveTo=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,r,i){return r===t?r.moveTo(!0,e.eventData.position,e.eventData.viewPosition,e.eventSource,i):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._addCursorUp=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),this._invokeForAll(e,function(e,n,r){return e>=t?n.translateUp(r):!1})},t.prototype._addCursorDown=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),this._invokeForAll(e,function(e,n,r){return e>=t?n.translateDown(r):!1})},t.prototype._moveLeft=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveLeft(e,r)})},t.prototype._moveWordLeft=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveWordLeft(e,r)})},t.prototype._moveRight=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveRight(e,r)})},t.prototype._moveWordRight=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveWordRight(e,r)})},t.prototype._moveDown=function(e,t,n){return this._invokeForAll(n,function(n,r,i){return r.moveDown(e,t,i)})},t.prototype._moveUp=function(e,t,n){return this._invokeForAll(n,function(n,r,i){return r.moveUp(e,t,i)})},t.prototype._moveToBeginningOfLine=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveToBeginningOfLine(e,r)})},t.prototype._moveToEndOfLine=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveToEndOfLine(e,r)})},t.prototype._moveToBeginningOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveToBeginningOfBuffer(e,r)})},t.prototype._moveToEndOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,r){return n.moveToEndOfBuffer(e,r)})},t.prototype._selectAll=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.selectAll(n)})},t.prototype._line=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,r,i){return r.line(e,t.eventData.position,t.eventData.viewPosition,i)})},t.prototype._lastCursorLine=function(e,t){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var n=this.cursors.getLastAddedCursor();return this._invokeForAll(t,function(r,i,o){return i===n?i.line(e,t.eventData.position,t.eventData.viewPosition,o):!1}),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},t.prototype._lineInsertBefore=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertBefore(n)})},t.prototype._lineInsertAfter=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertAfter(n)})},t.prototype._lineBreakInsert=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineBreakInsert(n)})},t.prototype._word=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,r,i){return r.word(e,t.eventData.position,t.eventData.preference||"none",i)})},t.prototype._lastCursorWord=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,r,i){return r===t?r.word(!0,e.eventData.position,e.eventData.preference||"none",i):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._removeSecondaryCursors=function(){return this.cursors.killSecondaryCursors(),!0},t.prototype._cancelSelection=function(e){return this._invokeForAll(e,function(e,t,n){return t.cancelSelection(n)})},t.prototype._type=function(e){var t=this,n=e.eventData.text;if("keyboard"===e.eventSource){var r,i,o;for(r=0,i=n.length;i>r;r++)o=n.charAt(r),this.charactersTyped+=o,this._createAndInterpretHandlerCtx(e.eventSource,e.eventData,function(n){t._invokeForAll(n,function(e,t,n){return t.type(o,n)},!1,!1),e.cursorPositionChangeReason=n.cursorPositionChangeReason,e.shouldReveal=n.shouldReveal,e.shouldRevealVerticalInCenter=n.shouldRevealVerticalInCenter,e.shouldRevealHorizontal=n.shouldRevealHorizontal})}else this._invokeForAll(e,function(e,t,r){return t.actualType(n,!1,r)});return!0},t.prototype._replacePreviousChar=function(e){var t=e.eventData.text;return this._invokeForAll(e,function(e,n,r){return n.replacePreviousChar(t,r)})},t.prototype._tab=function(e){return this._invokeForAll(e,function(e,t,n){return t.tab(n)},!1,!1)},t.prototype._indent=function(e){return this._invokeForAll(e,function(e,t,n){return t.indent(n)})},t.prototype._outdent=function(e){return this._invokeForAll(e,function(e,t,n){return t.outdent(n)})},t.prototype._paste=function(e){var t=this._distributePasteToCursors(e);return t?this._invokeForAll(e,function(e,n,r){return n.paste(t[e],!1,r)}):this._invokeForAll(e,function(t,n,r){return n.paste(e.eventData.text,e.eventData.pasteOnNewLine,r)})},t.prototype._distributePasteToCursors=function(e){if(e.eventData.pasteOnNewLine)return null;var t=this.cursors.getSelections();if(1===t.length)return null;for(var n=0;n<t.length;n++)if(t[n].startLineNumber!==t[n].endLineNumber)return null;var r=e.eventData.text.split(/\r\n|\r|\n/);return r.length!==t.length?null:r},t.prototype._deleteLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteLeft(n)},!1,!1)},t.prototype._deleteWordLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordLeft(n)},!1,!1)},t.prototype._deleteRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteRight(n)},!1,!1)},t.prototype._deleteWordRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordRight(n)},!1,!1)},t.prototype._deleteAllLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllLeft(n)},!1,!1)},t.prototype._deleteAllRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllRight(n)},!1,!1)},t.prototype._cut=function(e){return this._invokeForAll(e,function(e,t,n){return t.cut(n)})},t.prototype._undo=function(e){return e.cursorPositionChangeReason="undo",this._interpretCommandResult(this.model.undo()),!0},t.prototype._redo=function(e){return e.cursorPositionChangeReason="redo",this._interpretCommandResult(this.model.redo()),!0},t.prototype._externalExecuteCommand=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(t,n,r){return r.shouldPushStackElementBefore=!0,r.shouldPushStackElementAfter=!0,r.executeCommand=e.eventData,!1})},t.prototype._externalExecuteCommands=function(e){return this._invokeForAll(e,function(t,n,r){return r.shouldPushStackElementBefore=!0,r.shouldPushStackElementAfter=!0,r.executeCommand=e.eventData[t],!1})},t}(a.EventEmitter);t.Cursor=f}),define("vs/base/dom/keyboardController",["require","exports","vs/base/dom/dom","vs/base/lifecycle"],function(e,t,n,r){var i=function(){function e(e){var t=this;this._listeners={},this._previousKeyDown=null,this._previousEventType=null,this._toDispose=[],this._toDispose.push(n.addStandardDisposableListener(e,"keydown",function(e){return t._onKeyDown(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keypress",function(e){return t._onKeyPress(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keyup",function(e){return t._onKeyUp(e)}))}return e.prototype.dispose=function(){this._toDispose=r.disposeAll(this._toDispose),this._listeners=null,this._previousKeyDown=null,this._previousEventType=null},e.prototype.addListener=function(e,t){var n=this;return this._listeners[e]=t,function(){n._listeners[e]=null}},e.prototype._fire=function(e,t){this._listeners.hasOwnProperty(e)&&this._listeners[e](t)},e.prototype._onKeyDown=function(e){this._previousKeyDown=e.clone(),this._previousEventType="keydown",this._fire("keydown",e)},e.prototype._onKeyPress=function(e){this._previousKeyDown&&(e.shiftKey&&this._previousKeyDown.asString()!==e.asString()&&(e.shiftKey=!1),"keypress"===this._previousEventType&&this._fire("keydown",this._previousKeyDown)),this._previousEventType="keypress",this._fire("keypress",e)},e.prototype._onKeyUp=function(e){this._fire("keyup",e)},e}();t.KeyboardController=i}),define("vs/editor/core/view/viewEventHandler",["require","exports","vs/editor/core/constants","vs/editor/core/view/viewContext"],function(e,t,n,r){var i=function(){function e(){this.shouldRender=!0}return e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onModelFlushed=function(){return!1},e.prototype.onModelDecorationsChanged=function(){return!1},e.prototype.onModelLinesDeleted=function(){return!1},e.prototype.onModelLineChanged=function(){return!1},e.prototype.onModelLinesInserted=function(){return!1},e.prototype.onModelTokensChanged=function(){return!1},e.prototype.onCursorPositionChanged=function(){return!1},e.prototype.onCursorSelectionChanged=function(){return!1},e.prototype.onCursorRevealRange=function(){return!1},e.prototype.onConfigurationChanged=function(){return!1},e.prototype.onLayoutChanged=function(){return!1},e.prototype.onScrollChanged=function(){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onScrollWidthChanged=function(){return!1},e.prototype.onScrollHeightChanged=function(){return!1},e.prototype.onViewFocusChanged=function(){return!1},e.prototype.handleEvents=function(e){var t,i,o,s;for(t=0,i=e.length;i>t;t++)switch(o=e[t],s=o.getData(),o.getType()){case r.EventNames.LineMappingChangedEvent:this.shouldRender=this.onLineMappingChanged()||this.shouldRender;break;case r.EventNames.ModelFlushedEvent:this.shouldRender=this.onModelFlushed()||this.shouldRender;break;case r.EventNames.LinesDeletedEvent:this.shouldRender=this.onModelLinesDeleted(s)||this.shouldRender;break;case r.EventNames.LinesInsertedEvent:this.shouldRender=this.onModelLinesInserted(s)||this.shouldRender;break;case r.EventNames.LineChangedEvent:this.shouldRender=this.onModelLineChanged(s)||this.shouldRender;break;case r.EventNames.TokensChangedEvent:this.shouldRender=this.onModelTokensChanged(s)||this.shouldRender;break;case r.EventNames.DecorationsChangedEvent:this.shouldRender=this.onModelDecorationsChanged(s)||this.shouldRender;break;case r.EventNames.CursorPositionChangedEvent:this.shouldRender=this.onCursorPositionChanged(s)||this.shouldRender;break;case r.EventNames.CursorSelectionChangedEvent:this.shouldRender=this.onCursorSelectionChanged(s)||this.shouldRender;break;case r.EventNames.RevealRangeEvent:this.shouldRender=this.onCursorRevealRange(s)||this.shouldRender;break;case n.EventType.ConfigurationChanged:this.shouldRender=this.onConfigurationChanged(s)||this.shouldRender;break;case n.EventType.ViewLayoutChanged:this.shouldRender=this.onLayoutChanged(s)||this.shouldRender;break;case n.EventType.ViewScrollChanged:this.shouldRender=this.onScrollChanged(s)||this.shouldRender;break;case n.EventType.ViewZonesChanged:this.shouldRender=this.onZonesChanged()||this.shouldRender;break;case n.EventType.ViewScrollWidthChanged:this.shouldRender=this.onScrollWidthChanged()||this.shouldRender;break;case n.EventType.ViewScrollHeightChanged:this.shouldRender=this.onScrollHeightChanged(s)||this.shouldRender;break;case n.EventType.ViewFocusChanged:this.shouldRender=this.onViewFocusChanged(s)||this.shouldRender;break;default:console.info("View received unkown event: "),console.info(o)}},e}();t.ViewEventHandler=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/keyboardHandler",["require","exports","vs/editor/core/range","vs/editor/core/position","vs/base/dom/keyboardController","vs/base/dom/dom","vs/base/env","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewEventHandler","vs/base/time/schedulers","vs/base/strings"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(p||(p={}));var h=function(){function e(e,t,n,r){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionToken=r}return e.fromTextArea=function(t,n){return new e(t.value,t.selectionStart,t.selectionEnd,n)},e.fromEditorSelectionAndPreviousState=function(t,r,i){if(s.browser.isIPad)return new e("",0,0,c);var o=100,a=0,c=r.startLineNumber,u=r.startColumn,d=r.endLineNumber,p=r.endColumn,h=t.getLineMaxColumn(d);r.isEmpty()&&i!==c&&(u=1,p=h);var m="",f=Math.max(1,c-a);c>f&&(m=t.getValueInRange(new n.Range(f,1,c,1),l.EndOfLinePreference.LF)),m+=t.getValueInRange(new n.Range(c,1,c,u),l.EndOfLinePreference.LF),m.length>o&&(m=m.substring(m.length-o,m.length));var v="",g=Math.min(d+a,t.getLineCount());v+=t.getValueInRange(new n.Range(d,p,d,h),l.EndOfLinePreference.LF),g>d&&(v="\n"+t.getValueInRange(new n.Range(d+1,1,g,t.getLineMaxColumn(g)),l.EndOfLinePreference.LF)),v.length>o&&(v=v.substring(0,o));var b=t.getValueInRange(new n.Range(c,u,d,p),l.EndOfLinePreference.LF);return b.length>2*o&&(b=b.substring(0,o)+String.fromCharCode(8230)+b.substring(b.length-o,b.length)),new e(m+b+v,m.length,m.length+b.length,c)},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.resetSelection=function(){this.selectionStart=this.value.length,this.selectionEnd=this.value.length},e.prototype.getValue=function(){return this.value},e.prototype.getSelectionToken=function(){return this.selectionToken},e.prototype.applyToTextArea=function(e,t){if(e.value!==this.value&&(e.value=this.value),t)try{var n=o.saveParentsScrollTop(e);e.focus(),e.setSelectionRange(this.selectionStart,this.selectionEnd),o.restoreParentsScrollTop(e,n)}catch(r){}},e.prototype.extractNewText=function(e){if(this.selectionStart!==this.selectionEnd)return"";if(!e)return this.value;var t=e.value.substring(0,e.selectionStart),n=e.value.substring(e.selectionEnd,e.value.length);s.browser.isIE11orEarlier&&document.queryCommandValue("OverWrite")&&(n=n.substr(1));var r=this.value;return r.substring(0,t.length)===t&&(r=r.substring(t.length)),r.substring(r.length-n.length,r.length)===n&&(r=r.substring(0,r.length-n.length)),r},e}(),m=function(e){function t(t,a,l){var c=this;e.call(this),this.context=t,this.viewController=a,this.textArea=l.textArea,this.viewHelper=l,this.selection=new n.Range(1,1,1,1),this.cursorPosition=new r.Position(1,1),this.contentLeft=0,this.contentWidth=0,this.scrollLeft=0,this.asyncReadFromTextArea=new u.RunOnceScheduler(null,0),this.asyncSetSelectionToTextArea=new u.RunOnceScheduler(function(){return c._writePlaceholderAndSelectTextArea()},0),this.asyncTriggerCut=new u.RunOnceScheduler(function(){return c._triggerCut()},0),this.lastCopiedValue=null,this.lastCopiedValueIsFromEmptySelection=!1,this.previousSetTextAreaState=null,this.hasFocus=!1,this.justHadAPaste=!1,this.justHadACut=!1,this.lastKeyPressTime=0,this.lastCompositionEndTime=0,this.lastValueWrittenToTheTextArea="",this.kbController=new i.KeyboardController(this.textArea),this.listenersToRemove=[],this.listenersToRemove.push(this.kbController.addListener("keydown",function(e){return c._onKeyDown(e)})),this.listenersToRemove.push(this.kbController.addListener("keyup",function(e){return c._onKeyUp(e)})),this.listenersToRemove.push(this.kbController.addListener("keypress",function(e){return c._onKeyPress(e)})),this.textareaIsShownAtCursor=!1,this.listenersToRemove.push(o.addListener(this.textArea,"compositionstart",function(){c.textareaIsShownAtCursor||(c.textareaIsShownAtCursor=!0,c.showTextAreaAtCursor()),c.asyncReadFromTextArea.cancel()})),this.listenersToRemove.push(o.addListener(this.textArea,"compositionend",function(){c.textareaIsShownAtCursor&&(c.textareaIsShownAtCursor=!1,c.hideTextArea()),c.lastCompositionEndTime=(new Date).getTime(),c._scheduleReadFromTextArea(p.Type)})),s.browser.isIPad&&this.listenersToRemove.push(o.addListener(this.textArea,"input",function(){var e=(new Date).getTime(),t=e-c.lastKeyPressTime;500>=t&&(c._scheduleReadFromTextArea(p.Type),c.lastKeyPressTime=0)})),s.isMacintosh&&this.listenersToRemove.push(o.addListener(this.textArea,"input",function(){c.textareaIsShownAtCursor||c._scheduleReadFromTextArea(p.Type)})),s.isMacintosh&&this.listenersToRemove.push(o.addListener(this.textArea,"input",function(){if(c.justHadAPaste)return c.justHadAPaste=!1,void 0;if(c.justHadACut)return c.justHadACut=!1,void 0;var e=(new Date).getTime(),t=e-c.lastKeyPressTime;if(!(500>=t)){var n=e-c.lastCompositionEndTime;if(!(500>=n||c.textareaIsShownAtCursor||c.textArea.selectionStart!==c.textArea.selectionEnd)){var r,i=c.textArea.value;if(s.browser.isChrome&&c.lastValueWrittenToTheTextArea.length===i.length){var o=d.commonPrefixLength(c.lastValueWrittenToTheTextArea,i),a=d.commonSuffixLength(c.lastValueWrittenToTheTextArea,i);o+a+1===i.length&&(r=i.charAt(o),c.executeReplacePreviousChar(r),c.previousSetTextAreaState=h.fromTextArea(c.textArea,0),c.asyncSetSelectionToTextArea.schedule())}}}})),this.listenersToRemove.push(o.addListener(this.textArea,"cut",function(e){return c._onCut(e)})),this.listenersToRemove.push(o.addListener(this.textArea,"copy",function(e){return c._onCopy(e)})),this.listenersToRemove.push(o.addListener(this.textArea,"paste",function(e){return c._onPaste(e)})),this._writePlaceholderAndSelectTextArea(),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.kbController.dispose(),this.asyncReadFromTextArea.dispose(),this.asyncSetSelectionToTextArea.dispose(),this.asyncTriggerCut.dispose()},t.prototype.showTextAreaAtCursor=function(){var e,t,r;s.browser.isIE11orEarlier?(e=this.selection.startLineNumber,t=this.selection.startColumn,r=this.previousSetTextAreaState.getSelectionStart()+1):(e=this.cursorPosition.lineNumber,t=this.cursorPosition.column,r=t);var i={range:new n.Range(e,t,e,t),verticalType:l.VerticalRevealType.Simple,revealHorizontal:!0};this.context.privateViewEventBus.emit(a.EventNames.RevealRangeEvent,i);var c=this.viewHelper.visibleRangeForPositionRelativeToEditor(e,t),u=this.viewHelper.visibleRangeForPositionRelativeToEditor(e,r);s.browser.isIE11orEarlier?c&&u&&(this.textArea.style.top=c.top+"px",this.textArea.style.left=this.contentLeft+c.left-u.left-this.scrollLeft+"px",this.textArea.style.width=this.contentWidth+"px"):(c&&(this.textArea.style.left=this.contentLeft+c.left-this.scrollLeft+"px",this.textArea.style.top=c.top+"px"),this.setTextAreaState(new h("",0,0,0),!1)),this.textArea.style.height=this.context.configuration.editor.lineHeight+"px",o.addClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.hideTextArea=function(){this.textArea.style.height="",this.textArea.style.width="",this.textArea.style.left="0px",this.textArea.style.top="0px",o.removeClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.onScrollChanged=function(e){return this.scrollLeft=e.scrollLeft,!1},t.prototype.onViewFocusChanged=function(e){return this.hasFocus=e,this.hasFocus&&this.asyncSetSelectionToTextArea.schedule(),!1},t.prototype.onCursorSelectionChanged=function(e){return this.selection=e.selection,this.asyncSetSelectionToTextArea.schedule(),!1},t.prototype.onCursorPositionChanged=function(e){return this.cursorPosition=e.position,!1},t.prototype.onLayoutChanged=function(e){return this.contentLeft=e.contentLeft,this.contentWidth=e.contentWidth,!1},t.prototype.setTextAreaState=function(e,t){var n=t&&this.hasFocus&&!s.isTesting();n||e.resetSelection(),this.lastValueWrittenToTheTextArea=e.getValue(),e.applyToTextArea(this.textArea,n),this.previousSetTextAreaState=e},t.prototype._onKeyDown=function(e){"Escape"===e.asString()&&e.preventDefault(),this.viewController.emitKeyDown(e)},t.prototype._onKeyUp=function(e){this.viewController.emitKeyUp(e)},t.prototype._onKeyPress=function(e){if(this.hasFocus){if(s.browser.isOpera&&s.isWindows){if("Ctrl-X"===e.asString())return this._onCut(null),void 0;if("Ctrl-V"===e.asString())return this._onPaste(null),void 0;if("Ctrl-C"===e.asString())return this._onCopy(null),void 0}this.lastKeyPressTime=(new Date).getTime(),s.browser.isIPad||this._scheduleReadFromTextArea(p.Type)}},t.prototype._scheduleReadFromTextArea=function(e){var t=this;this.asyncSetSelectionToTextArea.cancel(),this.asyncReadFromTextArea.setRunner(function(){return t._readFromTextArea(e)}),this.asyncReadFromTextArea.schedule()},t.prototype._readFromTextArea=function(e){var t=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,n=h.fromTextArea(this.textArea,t),r=n.extractNewText(this.previousSetTextAreaState);""!==r&&(e===p.Type?this.executeType(r):this.executePaste(r)),this.previousSetTextAreaState=n,this.asyncSetSelectionToTextArea.schedule()},t.prototype.executePaste=function(e){if(""!==e){var t=!1;s.enableEmptySelectionClipboard&&(t=e===this.lastCopiedValue&&this.lastCopiedValueIsFromEmptySelection),this.viewController.paste("keyboard",e,t)}},t.prototype.executeType=function(e){""!==e&&this.viewController.type("keyboard",e)},t.prototype.executeReplacePreviousChar=function(e){this.viewController.replacePreviousChar("keyboard",e)},t.prototype._writePlaceholderAndSelectTextArea=function(){if(!this.textareaIsShownAtCursor){var e=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,t=h.fromEditorSelectionAndPreviousState(this.context.model,this.selection,e);this.setTextAreaState(t,!0)}},t.prototype._onPaste=function(e){e&&e.clipboardData?(e.preventDefault(),this.executePaste(e.clipboardData.getData("text/plain"))):e&&window.clipboardData?(e.preventDefault(),this.executePaste(window.clipboardData.getData("Text"))):(this.textArea.selectionStart!==this.textArea.selectionEnd&&this.setTextAreaState(new h("",0,0,0),!1),this._scheduleReadFromTextArea(p.Paste)),this.justHadAPaste=!0},t.prototype._onCopy=function(e){this._ensureClipboardGetsEditorSelection(e)},t.prototype._triggerCut=function(){this.viewController.cut("keyboard")},t.prototype._onCut=function(e){this._ensureClipboardGetsEditorSelection(e),this.asyncTriggerCut.schedule(),this.justHadACut=!0},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._getPlainTextToCopy();if(e&&e.clipboardData?(e.clipboardData.setData("text/plain",t),e.preventDefault()):e&&window.clipboardData?(window.clipboardData.setData("Text",t),e.preventDefault()):this.setTextAreaState(new h(t,0,t.length,0),!0),s.enableEmptySelectionClipboard){this.lastCopiedValue=s.browser.isFirefox?t.replace(/\r\n/g,"\n"):t;var n=this.context.model.getSelections();this.lastCopiedValueIsFromEmptySelection=1===n.length&&n[0].isEmpty()}},t.prototype._getPlainTextToCopy=function(){var e=s.isWindows?"\r\n":"\n",t=s.isWindows?l.EndOfLinePreference.CRLF:l.EndOfLinePreference.LF,r=this.context.model.getSelections();if(1===r.length){var i=r[0];if(i.isEmpty()){if(s.enableEmptySelectionClipboard){var o=this.context.model.convertViewPositionToModelPosition(i.startLineNumber,1).lineNumber;return this.context.model.getModelLineContent(o)+e}return""}return this.context.model.getValueInRange(i,t)}r=r.slice(0).sort(n.compareRangesUsingStarts);for(var a=[],c=0;c<r.length;c++)a.push(this.context.model.getValueInRange(r[c],t));return a.join(e)},t}(c.ViewEventHandler);t.KeyboardHandler=m}),define("vs/base/dom/touch",["require","exports","vs/base/arrays","vs/base/lifecycle","vs/base/dom/dom"],function(e,t,n,r,i){var o;!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend"}(o=t.EventType||(t.EventType={}));var s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e,this.handle=null}return e.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;r.cAll(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(i.addListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(i.addListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(i.addListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){t.preventDefault(),t.stopPropagation(),this.handle&&(this.handle.dispose(),this.handle=null);for(var n=0,r=t.targetTouches.length;r>n;n++){var i=t.targetTouches.item(n);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:t.timeStamp,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[t.timeStamp],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};var s=e.newGestureEvent(o.Start);s.pageX=i.pageX,s.pageY=i.pageY,this.targetElement.dispatchEvent(s)}},e.prototype.onTouchEnd=function(t){t.preventDefault(),t.stopPropagation();for(var r=Object.keys(this.activeTouches).length,i=0,s=t.changedTouches.length;s>i;i++){var a=t.changedTouches.item(i);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<e.HOLD_DELAY&&Math.abs(l.initialPageX-n.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-n.tail(l.rollingPageY))<30){var u=e.newGestureEvent(o.Tap);u.initialTarget=l.initialTarget,u.pageX=n.tail(l.rollingPageX),u.pageY=n.tail(l.rollingPageY),this.targetElement.dispatchEvent(u)}else if(1===r){var d=n.tail(l.rollingPageX),p=n.tail(l.rollingPageY),h=n.tail(l.rollingTimestamps)-l.rollingTimestamps[0],m=d-l.rollingPageX[0],f=p-l.rollingPageY[0];this.inertia(t.timeStamp,Math.abs(m)/h,m>0?1:-1,d,Math.abs(f)/h,f>0?1:-1,p)}delete this.activeTouches[a.identifier]}else console.warn("move of an UNKNOWN touch",a)}},e.prototype.inertia=function(t,n,r,s,a,l,c){var u=this;this.handle=i.scheduleAtNextAnimationFrame(function(){var i=Date.now(),d=i-t,p=0,h=0,m=!0;n+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,n>0&&(m=!1,p=r*n*d),a>0&&(m=!1,h=l*a*d);var f=e.newGestureEvent(o.Change);f.translationX=p,f.translationY=h,u.targetElement.dispatchEvent(f),m||u.inertia(i,n,r,s+p,a,l,c+h)})},e.prototype.onTouchMove=function(t){t.preventDefault(),t.stopPropagation();for(var r=0,i=t.changedTouches.length;i>r;r++){var s=t.changedTouches.item(r);if(this.activeTouches.hasOwnProperty(String(s.identifier))){var a=this.activeTouches[s.identifier],l=e.newGestureEvent(o.Change);l.translationX=s.pageX-n.tail(a.rollingPageX),l.translationY=s.pageY-n.tail(a.rollingPageY),l.pageX=s.pageX,l.pageY=s.pageY,this.targetElement.dispatchEvent(l),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(s.pageX),a.rollingPageY.push(s.pageY),a.rollingTimestamps.push(t.timeStamp)}else console.warn("end of an UNKNOWN touch",s)}},e.HOLD_DELAY=2e3,e.SCROLL_FRICTION=-.005,e}();t.Gesture=s}),define("vs/editor/core/controller/mouseTarget",["require","exports","vs/editor/core/position","vs/editor/core/range","vs/editor/core/view/viewContext","vs/editor/editor"],function(e,t,n,r,i,o){var s=function(){function e(e,t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.element=e,this.type=t,this.position=n,!i&&n&&(i=new r.Range(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=i,this.detail=o}return e.prototype._typeToString=function(){return this.type===o.MouseTargetType.TEXTAREA?"TEXTAREA":this.type===o.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":this.type===o.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":this.type===o.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":this.type===o.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":this.type===o.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":this.type===o.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":this.type===o.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":this.type===o.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":this.type===o.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":this.type===o.MouseTargetType.SCROLLBAR?"SCROLLBAR":this.type===o.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"
},e.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},e}(),a=function(){function e(e){return"[^/]*"+e+"[^/]*"}function t(){return"[^/]+"}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=!1;return"$"===e[e.length-1]&&(n=!0,e.pop()),new RegExp(r+e.join("\\/")+(n?"$":""))}var r="^"+i.ClassNames.OVERFLOW_GUARD+"\\/";return{IS_TEXTAREA_COVER:n(e(i.ClassNames.TEXTAREA_COVER),"$"),IS_TEXTAREA:n(i.ClassNames.TEXTAREA,"$"),IS_VIEW_LINES:n(t(),t(),i.ClassNames.VIEW_LINES,"$"),IS_CURSORS_LAYER:n(t(),t(),e(i.ClassNames.VIEW_CURSORS_LAYER),"$"),IS_CHILD_OF_VIEW_LINES:n(t(),t(),i.ClassNames.VIEW_LINES),IS_CHILD_OF_SCROLLABLE_ELEMENT:n(e(i.ClassNames.SCROLLABLE_ELEMENT)),IS_CHILD_OF_CONTENT_WIDGETS:n(t(),t(),i.ClassNames.CONTENT_WIDGETS),IS_CHILD_OF_OVERLAY_WIDGETS:n(i.ClassNames.OVERLAY_WIDGETS),IS_CHILD_OF_VIEW_OVERLAYS:n("margin-view-overlays"),IS_CHILD_OF_VIEW_ZONES:n(t(),t(),i.ClassNames.VIEW_ZONES)}}(),l=function(){function e(e,t){this.context=e,this.viewHelper=t}return e.prototype.getClassNamePathTo=function(e,t){for(var n,r=[];e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n=e.className,n&&r.unshift(n)),e=e.parentNode;return r.join("/")},e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=this.getClassNamePathTo(t,this.viewHelper.viewDomNode);return a.IS_CHILD_OF_CONTENT_WIDGETS.test(n)?!0:a.IS_CHILD_OF_OVERLAY_WIDGETS.test(n)?!0:!1},e.prototype.createMouseTarget=function(e,t,n,r){try{var i=this._unsafeCreateMouseTarget(e,t,n,r);return i}catch(n){return this.createMouseTargetFromUnknownTarget(n.target)}},e.prototype._unsafeCreateMouseTarget=function(e,t,n,r){var i=Math.max(0,this.viewHelper.getScrollTop()+(n.posy-t.top)),l=this.viewHelper.getScrollLeft()+(n.posx-t.left),c=n.target,u=this.getClassNamePathTo(c,this.viewHelper.viewDomNode),d=c.hasAttribute&&c.hasAttribute("lineNumber")?c.getAttribute("lineNumber"):null,p=c.hasAttribute&&c.hasAttribute("column")?c.getAttribute("column"):null;if(d&&p)return this.createMouseTargetFromViewCursor(c,parseInt(d,10),parseInt(p,10));if(a.IS_CHILD_OF_CONTENT_WIDGETS.test(u))return this.createMouseTargetFromContentWidgetsChild(c);if(a.IS_CHILD_OF_OVERLAY_WIDGETS.test(u))return this.createMouseTargetFromOverlayWidgetsChild(c);if(a.IS_TEXTAREA_COVER.test(u))return this.context.configuration.editor.glyphMargin?this.createMouseTargetFromGlyphMargin(c,i):this.context.configuration.editor.lineNumbers?this.createMouseTargetFromLineNumbers(c,i):this.createMouseTargetFromLinesDecorationsChild(c,i);if(a.IS_TEXTAREA.test(u))return new s(c,o.MouseTargetType.TEXTAREA);if(a.IS_CHILD_OF_VIEW_ZONES.test(u)){var h=this._getZoneAtCoord(i);return h?new s(c,o.MouseTargetType.CONTENT_VIEW_ZONE,h.position,null,h):this.createMouseTargetFromUnknownTarget(c)}if(a.IS_VIEW_LINES.test(u)){if(this.viewHelper.isAfterLines(i))return this.createMouseTargetFromViewLines(c,i);var h=this._getZoneAtCoord(i);if(h)return new s(c,o.MouseTargetType.CONTENT_VIEW_ZONE,h.position,null,h);var m=this._doHitTest(t,n,i);return m.position?this.createMouseTargetFromHitTestPosition(c,m.position.lineNumber,m.position.column,l):this.createMouseTargetFromViewLines(c,i)}if(!r||a.IS_CHILD_OF_VIEW_LINES.test(u)){var m=this._doHitTest(t,n,i);if(m.position)return this.createMouseTargetFromHitTestPosition(c,m.position.lineNumber,m.position.column,l);m.hitTarget&&(c=m.hitTarget,u=this.getClassNamePathTo(c,this.viewHelper.viewDomNode))}if(a.IS_CURSORS_LAYER.test(u))return new s(c,o.MouseTargetType.UNKNOWN);if(a.IS_CHILD_OF_SCROLLABLE_ELEMENT.test(u))return this.createMouseTargetFromScrollbar(c,i);if(a.IS_CHILD_OF_VIEW_OVERLAYS.test(u)){var f=Math.abs(n.posx-t.left);return f<=e.decorationsWidth?this.createMouseTargetFromLinesDecorationsChild(c,i):(f-=e.decorationsWidth,f<=e.lineNumbersWidth?this.createMouseTargetFromLineNumbers(c,i):(f-=e.lineNumbersWidth,this.createMouseTargetFromGlyphMargin(c,i)))}return/OverviewRuler/i.test(u)?this.createMouseTargetFromScrollbar(c,i):this.createMouseTargetFromUnknownTarget(c)},e.prototype._isChild=function(e,t,n){for(;e&&e!==document.body;){if(e===t)return!0;if(e===n)return!1;e=e.parentNode}return!1},e.prototype._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype._doHitTestWithCaretRangeFromPoint=function(e,t,n){var r=this.viewHelper.getLineNumberAtVerticalOffset(n),i=this.viewHelper.getVerticalOffsetForLineNumber(r),o=i+Math.floor(this.context.configuration.editor.lineHeight/2),s=t.posy+(o-n);s<=e.top&&(s=e.top+1),s>=e.top+this.context.configuration.editor.observedOuterHeight&&(s=e.top+this.context.configuration.editor.observedOuterHeight-1);var a=t.posx-document.body.scrollLeft,l=this._actualDoHitTestWithCaretRangeFromPoint(a,s-document.body.scrollTop);return l.position?l:this._actualDoHitTestWithCaretRangeFromPoint(a,t.posy-document.body.scrollTop)},e.prototype._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n=null,r=null,o=document.caretRangeFromPoint(e,t),s=o?o.startContainer:null,a=s?s.parentNode:null,l=a?a.parentNode:null,c=l?l.parentNode:null,u=l&&l.nodeType===l.ELEMENT_NODE?l.className:"",d=c&&c.nodeType===c.ELEMENT_NODE?c.className:"";return d===i.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(o.startContainer.parentNode,o.startOffset):u===i.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(o.startContainer,o.startOffset):r=a,{position:n,hitTarget:r}},e.prototype._doHitTestWithCaretPositionFromPoint=function(e){var t=null,n=null,r=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,i=e.posy-document.body.scrollTop-document.documentElement.scrollTop,o=document.caretPositionFromPoint(r,i),s=document.createRange();return s.setStart(o.offsetNode,o.offset),s.collapse(!0),t=this.viewHelper.getPositionFromDOMInfo(s.startContainer.parentNode,s.startOffset),s.detach(),{position:t,hitTarget:n}},e.prototype._doHitTestWithMoveToPoint=function(e){var t=null,n=null,r=document.body.createTextRange();try{var o=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,s=e.posy-document.body.scrollTop-document.documentElement.scrollTop;r.moveToPoint(o,s)}catch(a){return{position:null,hitTarget:null}}r.collapse(!0);var l=r?r.parentElement():null,c=l?l.parentNode:null,u=c?c.parentNode:null,d=u&&u.nodeType===u.ELEMENT_NODE?u.className:"";if(d===i.ClassNames.VIEW_LINE){var p=r.duplicate();p.moveToElementText(l),p.setEndPoint("EndToStart",r),t=this.viewHelper.getPositionFromDOMInfo(l,p.text.length),p.moveToElementText(this.viewHelper.viewDomNode)}else n=l;return r.moveToElementText(this.viewHelper.viewDomNode),{position:t,hitTarget:n}},e.prototype._doHitTest=function(e,t,n){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t,n):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(t):document.body.createTextRange?this._doHitTestWithMoveToPoint(t):{position:null,hitTarget:null}},e.prototype._getZoneAtCoord=function(e){var t=this.viewHelper.getWhitespaceAtVerticalOffset(e);if(t){var r,i=t.verticalOffset+t.height/2,o=this.context.model.getLineCount(),s=null,a=null;return t.afterLineNumber!==o&&(a=new n.Position(t.afterLineNumber+1,1)),t.afterLineNumber>0&&(s=new n.Position(t.afterLineNumber,this.context.model.getLineMaxColumn(t.afterLineNumber))),r=null===a?s:null===s?a:i>e?s:a,{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:s,positionAfter:a,position:r}}return null},e.prototype._getFullLineRangeAtCoord=function(e){if(this.viewHelper.isAfterLines(e)){var t=this.context.model.getLineCount(),n=this.context.model.getLineMaxColumn(t);return{range:new r.Range(t,n,t,n),isAfterLines:!0}}var t=this.viewHelper.getLineNumberAtVerticalOffset(e),n=this.context.model.getLineMaxColumn(t);return{range:new r.Range(t,1,t,n),isAfterLines:!1}},e.prototype.createMouseTargetFromViewCursor=function(e,t,r){return new s(e,o.MouseTargetType.CONTENT_TEXT,new n.Position(t,r))},e.prototype.createMouseTargetFromViewLines=function(e){var t=this.context.model.getLineCount(),r=this.context.model.getLineMaxColumn(t);return new s(e,o.MouseTargetType.CONTENT_EMPTY,new n.Position(t,r))},e.prototype.createMouseTargetFromHitTestPosition=function(e,t,i,a){var l=new n.Position(t,i),c=this.viewHelper.getLineWidth(t);if(a>c)return new s(e,o.MouseTargetType.CONTENT_EMPTY,l);var u=this.viewHelper.visibleRangeForPosition2(t,i);if(!u)return new s(e,o.MouseTargetType.UNKNOWN,l);var d=u.left;if(a===d)return new s(e,o.MouseTargetType.CONTENT_TEXT,l);var p;if(i>1){var h=u.left;if(p=!1,p=p||a>h&&d>a,p=p||a>d&&h>a){var m=new r.Range(t,i,t,i-1);return new s(e,o.MouseTargetType.CONTENT_TEXT,l,m)}}var f=this.context.model.getLineMaxColumn(t);if(f>i){var v=this.viewHelper.visibleRangeForPosition2(t,i+1);if(v){var g=v.left;if(p=!1,p=p||a>d&&g>a,p=p||a>g&&d>a){var m=new r.Range(t,i,t,i+1);return new s(e,o.MouseTargetType.CONTENT_TEXT,l,m)}}}return new s(e,o.MouseTargetType.CONTENT_TEXT,l)},e.prototype.createMouseTargetFromContentWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new s(e,o.MouseTargetType.CONTENT_WIDGET,null,null,t):new s(e,o.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromOverlayWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new s(e,o.MouseTargetType.OVERLAY_WIDGET,null,null,t):new s(e,o.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromLinesDecorationsChild=function(e,t){var r=this._getZoneAtCoord(t);if(r)return new s(e,o.MouseTargetType.GUTTER_VIEW_ZONE,r.position,null,r);var i=this._getFullLineRangeAtCoord(t);return new s(e,o.MouseTargetType.GUTTER_LINE_DECORATIONS,new n.Position(i.range.startLineNumber,i.range.startColumn),i.range,i.isAfterLines)},e.prototype.createMouseTargetFromLineNumbers=function(e,t){var r=this._getZoneAtCoord(t);if(r)return new s(e,o.MouseTargetType.GUTTER_VIEW_ZONE,r.position,null,r);var i=this._getFullLineRangeAtCoord(t);return new s(e,o.MouseTargetType.GUTTER_LINE_NUMBERS,new n.Position(i.range.startLineNumber,i.range.startColumn),i.range,i.isAfterLines)},e.prototype.createMouseTargetFromGlyphMargin=function(e,t){var r=this._getZoneAtCoord(t);if(r)return new s(e,o.MouseTargetType.GUTTER_VIEW_ZONE,r.position,null,r);var i=this._getFullLineRangeAtCoord(t);return new s(e,o.MouseTargetType.GUTTER_GLYPH_MARGIN,new n.Position(i.range.startLineNumber,i.range.startColumn),i.range,i.isAfterLines)},e.prototype.createMouseTargetFromScrollbar=function(e,t){var r=this.viewHelper.getLineNumberAtVerticalOffset(t),i=this.context.model.getLineMaxColumn(r);return new s(e,o.MouseTargetType.SCROLLBAR,new n.Position(r,i))},e.prototype.createMouseTargetFromUnknownTarget=function(e){var t=this._isChild(e,this.viewHelper.viewDomNode,this.viewHelper.viewDomNode),n=null;return t&&(n=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode)),n?new s(e,o.MouseTargetType.OVERLAY_WIDGET,null,null,n):new s(e,o.MouseTargetType.UNKNOWN)},e}();t.MouseTargetFactory=l}),define("vs/base/dom/globalMouseMoveMonitor",["require","exports","vs/base/lifecycle","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/dom/iframe"],function(e,t,n,r,i,o){function s(e,t){var n=new i.StandardMouseEvent(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}}t.standardMouseMoveMerger=s;var a=function(){function e(){this.hooks=[],this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return e.prototype.dispose=function(){this.stopMonitoring(!1)},e.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=n.disposeAll(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},e.prototype.isMonitoring=function(){return this.hooks.length>0},e.prototype.startMonitoring=function(e,t,n){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var a=o.getSameOriginWindowChain(),l=0;l<a.length;l++)this.hooks.push(r.addDisposableThrottledListener(a[l].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(r.addDisposableListener(a[l].window.document,"mouseup",function(){return s.stopMonitoring(!0)}));if(o.hasDifferentOriginAncestor()){var c=a[a.length-1];this.hooks.push(r.addDisposableListener(c.window.document,"mouseout",function(e){var t=new i.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(r.addDisposableListener(c.window.document,"mouseover",function(e){var t=new i.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(r.addDisposableListener(c.window.document.body,"mouseleave",function(){s.stopMonitoring(!0)}))}}},e}();t.GlobalMouseMoveMonitor=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/mouseHandler",["require","exports","vs/base/env","vs/editor/core/position","vs/editor/core/selection","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/editor/editor","vs/editor/core/controller/mouseTarget","vs/editor/core/view/viewEventHandler","vs/base/lifecycle","vs/base/dom/globalMouseMoveMonitor"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e){return function(t,n){var r=new o.StandardMouseEvent(n),i=!1;return e&&(i=e.mouseTargetIsWidget(r)),i||r.preventDefault(),r}}var h=function(e){function t(n,r,o){var a=this;e.call(this),this.context=n,this.viewController=r,this.viewHelper=o,this.mouseTargetFactory=new l.MouseTargetFactory(this.context,o),this.listenersToRemove=[],this.hideTextAreaTimeout=-1,this.toDispose=[],this.mouseMoveMonitor=new d.GlobalMouseMoveMonitor,this.toDispose.push(this.mouseMoveMonitor),this.lastMouseEvent=null,this.lastMouseDownPosition=null,this.currentSelection=new i.Selection(1,1,1,1),this.lastMouseDownPositionEqualCount=0,this.lastMouseDownCount=0,this.lastSetMouseDownCountTime=0,this.onScrollTimeout=-1,this.layoutWidth=0,this.layoutHeight=0,this.lastMouseLeaveTime=-1,this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"contextmenu",function(e){return a._onContextMenu(e)})),this.listenersToRemove.push(s.addThrottledListener(this.viewHelper.viewDomNode,"mousemove",function(e){return a._onMouseMove(e)},p(this.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"mouseup",function(e){return a._onMouseUp(e)})),this.listenersToRemove.push(s.addNonBubblingMouseOutListener(this.viewHelper.viewDomNode,function(e){return a._onMouseLeave(e)})),this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"mousedown",function(e){return a._onMouseDown(e)})),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.toDispose=u.disposeAll(this.toDispose),this._unhook(),-1!==this.hideTextAreaTimeout&&(window.clearTimeout(this.hideTextAreaTimeout),this.hideTextAreaTimeout=-1)},t.prototype.onLayoutChanged=function(e){return this._layoutInfo=e,!1},t.prototype.onScrollChanged=function(e){return this.mouseMoveMonitor.isMonitoring()&&this._hookedOnScroll(e),!1},t.prototype.onCursorSelectionChanged=function(e){return this.currentSelection=e.selection,!1},t.prototype._onContextMenu=function(e){var t=new o.StandardMouseEvent(e),n=s.getDomNodePosition(this.viewHelper.linesContentDomNode),r=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,n,t,!0),i={event:t,target:r};this.viewController.emitContextMenu(i)},t.prototype._onMouseMove=function(e){if(!this.mouseMoveMonitor.isMonitoring()){var t=e.browserEvent.timeStamp;if(!(t<this.lastMouseLeaveTime)){var n=s.getDomNodePosition(this.viewHelper.linesContentDomNode),r=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,n,e,!0),i={event:e,target:r};this.viewController.emitMouseMove(i)}}},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime();var t={event:new o.StandardMouseEvent(e),target:null};this.viewController.emitMouseLeave(t)},t.prototype._onMouseUp=function(e){var t=new o.StandardMouseEvent(e),n=s.getDomNodePosition(this.viewHelper.linesContentDomNode),r=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,n,t,!0),i={event:t,target:r};this.viewController.emitMouseUp(i)},t.prototype._onMouseDown=function(e){var t=this,r=new o.StandardMouseEvent(e),i=s.getDomNodePosition(this.viewHelper.linesContentDomNode),l=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,i,r,!0),c=l.type===a.MouseTargetType.CONTENT_TEXT||l.type===a.MouseTargetType.CONTENT_EMPTY,u=l.type===a.MouseTargetType.GUTTER_GLYPH_MARGIN||l.type===a.MouseTargetType.GUTTER_LINE_NUMBERS||l.type===a.MouseTargetType.GUTTER_LINE_DECORATIONS,d=l.type===a.MouseTargetType.GUTTER_LINE_NUMBERS,p=this.context.configuration.editor.selectOnLineNumbers,h=l.type===a.MouseTargetType.CONTENT_VIEW_ZONE||l.type===a.MouseTargetType.GUTTER_VIEW_ZONE,m=r.leftButton;if(n.isMacintosh&&r.ctrlKey&&(m=!1),m&&(c||d&&p))n.browser.isIE11orEarlier?r.browserEvent.fromElement?(r.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()}):(r.preventDefault(),this.viewHelper.focusTextArea()),this._updateMouse(l.type,r,r.shiftKey,r.detail),this._hook(l.type);else if(u)r.preventDefault();else if(h){var f=l.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&r.preventDefault()}var v={event:r,target:l};this.viewController.emitMouseDown(v)},t.prototype._hookedOnScroll=function(){var e=this;-1===this.onScrollTimeout&&(this.onScrollTimeout=window.setTimeout(function(){e.onScrollTimeout=-1,e._updateMouse(e.monitoringStartTargetType,null,!0)},10))},t.prototype._hook=function(e){var t=this;this.mouseMoveMonitor.isMonitoring()||(this.monitoringStartTargetType=e,this.mouseMoveMonitor.startMonitoring(p(null),function(e){t._updateMouse(t.monitoringStartTargetType,e,!0)},function(){t._unhook()}))},t.prototype._unhook=function(){-1!==this.onScrollTimeout&&(window.clearTimeout(this.onScrollTimeout),this.onScrollTimeout=-1)},t.prototype._getPositionOutsideEditor=function(e,t){var n;return t.posy<e.top?(n=this.viewHelper.getLineNumberAtVerticalOffset(Math.max(this.viewHelper.getScrollTop()-(e.top-t.posy),0)),{lineNumber:n,column:1}):t.posy>e.top+e.height?(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}):(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),t.posx<e.left?{lineNumber:n,column:1}:t.posx>e.left+e.width?{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}:null)},t.prototype._updateMouse=function(e,n,i,o){void 0===o&&(o=0),n=n||this.lastMouseEvent,this.lastMouseEvent=n;var l,c,u=s.getDomNodePosition(this.viewHelper.viewDomNode),d=this._getPositionOutsideEditor(u,n);if(d)l=d.lineNumber,c=d.column;else{var p=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,u,n,!0),h=p.position;if(!h)return;if((p.type===a.MouseTargetType.CONTENT_VIEW_ZONE||p.type===a.MouseTargetType.GUTTER_VIEW_ZONE)&&this.lastMouseDownCount>0){var m=new r.Position(this.currentSelection.selectionStartLineNumber,this.currentSelection.selectionStartColumn),f=p.detail,v=f.positionBefore,g=f.positionAfter;v&&g&&(h=v.isBefore(m)?v:g)}l=h.lineNumber,c=h.column}if(o){var b=(new Date).getTime();b-this.lastSetMouseDownCountTime>t.CLEAR_MOUSE_DOWN_COUNT_TIME&&(o=1),this.lastSetMouseDownCountTime=b,o>this.lastMouseDownCount+1&&(o=this.lastMouseDownCount+1);var y=new r.Position(l,c);this.lastMouseDownPosition&&this.lastMouseDownPosition.equals(y)?this.lastMouseDownPositionEqualCount++:this.lastMouseDownPositionEqualCount=1,this.lastMouseDownPosition=y,this.lastMouseDownCount=Math.min(o,this.lastMouseDownPositionEqualCount),n.detail=this.lastMouseDownCount}if(e===a.MouseTargetType.GUTTER_LINE_NUMBERS)n.altKey?i?this.viewController.lastCursorLineSelect("mouse",l,c):this.viewController.createCursor("mouse",l,c,!0):i?this.viewController.lineSelectDrag("mouse",l,c):this.viewController.lineSelect("mouse",l,c);else if(this.lastMouseDownCount>=4)this.viewController.selectAll("mouse");else if(3===this.lastMouseDownCount)n.altKey?i?this.viewController.lastCursorLineSelectDrag("mouse",l,c):this.viewController.lastCursorLineSelect("mouse",l,c):i?this.viewController.lineSelectDrag("mouse",l,c):this.viewController.lineSelect("mouse",l,c);else if(2===this.lastMouseDownCount){var _="none",w=this.viewHelper.visibleRangeForPosition2(l,c);if(w){var E=u.left+w.left;n.posx>E?_="right":n.posx<E&&(_="left")}n.altKey?this.viewController.lastCursorWordSelect("mouse",l,c,_):i?this.viewController.wordSelectDrag("mouse",l,c,_):this.viewController.wordSelect("mouse",l,c,_)}else n.altKey?n.ctrlKey||n.metaKey||(i?this.viewController.lastCursorMoveToSelect("mouse",l,c):this.viewController.createCursor("mouse",l,c,!1)):i?this.viewController.moveToSelect("mouse",l,c):this.viewController.moveTo("mouse",l,c)},t.CLEAR_MOUSE_DOWN_COUNT_TIME=400,t.MOUSE_MOVE_MINIMUM_TIME=100,t}(c.ViewEventHandler);t.MouseHandler=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/pointerHandler",["require","exports","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/base/dom/touch","vs/editor/core/controller/mouseHandler"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,i){var o=this;e.call(this,t,n,i);var s=function(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n};this.viewHelper.linesContentDomNode.style.msTouchAction="none",this.viewHelper.linesContentDomNode.style.msContentZooming="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(n){var r=n.pointerType;return r===(n.MSPOINTER_TYPE_MOUSE||"mouse")?(o._lastPointerType="mouse",void 0):(r===(n.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)),void 0)}),o.listenersToRemove.push(r.addThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},s)),o.listenersToRemove.push(r.addListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return __extends(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,i=new n.StandardMouseEvent(e),o=r.getDomNodePosition(this.viewHelper.linesContentDomNode),s=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,o,i,!1);s.position&&this.viewController.moveTo("mouse",s.position.lineNumber,s.position.column),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(o.MouseHandler),a=function(e){function t(t,n,o){var s=this;e.call(this,t,n,o),this.gesture=new i.Gesture(this.viewHelper.linesContentDomNode),this.listenersToRemove.push(r.addListener(this.viewHelper.linesContentDomNode,i.EventType.Tap,function(e){return s.onTap(e)})),this.listenersToRemove.push(r.addListener(this.viewHelper.linesContentDomNode,i.EventType.Change,function(e){return s.onChange(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=r.getDomNodePosition(this.viewHelper.linesContentDomNode),i=new n.StandardMouseEvent(e),o=this.mouseTargetFactory.createMouseTarget(this._layoutInfo,t,i,!1);o.position&&this.viewController.moveTo("mouse",o.position.lineNumber,o.position.column)},t.prototype.onChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t}(o.MouseHandler),l=function(){function e(e,t,n){this.handler=window.navigator.msPointerEnabled?new s(e,t,n):window.TouchEvent?new a(e,t,n):new o.MouseHandler(e,t,n)}return e.prototype.onScrollChanged=function(e){this.handler.onScrollChanged(e)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewPart",["require","exports","vs/editor/core/view/viewEventHandler"],function(e,t,n){var r=function(e){function t(t){e.call(this),this._context=t,this._context.addEventHandler(this),this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]},t.prototype._requestModificationFrameBeforeRendering=function(e){this._modificationBeforeRenderingRunners.push(e)},t.prototype._requestModificationFrame=function(e){this._modificationRunners.push(e)},t.prototype.onBeforeForcedLayout=function(){if(this._modificationBeforeRenderingRunners.length>0){for(var e=0;e<this._modificationBeforeRenderingRunners.length;e++)this._modificationBeforeRenderingRunners[e]();this._modificationBeforeRenderingRunners=[]}},t.prototype.onReadAfterForcedLayout=function(e){this.shouldRender&&this._render(e)},t.prototype.onWriteAfterForcedLayout=function(){this.shouldRender&&(this.shouldRender=!1,this._executeModificationRunners())},t.prototype._executeModificationRunners=function(){if(this._modificationRunners.length>0){for(var e=0;e<this._modificationRunners.length;e++)this._modificationRunners[e]();this._modificationRunners=[]}},t.prototype._render=function(){throw new Error("Implement me!")},t}(n.ViewEventHandler);t.ViewPart=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/zones/zones",["require","exports","vs/base/types","vs/editor/core/view/viewContext","vs/editor/core/view/viewPart","vs/base/dom/dom","vs/base/errors"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n){e.call(this,t),this._whitespaceManager=n,this.domNode=document.createElement("div"),this.domNode.className=r.ClassNames.VIEW_ZONES,this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._zones={}}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._whitespaceManager=null,this._zones={}},t.prototype.onConfigurationChanged=function(e){var t=this;if(e.lineHeight){var n,r,i,s={};for(n in this._zones)this._zones.hasOwnProperty(n)&&(r=this._zones[n],i=this._heightInPixels(r.delegate),this._safeCallOnComputedHeight(r.delegate,i),s[n]=i,this._whitespaceManager.changeWhitespace(parseInt(n,10),i));return this._requestModificationFrame(function(){for(n in t._zones)t._zones.hasOwnProperty(n)&&s.hasOwnProperty(n)&&o.StyleMutator.setHeight(t._zones[n].delegate.domNode,s[n])}),!0}return!1},t.prototype.onLineMappingChanged=function(){var e,t,n=!1;for(t in this._zones)if(this._zones.hasOwnProperty(t)){e=this._zones[t];var r=this._computeWhitespaceAfterLineNumber(e.delegate);n=this._whitespaceManager.changeAfterLineNumberForWhitespace(parseInt(t,10),r)||n}return n},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!=typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceAfterLineNumber=function(e){if(0===e.afterLineNumber)return 0;var t;if("undefined"!=typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t={lineNumber:n,column:this._context.model.getModelLineMaxColumn(n)}}var r=this._context.model.convertModelPositionToViewPosition(t.lineNumber,t.column);return r.lineNumber},t.prototype.addZone=function(e){var t=this._heightInPixels(e),n=this._whitespaceManager.addWhitespace(this._computeWhitespaceAfterLineNumber(e),this._getZoneOrdinal(e),t),r={whitespaceId:n,delegate:e,isVisible:!1};return this._safeCallOnComputedHeight(r.delegate,t),this._requestModificationFrame(function(){r.delegate.domNode.hasAttribute("monaco-view-zone")&&(r.delegate.domNode.style.position="absolute",o.StyleMutator.setHeight(r.delegate.domNode,t),r.delegate.domNode.style.width="100%",o.StyleMutator.setDisplay(r.delegate.domNode,"none"))}),this._zones[r.whitespaceId.toString()]=r,r.delegate.domNode.setAttribute("monaco-view-zone",r.whitespaceId.toString()),this.domNode.appendChild(r.delegate.domNode),r.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._whitespaceManager.removeWhitespace(t.whitespaceId),t.delegate.domNode.removeAttribute("monaco-visible-view-zone"),t.delegate.domNode.removeAttribute("monaco-view-zone"),this._requestModificationFrame(function(){t.delegate.domNode.hasAttribute("monaco-view-zone")||t.delegate.domNode.parentNode&&t.delegate.domNode.parentNode.removeChild(t.delegate.domNode)}),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){{var n=this._zones[e.toString()],r=this._heightInPixels(n.delegate),i=this._computeWhitespaceAfterLineNumber(n.delegate);this._getZoneOrdinal(n.delegate)}t=this._whitespaceManager.changeWhitespace(n.whitespaceId,r)||t,t=this._whitespaceManager.changeAfterLineNumberForWhitespace(n.whitespaceId,i)||t}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return!1},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._context.configuration.editor.lineHeight*e.heightInLines:this._context.configuration.editor.lineHeight},t.prototype._safeCallOnComputedHeight=function(e,t){if(n.isFunction(e.onComputedHeight))try{e.onComputedHeight(t)}catch(r){s.onUnexpectedError(r)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if(n.isFunction(e.onDomNodeTop))try{e.onDomNodeTop(t)}catch(r){s.onUnexpectedError(r)}},t.prototype._render=function(e){var t=this,n=this._whitespaceManager.getWhitespaceViewportData();this._requestModificationFrame(function(){var r,i,s={},a=!1;for(r=0,i=n.length;i>r;r++)s[n[r].id.toString()]=n[r],a=!0;var l,c;for(l in t._zones)t._zones.hasOwnProperty(l)&&(c=t._zones[l],s.hasOwnProperty(l)?(o.StyleMutator.setTop(c.delegate.domNode,s[l].verticalOffset-e.bigNumbersDelta),o.StyleMutator.setHeight(c.delegate.domNode,s[l].height),c.isVisible||(o.StyleMutator.setDisplay(c.delegate.domNode,"block"),c.delegate.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),t._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(s[l].verticalOffset))):(c.isVisible&&(o.StyleMutator.setDisplay(c.delegate.domNode,"none"),c.delegate.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),t._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))));
a&&o.StyleMutator.setWidth(t.domNode,e.scrollWidth)})},t}(i.ViewPart);t.ViewZones=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewLayer",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewPart"],function(e,t,n,r){var i=function(e){function t(t){var n=this;e.call(this,t),this._scrollDomNode=null,this._scrollDomNodeIsAbove=!1,this.domNode=this._createDomNode(),this._lines=[],this._rendLineNumberStart=1,this._renderer=new o(function(){return n._createLine()})}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._lines=null},t.prototype.onConfigurationChanged=function(e){for(var t=0;t<this._lines.length;t++)this._lines[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._lines=[],this._rendLineNumberStart=1,n.clearNode(this.domNode),!0},t.prototype.onModelLinesDeleted=function(e){var t,n=Math.max(e.fromLineNumber-this._rendLineNumberStart,0),r=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(e.fromLineNumber<this._rendLineNumberStart&&(e.toLineNumber<this._rendLineNumberStart?this._rendLineNumberStart-=e.toLineNumber-e.fromLineNumber+1:this._rendLineNumberStart=e.fromLineNumber),r>=n){for(t=n;r>=t;t++){var i=this._lines[t].getDomNode();i&&this.domNode.removeChild(i)}this._lines.splice(n,r-n+1)}for(t=n;t<this._lines.length;t++)this._lines[t].onLinesDeletedAbove();return!0},t.prototype.onModelLineChanged=function(e){var t=e.lineNumber-this._rendLineNumberStart,n=!1;t>=0&&t<this._lines.length&&(this._lines[t].onContentChanged(),n=!0);for(var r=Math.max(t,0);r<this._lines.length;r++)this._lines[r].onLineChangedAbove(),n=!0;return n},t.prototype.onModelLinesInserted=function(e){var t;if(e.fromLineNumber<=this._rendLineNumberStart){for(this._rendLineNumberStart+=e.toLineNumber-e.fromLineNumber+1,t=0;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0}if(e.fromLineNumber>=this._rendLineNumberStart+this._lines.length)return!1;var n=Math.min(e.fromLineNumber-this._rendLineNumberStart,this._lines.length-1),r=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(r>=n){for(t=n;r>=t;t++){var i=this._createLine();this._lines.splice(t,0,i)}var o=r-n+1;for(t=0;o>t;t++){var s=this._lines.pop(),a=s.getDomNode();a&&this.domNode.removeChild(a)}}for(t=r;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0},t.prototype.onModelTokensChanged=function(e){var t=e.fromLineNumber-this._rendLineNumberStart,n=e.toLineNumber-this._rendLineNumberStart;if(0>n||t>=this._lines.length)return!1;for(var r=Math.min(Math.max(t,0),this._lines.length-1),i=Math.min(Math.max(n,0),this._lines.length-1),o=!1,s=r;i>=s;s++)o=!0,this._lines[s].onTokensChanged();return o},t.prototype._renderLines=function(e){var t={domNode:this.domNode,rendLineNumberStart:this._rendLineNumberStart,lines:this._lines,linesLength:this._lines.length,getInlineDecorationsForLineInViewport:function(t){return e.getInlineDecorationsForLineInViewport(t)},viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:this._scrollDomNode,scrollDomNodeIsAbove:this._scrollDomNodeIsAbove},n=this._renderer.renderWithManyUpdates(t,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._rendLineNumberStart=n.rendLineNumberStart,this._lines=n.lines,this._scrollDomNode=n.scrollDomNode,this._scrollDomNodeIsAbove=n.scrollDomNodeIsAbove},t.prototype._createDomNode=function(){var e=document.createElement("div");return e.className="view-layer",e.style.position="absolute",e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e},t.prototype._createLine=function(){throw new Error("Implement me!")},t}(r.ViewPart);t.ViewLayer=i;var o=function(){function e(e){this._createLine=e}return e.prototype.renderWithManyUpdates=function(e,t,n,r){return this._render(e,t,n,r)},e.prototype._render=function(e,t,n,r){var i={domNode:e.domNode,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength,getInlineDecorationsForLineInViewport:e.getInlineDecorationsForLineInViewport,viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:e.scrollDomNode,scrollDomNodeIsAbove:e.scrollDomNodeIsAbove},o=!0;if(i.scrollDomNode){var s=this._getScrollDomNodeTime(i.scrollDomNode);(new Date).getTime()-s<1e3&&(o=!1)}if(o&&(i.rendLineNumberStart+i.linesLength-1<t||n<i.rendLineNumberStart)){i.rendLineNumberStart=t,i.linesLength=n-t+1,i.lines=[];for(var a=t;n>=a;a++)i.lines[a-t]=this._createLine();return this._finishRendering(i,!0,r),i.scrollDomNode=null,i}this._renderUntouchedLines(i,Math.max(t-i.rendLineNumberStart,0),Math.min(n-i.rendLineNumberStart,i.linesLength-1),r,t);var l,c,u;return i.rendLineNumberStart>t?(l=t,c=Math.min(n,i.rendLineNumberStart-1),c>=l&&(this._insertLinesBefore(i,l,c,r,t),i.linesLength+=c-l+1,i.scrollDomNode&&i.scrollDomNodeIsAbove&&(i.scrollDomNode.parentNode&&i.scrollDomNode.parentNode.removeChild(i.scrollDomNode),i.scrollDomNode=null))):i.rendLineNumberStart<t&&(u=Math.min(i.linesLength,t-i.rendLineNumberStart),u>0&&(this._removeLinesBefore(i,u),i.linesLength-=u)),i.rendLineNumberStart=t,i.rendLineNumberStart+i.linesLength-1<n?(l=i.rendLineNumberStart+i.linesLength,c=n,c>=l&&(this._insertLinesAfter(i,l,c,r,t),i.linesLength+=c-l+1,i.scrollDomNode&&!i.scrollDomNodeIsAbove&&(i.scrollDomNode.parentNode&&i.scrollDomNode.parentNode.removeChild(i.scrollDomNode),i.scrollDomNode=null))):i.rendLineNumberStart+i.linesLength-1>n&&(l=Math.max(0,n-i.rendLineNumberStart+1),c=i.linesLength-1,u=c-l+1,u>0&&(this._removeLinesAfter(i,u),i.linesLength-=u)),this._finishRendering(i,!1,r),i},e.prototype._renderUntouchedLines=function(e,t,n,r,i){var o,s;for(o=t;n>=o;o++){s=e.rendLineNumberStart+o;var a=e.lines[o].getDomNode();a&&e.lines[o].layoutLine(s,r[s-i])}},e.prototype._insertLinesBefore=function(e,t,n){var r,i,o=[];for(i=t;n>=i;i++)r=this._createLine(),o.push(r);e.lines=o.concat(e.lines)},e.prototype._getScrollDomNodeTime=function(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0},e.prototype._removeIfNotScrollDomNode=function(e,t,n){var r=this._getScrollDomNodeTime(t);if(!r)return e.domNode.removeChild(t),void 0;if(e.scrollDomNode){var i=this._getScrollDomNodeTime(e.scrollDomNode);if(i>r)return e.domNode.removeChild(t),void 0;e.scrollDomNode.parentNode&&e.scrollDomNode.parentNode.removeChild(e.scrollDomNode),e.scrollDomNode=null}e.scrollDomNode=t,e.scrollDomNodeIsAbove=n},e.prototype._removeLinesBefore=function(e,t){var n;for(n=0;t>n;n++){var r=e.lines[n].getDomNode();r&&this._removeIfNotScrollDomNode(e,r,!0)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n){var r,i,o=[];for(i=t;n>=i;i++)r=this._createLine(),o.push(r);e.lines=e.lines.concat(o)},e.prototype._removeLinesAfter=function(e,t){var n,r=e.linesLength-t;for(n=0;t>n;n++){var i=e.lines[r+n].getDomNode();i&&this._removeIfNotScrollDomNode(e,i,!1)}e.lines.splice(r,t)},e.prototype._finishRendering=function(e,t,n){var r,i,o,s,a=!1,l=[],c=[],u=!1,d=[],p=[];for(r=0,i=e.linesLength;i>r;r++)if(o=e.lines[r],s=r+e.rendLineNumberStart,o.shouldUpdateHTML(s,e.getInlineDecorationsForLineInViewport(s))){var h=o.getDomNode();h?(o.getLineOuterHTML(p,s,n[r]),d[r]=!0,u=!0):(o.getLineOuterHTML(c,s,n[r]),l[r]=!0,a=!0)}if(a){var m=e.domNode.lastChild;t||!m?e.domNode.innerHTML=c.join(""):m.insertAdjacentHTML("afterend",c.join(""));var f=e.domNode.lastChild;for(r=e.linesLength-1;r>=0;r--)o=e.lines[r],l[r]&&(o.setDomNode(f),f=f.previousSibling)}if(u){var v=document.createElement("div");v.innerHTML=p.join("");var h,g;for(r=0;r<e.linesLength;r++)o=e.lines[r],d[r]&&(g=v.firstChild,h=o.getDomNode(),h.parentNode.replaceChild(g,h),o.setDomNode(g))}},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/lines/viewLines",["require","exports","vs/editor/core/view/lines/viewLine","vs/editor/core/view/viewLayer","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/range","vs/base/time/schedulers","vs/base/env","vs/base/dom/dom"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(t,n){var r=this;e.call(this,t),this._hasVerticalScroll=!1,this._hasHorizontalScroll=!1,this._layoutProvider=n,this.domNode.className=i.ClassNames.VIEW_LINES,this._maxLineWidth=0,this._asyncUpdateLineWidths=new a.RunOnceScheduler(function(){r._updateLineWidths()},200),this._currentVisibleRange=new s.Range(1,1,1,1),this._bigNumbersDelta=0,this._lastCursorRevealRangeHorizontallyEvent=null,this.textRangeRestingSpot=document.createElement("div"),this.textRangeRestingSpot.className="textRangeRestingSpot",this._hasVerticalScroll=!0,this._hasHorizontalScroll=!0}return __extends(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),this._layoutProvider=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(t){var n=e.prototype.onConfigurationChanged.call(this,t);return t.wrappingColumn&&(this._maxLineWidth=0),n},t.prototype.onLayoutChanged=function(t){var n=e.prototype.onLayoutChanged.call(this,t);return this._maxLineWidth=0,n},t.prototype.onModelFlushed=function(){var t=e.prototype.onModelFlushed.call(this);return this._maxLineWidth=0,t},t.prototype.onScrollWidthChanged=function(){return c.StyleMutator.setWidth(this.domNode,this._layoutProvider.getScrollWidth()),!1},t.prototype.onModelDecorationsChanged=function(t){for(var n=e.prototype.onModelDecorationsChanged.call(this,t),r=0;r<this._lines.length;r++)this._lines[r].onModelDecorationsChanged();return n||!0},t.prototype.onCursorRevealRange=function(e){var t=this._computeScrollTopToRevealRange(this._layoutProvider.getCurrentViewport(),e.range,e.verticalType);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._layoutProvider.setScrollTop(t),!0},t.prototype.onScrollChanged=function(t){return this._hasVerticalScroll=this._hasVerticalScroll||t.vertical,this._hasHorizontalScroll=this._hasHorizontalScroll||t.horizontal,e.prototype.onScrollChanged.call(this,t)},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getLineNumberFromDOMInfo(e);if(-1===n)return null;if(1>n||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return{lineNumber:n,column:1};var r=n-this._rendLineNumberStart;if(0>r||r>=this._lines.length)return null;var i=this._lines[r].getColumnOfNodeOffset(n,e,t);return{lineNumber:n,column:i}},t.prototype._getLineNumberFromDOMInfo=function(e){for(;e&&1===e.nodeType;){if(e.className===i.ClassNames.VIEW_LINE)return parseInt(e.getAttribute("lineNumber"),10);e=e.parentElement}return-1},t.prototype.getLineWidth=function(e){var t=e-this._rendLineNumberStart;return 0>t||t>=this._lines.length?-1:this._lines[t].getWidth()},t.prototype.linesVisibleRangesForRange=function(e,n){if(this.shouldRender)return null;var r=e.endLineNumber;if(e=s.intersectRanges(e,this._currentVisibleRange),!e)return null;var i,o,a,l,c,u,d,p=[],h=this.domNode.getBoundingClientRect(),m=h.top,f=h.left;for(n&&(d=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber),o=e.startLineNumber;o<=e.endLineNumber;o++)a=o-this._rendLineNumberStart,0>a||a>=this._lines.length||(l=o===e.startLineNumber?e.startColumn:1,c=o===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(o),i=this._lines[a].getVisibleRangesForRange(o,l,c,m,0,f,this.textRangeRestingSpot),i&&i.length>0&&(n&&r>o&&(u=d,d=this._context.model.convertViewPositionToModelPosition(o+1,1).lineNumber,u!==d&&(i[i.length-1].width+=t.LINE_FEED_WIDTH)),p.push({lineNumber:o,ranges:i})));return 0===p.length?null:p},t.prototype.visibleRangesForRange2=function(e,n,r,i){if(this.shouldRender)return null;var o=e.endLineNumber;if(e=s.intersectRanges(e,this._currentVisibleRange),!e)return null;var a,l,c,u,d,p,h,m,f=[],v=this._context.configuration.editor.lineHeight,g=this.domNode.getBoundingClientRect(),b=g.top,y=g.left;for(i&&(m=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber),l=e.startLineNumber;l<=e.endLineNumber;l++)if(u=l-this._rendLineNumberStart,!(0>u||u>=this._lines.length)&&(d=l===e.startLineNumber?e.startColumn:1,p=l===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(l),a=this._lines[u].getVisibleRangesForRange(l,d,p,b,r,y,this.textRangeRestingSpot),a&&a.length>0)){c=this._layoutProvider.getVerticalOffsetForLineNumber(l)-this._bigNumbersDelta+n;for(var _=0,w=a.length;w>_;_++)a[_].top=c,a[_].height=v;i&&o>l&&(h=m,m=this._context.model.convertViewPositionToModelPosition(l+1,1).lineNumber,h!==m&&(a[a.length-1].width+=t.LINE_FEED_WIDTH)),f=f.concat(a)}return 0===f.length?null:f},t.prototype._createLine=function(){return n.createLine(this._context)},t.prototype._renderAndUpdateLineHeights=function(t){if(e.prototype._renderLines.call(this,t),this._currentVisibleRange=new s.Range(0+this._rendLineNumberStart,1,this._lines.length-1+this._rendLineNumberStart,this._context.model.getLineMaxColumn(this._lines.length-1+this._rendLineNumberStart)),this._lastCursorRevealRangeHorizontallyEvent){var n=this._computeScrollLeftToRevealRange(this._lastCursorRevealRangeHorizontallyEvent.range);this._lastCursorRevealRangeHorizontallyEvent=null;var r=this._context.configuration.getWrappingColumn(),i=0===r;i||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._layoutProvider.setScrollLeft(n.scrollLeft)}},t.prototype._updateLineWidths=function(){var e,t,n=1;for(e=0;e<this._lines.length;e++)t=this._lines[e].getWidth(),n=Math.max(n,t);this._ensureMaxLineWidth(n)},t.prototype.render=function(){var e=this._layoutProvider.getLinesViewportData();if(this._bigNumbersDelta=e.bigNumbersDelta,this.shouldRender&&(this.shouldRender=!1,this._renderAndUpdateLineHeights(e),this._asyncUpdateLineWidths.schedule()),this._hasVerticalScroll||this._hasHorizontalScroll){if(l.browser.canUseTranslate3d){var t="translate3d("+-this._layoutProvider.getScrollLeft()+"px, "+e.visibleRangesDeltaTop+"px, 0px)";c.StyleMutator.setTransform(this.domNode.parentNode,t)}else this._hasVerticalScroll&&c.StyleMutator.setTop(this.domNode.parentNode,e.visibleRangesDeltaTop),this._hasHorizontalScroll&&c.StyleMutator.setLeft(this.domNode.parentNode,-this._layoutProvider.getScrollLeft());this._hasVerticalScroll=!1,this._hasHorizontalScroll=!1}return c.StyleMutator.setWidth(this.domNode,this._layoutProvider.getScrollWidth()),c.StyleMutator.setHeight(this.domNode,Math.min(this._layoutProvider.getTotalHeight(),1e6)),e.visibleRange=this._currentVisibleRange,e},t.prototype._ensureMaxLineWidth=function(e){this._maxLineWidth<e&&(this._maxLineWidth=e,this._layoutProvider.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var r,i,s=e.top,a=e.height,l=s+a;r=this._layoutProvider.getVerticalOffsetForLineNumber(t.startLineNumber),i=this._layoutProvider.getVerticalOffsetForLineNumber(t.endLineNumber)+this._layoutProvider.heightInPxForLine(t.endLineNumber),n===o.VerticalRevealType.Simple&&(i+=this._context.configuration.editor.lineHeight);var c;if(n===o.VerticalRevealType.Center||n===o.VerticalRevealType.CenterIfOutsideViewport)if(n===o.VerticalRevealType.CenterIfOutsideViewport&&r>=s&&l>=i)c=s;else{var u=(r+i)/2;c=Math.max(0,u-a/2)}else c=this._computeMinimumScrolling(s,l,r,i);return c},t.prototype._computeScrollLeftToRevealRange=function(e){var n=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:n};var r=this._layoutProvider.getCurrentViewport(),i=r.left,o=i+r.width,s=this.visibleRangesForRange2(e,0,0,!1),a=Number.MAX_VALUE,l=0;if(!s)return{scrollLeft:i,maxHorizontalOffset:n};var c,u;for(c=0;c<s.length;c++)u=s[c],u.left<a&&(a=u.left),u.left+u.width>l&&(l=u.left+u.width);n=l,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),l+=this._context.configuration.editor.revealHorizontalRightPadding;var d=this._computeMinimumScrolling(i,o,a,l);return{scrollLeft:d,maxHorizontalOffset:n}},t.prototype._computeMinimumScrolling=function(e,t,n,r){var i=t-e,o=r-n;return i>o?e>n?n:r>t?Math.max(0,r-i):e:n},t.LINE_FEED_WIDTH=10,t.HORIZONTAL_EXTRA_PX=30,t}(r.ViewLayer);t.ViewLines=u}),define("vs/editor/core/view/parts/overviewRuler/overviewRulerImpl",["require","exports","vs/editor/editor","vs/base/dom/dom","vs/base/env"],function(e,t,n,r,i){function o(e,t){return e.startLineNumber===t.startLineNumber&&e.endLineNumber===t.endLineNumber&&e.forceHeight===t.forceHeight&&e.color===t.color&&e.position===t.position}function s(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;r>n;n++)if(!o(e[n],t[n]))return!1;return!0}t.hasCanvas=-1===window.navigator.userAgent.indexOf("MSIE 8");var a=function(){function e(e,t,n,r,o,s,a){this._canvasLeftOffset=e,this._minimumHeight=o,this._maximumHeight=s,this._getVerticalOffsetForLine=a,this._zones=[],this._renderedZones=[],this._domNode=document.createElement("canvas"),this._domNode.className=t,this._domNode.style.position="absolute",i.browser.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._width=0,this._height=0,this._outerHeight=n,this._lineHeight=r,this._lanesCount=3}return e.prototype.dispose=function(){this._zones=[]},e.prototype.setLayout=function(e,t){r.StyleMutator.setTop(this._domNode,e.top),r.StyleMutator.setRight(this._domNode,e.right),(this._width!==e.width||this._height!==e.height)&&(this._width=e.width,this._height=e.height,this._domNode.width=this._width,this._domNode.height=this._height,t&&this.render(!0))},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render(!0)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.setScrollHeight=function(e,t){this._outerHeight=e,t&&this.render(!0)},e.prototype.setLineHeight=function(e,t){this._lineHeight=e,t&&this.render(!0)},e.prototype.setZones=function(e,t){this._zones=e,t&&this.render(!1)},e.prototype._insertZone=function(e,t,n,r,i,o){var s=Math.floor((t+n)/2),a=n-s;a>i/2&&(a=i/2),r/2>a&&(a=r/2),0>s-a&&(s=a),s+a>this._height&&(s=this._height-a),e[o]=e[o]||[],e[o].push({from:s-a,to:s+a})},e.prototype._renderVerticalPatch=function(e,t,n,r,i){var o,s,a,l,c,u,d,p={};for(o=0,s=this._zones.length;s>o;o++)if(a=this._zones[o],a.position&n)if(l=this._getVerticalOffsetForLine(a.startLineNumber),c=this._getVerticalOffsetForLine(a.endLineNumber)+this._lineHeight,l*=t,c*=t,a.forceHeight)c=l+a.forceHeight,this._insertZone(p,l,c,a.forceHeight,a.forceHeight,a.color);else if(u=a.endLineNumber-a.startLineNumber+1,d=u*this._maximumHeight,c-l>d)for(var h=a.startLineNumber;h<=a.endLineNumber;h++)l=this._getVerticalOffsetForLine(h),c=l+this._lineHeight,l*=t,c*=t,this._insertZone(p,l,c,this._minimumHeight,this._maximumHeight,a.color);else this._insertZone(p,l,c,this._minimumHeight,d,a.color);var m,f,v,g,b=function(e,t){return e.from-t.from};for(m in p)if(p.hasOwnProperty(m)){for(f=p[m],f.sort(b),v=f[0].from,g=f[0].to,e.fillStyle=m,o=1,s=f.length;s>o;o++)g>=f[o].from?g=Math.max(g,f[o].to):(e.fillRect(r,v,i,g-v),v=f[o].from,g=f[o].to);e.fillRect(r,v,i,g-v)}},e.prototype.render=function(e){if(0===this._outerHeight)return!1;if(!t.hasCanvas)return!1;var n=e||!s(this._renderedZones,this._zones);if(n){var r=this._height/this._outerHeight,i=this._domNode.getContext("2d");i.clearRect(0,0,this._width,this._height);var o=this._width-this._canvasLeftOffset;this._lanesCount>=3?this._renderThreeLanes(i,r,o):2===this._lanesCount?this._renderTwoLanes(i,r,o):1===this._lanesCount&&this._renderOneLane(i,r,o)}return this._renderedZones=this._zones,n},e.prototype._renderOneLane=function(e,t,r){this._renderVerticalPatch(e,t,n.OverviewRulerLane.Left|n.OverviewRulerLane.Center|n.OverviewRulerLane.Right,this._canvasLeftOffset,r)},e.prototype._renderTwoLanes=function(e,t,r){var i=Math.floor(r/2),o=r-i,s=this._canvasLeftOffset,a=this._canvasLeftOffset+i;this._renderVerticalPatch(e,t,n.OverviewRulerLane.Left|n.OverviewRulerLane.Center,s,i),this._renderVerticalPatch(e,t,n.OverviewRulerLane.Right,a,o)},e.prototype._renderThreeLanes=function(e,t,r){var i=Math.floor(r/3),o=Math.floor(r/3),s=r-i-o,a=this._canvasLeftOffset,l=this._canvasLeftOffset+i,c=this._canvasLeftOffset+i+s;this._renderVerticalPatch(e,t,n.OverviewRulerLane.Left,a,i),this._renderVerticalPatch(e,t,n.OverviewRulerLane.Center,l,s),this._renderVerticalPatch(e,t,n.OverviewRulerLane.Right,c,o)},e}();t.OverviewRulerImpl=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overviewRuler/overviewRuler",["require","exports","vs/editor/core/view/parts/overviewRuler/overviewRulerImpl","vs/editor/core/view/viewEventHandler"],function(e,t,n,r){var i=function(e){function t(t,r,i,o,s,a){e.call(this),this._context=t,this._overviewRuler=new n.OverviewRulerImpl(0,r,i,this._context.configuration.editor.lineHeight,o,s,a),this._context.addEventHandler(this)}return __extends(t,e),t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose()},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),!0):!1},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!0),!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(r.ViewEventHandler);t.OverviewRuler=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overviewRuler/decorationsOverviewRuler",["require","exports","vs/editor/core/view/parts/overviewRuler/overviewRulerImpl","vs/editor/editor","vs/editor/core/view/viewPart"],function(e,t,n,r,i){var o=function(e){function t(r,i,o){e.call(this,r),this._overviewRuler=new n.OverviewRulerImpl(1,"decorationsOverviewRuler",i,this._context.configuration.editor.lineHeight,t.DECORATION_HEIGHT,t.DECORATION_HEIGHT,o),this._overviewRuler.setLanesCount(this._context.configuration.editor.overviewRulerLanes,!1),this._shouldUpdateDecorations=!0,this._zonesFromDecorations=[],this._shouldUpdateCursorPosition=!0,this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._shouldForceRender=!1,this._zonesFromCursors=[],this._cursorPositions=[],this._cursorColor=this._getCursorColor()}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose()},t.prototype._getCursorColor=function(){var e=this._context.configuration.editor.theme;return/dark/.test(e)||/black/.test(e)?t._CURSOR_COLOR_DARK:t._CURSOR_COLOR},t.prototype.onCursorPositionChanged=function(e){return this._shouldUpdateCursorPosition=!0,this._cursorPositions=[e.position],this._cursorPositions=this._cursorPositions.concat(e.secondaryPositions),!0},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),n=this._context.configuration.editor.overviewRulerLanes,r=!1;return e.lineHeight&&(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),this._shouldForceRender=!0,r=!0),t!==n&&(this._overviewRuler.setLanesCount(n,!1),this._shouldForceRender=!0,r=!0),e.hideCursorInOverviewRuler&&(this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,r=!0),e.theme&&(this._cursorColor=this._getCursorColor(),this._shouldUpdateCursorPosition=!0,r=!0),r},t.prototype.onLayoutChanged=function(e){var t=this;return this._shouldForceRender=!0,this._requestModificationFrame(function(){t._overviewRuler.setLayout(e.overviewRuler,!1)}),!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},t.prototype.onModelDecorationsChanged=function(){return this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!1),this._shouldForceRender=!0,!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._createZonesFromDecorations=function(){var e,t,n,r=this._context.model.getAllDecorations(),i=[];for(e=0,t=r.length;t>e;e++)n=r[e],n.options.overviewRuler.color&&i.push({startLineNumber:n.range.startLineNumber,endLineNumber:n.range.endLineNumber,color:n.options.overviewRuler.color,position:n.options.overviewRuler.position});return i},t.prototype._createZonesFromCursors=function(){var e,t,n,i=[];for(e=0,t=this._cursorPositions.length;t>e;e++)n=this._cursorPositions[e],i.push({forceHeight:2,startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,color:this._cursorColor,position:r.OverviewRulerLane.Full});return i},t.prototype._render=function(){var e=this,t=this._shouldForceRender;this._shouldForceRender=!1;var r=!1;if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._zonesFromCursors=this._hideCursor?[]:this._createZonesFromCursors());var i=[];i=i.concat(this._zonesFromCursors),i=i.concat(this._zonesFromDecorations),this._overviewRuler.setZones(i,!1),r=!0}(r||t)&&this._requestModificationFrame(function(){var r=e._overviewRuler.render(t);if(r&&n.hasCanvas&&e._overviewRuler.getLanesCount()>0&&(e._zonesFromDecorations.length>0||e._zonesFromCursors.length>0)){var i=e._overviewRuler.getDomNode().getContext("2d");i.beginPath(),i.lineWidth=1,i.strokeStyle="rgba(197,197,197,0.8)",i.rect(0,0,e._overviewRuler.getWidth(),e._overviewRuler.getHeight()),i.stroke()}})},t.DECORATION_HEIGHT=6,t._CURSOR_COLOR="rgba(0, 0, 102, 0.8)",t._CURSOR_COLOR_DARK="rgba(152, 152, 152, 0.8)",t}(i.ViewPart);t.DecorationsOverviewRuler=o}),define("vs/editor/core/view/parts/viewCursors/viewCursor",["require","exports","vs/base/dom/dom"],function(e,t,n){var r=function(){function e(e,t){this._context=e,this._isInEditableRange=!0,this._domNode=this._createCursorDomNode(t),this._isVisible=!0,n.StyleMutator.setDisplay(this._domNode,"none"),this.updatePosition({lineNumber:1,column:1})}return e.prototype._createCursorDomNode=function(e){var t=document.createElement("div");return t.className="cursor",e&&(t.className+=" secondary"),n.StyleMutator.setHeight(t,this._context.configuration.editor.lineHeight),n.StyleMutator.setTop(t,0),n.StyleMutator.setLeft(t,0),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),t},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPositionTop=function(){return this._positionTop},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(n.StyleMutator.setVisibility(this._domNode,"inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(n.StyleMutator.setVisibility(this._domNode,"hidden"),this._isVisible=!1)},e.prototype.onModelFlushed=function(){return this.updatePosition({lineNumber:1,column:1}),this._isInEditableRange=!0,!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&n.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight),!0},e.prototype.prepareRender=function(e){var t=e.visibleRangeForPosition(this._position);t?(this._positionTop=t.top,this._positionLeft=t.left,this._isInViewport=!0):this._isInViewport=!1},e.prototype.render=function(e){this._isInViewport?(n.StyleMutator.setDisplay(this._domNode,"block"),n.StyleMutator.setLeft(this._domNode,this._positionLeft),n.StyleMutator.setTop(this._domNode,this._positionTop+e.viewportTop-e.bigNumbersDelta)):n.StyleMutator.setDisplay(this._domNode,"none")},e.prototype.updatePosition=function(e){this._position=e,this._domNode.setAttribute("lineNumber",this._position.lineNumber.toString()),this._domNode.setAttribute("column",this._position.column.toString()),this._isInViewport=!1},e}();t.ViewCursor=r}),define("vs/css!vs/editor/core/view/parts/viewCursors/viewCursors",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/viewCursors/viewCursors",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/parts/viewCursors/viewCursor","vs/editor/core/view/viewPart","vs/base/env","vs/css!./viewCursors"],function(e,t,n,r,i,o){var s;!function(e){e[e.Hidden=0]="Hidden",e[e.Visible=1]="Visible",e[e.Blink=2]="Blink"}(s||(s={}));var a=function(e){function t(t){e.call(this,t),this._primaryCursor=new r.ViewCursor(this._context,!1),this._secondaryCursors=[],this._domNode=document.createElement("div"),this._domNode.className=n.ClassNames.VIEW_CURSORS_LAYER,o.browser.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._blinkTimer=-1,this._editorHasFocus=!1,this._updateBlinking()}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onModelFlushed=function(){this._primaryCursor.onModelFlushed();for(var e=0,t=this._secondaryCursors.length;t>e;e++){var n=this._secondaryCursors[e].getDomNode();n.parentNode.removeChild(n)}return this._secondaryCursors=[],!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onModelTokensChanged=function(e){var t=function(t){return e.fromLineNumber<=t.lineNumber&&t.lineNumber<=e.toLineNumber};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onCursorPositionChanged=function(e){if(this._primaryCursor.onCursorPositionChanged(e.position,e.isInEditableRange),this._updateBlinking(),this._secondaryCursors.length<e.secondaryPositions.length)for(var t=e.secondaryPositions.length-this._secondaryCursors.length,n=0;t>n;n++){var i=new r.ViewCursor(this._context,!0);this._primaryCursor.getDomNode().parentNode.insertBefore(i.getDomNode(),this._primaryCursor.getDomNode().nextSibling),this._secondaryCursors.push(i)}else if(this._secondaryCursors.length>e.secondaryPositions.length)for(var o=this._secondaryCursors.length-e.secondaryPositions.length,n=0;o>n;n++)this._secondaryCursors[0].getDomNode().parentNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var n=0;n<e.secondaryPositions.length;n++)this._secondaryCursors[n].onCursorPositionChanged(e.secondaryPositions[n],e.isInEditableRange);
return!0},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onConfigurationChanged=function(e){this._primaryCursor.onConfigurationChanged(e);for(var t=0,n=this._secondaryCursors.length;n>t;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.onViewFocusChanged=function(e){return this._editorHasFocus=e,this._updateBlinking(),!1},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getRenderType=function(){return this._editorHasFocus?this._primaryCursor.getIsInEditableRange()&&!this._context.configuration.editor.readOnly?s.Blink:s.Visible:s.Hidden},t.prototype._updateBlinking=function(){var e=this;-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1);var n=this._getRenderType();n===s.Visible||n===s.Blink?this._show():this._hide(),n===s.Blink&&(this._blinkTimer=window.setInterval(function(){return e._blink()},t.BLINK_INTERVAL))},t.prototype._blink=function(){this._isVisible?this._hide():this._show()},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype._render=function(e){var t=this;this._primaryCursor.prepareRender(e);for(var n=0,r=this._secondaryCursors.length;r>n;n++)this._secondaryCursors[n].prepareRender(e);this._requestModificationFrame(function(){t._primaryCursor.render(e);for(var n=0,r=t._secondaryCursors.length;r>n;n++)t._secondaryCursors[n].render(e)})},t.BLINK_INTERVAL=500,t}(i.ViewPart);t.ViewCursors=a}),define("vs/css!vs/editor/core/view/parts/contentWidgets/contentWidgets",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/contentWidgets/contentWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewPart","vs/base/dom/dom","vs/css!./contentWidgets"],function(e,t,n,r,i,o){var s=function(e){function t(t,r){e.call(this,t),this._viewDomNode=r,this._widgets={},this._contentWidth=0,this._contentLeft=0,this.domNode=document.createElement("div"),this.domNode.className=n.ClassNames.CONTENT_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){var t=this;return this._contentWidth=e.contentWidth,this._contentLeft=e.contentLeft,this._requestModificationFrameBeforeRendering(function(){var e;for(e in t._widgets)t._widgets.hasOwnProperty(e)&&o.StyleMutator.setMaxWidth(t._widgets[e].widget.getDomNode(),t._contentWidth)}),!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.addWidget=function(e){var t={allowEditorOverflow:e.allowEditorOverflow||!1,widget:e,position:null,preference:null,isVisible:!1};this._widgets[e.getId()]=t;var n=e.getDomNode();n.style.position="absolute",o.StyleMutator.setMaxWidth(n,this._contentWidth),o.StyleMutator.setVisibility(n,"hidden"),n.setAttribute("widgetId",e.getId()),t.allowEditorOverflow?this._viewDomNode.appendChild(n):this.domNode.appendChild(n),this.shouldRender=!0},t.prototype.setWidgetPosition=function(e,t,n){var r=this._widgets[e.getId()];r.position=t,r.preference=n,this.shouldRender=!0},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var r=n.widget.getDomNode();r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.shouldRender=!0}},t.prototype._layoutBoxInViewport=function(e,t,n){var r=n.visibleRangeForPosition(e);if(!r)return null;var i=t.clientWidth,o=t.clientHeight,s=r.top,a=s,l=r.top+r.height,c=n.viewportHeight-l,u=s-o,d=a>=o,p=l,h=c>=o,m=r.left;return m+i>n.viewportLeft+n.viewportWidth&&(m=n.viewportLeft+n.viewportWidth-i),m<n.viewportLeft&&(m=n.viewportLeft),{aboveTop:u,fitsAbove:d,belowTop:p,fitsBelow:h,left:m}},t.prototype._layoutBoxInPage=function(e,t,n){var r=n.visibleRangeForPosition(e);if(!r)return null;var i=r.left-n.viewportLeft;if(0>i||i>this._contentWidth)return null;var s=t.clientWidth,a=t.clientHeight,l=r.top-a,c=r.top+r.height,i=i+this._contentLeft,u=o.getDomNodePosition(this._viewDomNode),d=u.top+l-document.body.scrollTop-document.documentElement.scrollTop,p=u.top+c-document.body.scrollTop-document.documentElement.scrollTop,h=u.left+i-document.body.scrollLeft-document.documentElement.scrollLeft,m=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,v=d>=0,g=f>=p+a;if(h+s+20>m){var b=h-(m-s-20);h-=b,i-=b}if(0>h){var b=h;h-=b,i-=b}return{aboveTop:l,fitsAbove:v,belowTop:c,fitsBelow:g,left:i}},t.prototype._prepareRenderWidgetAtExactPosition=function(e,t){var n=t.visibleRangeForPosition(e);return n?{top:n.top,left:n.left}:null},t.prototype._prepareRenderWidget=function(e,t){var n=this;if(!e.position||!e.preference)return null;var i,o,s,a=this._context.model.validateModelPosition(e.position),l=this._context.model.convertModelPositionToViewPosition(a.lineNumber,a.column),c=null,u=function(){if(!c){var r=e.widget.getDomNode();c=e.allowEditorOverflow?n._layoutBoxInPage(l,r,t):n._layoutBoxInViewport(l,r,t)}};for(o=1;2>=o;o++)for(s=0;s<e.preference.length;s++)if(i=e.preference[s],i===r.ContentWidgetPositionPreference.ABOVE){if(u(),!c)return null;if(2===o||c.fitsAbove)return{top:c.aboveTop,left:c.left}}else{if(i!==r.ContentWidgetPositionPreference.BELOW)return this._prepareRenderWidgetAtExactPosition(l,t);if(u(),!c)return null;if(2===o||c.fitsBelow)return{top:c.belowTop,left:c.left}}},t.prototype._render=function(e){var t,n,r=this,i={};for(n in this._widgets)this._widgets.hasOwnProperty(n)&&(t=this._prepareRenderWidget(this._widgets[n],e),t&&(i[n]=t));this._requestModificationFrame(function(){var t,n,s;for(t in r._widgets)r._widgets.hasOwnProperty(t)&&(n=r._widgets[t],s=r._widgets[t].widget.getDomNode(),i.hasOwnProperty(t)?(n.allowEditorOverflow?(o.StyleMutator.setTop(s,i[t].top),o.StyleMutator.setLeft(s,i[t].left)):(o.StyleMutator.setTop(s,i[t].top+e.viewportTop-e.bigNumbersDelta),o.StyleMutator.setLeft(s,i[t].left)),n.isVisible||(o.StyleMutator.setVisibility(s,"inherit"),s.setAttribute("monaco-visible-content-widget","true"),n.isVisible=!0)):n.isVisible&&(s.removeAttribute("monaco-visible-content-widget"),n.isVisible=!1,o.StyleMutator.setVisibility(s,"hidden")))})},t}(i.ViewPart);t.ViewContentWidgets=s}),define("vs/css!vs/editor/core/view/parts/overlayWidgets/overlayWidgets",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overlayWidgets/overlayWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewPart","vs/base/dom/dom","vs/css!./overlayWidgets"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t),this._widgets={},this._verticalScrollbarWidth=0,this._horizontalScrollbarHeight=0,this._editorHeight=0,this.domNode=document.createElement("div"),this.domNode.className=n.ClassNames.OVERLAY_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.onLayoutChanged=function(e){var t=this;return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._requestModificationFrame(function(){o.StyleMutator.setWidth(t.domNode,e.width)}),!0},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,preference:null};var t=e.getDomNode();t.style.position="absolute",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t)},t.prototype.setWidgetPosition=function(e,t){var n=this,r=this._widgets[e.getId()];r.preference=t,this._requestModificationFrame(function(){n._widgets.hasOwnProperty(e.getId())&&n._renderWidget(r)})},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t],r=n.widget.getDomNode();delete this._widgets[t],r.parentNode.removeChild(r)}},t.prototype._renderWidget=function(e){var t="data-editor-restoreStyleTop",n=e.widget.getDomNode();if(null!==e.preference)if(e.preference===r.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)n.hasAttribute(t)||n.setAttribute(t,n.style.top),o.StyleMutator.setTop(n,0),o.StyleMutator.setRight(n,2*this._verticalScrollbarWidth);else if(e.preference===r.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){n.hasAttribute(t)||n.setAttribute(t,n.style.top);var i=n.clientHeight;o.StyleMutator.setTop(n,this._editorHeight-i-2*this._horizontalScrollbarHeight),o.StyleMutator.setRight(n,2*this._verticalScrollbarWidth)}else e.preference===r.OverlayWidgetPositionPreference.TOP_CENTER&&(n.hasAttribute(t)||n.setAttribute(t,n.style.top),o.StyleMutator.setTop(n,0),n.style.right="50%");else if(n.hasAttribute(t)){var s=n.getAttribute(t);n.removeAttribute(t),n.style.top=s}},t.prototype._render=function(){var e,t=this;this._requestModificationFrame(function(){for(e in t._widgets)t._widgets.hasOwnProperty(e)&&t._renderWidget(t._widgets[e])})},t.prototype.onReadAfterForcedLayout=function(e){return this._render(e),null},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(i.ViewPart);t.ViewOverlayWidgets=s}),define("vs/editor/core/view/layout/lines/whitespaceComputer",["require","exports"],function(e,t){var n=function(){function e(){this.heights=[],this.ids=[],this.afterLineNumbers=[],this.ordinals=[],this.prefixSum=[],this.prefixSumValidIndex=-1,this.whitespaceId2Index={},this.lastWhitespaceId=0}return e.findInsertionIndex=function(e,t,n,r){for(var i,o=0,s=e.length;s>o;)i=Math.floor((o+s)/2),t===e[i]?r<n[i]?s=i:o=i+1:t<e[i]?s=i:o=i+1;return o},e.prototype.insertWhitespace=function(t,n,r){var i=++this.lastWhitespaceId,o=e.findInsertionIndex(this.afterLineNumbers,t,this.ordinals,n);return this.insertWhitespaceAtIndex(i,o,t,n,r),i},e.prototype.insertWhitespaceAtIndex=function(e,t,n,r,i){this.heights.splice(t,0,i),this.ids.splice(t,0,e),this.afterLineNumbers.splice(t,0,n),this.ordinals.splice(t,0,r),this.prefixSum.splice(t,0,0);var o,s;for(o in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(o)&&(s=this.whitespaceId2Index[o],s>=t&&(this.whitespaceId2Index[o]=s+1));this.whitespaceId2Index[e.toString()]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t){var n=e.toString();if(this.whitespaceId2Index.hasOwnProperty(n)){var r=this.whitespaceId2Index[n];if(this.heights[r]!==t)return this.heights[r]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,r-1),!0}return!1},e.prototype.changeAfterLineNumberForWhitespace=function(t,n){var r=t.toString();if(this.whitespaceId2Index.hasOwnProperty(r)){var i=this.whitespaceId2Index[r];if(this.afterLineNumbers[i]!==n){var o=this.ordinals[i],s=this.heights[i];this.removeWhitespace(t);var a=e.findInsertionIndex(this.afterLineNumbers,n,this.ordinals,o);return this.insertWhitespaceAtIndex(t,a,n,o,s),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=e.toString();if(this.whitespaceId2Index.hasOwnProperty(t)){var n=this.whitespaceId2Index[t];return delete this.whitespaceId2Index[t],this.removeWhitespaceAtIndex(n),!0}return!1},e.prototype.removeWhitespaceAtIndex=function(e){this.heights.splice(e,1),this.ids.splice(e,1),this.afterLineNumbers.splice(e,1),this.ordinals.splice(e,1),this.prefixSum.splice(e,1),this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,e-1);var t,n;for(t in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(t)&&(n=this.whitespaceId2Index[t],n>=e&&(this.whitespaceId2Index[t]=n-1))},e.prototype.onModelLinesDeleted=function(e,t){var n,r,i;for(r=0,i=this.afterLineNumbers.length;i>r;r++)n=this.afterLineNumbers[r],n>=e&&t>=n?this.afterLineNumbers[r]=e-1:n>t&&(this.afterLineNumbers[r]-=t-e+1)},e.prototype.onModelLinesInserted=function(e,t){var n,r,i;for(r=0,i=this.afterLineNumbers.length;i>r;r++)n=this.afterLineNumbers[r],n>=e&&(this.afterLineNumbers[r]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this.heights.length?0:this.getAccumulatedHeight(this.heights.length-1)},e.prototype.getAccumulatedHeight=function(e){var t=Math.max(0,this.prefixSumValidIndex+1);0===t&&(this.prefixSum[0]=this.heights[0],t++);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.heights[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype.findLastWhitespaceBeforeLineNumber=function(e){for(var t,n=this.afterLineNumbers,r=0,i=n.length-1;i>=r;)if(t=Math.floor((r+i)/2),n[t]<e){if(t+1>=n.length||n[t+1]>=e)return t;r=t+1}else i=t-1;return-1},e.prototype.findFirstWhitespaceAfterLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this.heights.length?n:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return this.findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this.heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return this.afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return this.ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return this.heights[e]},e.prototype.getWhitespaces=function(e){for(var t=[],n=0;n<this.heights.length;n++)t.push({id:this.ids[n],afterLineNumber:this.afterLineNumbers[n],heightInLines:this.heights[n]/e});return t},e}();t.WhitespaceComputer=n}),define("vs/editor/core/view/layout/lines/verticalObjects",["require","exports","vs/editor/core/view/layout/lines/whitespaceComputer"],function(e,t,n){var r=function(){function e(){this.whitespaces=new n.WhitespaceComputer}return e.prototype.replaceLines=function(e){this.linesCount=e},e.prototype.insertWhitespace=function(e,t,n){return this.whitespaces.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t){return this.whitespaces.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.whitespaces.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.whitespaces.removeWhitespace(e)},e.prototype.onModelLinesDeleted=function(e,t){this.linesCount-=t-e+1,this.whitespaces.onModelLinesDeleted(e,t)},e.prototype.onModelLinesInserted=function(e,t){this.linesCount+=t-e+1,this.whitespaces.onModelLinesInserted(e,t)},e.prototype.getTotalHeight=function(e){var t=e*this.linesCount,n=this.whitespaces.getTotalHeight();return t+n},e.prototype.getVerticalOffsetForLineNumber=function(e,t){var n;n=e>1?t*(e-1):0;var r=this.whitespaces.getAccumulatedHeightBeforeLineNumber(e);return n+r},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.whitespaces.getCount()>0},e.prototype.isAfterLines=function(e,t){var n=this.getTotalHeight(t);return e>n},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e,t){if(0>e)return 1;for(var n,r,i,o=1,s=this.linesCount;s>o;)if(n=Math.floor((o+s)/2),r=this.getVerticalOffsetForLineNumber(n,t),i=t,e>=r+i)o=n+1;else{if(e>=r)return n;s=n}return o>this.linesCount?this.linesCount:o},e.prototype.getCenteredLineInViewport=function(e,t,n){for(var r,i,o=this.getLinesViewportData(e,t,n),s=(t-e)/2,a=o.startLineNumber;a<=o.endLineNumber;a++)if(r=o.visibleRangesDeltaTop+o.relativeVerticalOffset[a-o.startLineNumber],i=r+n,s>=r&&i>s||r>s)return a;return o.endLineNumber},e.prototype.getLinesViewportData=function(e,t,n){var r,i,o=this.getLineNumberAtOrAfterVerticalOffset(e,n),s=this.linesCount,a=this.getVerticalOffsetForLineNumber(o,n),l=this.whitespaces.getFirstWhitespaceIndexAfterLineNumber(o),c=this.whitespaces.getCount();-1===l?(l=c,i=s+1):(i=this.whitespaces.getAfterLineNumberForWhitespaceIndex(l),r=this.whitespaces.getHeightForWhitespaceIndex(l));var u=a,d=u,p=5e5,h=0;a>=p&&(h=Math.floor(a/p)*p,h=Math.floor(h/n)*n,d-=h);for(var m=[],f=o;s>=f;f++){for(u+=n,m.push(d),d+=n;i===f;)d+=r,u+=r,l++,l>=c?i=s+1:(i=this.whitespaces.getAfterLineNumberForWhitespaceIndex(l),r=this.whitespaces.getHeightForWhitespaceIndex(l));if(u>t){s=f;break}}return{viewportTop:e-h,viewportHeight:t-e,bigNumbersDelta:h,startLineNumber:o,endLineNumber:s,visibleRangesDeltaTop:-(e-h),relativeVerticalOffset:m,visibleRange:null,getInlineDecorationsForLineInViewport:null,getDecorationsInViewport:null}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e,t){var n,n,r=this.whitespaces.getAfterLineNumberForWhitespaceIndex(e);n=r>=1?t*r:0;var i;return i=e>0?this.whitespaces.getAccumulatedHeight(e-1):0,n+i},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e,t){var n,r,i,o=0,s=this.whitespaces.getCount()-1;if(0>s)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(s,t),l=this.whitespaces.getHeightForWhitespaceIndex(s);if(e>=a+l)return-1;for(;s>o;)if(n=Math.floor((o+s)/2),r=this.getVerticalOffsetForWhitespaceIndex(n,t),i=this.whitespaces.getHeightForWhitespaceIndex(n),e>=r+i)o=n+1;else{if(e>=r)return n;s=n}return o},e.prototype.getWhitespaceAtVerticalOffset=function(e,t){var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,t);if(0>n)return null;if(n>=this.whitespaces.getCount())return null;var r=this.getVerticalOffsetForWhitespaceIndex(n,t);if(r>e)return null;var i=this.whitespaces.getHeightForWhitespaceIndex(n),o=this.whitespaces.getIdForWhitespaceIndex(n),s=this.whitespaces.getAfterLineNumberForWhitespaceIndex(n);return{id:o,afterLineNumber:s,verticalOffset:r,height:i}},e.prototype.getWhitespaceViewportData=function(e,t,n){var r=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,n),i=this.whitespaces.getCount()-1;if(0>r)return[];var o,s,a,l=[];for(o=r;i>=o&&(s=this.getVerticalOffsetForWhitespaceIndex(o,n),a=this.whitespaces.getHeightForWhitespaceIndex(o),!(s>=t));o++)l.push({id:this.whitespaces.getIdForWhitespaceIndex(o),afterLineNumber:this.whitespaces.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:a});return l},e.prototype.getWhitespaces=function(e){return this.whitespaces.getWhitespaces(e)},e}();t.VerticalObjects=r}),define("vs/editor/core/view/layout/lines/linesLayout",["require","exports","vs/editor/core/view/layout/lines/verticalObjects"],function(e,t,n){var r=function(){function e(e,t){this.configuration=e,this.model=t,this.verticalObjects=new n.VerticalObjects,this.verticalObjects.replaceLines(t.getLineCount())}return e.prototype.insertWhitespace=function(e,t,n){return this.verticalObjects.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t){return this.verticalObjects.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.verticalObjects.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.verticalObjects.removeWhitespace(e)},e.prototype.onModelFlushed=function(){this.verticalObjects.replaceLines(this.model.getLineCount())},e.prototype.onModelLinesDeleted=function(e){this.verticalObjects.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onModelLinesInserted=function(e){this.verticalObjects.onModelLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this.verticalObjects.getVerticalOffsetForLineNumber(e,this.configuration.editor.lineHeight)},e.prototype.getLinesTotalHeight=function(){return this.verticalObjects.getTotalHeight(this.configuration.editor.lineHeight)},e.prototype.getTotalHeight=function(e,t){var n=this.getLinesTotalHeight();return n+=this.configuration.editor.scrollBeyondLastLine?e.height-this.configuration.editor.lineHeight:t,Math.max(e.height,n)},e.prototype.isAfterLines=function(e){return this.verticalObjects.isAfterLines(e,this.configuration.editor.lineHeight)},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){return this.verticalObjects.getLineNumberAtOrAfterVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getHeightForLineNumber=function(){return this.configuration.editor.lineHeight},e.prototype.getWhitespaceViewportData=function(e){return this.verticalObjects.getWhitespaceViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getWhitespaces=function(){return this.verticalObjects.getWhitespaces(this.configuration.editor.lineHeight)},e.prototype.getWhitespaceAtVerticalOffset=function(e){return this.verticalObjects.getWhitespaceAtVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getLinesViewportData=function(e){var t=this.verticalObjects.getLinesViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight),n=this.model.getDecorationsResolver(t.startLineNumber,t.endLineNumber);return t.getDecorationsInViewport=function(){return n.getDecorations()},t.getInlineDecorationsForLineInViewport=function(e){return n.getInlineDecorations(e)},t},e.prototype.getCenteredLineInViewport=function(e){return this.verticalObjects.getCenteredLineInViewport(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.verticalObjects.getWhitespaceAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.verticalObjects.hasWhitespace()},e}();t.LinesLayout=r}),define("vs/editor/core/view/layout/editorLayoutProvider",["require","exports"],function(e,t){var n=function(){function e(e,t,n,r,i,o,s,a){this.verticalScrollbarWidth=10,this.horizontalScrollbarHeight=10,this.outerWidth=e,this.outerHeight=t,this.lineHeight=n,this.showGlyphMargin=r,this.glyphMarginWidth=this.computeGlyphMarginWidth(),this.showLineNumbers=i,this.lineNumbersMinChars=o,this.lineDecorationsWidth=s,this.lineCount=0,this.maxDigitWidth=a,this.lineNumbersWidth=this.computeLineNumbersWidth(),this.layoutInfo=this.layout()}return e.prototype.setDimensions=function(e,t){return this.outerWidth!==e||this.outerHeight!==t?(this.outerWidth=e,this.outerHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setScrollbarSize=function(e,t){return this.verticalScrollbarWidth!==e||this.horizontalScrollbarHeight!==t?(this.verticalScrollbarWidth=e,this.horizontalScrollbarHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setGlyphMargin=function(e){return this.showGlyphMargin=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},e.prototype.setLineHeight=function(e){return this.lineHeight!==e?(this.lineHeight=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth()),!0):!1},e.prototype.computeGlyphMarginWidth=function(){return this.showGlyphMargin?this.lineHeight:0},e.prototype.setGlyphMarginWidth=function(e){return this.glyphMarginWidth!==e?(this.glyphMarginWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setLineDecorationsWidth=function(e){return this.lineDecorationsWidth!==e?(this.lineDecorationsWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setShowLineNumbers=function(e){return this.showLineNumbers=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersMinChars=function(e){return this.lineNumbersMinChars=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineCount=function(e){return this.lineCount=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setMaxDigitWidth=function(e){return this.maxDigitWidth=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersWidth=function(e){return e=Math.round(e),this.lineNumbersWidth!==e?(this.lineNumbersWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.getLayoutInfo=function(){return this.layoutInfo},e.prototype.layout=function(){var e=this.outerWidth,t=this.outerHeight,n=this.lineNumbersWidth,r=this.glyphMarginWidth,i=t,o=t,s=this.lineDecorationsWidth,a=t,l=e-r-n-s,c=t,u=this.verticalScrollbarWidth,d=this.horizontalScrollbarHeight,p=0,h=p+r,m=h+n,f=m+s;return{width:e,height:t,glyphMarginLeft:p,glyphMarginWidth:r,glyphMarginHeight:o,lineNumbersLeft:h,lineNumbersWidth:n,lineNumbersHeight:i,decorationsLeft:m,decorationsWidth:s,decorationsHeight:a,contentLeft:f,contentWidth:l,contentHeight:c,verticalScrollbarWidth:u,horizontalScrollbarHeight:d}},e.prototype.digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t?t:1},e.prototype.computeLineNumbersWidth=function(){if(this.showLineNumbers){var e=Math.max(this.digitCount(this.lineCount),this.lineNumbersMinChars);return e*this.maxDigitWidth}return 0},e}();t.EditorLayoutProvider=n}),define("vs/base/ui/scrollbar/impl/common",["require","exports"],function(e,t){function n(e){switch(e){case"hidden":return r.Hidden;case"visible":return r.Visible;default:return r.Auto}}!function(e){e[e.Auto=0]="Auto",e[e.Hidden=1]="Hidden",e[e.Visible=2]="Visible"}(t.Visibility||(t.Visibility={}));var r=t.Visibility;t.visibilityFromString=n}),define("vs/base/ui/scrollbar/impl/domNodeScrollable",["require","exports","vs/base/dom/dom","vs/base/dom/touch","vs/base/eventEmitter"],function(e,t,n,r,i){var o=function(){function e(e){this.eventEmitterHelper=new i.EventEmitter,this.domNode=e,this.gestureHandler=new r.Gesture(this.domNode)}return e.prototype.getScrollHeight=function(){return this.domNode.scrollHeight},e.prototype.getScrollWidth=function(){return this.domNode.scrollWidth},e.prototype.getScrollLeft=function(){return this.domNode.scrollLeft},e.prototype.setScrollLeft=function(e){this.domNode.scrollLeft=e},e.prototype.getScrollTop=function(){return this.domNode.scrollTop},e.prototype.setScrollTop=function(e){this.domNode.scrollTop=e},e.prototype.addScrollListener=function(e){var t=this,r=this.eventEmitterHelper.addListener2("scroll",e),i=n.addDisposableListener(this.domNode,"scroll",function(e){t.eventEmitterHelper.emit("scroll",{browserEvent:e})});return{dispose:function(){i.dispose(),r.dispose()}}},e.prototype.dispose=function(){this.domNode=null,this.eventEmitterHelper.dispose(),this.gestureHandler&&(this.gestureHandler.dispose(),this.gestureHandler=null)},e}();t.DomNodeScrollable=o}),define("vs/base/ui/scrollbar/impl/abstractScrollbar",["require","exports","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/ui/scrollbar/impl/common","vs/base/lifecycle","vs/base/dom/globalMouseMoveMonitor","vs/base/env"],function(e,t,n,r,i,o,s,a){function l(e){return e+"px"}function c(e,t,n,r,i){null!==t&&(e.style.top=l(t)),null!==n&&(e.style.left=l(n)),null!==r&&(e.style.bottom=l(r)),null!==i&&(e.style.right=l(i))}function u(e,t,n){null!==t&&(e.style.width=l(t)),null!==n&&(e.style.height=l(n))}var d=function(){function e(e,t,n){this.visibleSize=0,this.scrollSize=0,this.scrollPosition=0,this.scrollbarSize=t,this.oppositeScrollbarSize=n,this.arrowSize=e,this.refreshComputedValues()}return e.prototype.setVisibleSize=function(e){return this.visibleSize!==e?(this.visibleSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollSize=function(e){return this.scrollSize!==e?(this.scrollSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollPosition=function(e){return this.scrollPosition!==e?(this.scrollPosition=e,this.refreshComputedValues(),!0):!1},e.prototype.refreshComputedValues=function(){if(this.computedAvailableSize=Math.max(0,this.visibleSize-this.oppositeScrollbarSize),this.computedRepresentableSize=Math.max(0,this.computedAvailableSize-2*this.arrowSize),this.computedRatio=this.scrollSize>0?this.computedRepresentableSize/this.scrollSize:0,this.computedIsNeeded=this.scrollSize>this.visibleSize,this.computedIsNeeded){if(this.computedSliderSize=Math.floor(this.visibleSize*this.computedRatio),this.computedSliderPosition=Math.floor(this.scrollPosition*this.computedRatio),this.computedSliderSize<e.MINIMUM_SLIDER_SIZE){var t=(e.MINIMUM_SLIDER_SIZE-this.computedSliderSize)/2;this.computedSliderSize=e.MINIMUM_SLIDER_SIZE,this.computedSliderPosition-=t,this.computedSliderPosition+this.computedSliderSize>this.computedRepresentableSize&&(this.computedSliderPosition=this.computedRepresentableSize-this.computedSliderSize),this.computedSliderPosition<0&&(this.computedSliderPosition=0)}}else this.computedSliderSize=this.computedRepresentableSize,this.computedSliderPosition=0},e.prototype.getArrowSize=function(){return this.arrowSize},e.prototype.getRectangleLargeSize=function(){return this.computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this.scrollbarSize},e.prototype.isNeeded=function(){return this.computedIsNeeded},e.prototype.getSliderSize=function(){return this.computedSliderSize},e.prototype.getSliderPosition=function(){return this.computedSliderPosition},e.prototype.convertSliderPositionToScrollPosition=function(e){return e/this.computedRatio},e.prototype.validateScrollPosition=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this.scrollSize-this.visibleSize)},e.MINIMUM_SLIDER_SIZE=20,e}();t.ScrollbarState=d;var p=function(){function e(e,t,r,i,o,a,l,d,p){var h=this;this.parent=p,this.mouseWheelEventFactory=d,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",u(this.bgDomNode,a,l),c(this.bgDomNode,null!==t?0:null,null!==r?0:null,null!==i?0:null,null!==o?0:null),this.domNode=document.createElement("div"),this.domNode.className=e,this.domNode.style.position="absolute",u(this.domNode,m.ARROW_IMG_SIZE,m.ARROW_IMG_SIZE),c(this.domNode,t,r,i,o),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(n.addDisposableListener(this.bgDomNode,"mousedown",function(e){return h._arrowMouseDown(e)})),this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(e){return h._arrowMouseDown(e)})),this.toDispose.push(this.mouseMoveMonitor),this.interval=-1,this.timeout=-1}return e.prototype.dispose=function(){this.toDispose=o.disposeAll(this.toDispose),this._clearArrowTimers()},e.prototype._arrowMouseDown=function(e){var t=this,n=function(){t.parent.onMouseWheel(t.mouseWheelEventFactory())},i=function(){t.interval=window.setInterval(n,1e3/24)};n(),this._clearArrowTimers(),this.timeout=window.setTimeout(i,200),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(){},function(){t._clearArrowTimers()});var o=new r.StandardMouseEvent(e);o.preventDefault()},e.prototype._clearArrowTimers=function(){-1!==this.interval&&(window.clearInterval(this.interval),this.interval=-1),-1!==this.timeout&&(window.clearTimeout(this.timeout),this.timeout=-1)},e}(),h=function(){function e(e,t,n){this._revealTimeout=-1,this.visibility=e,this.visibleClassName=t,this.invisibleClassName=n,this.domNode=null,this.isVisible=!1,this.isNeeded=!1,this.shouldBeVisible=!1,this.fadeAwayTimeout=-1
}return e.prototype.dispose=function(){-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1),-1!==this._revealTimeout&&(window.clearTimeout(this._revealTimeout),this._revealTimeout=-1)},e.prototype.applyVisibilitySetting=function(e){return this.visibility===i.Visibility.Hidden?!1:this.visibility===i.Visibility.Visible?!0:e},e.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this.shouldBeVisible!==t&&(this.shouldBeVisible=t,this.ensureVisibility())},e.prototype.setIsNeeded=function(e){this.isNeeded!==e&&(this.isNeeded=e,this.ensureVisibility())},e.prototype.setDomNode=function(e){this.domNode=e,this.domNode.className=this.invisibleClassName,this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){return this.isNeeded?(this.shouldBeVisible?this._reveal():this._hide(!0),void 0):(this._hide(!1),void 0)},e.prototype._reveal=function(){var e=this;this.isVisible||(this.isVisible=!0,-1===this._revealTimeout&&(this._revealTimeout=window.setTimeout(function(){e._revealTimeout=-1,e.domNode.className=e.visibleClassName},0)),-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1))},e.prototype._hide=function(e){-1!==this._revealTimeout&&(window.clearTimeout(this._revealTimeout),this._revealTimeout=-1),this.isVisible&&(this.isVisible=!1,this.domNode.className=this.invisibleClassName+(e?" fade":""))},e}(),m=function(){function e(e,t,n,r){this.parent=e,this.scrollbarState=t,this.visibilityController=new h(n,"visible scrollbar "+r,"invisible scrollbar "+r),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(this.visibilityController),this.toDispose.push(this.mouseMoveMonitor)}return e.prototype._createDomNode=function(){var e=this;this.domNode=document.createElement("div"),a.browser.canUseTranslate3d&&(this.domNode.style.transform="translate3d(0px, 0px, 0px)"),this.visibilityController.setDomNode(this.domNode),this.domNode.style.position="absolute",this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(t){return e._domNodeMouseDown(t)}))},e.prototype._createArrow=function(e,t,n,r,i,o,s,a){var l=new p(e,t,n,r,i,o,s,a,this.parent);this.domNode.appendChild(l.bgDomNode),this.domNode.appendChild(l.domNode),this.toDispose.push(l)},e.prototype._createSlider=function(e,t,i,o){var s=this;this.slider=document.createElement("div"),this.slider.className="slider",this.slider.style.position="absolute",c(this.slider,e,t,null,null),u(this.slider,i,o),this.domNode.appendChild(this.slider),this.toDispose.push(n.addDisposableListener(this.slider,"mousedown",function(e){return s._sliderMouseDown(new r.StandardMouseEvent(e))}))},e.prototype.destroy=function(){this.toDispose=o.disposeAll(this.toDispose)},e.prototype.onElementSize=function(e){this.scrollbarState.setVisibleSize(e)&&(this._renderDomNode(this.scrollbarState.getRectangleLargeSize(),this.scrollbarState.getRectangleSmallSize()),this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollSize=function(e){this.scrollbarState.setScrollSize(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollPosition=function(e){this.scrollbarState.setScrollPosition(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.beginReveal=function(){this.visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this.visibilityController.setShouldBeVisible(!1)},e.prototype._renderSlider=function(){this._updateSlider(this.scrollbarState.getSliderSize(),this.scrollbarState.getArrowSize()+this.scrollbarState.getSliderPosition())},e.prototype._domNodeMouseDown=function(e){var t=new r.StandardMouseEvent(e);t.target===this.domNode&&this._onMouseDown(t)},e.prototype.delegateMouseDown=function(e){var t=new r.StandardMouseEvent(e),n=this.domNode.getClientRects()[0].top,i=n+this.scrollbarState.getSliderPosition(),o=n+this.scrollbarState.getSliderPosition()+this.scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);s>=i&&o>=s?this._sliderMouseDown(t):this._onMouseDown(t)},e.prototype._onMouseDown=function(e){var t=n.getDomNodePosition(this.domNode),r=this._mouseDownRelativePosition(e,t)-this.scrollbarState.getArrowSize()-this.scrollbarState.getSliderSize()/2;this.setDesiredScrollPosition(this.scrollbarState.convertSliderPositionToScrollPosition(r)),this._sliderMouseDown(e)},e.prototype._sliderMouseDown=function(e){var t=this;if(e.leftButton){var r=this._sliderMousePosition(e)-this.scrollbarState.getSliderPosition();n.toggleClass(this.slider,"active",!0),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(e){var n=t._sliderMousePosition(e)-r;t.setDesiredScrollPosition(t.scrollbarState.convertSliderPositionToScrollPosition(n))},function(){n.toggleClass(t.slider,"active",!1),t.parent.onDragEnd()}),e.preventDefault(),this.parent.onDragStart()}},e.prototype.validateScrollPosition=function(e){return this.scrollbarState.validateScrollPosition(e)},e.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e),this._setScrollPosition(e),this.onElementScrollPosition(e),this._renderSlider()},e.prototype._renderDomNode=function(){},e.prototype._updateSlider=function(){},e.prototype._mouseDownRelativePosition=function(){return 0},e.prototype._sliderMousePosition=function(){return 0},e.prototype._setScrollPosition=function(){},e.ARROW_IMG_SIZE=11,e}();t.AbstractScrollbar=m});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/scrollbar/impl/horizontalScrollbar",["require","exports","vs/base/ui/scrollbar/impl/abstractScrollbar","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/base/ui/scrollbar/impl/common","vs/base/env"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,r,i){var s=this,a=new n.ScrollbarState(i.horizontalHasArrows?i.arrowSize:0,i.horizontal===o.Visibility.Hidden?0:i.horizontalScrollbarSize,i.vertical===o.Visibility.Hidden?0:i.verticalScrollbarSize);if(e.call(this,r,a,i.horizontal,"horizontal"),this.scrollable=t,this._createDomNode(),i.horizontalHasArrows){var l=(i.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,c=(i.horizontalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;this._createArrow("left-arrow",c,l,null,null,i.arrowSize,i.horizontalScrollbarSize,function(){return s._createMouseWheelEvent(1)}),this._createArrow("right-arrow",c,null,null,l,i.arrowSize,i.horizontalScrollbarSize,function(){return s._createMouseWheelEvent(-1)})}this._createSlider(Math.floor((i.horizontalScrollbarSize-i.horizontalSliderSize)/2),0,null,i.horizontalSliderSize)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new r.StandardMouseWheelEvent(null,e,0)},t.prototype._updateSlider=function(e,t){i.StyleMutator.setWidth(this.slider,e),s.browser.canUseTranslate3d?i.StyleMutator.setTransform(this.slider,"translate3d("+t+"px, 0px, 0px)"):i.StyleMutator.setLeft(this.slider,t)},t.prototype._renderDomNode=function(e,t){i.StyleMutator.setWidth(this.domNode,e),i.StyleMutator.setHeight(this.domNode,t),i.StyleMutator.setLeft(this.domNode,0),i.StyleMutator.setBottom(this.domNode,0)},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollLeft(e)},t}(n.AbstractScrollbar);t.HorizontalScrollbar=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/scrollbar/impl/verticalScrollbar",["require","exports","vs/base/ui/scrollbar/impl/abstractScrollbar","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/base/ui/scrollbar/impl/common","vs/base/env"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,r,i){var s=this,a=new n.ScrollbarState(i.verticalHasArrows?i.arrowSize:0,i.vertical===o.Visibility.Hidden?0:i.verticalScrollbarSize,i.horizontal===o.Visibility.Hidden?0:i.horizontalScrollbarSize);if(e.call(this,r,a,i.vertical,"vertical"),this.scrollable=t,this._createDomNode(),i.verticalHasArrows){var l=(i.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,c=(i.verticalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;this._createArrow("up-arrow",l,c,null,null,i.verticalScrollbarSize,i.arrowSize,function(){return s._createMouseWheelEvent(1)}),this._createArrow("down-arrow",null,c,l,null,i.verticalScrollbarSize,i.arrowSize,function(){return s._createMouseWheelEvent(-1)})}this._createSlider(0,Math.floor((i.verticalScrollbarSize-i.verticalSliderSize)/2),i.verticalSliderSize,null)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new r.StandardMouseWheelEvent(null,0,e)},t.prototype._updateSlider=function(e,t){i.StyleMutator.setHeight(this.slider,e),s.browser.canUseTranslate3d?i.StyleMutator.setTransform(this.slider,"translate3d(0px, "+t+"px, 0px)"):i.StyleMutator.setTop(this.slider,t)},t.prototype._renderDomNode=function(e,t){i.StyleMutator.setWidth(this.domNode,t),i.StyleMutator.setHeight(this.domNode,e),i.StyleMutator.setRight(this.domNode,0),i.StyleMutator.setTop(this.domNode,0)},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollTop(e)},t}(n.AbstractScrollbar);t.VerticalScrollbar=a}),define("vs/css!vs/base/ui/scrollbar/impl/scrollbars",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/scrollbar/impl/scrollableElement",["require","exports","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/env","vs/base/ui/scrollbar/impl/common","vs/base/ui/scrollbar/impl/domNodeScrollable","vs/base/ui/scrollbar/impl/horizontalScrollbar","vs/base/ui/scrollbar/impl/verticalScrollbar","vs/base/lifecycle","vs/css!./scrollbars"],function(e,t,n,r,i,o,s,a,l,c){var u=500,d=50,p=function(){function e(e,t){var r=this;this.originalElement=e,this.originalElement.style.overflow="hidden",this.options=this._createOptions(t),this.scrollable=this.options.scrollable?this.options.scrollable:new s.DomNodeScrollable(this.originalElement),this.verticalScrollbarWidth=this.options.verticalScrollbarSize,this.horizontalScrollbarHeight=this.options.horizontalScrollbarSize,this.verticalScrollbar=new l.VerticalScrollbar(this.scrollable,this,this.options),this.horizontalScrollbar=new a.HorizontalScrollbar(this.scrollable,this,this.options),this.domNode=document.createElement("div"),this.domNode.className="monaco-scrollable-element "+this.options.className,this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.domNode.style.position="relative",this.domNode.style.overflow="hidden",this.domNode.appendChild(this.originalElement),this.domNode.appendChild(this.horizontalScrollbar.domNode),this.domNode.appendChild(this.verticalScrollbar.domNode),this.options.useShadows&&(this.leftShadowDomNode=document.createElement("div"),this.leftShadowDomNode.className="shadow",this.domNode.appendChild(this.leftShadowDomNode)),this.options.useShadows&&(this.topShadowDomNode=document.createElement("div"),this.topShadowDomNode.className="shadow",this.domNode.appendChild(this.topShadowDomNode),this.topLeftShadowDomNode=document.createElement("div"),this.topLeftShadowDomNode.className="shadow top-left-corner",this.domNode.appendChild(this.topLeftShadowDomNode)),this.listenOnDomNode=this.options.listenOnDomNode||this.domNode,this.toDispose=[],this.toDispose.push(this.scrollable.addScrollListener(function(){return r._onScroll()})),this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this.options.handleMouseWheel),this.toDispose.push(n.addDisposableListener(this.listenOnDomNode,"mouseover",function(e){return r._onMouseOver(e)})),this.toDispose.push(n.addDisposableNonBubblingMouseOutListener(this.listenOnDomNode,function(e){return r._onMouseOut(e)})),this.onElementDimensionsTimeout=-1,this.onElementInternalDimensionsTimeout=-1,this.hideTimeout=-1,this.isDragging=!1,this.mouseIsOver=!1,this.onElementDimensions(!0),this.onElementInternalDimensions(!0)}return e.prototype.dispose=function(){this.toDispose=c.disposeAll(this.toDispose),this._mouseWheelToDispose=c.disposeAll(this._mouseWheelToDispose),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),-1!==this.onElementDimensionsTimeout&&(window.clearTimeout(this.onElementDimensionsTimeout),this.onElementDimensionsTimeout=-1),-1!==this.onElementInternalDimensionsTimeout&&(window.clearTimeout(this.onElementInternalDimensionsTimeout),this.onElementInternalDimensionsTimeout=-1)},e.prototype.destroy=function(){this.dispose()},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this.domNode,insertBefore:this.verticalScrollbar.domNode,top:this.options.verticalHasArrows?this.options.arrowSize:0,bottom:(this.options.verticalHasArrows?this.options.arrowSize:0)+this.options.horizontalScrollbarSize,width:this.options.verticalScrollbarSize}},e.prototype.getVerticalSliderDomNode=function(){return this.verticalScrollbar.slider},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.verticalScrollbar.delegateMouseDown(e)},e.prototype.onElementDimensions=function(e){var t=this;void 0===e&&(e=!1),e?this.actualElementDimensions():-1===this.onElementDimensionsTimeout&&(this.onElementDimensionsTimeout=window.setTimeout(function(){return t.actualElementDimensions()},0))},e.prototype.actualElementDimensions=function(){this.onElementDimensionsTimeout=-1,this.dimensions=this._computeDimensions(),this.verticalScrollbar.onElementSize(this.dimensions.height),this.horizontalScrollbar.onElementSize(this.dimensions.width)},e.prototype.onElementInternalDimensions=function(e){var t=this;void 0===e&&(e=!1),e?this.actualElementInternalDimensions():-1===this.onElementInternalDimensionsTimeout&&(this.onElementInternalDimensionsTimeout=window.setTimeout(function(){return t.actualElementInternalDimensions()},0))},e.prototype.actualElementInternalDimensions=function(){this.onElementInternalDimensionsTimeout=-1,this.horizontalScrollbar.onElementScrollSize(this.scrollable.getScrollWidth()),this.verticalScrollbar.onElementScrollSize(this.scrollable.getScrollHeight())},e.prototype.updateClassName=function(e){this.options.className=e,i.isMacintosh&&(this.options.className+=" mac"),this.domNode.className="monaco-scrollable-element "+this.options.className},e.prototype.updateOptions=function(e){var t=this._createOptions(e);this.options.handleMouseWheel=t.handleMouseWheel,this.options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this.options.handleMouseWheel)},e.prototype._setListeningToMouseWheel=function(e){var t=this,i=this._mouseWheelToDispose.length>0;if(i!==e&&(this._mouseWheelToDispose=c.disposeAll(this._mouseWheelToDispose),e)){var o=function(e){var n=new r.StandardMouseWheelEvent(e);t.onMouseWheel(n)};this._mouseWheelToDispose.push(n.addDisposableListener(this.listenOnDomNode,"mousewheel",o)),this._mouseWheelToDispose.push(n.addDisposableListener(this.listenOnDomNode,"DOMMouseScroll",o))}},e.prototype.onMouseWheel=function(e){if(i.isMacintosh&&e.browserEvent&&this.options.saveLastScrollTimeOnClassName){var t=e.browserEvent.target;if(t&&1===t.nodeType){var r=n.findParentWithClass(t,this.options.saveLastScrollTimeOnClassName);r&&r.setAttribute("last-scroll-time",String((new Date).getTime()))}}var o=-1,s=-1;if(e.deltaY||e.deltaX){var a=e.deltaY*this.options.mouseWheelScrollSensitivity,l=e.deltaX*this.options.mouseWheelScrollSensitivity;if(this.options.flipAxes&&(a=e.deltaX,l=e.deltaY),i.isMacintosh&&(a&&Math.abs(l)<.2&&(l=0),Math.abs(a)>.5*Math.abs(l)&&(l=0)),a){var c=this.scrollable.getScrollTop();o=this.verticalScrollbar.validateScrollPosition((-1!==o?o:c)-d*a),o===c&&(o=-1)}if(l){var u=this.scrollable.getScrollLeft();s=this.horizontalScrollbar.validateScrollPosition((-1!==s?s:u)-d*l),s===u&&(s=-1)}(-1!==o||-1!==s)&&(e.preventDefault(),e.stopPropagation(),-1!==o&&(this.verticalScrollbar.setDesiredScrollPosition(o),o=-1),-1!==s&&(this.horizontalScrollbar.setDesiredScrollPosition(s),s=-1))}},e.prototype._onScroll=function(){var e=this.scrollable.getScrollHeight(),t=this.scrollable.getScrollTop(),r=this.scrollable.getScrollWidth(),i=this.scrollable.getScrollLeft();if(this.verticalScrollbar.onElementScrollPosition(t),this.horizontalScrollbar.onElementScrollPosition(i),this.options.useShadows){var o=e>0&&t>0,s=this.options.useShadows&&r>0&&i>0;this.topShadowDomNode&&n.toggleClass(this.topShadowDomNode,"top",o),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"top",o),this.leftShadowDomNode&&n.toggleClass(this.leftShadowDomNode,"left",s),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"left",s)}this._reveal()},e.prototype.onDragStart=function(){this.isDragging=!0,this._reveal()},e.prototype.onDragEnd=function(){this.isDragging=!1,this._hide()},e.prototype._onMouseOut=function(){this.mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(){this.mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this.verticalScrollbar.beginReveal(),this.horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){this.mouseIsOver||this.isDragging||(this.verticalScrollbar.beginHide(),this.horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){-1!==this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(this._hide.bind(this),u)},e.prototype._computeDimensions=function(){var e=this.domNode.clientWidth,t=this.domNode.clientHeight,n=t-(this.options.verticalHasArrows?2*this.options.arrowSize:0)-this.options.horizontalScrollbarSize,r=e-(this.options.horizontalHasArrows?2*this.options.arrowSize:0)-this.options.verticalScrollbarSize;return{width:e,height:t,representableHeight:n,representableWidth:r}},e.prototype._createOptions=function(e){function t(e,t,n){return e.hasOwnProperty(t)?e[t]:n}var n={className:t(e,"className",""),useShadows:t(e,"useShadows",!0),handleMouseWheel:t(e,"handleMouseWheel",!0),flipAxes:t(e,"flipAxes",!1),mouseWheelScrollSensitivity:t(e,"mouseWheelScrollSensitivity",1),arrowSize:t(e,"arrowSize",11),scrollable:t(e,"scrollable",null),listenOnDomNode:t(e,"listenOnDomNode",null),horizontal:o.visibilityFromString(t(e,"horizontal","auto")),horizontalScrollbarSize:t(e,"horizontalScrollbarSize",10),horizontalSliderSize:0,horizontalHasArrows:t(e,"horizontalHasArrows",!1),vertical:o.visibilityFromString(t(e,"vertical","auto")),verticalScrollbarSize:t(e,"verticalScrollbarSize",10),verticalHasArrows:t(e,"verticalHasArrows",!1),verticalSliderSize:0,saveLastScrollTimeOnClassName:t(e,"saveLastScrollTimeOnClassName",null)};return n.horizontalSliderSize=t(e,"horizontalSliderSize",n.horizontalScrollbarSize),n.verticalSliderSize=t(e,"verticalSliderSize",n.verticalScrollbarSize),i.isMacintosh&&(n.className+=" mac"),n},e}();t.ScrollableElement=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/layout/scroll/editorScrollable",["require","exports","vs/base/eventEmitter"],function(e,t,n){var r=function(e){function t(n,r){e.call(this,[t._SCROLL_EVENT,t._INTERNAL_SIZE_CHANGED_EVENT]),this.linesContent=n,this._forceUsageOfScrollLeft=r,this.scrollTop=0,this.scrollLeft=0,this.scrollWidth=0,this.scrollHeight=0,this.width=0,this.height=0}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){e=Math.floor(e),0>e&&(e=0),this.width!==e&&(this.width=e,this.setScrollWidth(this.scrollWidth),this.setScrollLeft(this.scrollLeft))},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.setScrollWidth=function(e){e=Math.floor(e),e<this.width&&(e=this.width),this.scrollWidth!==e&&(this.scrollWidth=e,this.setScrollLeft(this.scrollLeft),this._emitInternalSizeEvent())},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollLeft=function(e){e=Math.floor(e),0>e&&(e=0),e+this.width>this.scrollWidth&&(e=this.scrollWidth-this.width),this.scrollLeft!==e&&(this.scrollLeft=e,this._forceUsageOfScrollLeft&&(this.linesContent.scrollLeft=e),this._emitScrollEvent(!1,!0))},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){e=Math.floor(e),0>e&&(e=0),this.height!==e&&(this.height=e,this.setScrollHeight(this.scrollHeight),this.setScrollTop(this.scrollTop))},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.setScrollHeight=function(e){e=Math.floor(e),e<this.height&&(e=this.height),this.scrollHeight!==e&&(this.scrollHeight=e,this.setScrollTop(this.scrollTop),this._emitInternalSizeEvent())},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.setScrollTop=function(e){e=Math.floor(e),0>e&&(e=0),e+this.height>this.scrollHeight&&(e=this.scrollHeight-this.height),this.scrollTop!==e&&(this.scrollTop=e,this._emitScrollEvent(!0,!1))},t.prototype._emitScrollEvent=function(e,n){var r={vertical:e,horizontal:n,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft};this.emit(t._SCROLL_EVENT,r)},t.prototype.addScrollListener=function(e){return this.addListener2(t._SCROLL_EVENT,e)},t.prototype._emitInternalSizeEvent=function(){this.emit(t._INTERNAL_SIZE_CHANGED_EVENT)},t.prototype.addInternalSizeChangeListener=function(e){return this.addListener2(t._INTERNAL_SIZE_CHANGED_EVENT,e)},t._SCROLL_EVENT="scroll",t._INTERNAL_SIZE_CHANGED_EVENT="internalSizeChanged",t}(n.EventEmitter);t.EditorScrollable=r}),define("vs/editor/core/view/layout/scroll/scrollManager",["require","exports","vs/base/ui/scrollbar/impl/scrollableElement","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/layout/scroll/editorScrollable","vs/base/dom/dom","vs/base/lifecycle"],function(e,t,n,r,i,o,s,a){function l(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}var c=function(){function e(e,t,a,c){var u=this;this.toDispose=[],this.configuration=e,this.privateViewEventBus=t,this.linesContent=a,this.scrollable=new o.EditorScrollable(a,!1),this.toDispose.push(this.scrollable),this.toDispose.push(this.scrollable.addScrollListener(function(e){u.privateViewEventBus.emit(r.EventType.ViewScrollChanged,e)}));var d=this.configuration.getScrollbarOptions(),p={scrollable:this.scrollable,listenOnDomNode:c,vertical:d.vertical,horizontal:d.horizontal,className:i.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.theme,useShadows:!1,saveLastScrollTimeOnClassName:i.ClassNames.VIEW_LINE};l(d,p,"verticalHasArrows"),l(d,p,"horizontalHasArrows"),l(d,p,"verticalScrollbarSize"),l(d,p,"verticalSliderSize"),l(d,p,"horizontalScrollbarSize"),l(d,p,"horizontalSliderSize"),l(d,p,"handleMouseWheel"),l(d,p,"arrowSize"),l(d,p,"mouseWheelScrollSensitivity"),this.scrollbar=new n.ScrollableElement(a,p),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollable.addInternalSizeChangeListener(function(){u.scrollbar.onElementInternalDimensions()})),this.toDispose.push(this.configuration.addListener2(r.EventType.ConfigurationChanged,function(e){u.scrollbar.updateClassName(u.configuration.editor.theme),(e.scrollbar||e.mouseWheelScrollSensitivity)&&u.scrollbar.updateOptions(u.configuration.getScrollbarOptions())}));var h=function(e,t,n){if(t){var r=e.scrollTop;r&&(u.scrollable.setScrollTop(u.getScrollTop()+r),e.scrollTop=0)}if(n){var i=e.scrollLeft;i&&(u.scrollable.setScrollLeft(u.getScrollLeft()+i),e.scrollLeft=0)}};this.toDispose.push(s.addDisposableListener(c,"scroll",function(){return h(c,!0,!0)})),this.toDispose.push(s.addDisposableListener(a,"scroll",function(){return h(a,!0,!1)}))}return e.prototype.dispose=function(){this.toDispose=a.disposeAll(this.toDispose)},e.prototype.getVerticalScrollbarWidth=function(){return this.scrollbar.verticalScrollbarWidth},e.prototype.getHorizontalScrollbarHeight=function(){return this.scrollbar.horizontalScrollbarHeight},e.prototype.onSizeProviderLayoutChanged=function(){this.scrollbar&&this.scrollbar.onElementDimensions()},e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollable.getScrollTop()},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar?this.scrollbar.getOverviewRulerLayoutInfo():null},e.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar?this.scrollbar.getDomNode():this.linesContent},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar&&this.scrollbar.delegateVerticalScrollbarMouseDown(e)},e.prototype.getWidth=function(){return this.scrollable.getWidth()},e.prototype.setWidth=function(e){this.scrollable.setWidth(e)},e.prototype.getHeight=function(){return this.scrollable.getHeight()},e.prototype.setHeight=function(e){this.scrollable.setHeight(e)},e.prototype.getScrollHeight=function(){return this.scrollable.getScrollHeight()},e.prototype.setScrollHeight=function(e){this.scrollable.setScrollHeight(e)},e.prototype.getScrollWidth=function(){return this.scrollable.getScrollWidth()},e.prototype.setScrollWidth=function(e){this.scrollable.setScrollWidth(e)},e.prototype.getScrollLeft=function(){return this.scrollable.getScrollLeft()},e.prototype.setScrollLeft=function(e){this.scrollable.setScrollLeft(e)},e.prototype.getScrollTop=function(){return this.scrollable.getScrollTop()},e.prototype.setScrollTop=function(e){this.scrollable.setScrollTop(e)},e.prototype.addScrollListener=function(e){return this.scrollable.addScrollListener(e)},e}();t.ScrollManager=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/layout/layoutProvider",["require","exports","vs/editor/core/constants","vs/editor/core/view/layout/lines/linesLayout","vs/editor/core/view/viewEventHandler","vs/editor/core/view/layout/editorLayoutProvider","vs/editor/core/view/layout/scroll/scrollManager"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n,i,a,l){e.call(this),this.configuration=t,this.privateViewEventBus=i,this.model=n,this.scrollManager=new s.ScrollManager(t,i,a,l),this.editorLayoutProvider=new o.EditorLayoutProvider(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight,this.configuration.editor.lineHeight,this.configuration.editor.glyphMargin,this.configuration.editor.lineNumbers,this.configuration.editor.lineNumbersMinChars,this.configuration.editor.lineDecorationsWidth,this.configuration.editor.maxDigitWidth),this.editorLayoutProvider.setLineCount(this.model.getLineCount()),this.editorLayoutProvider.setScrollbarSize(this.scrollManager.getVerticalScrollbarWidth(),this.scrollManager.getHorizontalScrollbarHeight()),this._updateWrappingColumn(this.getLayoutInfo(),0),this.linesLayout=new r.LinesLayout(t,n),this._updatePageSize(this.editorLayoutProvider.getLayoutInfo()),this._updateHeight()}return __extends(t,e),t.prototype.dispose=function(){this.scrollManager.dispose()},t.prototype.updateLineCount=function(){var e=this.editorLayoutProvider.setLineCount(this.model.getLineCount());e&&this._emitLayoutChangedEvent()},t.prototype.onZonesChanged=function(){return this._updateHeight(),!1},t.prototype.onModelFlushed=function(){return this.linesLayout.onModelFlushed(),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesDeleted=function(e){return this.linesLayout.onModelLinesDeleted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLineChanged=function(){return!1},t.prototype.onModelLinesInserted=function(e){return this.linesLayout.onModelLinesInserted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onConfigurationChanged=function(){var e=this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport()),t=this.editorLayoutProvider.setDimensions(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight);return t=this.editorLayoutProvider.setShowLineNumbers(this.configuration.editor.lineNumbers)||t,t=this.editorLayoutProvider.setLineNumbersMinChars(this.configuration.editor.lineNumbersMinChars)||t,t=this.editorLayoutProvider.setGlyphMargin(this.configuration.editor.glyphMargin)||t,t=this.editorLayoutProvider.setLineDecorationsWidth(this.configuration.editor.lineDecorationsWidth)||t,t=this.editorLayoutProvider.setLineHeight(this.configuration.editor.lineHeight)||t,t=this.editorLayoutProvider.setMaxDigitWidth(this.configuration.editor.maxDigitWidth)||t,this._updateWrappingColumn(this.getLayoutInfo(),e),t?this._emitLayoutChangedEvent():this._updatePageSize(this.editorLayoutProvider.getLayoutInfo()),this._updateHeight(),!1},t.prototype._updateHeight=function(){var e=this.scrollManager.getScrollHeight();this.scrollManager.setScrollHeight(this.getTotalHeight());var t=this.scrollManager.getScrollHeight();e!==t&&this.privateViewEventBus.emit(n.EventType.ViewScrollHeightChanged,t)},t.prototype._updateWrappingColumn=function(e,t){var n=this.configuration.getWrappingColumn(),r=-1;0===n?r=Math.max(1,Math.floor((e.contentWidth-e.verticalScrollbarWidth)/this.configuration.editor.thinnestCharacterWidth)):n>0&&(r=n),this.model.setWrappingColumn(r,t)},t.prototype._updatePageSize=function(e){this.configuration.editor.pageSize=Math.floor(e.height/this.configuration.editor.lineHeight)-2},t.prototype.getLayoutInfo=function(){var e=this.editorLayoutProvider.getLayoutInfo(),t=this.scrollManager.getOverviewRulerLayoutInfo();return e.overviewRuler={top:t.top,width:t.width,height:e.height-t.top-t.bottom,right:0},e},t.prototype.getCurrentViewport=function(){var e=this.editorLayoutProvider.getLayoutInfo();return{top:this.scrollManager.getScrollTop(),left:this.scrollManager.getScrollLeft(),width:e.contentWidth,height:e.contentHeight}},t.prototype.getCenteredViewLineNumberInViewport=function(){return this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport())},t.prototype._emitLayoutChangedEvent=function(e){void 0===e&&(e=0),this.scrollManager.onSizeProviderLayoutChanged();var t=this.getLayoutInfo();this._updatePageSize(t),this.scrollManager.setWidth(t.contentWidth),this.scrollManager.setHeight(t.contentHeight),this._updateWrappingColumn(t,e),this.privateViewEventBus.emit(n.EventType.ViewLayoutChanged,t)},t.prototype.emitLayoutChangedEvent=function(){this._emitLayoutChangedEvent()},t.prototype._computeScrollWidth=function(e,n){var r=this.configuration.getWrappingColumn(),i=0===r;return i?Math.max(e,n):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,n)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width),r=this.scrollManager.getScrollWidth();this.scrollManager.setScrollWidth(t);var t=this.scrollManager.getScrollWidth();t!==r&&(this.privateViewEventBus.emit(n.EventType.ViewScrollWidthChanged),this._updateHeight())},t.prototype.saveState=function(){var e=this.scrollManager.getScrollTop(),t=this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e),n=this.linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(t);return{scrollTop:e,scrollTopWithoutViewZones:e-n,scrollLeft:this.scrollManager.getScrollLeft(),linesDomNodeWidth:this.scrollManager.getScrollWidth()}},t.prototype.restoreState=function(e){var t=e.scrollTop;"number"!=typeof e.scrollTopWithoutViewZones||this.linesLayout.hasWhitespace()||(t=e.scrollTopWithoutViewZones),this.scrollManager.setScrollTop(t),this.scrollManager.setScrollLeft(e.scrollLeft)},t.prototype.addWhitespace=function(e,t,n){return this.linesLayout.insertWhitespace(e,t,n)},t.prototype.changeWhitespace=function(e,t){return this.linesLayout.changeWhitespace(e,t)},t.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.linesLayout.changeAfterLineNumberForWhitespace(e,t)
},t.prototype.removeWhitespace=function(e){return this.linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this.linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.heightInPxForLine=function(e){return this.linesLayout.getHeightForLineNumber(e)},t.prototype.isAfterLines=function(e){return this.linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getTotalHeight=function(){var e=0;return this.scrollManager.getScrollWidth()>this.scrollManager.getWidth()&&(e=this.scrollManager.getHorizontalScrollbarHeight()),this.linesLayout.getTotalHeight(this.getCurrentViewport(),e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this.linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){return this.linesLayout.getLinesViewportData(this.getCurrentViewport())},t.prototype.getWhitespaceViewportData=function(){return this.linesLayout.getWhitespaceViewportData(this.getCurrentViewport())},t.prototype.getWhitespaces=function(){return this.linesLayout.getWhitespaces()},t.prototype.getOverviewRulerInsertData=function(){var e=this.scrollManager.getOverviewRulerLayoutInfo();return{parent:e.parent,insertBefore:e.insertBefore}},t.prototype.getScrollbarContainerDomNode=function(){return this.scrollManager.getScrollbarContainerDomNode()},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollManager.delegateVerticalScrollbarMouseDown(e)},t.prototype.getScrollHeight=function(){return this.scrollManager.getScrollHeight()},t.prototype.getScrollWidth=function(){return this.scrollManager.getScrollWidth()},t.prototype.getScrollLeft=function(){return this.scrollManager.getScrollLeft()},t.prototype.setScrollLeft=function(e){this.scrollManager.setScrollLeft(e)},t.prototype.getScrollTop=function(){return this.scrollManager.getScrollTop()},t.prototype.setScrollTop=function(e){this.scrollManager.setScrollTop(e)},t.prototype.getScrolledTopFromAbsoluteTop=function(e){return this.scrollManager.getScrolledTopFromAbsoluteTop(e)},t.LINES_HORIZONTAL_EXTRA_PX=30,t}(i.ViewEventHandler);t.LayoutProvider=a}),define("vs/editor/core/view/viewEventDispatcher",["require","exports","vs/base/eventEmitter"],function(e,t,n){var r=function(){function e(e){this.eventHandlerGateKeeper=e,this.eventHandlers=[],this.eventQueue=[],this.isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this.eventHandlers.length;n>t;t++)this.eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this.eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this.eventHandlers.length;t++)if(this.eventHandlers[t]===e){this.eventHandlers.splice(t,1);break}},e.prototype.emit=function(e,t){this.eventQueue.push(new n.EmitterEvent(e,t)),this.isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this.eventQueue=this.eventQueue.concat(e),this.isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this.eventHandlerGateKeeper(function(){try{e.isConsumingQueue=!0;for(var t,n,r,i;e.eventQueue.length>0;)for(i=e.eventQueue,e.eventQueue=[],r=e.eventHandlers.slice(0),t=0,n=r.length;n>t;t++)r[t].handleEvents(i)}finally{e.isConsumingQueue=!1}})},e}();t.ViewEventDispatcher=r}),define("vs/editor/core/view/viewController",["require","exports","vs/editor/core/internalConstants","vs/editor/core/constants","vs/editor/core/position"],function(e,t,n,r,i){var o=function(){function e(e,t,n){this.viewModel=e,this.configuration=t,this.outgoingEventBus=n}return e.prototype.paste=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.Paste,{text:t,pasteOnNewLine:r})},e.prototype.type=function(e,t){this.configuration.handlerDispatcher.trigger(e,n.Handler.Type,{text:t})},e.prototype.replacePreviousChar=function(e,t){this.configuration.handlerDispatcher.trigger(e,n.Handler.ReplacePreviousChar,{text:t})},e.prototype.cut=function(e){this.configuration.handlerDispatcher.trigger(e,n.Handler.Cut,null)},e.prototype.moveTo=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.MoveTo,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.moveToSelect=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.MoveToSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.createCursor=function(e,t,r,o){this.configuration.handlerDispatcher.trigger(e,n.Handler.CreateCursor,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r),wholeLine:o})},e.prototype.lastCursorMoveToSelect=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorMoveToSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.wordSelect=function(e,t,r,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.WordSelect,{position:this.convertViewToModelPosition(t,r),preference:i})},e.prototype.wordSelectDrag=function(e,t,r,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.WordSelectDrag,{position:this.convertViewToModelPosition(t,r),preference:i})},e.prototype.lastCursorWordSelect=function(e,t,r,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorWordSelect,{position:this.convertViewToModelPosition(t,r),preference:i})},e.prototype.lineSelect=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.LineSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.lineSelectDrag=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.LineSelectDrag,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.lastCursorLineSelect=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorLineSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.lastCursorLineSelectDrag=function(e,t,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorLineSelectDrag,{position:this.convertViewToModelPosition(t,r),viewPosition:new i.Position(t,r)})},e.prototype.selectAll=function(e){this.configuration.handlerDispatcher.trigger(e,n.Handler.SelectAll,null)},e.prototype.convertViewToModelPosition=function(e,t){return this.viewModel.convertViewPositionToModelPosition(e,t)},e.prototype.convertViewToModelRange=function(e){return this.viewModel.convertViewRangeToModelRange(e)},e.prototype.convertViewToModelMouseEvent=function(e){e.target&&(e.target.position&&(e.target.position=this.convertViewToModelPosition(e.target.position.lineNumber,e.target.position.column)),e.target.range&&(e.target.range=this.convertViewToModelRange(e.target.range)))},e.prototype.emitKeyDown=function(e){this.outgoingEventBus.emit(r.EventType.KeyDown,e)},e.prototype.emitKeyUp=function(e){this.outgoingEventBus.emit(r.EventType.KeyUp,e)},e.prototype.emitContextMenu=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(r.EventType.ContextMenu,e)},e.prototype.emitMouseMove=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(r.EventType.MouseMove,e)},e.prototype.emitMouseLeave=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(r.EventType.MouseLeave,e)},e.prototype.emitMouseUp=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(r.EventType.MouseUp,e)},e.prototype.emitMouseDown=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(r.EventType.MouseDown,e)},e}();t.ViewController=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewOverlays",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewPart"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,t),this._overlays=[],this.domNode=document.createElement("div"),this.domNode.className="view-overlays",this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._backgroundDomNode=document.createElement("div"),this._backgroundDomNode.className="background",this.domNode.appendChild(this._backgroundDomNode),this._staticDomNode=document.createElement("div"),this._staticDomNode.className="static",this.domNode.appendChild(this._staticDomNode),this._scrollHeight=0}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this._overlays.length;t++)this._overlays[t].dispose();this._overlays=null},t.prototype.onViewFocusChanged=function(){return!1},t.prototype.onLayoutChanged=function(e){var t=this;return this._requestModificationFrame(function(){n.StyleMutator.setWidth(t._backgroundDomNode,e.width)}),!1},t.prototype.addOverlay=function(e){this._overlays.push(e),this._staticDomNode.appendChild(e.getDomNode())},t.prototype._render=function(e){for(var t=this,r=0;r<this._overlays.length;r++)this._overlays[r].prepareRender(e);this._requestModificationFrame(function(){for(var r=0;r<t._overlays.length;r++)t._overlays[r].render(e);t._scrollHeight!==e.scrollHeight&&(t._scrollHeight=e.scrollHeight,n.StyleMutator.setHeight(t._backgroundDomNode,t._scrollHeight)),n.StyleMutator.setTop(t._backgroundDomNode,e.getViewportVerticalOffsetForLineNumber(e.visibleRange.startLineNumber))})},t.prototype.onReadAfterForcedLayout=function(e){return this._render(e),null},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(r.ViewPart);t.ViewOverlays=i}),define("vs/css!vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight",["require","exports","vs/editor/core/view/viewEventHandler","vs/base/dom/dom","vs/css!./currentLineHighlight"],function(e,t,n,r){var i=function(e){function t(t){e.call(this),this._context=t,this._currentLine=document.createElement("div"),this._currentLine.className="current-line",this._currentLineIsVisible=!0,r.StyleMutator.setWidth(this._currentLine,0),r.StyleMutator.setHeight(this._currentLine,this._context.configuration.editor.lineHeight),this._selectionIsEmpty=!0,this._primaryCursorIsInEditableRange=!0,this._updatePrimaryCursorPosition({lineNumber:1,column:1}),this._updateCurrentLine(),this._context.addEventHandler(this)}return __extends(t,e),t.prototype._updatePrimaryCursorPosition=function(e){this._primaryCursorPosition=e,this._primaryCursorPositionTop=-1e3},t.prototype.dispose=function(){this._context.removeEventHandler(this)},t.prototype.getDomNode=function(){return this._currentLine},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._selectionIsEmpty=!0,this._updatePrimaryCursorPosition({lineNumber:1,column:1}),!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(e){return this._primaryCursorIsInEditableRange=e.isInEditableRange,this._updatePrimaryCursorPosition(e.position),this._updateCurrentLine(),!0},t.prototype.onCursorSelectionChanged=function(e){return this._selectionIsEmpty=e.selection.isEmpty(),this._updateCurrentLine(),!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&r.StyleMutator.setHeight(this._currentLine,this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){return r.StyleMutator.setLeft(this._currentLine,e.contentLeft),r.StyleMutator.setWidth(this._currentLine,e.contentWidth),!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype._shouldShowCurrentLine=function(){return this._selectionIsEmpty&&this._primaryCursorIsInEditableRange&&!this._context.configuration.editor.readOnly},t.prototype._updateCurrentLine=function(){this._shouldShowCurrentLine()?this._currentLineIsVisible||(r.StyleMutator.setDisplay(this._currentLine,"block"),this._currentLineIsVisible=!0):this._currentLineIsVisible&&(r.StyleMutator.setDisplay(this._currentLine,"none"),this._currentLineIsVisible=!1)},t.prototype.prepareRender=function(e){if(this.shouldRender){var t=e.visibleRangeForPosition(this._primaryCursorPosition);this._primaryCursorPositionTop=t?t.top:-1e3}},t.prototype.render=function(){this.shouldRender&&(this.shouldRender=!1,r.StyleMutator.setTop(this._currentLine,this._primaryCursorPositionTop))},t}(n.ViewEventHandler);t.CurrentLineHighlightOverlay=i}),define("vs/css!vs/editor/core/view/overlays/selections/selections",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/selections/selections",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./selections"],function(e,t,n){var r;!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(r||(r={}));var i=function(e){function t(t){e.call(this),this._previousFrameVisibleRangesWithStyle=[],this._context=t,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(e){return this._selections=[e.selection],this._selections=this._selections.concat(e.secondarySelections),!0},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._visibleRangesHaveGaps=function(e){var t,n,r;for(t=0,n=e.length;n>t;t++)if(r=e[t],r.ranges.length>1)return!0;return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t){var n,i,o,s,a,l,c,u,d,p,h,m=null,f=null;if(t&&t.length>0&&e.length>0){for(var v=e[0].lineNumber,p=0;!m&&p<t.length;p++)t[p].lineNumber===v&&(m=t[p].ranges[0]);for(var g=e[e.length-1].lineNumber,p=t.length-1;!f&&p>=0;p--)t[p].lineNumber===g&&(f=t[p].ranges[0]);m&&!m.startStyle&&(m=null),f&&!f.startStyle&&(f=null)}for(p=0,h=e.length;h>p;p++)n=e[p].ranges[0],i=n.left,o=n.left+n.width,u={top:r.EXTERN,bottom:r.EXTERN},d={top:r.EXTERN,bottom:r.EXTERN},p>0?(s=e[p-1].ranges[0].left,a=e[p-1].ranges[0].left+e[p-1].ranges[0].width,i===s?u.top=r.FLAT:i>s&&(u.top=r.INTERN),o===a?d.top=r.FLAT:o>s&&a>o&&(d.top=r.INTERN)):m&&(u.top=m.startStyle.top,d.top=m.endStyle.top),h>p+1?(l=e[p+1].ranges[0].left,c=e[p+1].ranges[0].left+e[p+1].ranges[0].width,i===l?u.bottom=r.FLAT:i>l&&c>i&&(u.bottom=r.INTERN),o===c?d.bottom=r.FLAT:c>o&&(d.bottom=r.INTERN)):f&&(u.bottom=f.startStyle.bottom,d.bottom=f.endStyle.bottom),n.startStyle=u,n.endStyle=d},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var r=t.linesVisibleRangesForRange(e,!0)||[],i=this._visibleRangesHaveGaps(r),o=navigator.userAgent.indexOf("Trident/7.0")>=0;return o||i||!this._context.configuration.editor.roundedSelection||this._enrichVisibleRangesWithStyle(r,n),r},t.prototype._createSelectionPiece=function(e,t,n,r,i){e.push('<div class="cslr '),e.push(n),e.push('" style="left:'),e.push(r.toString()),e.push("px;width:"),e.push(i.toString()),e.push("px;height:"),e.push(t),e.push('px;"></div>')},t.prototype._actualRenderOneSelection=function(e,n){var i,o,s,a,l,c,u,d,p=n.length>0&&n[0].ranges[0].startStyle,h=this._context.configuration.editor.lineHeight.toString(),m=0;for(a=0,l=n.length;l>a;a++)for(i=n[a],e.hasOwnProperty(i.lineNumber.toString())?o=e[i.lineNumber.toString()]:(o=[],e[i.lineNumber.toString()]=o),c=0,u=i.ranges.length;u>c;c++)d=i.ranges[c],p&&((d.startStyle.top===r.INTERN||d.startStyle.bottom===r.INTERN)&&(m++,this._createSelectionPiece(o,h,t.SELECTION_CLASS_NAME,d.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH),s=t.EDITOR_BACKGROUND_CLASS_NAME,d.startStyle.top===r.INTERN&&(s+=" "+t.SELECTION_TOP_RIGHT),d.startStyle.bottom===r.INTERN&&(s+=" "+t.SELECTION_BOTTOM_RIGHT),m++,this._createSelectionPiece(o,h,s,d.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)),(d.endStyle.top===r.INTERN||d.endStyle.bottom===r.INTERN)&&(m++,this._createSelectionPiece(o,h,t.SELECTION_CLASS_NAME,d.left+d.width,t.ROUNDED_PIECE_WIDTH),s=t.EDITOR_BACKGROUND_CLASS_NAME,d.endStyle.top===r.INTERN&&(s+=" "+t.SELECTION_TOP_LEFT),d.endStyle.bottom===r.INTERN&&(s+=" "+t.SELECTION_BOTTOM_LEFT),m++,this._createSelectionPiece(o,h,s,d.left+d.width,t.ROUNDED_PIECE_WIDTH))),s=t.SELECTION_CLASS_NAME,p&&(d.startStyle.top===r.EXTERN&&(s+=" "+t.SELECTION_TOP_LEFT),d.startStyle.bottom===r.EXTERN&&(s+=" "+t.SELECTION_BOTTOM_LEFT),d.endStyle.top===r.EXTERN&&(s+=" "+t.SELECTION_TOP_RIGHT),d.endStyle.bottom===r.EXTERN&&(s+=" "+t.SELECTION_BOTTOM_RIGHT)),m++,this._createSelectionPiece(o,h,s,d.left,d.width);return m},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,r,i={},o=0,s=[];for(r=0;r<this._selections.length;r++)t=this._selections[r],t.isEmpty()?s.push(null):(n=this._getVisibleRangesWithStyle(t,e,this._previousFrameVisibleRangesWithStyle[r]),s.push(n),o+=this._actualRenderOneSelection(i,n));return this._previousFrameVisibleRangesWithStyle=s,this._renderResult=i,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(n.ViewEventHandler);t.SelectionsOverlay=i}),define("vs/css!vs/editor/core/view/overlays/decorations/decorations",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/decorations/decorations",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./decorations"],function(e,t,n){var r=function(e){function t(t){e.call(this),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,r,i,o,s,a,l,c,u,d,p,h={},m=e.getDecorationsInViewport(),f=this._context.configuration.editor.lineHeight.toString(),v=0;for(a=0,l=m.length;l>a;a++)if(n=m[a],r=n.range,n.options.className)if(n.options.isWholeLine)for(c=r.startLineNumber;c<=r.endLineNumber;c++)e.lineIsVisible(c)&&(h.hasOwnProperty(c.toString())?t=h[c.toString()]:(t=[],h[c.toString()]=t),v++,t.push('<div class="cdr '),t.push(n.options.className),t.push('" style="left:0;width:100%;height:'),t.push(f.toString()),t.push('px;"></div>'));else if(i=e.linesVisibleRangesForRange(r,!1))for(c=0,u=i.length;u>c;c++)for(o=i[c],h.hasOwnProperty(o.lineNumber.toString())?t=h[o.lineNumber.toString()]:(t=[],h[o.lineNumber.toString()]=t),d=0,p=o.ranges.length;p>d;d++)s=o.ranges[d],v++,t.push('<div class="cdr '),t.push(n.options.className),t.push('" style="left:'),t.push(s.left.toString()),t.push("px;width:"),t.push(s.width.toString()),t.push("px;height:"),t.push(f.toString()),t.push('px;"></div>');return this._renderResult=h,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.DecorationsOverlay=r}),define("vs/css!vs/editor/core/view/overlays/glyphMargin/glyphMargin",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/glyphMargin/glyphMargin",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/base/dom/dom","vs/editor/core/view/viewPart","vs/css!./glyphMargin"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t),this._context=t,this._domNode=document.createElement("div"),this._domNode.className=n.ClassNames.GLYPH_MARGIN}return __extends(t,e),t.prototype.getDomNode=function(){return this._domNode},t.prototype.onLayoutChanged=function(e){var t=this;return this._requestModificationFrame(function(){i.StyleMutator.setLeft(t._domNode,e.glyphMarginLeft),i.StyleMutator.setWidth(t._domNode,e.glyphMarginWidth),i.StyleMutator.setHeight(t._domNode,e.height)}),!0},t.prototype._render=function(){},t}(o.ViewPart);t.GlyphMarginViewPart=s;var a=function(e){function t(t){e.call(this),this._context=t,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;if(this.shouldRender=!1,!this._context.configuration.editor.glyphMargin)return this._renderResult=null,!1;var t,n,r,i,o,s,a,l,c,u={},d=0,p=e.getDecorationsInViewport(),h=this._context.configuration.editor.lineHeight.toString(),m={};for(r=0,i=p.length;i>r;r++)if(t=p[r],t.options.glyphMarginClassName)for(n=t.range,l=n.startLineNumber;l<=n.endLineNumber;l++)e.lineIsVisible(l)&&(c=l.toString(),m.hasOwnProperty(c)||(m[c]={}),m[c][t.options.glyphMarginClassName]=!0);var f=this._glyphMarginLeft.toString(),v=this._glyphMarginWidth.toString(),g='" style="left:'+f+"px;width:"+v+"px;height:"+h+'px;"></div>';for(c in m){o=m[c],a=[],a.push('<div class="cgmr');for(s in o)d++,a.push(" "),a.push(s);a.push(g),u[c]=a}return this._renderResult=u,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(r.ViewEventHandler);t.GlyphMarginOverlay=a}),define("vs/css!vs/editor/core/view/overlays/linesDecorations/linesDecorations",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/linesDecorations/linesDecorations",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./linesDecorations"],function(e,t,n){var r=function(e){function t(t){e.call(this),this._context=t,this._decorationsLeft=0,this._decorationsWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,r,i,o,s,a,l,c,u={},d=0,p=e.getDecorationsInViewport(),h=this._context.configuration.editor.lineHeight.toString(),m={};for(r=0,i=p.length;i>r;r++)if(t=p[r],t.options.linesDecorationsClassName)for(n=t.range,l=n.startLineNumber;l<=n.endLineNumber;l++)e.lineIsVisible(l)&&(c=l.toString(),m.hasOwnProperty(c)||(m[c]={}),m[c][t.options.linesDecorationsClassName]=!0);var f=this._decorationsLeft.toString(),v=this._decorationsWidth.toString(),g='" style="left:'+f+"px;width:"+v+"px;height:"+h+'px;"></div>';for(c in m){o=m[c],a=[],a.push('<div class="cldr');for(s in o)d++,a.push(" "),a.push(s);a.push(g),u[c]=a}return this._renderResult=u,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.LinesDecorationsOverlay=r}),define("vs/css!vs/editor/core/view/overlays/lineNumbers/lineNumbers",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/lineNumbers/lineNumbers",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/css!./lineNumbers"],function(e,t,n,r){var i=function(e){function t(t){e.call(this),this._context=t,this._lineNumbersLeft=0,this._lineNumbersWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!1},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;if(this.shouldRender=!1,!this._context.configuration.editor.lineNumbers)return this._renderResult=null,!1;var t,r,i={},o=this._context.configuration.editor.lineHeight.toString(),s='<div class="'+n.ClassNames.LINE_NUMBERS+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+"px;height:"+o+'px;">';for(t=e.visibleRange.startLineNumber;t<=e.visibleRange.endLineNumber;t++)if(r=this._context.model.getLineRenderLineNumber(t)){var a=[s,this._context.model.getLineRenderLineNumber(t),"</div>"];i[t.toString()]=a}return this._renderResult=i,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(r.ViewEventHandler);t.LineNumbersOverlay=i}),define("vs/css!vs/editor/core/view/overlays/scrollDecoration/scrollDecoration",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/scrollDecoration/scrollDecoration",["require","exports","vs/editor/core/view/viewContext","vs/base/dom/dom","vs/editor/core/view/viewPart","vs/css!./scrollDecoration"],function(e,t,n,r,i){var o=function(e){function t(t){e.call(this,t),this._scrollTop=0,this._width=0,this._shouldShow=!1,this._domNode=document.createElement("div")}return __extends(t,e),t.prototype._updateShouldShow=function(){var e=this._context.configuration.editor.scrollbar.useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(){return this._updateShouldShow()},t.prototype.onLayoutChanged=function(e){return this._width!==e.width?(this._width=e.width,!0):!1},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype._render=function(){var e=this;this._requestModificationFrame(function(){r.StyleMutator.setWidth(e._domNode,e._width),r.toggleClass(e._domNode,n.ClassNames.SCROLL_DECORATION,e._shouldShow)})},t}(i.ViewPart);t.ScrollDecorationViewPart=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewOverlays2",["require","exports","vs/editor/core/view/viewLayer","vs/editor/core/view/viewContext","vs/base/dom/dom"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._layoutProvider=n,this._dynamicOverlays=[],this.domNode.className="view-overlays"}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._layoutProvider=null;for(var t=0;t<this._dynamicOverlays.length;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode
},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onViewFocusChanged=function(e){var t=this;return this._requestModificationFrame(function(){i.toggleClass(t.domNode,"focused",e)}),!1},t.prototype._createLine=function(){var e=new s(this._context,this._dynamicOverlays);return e},t.prototype.onReadAfterForcedLayout=function(e){for(var t=this,n=0;n<this._dynamicOverlays.length;n++)this._dynamicOverlays[n].shouldCallRender2(e);return this._requestModificationFrame(function(){t._viewOverlaysRender(e)}),null},t.prototype._viewOverlaysRender=function(t){e.prototype._renderLines.call(this,t.linesViewportData)},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(n.ViewLayer);t.ViewOverlays2=o;var s=function(){function e(e,t){this._context=e,this._dynamicOverlays=t,this._domNode=null,this._renderPieces=null}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.setDomNode=function(e){this._domNode=e},e.prototype.onContentChanged=function(){},e.prototype.onLinesInsertedAbove=function(){},e.prototype.onLinesDeletedAbove=function(){},e.prototype.onLineChangedAbove=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(){},e.prototype._piecesEqual=function(e){if(!this._renderPieces||this._renderPieces.length!==e.length)return!1;for(var t=0,n=e.length;n>t;t++)if(this._renderPieces[t]!==e[t])return!1;return!0},e.prototype.shouldUpdateHTML=function(e){for(var t=[],n=0;n<this._dynamicOverlays.length;n++){var r=this._dynamicOverlays[n].render2(e);r&&r.length>0&&(t=t.concat(r))}var i=this._piecesEqual(t);return i||(this._renderPieces=t),!i},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._context.configuration.editor.lineHeight.toString()),e.push('px;" class="'),e.push(r.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(){return this._renderPieces.join("")},e.prototype.layoutLine=function(e,t){var n=this._domNode.getAttribute("lineNumber");n!==e.toString()&&this._domNode.setAttribute("lineNumber",e.toString()),i.StyleMutator.setTop(this._domNode,t),i.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight)},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/marginViewOverlays",["require","exports","vs/base/env","vs/base/dom/dom","vs/editor/core/view/viewOverlays2"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t,n),this._hasVerticalScroll=!1,this.domNode.className="margin-view-overlays",r.StyleMutator.setWidth(this.domNode,1),this._updateDomNodeHeight(),this._hasVerticalScroll=!0}return __extends(t,e),t.prototype.onLayoutChanged=function(t){var n=this;return this._requestModificationFrame(function(){r.StyleMutator.setWidth(n.domNode,t.contentLeft),n._updateDomNodeHeight()}),e.prototype.onLayoutChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return this._hasVerticalScroll=this._hasVerticalScroll||t.vertical,e.prototype.onScrollChanged.call(this,t)},t.prototype._viewOverlaysRender=function(t){if(e.prototype._viewOverlaysRender.call(this,t),this._hasVerticalScroll){if(n.browser.canUseTranslate3d){var i="translate3d(0px, "+t.linesViewportData.visibleRangesDeltaTop+"px, 0px)";r.StyleMutator.setTransform(this.domNode,i)}else this._hasVerticalScroll&&r.StyleMutator.setTop(this.domNode,t.linesViewportData.visibleRangesDeltaTop);this._hasVerticalScroll=!1}},t.prototype._updateDomNodeHeight=function(){var e=Math.min(this._layoutProvider.getTotalHeight(),1e6);r.StyleMutator.setHeight(this.domNode,e)},t}(i.ViewOverlays2);t.MarginViewOverlays=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/contentViewOverlays",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewOverlays2"],function(e,t,n,r){var i=function(e){function t(t,r){e.call(this,t,r),n.StyleMutator.setWidth(this.domNode,0),n.StyleMutator.setHeight(this.domNode,0)}return __extends(t,e),t.prototype.onScrollWidthChanged=function(){return!0},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),n.StyleMutator.setWidth(this.domNode,this._layoutProvider.getScrollWidth())},t}(r.ViewOverlays2);t.ContentViewOverlays=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewImpl",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/controller/keyboardHandler","vs/editor/core/controller/pointerHandler","vs/editor/core/view/parts/zones/zones","vs/editor/core/view/lines/viewLines","vs/editor/core/view/parts/overviewRuler/overviewRuler","vs/editor/core/view/parts/overviewRuler/decorationsOverviewRuler","vs/editor/core/view/parts/viewCursors/viewCursors","vs/editor/core/view/parts/contentWidgets/contentWidgets","vs/editor/core/view/parts/overlayWidgets/overlayWidgets","vs/editor/core/view/layout/layoutProvider","vs/editor/core/config/configuration","vs/editor/core/view/viewEventHandler","vs/editor/core/view/viewEventDispatcher","vs/editor/editor","vs/editor/core/range","vs/base/errors","vs/base/performance/timer","vs/editor/core/view/viewController","vs/editor/core/view/viewOverlays","vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight","vs/editor/core/view/overlays/selections/selections","vs/editor/core/view/overlays/decorations/decorations","vs/editor/core/view/overlays/glyphMargin/glyphMargin","vs/editor/core/view/overlays/linesDecorations/linesDecorations","vs/editor/core/view/overlays/lineNumbers/lineNumbers","vs/editor/core/view/overlays/scrollDecoration/scrollDecoration","vs/editor/core/view/marginViewOverlays","vs/editor/core/view/contentViewOverlays","vs/base/lifecycle"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,N,I,O,R,P,D){var M=function(e){function t(t,n,r,o){var c=this;e.call(this),this._isDisposed=!1,this._editorId=t,this._renderAnimationFrame=null,this.outgoingEventBus=new i.EventEmitter;var u=new T.ViewController(r,n,this.outgoingEventBus);this.listenersToRemove=[],this.listenersToDispose=[],this.eventDispatcher=new y.ViewEventDispatcher(function(e){return c._renderOnce(e)}),this.linesContent=document.createElement("div"),this.linesContent.className=s.ClassNames.LINES_CONTENT,this.domNode=document.createElement("div"),g.applyEditorStyling(this.domNode,n.getEditorStyling()),this.overflowGuardContainer=document.createElement("div"),this.overflowGuardContainer.className=s.ClassNames.OVERFLOW_GUARD,this.layoutProvider=new v.LayoutProvider(n,r,this.eventDispatcher,this.linesContent,this.domNode),this.eventDispatcher.addEventHandler(this.layoutProvider),this.context=new s.ViewContext(t,n,r,this.eventDispatcher,function(e){return c.eventDispatcher.addEventHandler(e)},function(e){return c.eventDispatcher.removeEventHandler(e)}),this.createTextArea(o),this.createViewParts(),this.keyboardHandler=new a.KeyboardHandler(this.context,u,this.createKeyboardHandlerHelper()),this.pointerHandler=new l.PointerHandler(this.context,u,this.createPointerHandlerHelper()),this.hasFocus=!1,this.codeEditorHelper=null,this.eventDispatcher.addEventHandler(this),this.handleAccumulatedModelEventsTimeout=-1,this.accumulatedModelEvents=[],this.listenersToRemove.push(r.addBulkListener(function(e){c.accumulatedModelEvents=c.accumulatedModelEvents.concat(e),-1===c.handleAccumulatedModelEventsTimeout&&(c.handleAccumulatedModelEventsTimeout=setTimeout(function(){c.handleAccumulatedModelEventsTimeout=-1,c._flushAnyAccumulatedEvents()}))}))}return __extends(t,e),t.prototype._flushAnyAccumulatedEvents=function(){var e=this.accumulatedModelEvents;this.accumulatedModelEvents=[],e.length>0&&this.eventDispatcher.emitMany(e)},t.prototype.createTextArea=function(e){var t=this;this.textArea=document.createElement("textarea"),this._keybindingService=e.createScoped(this.textArea),this._editorTextFocusContextKey=this._keybindingService.createKey(_.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS,void 0),this.textArea.className=s.ClassNames.TEXTAREA,this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",n.localize("vs_editor_core_view_viewImpl",0)),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-multiline","true"),r.StyleMutator.setTop(this.textArea,0),r.StyleMutator.setLeft(this.textArea,0),r.StyleMutator.setFontSize(this.textArea,this.context.configuration.editor.fontSize),r.StyleMutator.setLineHeight(this.textArea,this.context.configuration.editor.lineHeight),this.listenersToDispose.push(r.addDisposableListener(this.textArea,"focus",function(){return t._setHasFocus(!0)})),this.listenersToDispose.push(r.addDisposableListener(this.textArea,"blur",function(){return t._setHasFocus(!1)})),this.textAreaCover=document.createElement("div"),this.textAreaCover.className=this.context.configuration.editor.glyphMargin?"monaco-editor-background "+s.ClassNames.GLYPH_MARGIN+" "+s.ClassNames.TEXTAREA_COVER:this.context.configuration.editor.lineNumbers?"monaco-editor-background "+s.ClassNames.LINE_NUMBERS+" "+s.ClassNames.TEXTAREA_COVER:"monaco-editor-background "+s.ClassNames.TEXTAREA_COVER,this.textAreaCover.style.position="absolute",r.StyleMutator.setWidth(this.textAreaCover,1),r.StyleMutator.setHeight(this.textAreaCover,1),r.StyleMutator.setTop(this.textAreaCover,0),r.StyleMutator.setLeft(this.textAreaCover,0)},t.prototype.createViewParts=function(){var e=this;this.viewParts=[],this.viewLines=new u.ViewLines(this.context,this.layoutProvider),this.viewZones=new c.ViewZones(this.context,this.layoutProvider),this.viewParts.push(this.viewZones);var t=new p.DecorationsOverviewRuler(this.context,this.layoutProvider.getScrollHeight(),function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)});this.viewParts.push(t);var n=new L.GlyphMarginViewPart(this.context);this.viewParts.push(n);var r=new O.ScrollDecorationViewPart(this.context);this.viewParts.push(r);var i=new k.ViewOverlays(this.context);this.viewParts.push(i),i.addOverlay(new C.CurrentLineHighlightOverlay(this.context));var o=new P.ContentViewOverlays(this.context,this.layoutProvider);this.viewParts.push(o),o.addDynamicOverlay(new x.SelectionsOverlay(this.context)),o.addDynamicOverlay(new A.DecorationsOverlay(this.context));var s=new R.MarginViewOverlays(this.context,this.layoutProvider);this.viewParts.push(s),s.addDynamicOverlay(new L.GlyphMarginOverlay(this.context)),s.addDynamicOverlay(new N.LinesDecorationsOverlay(this.context)),s.addDynamicOverlay(new I.LineNumbersOverlay(this.context)),this.contentWidgets=new m.ViewContentWidgets(this.context,this.domNode),this.viewParts.push(this.contentWidgets);var a=new h.ViewCursors(this.context);if(this.viewParts.push(a),this.overlayWidgets=new f.ViewOverlayWidgets(this.context),this.viewParts.push(this.overlayWidgets),this.linesContentContainer=this.layoutProvider.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",t){var l=this.layoutProvider.getOverviewRulerInsertData();l.parent.insertBefore(t.getDomNode(),l.insertBefore)}this.linesContent.appendChild(o.getDomNode()),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.domNode),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(a.getDomNode()),this.overflowGuardContainer.appendChild(n.getDomNode()),this.overflowGuardContainer.appendChild(r.getDomNode()),this.overflowGuardContainer.appendChild(i.domNode),this.overflowGuardContainer.appendChild(s.getDomNode()),this.overflowGuardContainer.appendChild(this.linesContentContainer),this.overflowGuardContainer.appendChild(this.overlayWidgets.domNode),this.overflowGuardContainer.appendChild(this.textArea),this.overflowGuardContainer.appendChild(this.textAreaCover),this.domNode.appendChild(this.overflowGuardContainer)},t.prototype._flushAccumulatedAndRenderNow=function(){this._flushAnyAccumulatedEvents(),this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,linesContentDomNode:this.linesContent,focusTextArea:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.focusTextArea: View is disposed");e.focus()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollTop:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollTop: View is disposed");e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollLeft: View is disposed");e.layoutProvider.setScrollLeft(t)},isAfterLines:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.isAfterLines: View is disposed");return e.layoutProvider.isAfterLines(t)},getLineNumberAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineNumberAtVerticalOffset: View is disposed");return e.layoutProvider.getLineNumberAtVerticalOffset(t)},getVerticalOffsetForLineNumber:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getVerticalOffsetForLineNumber: View is disposed");return e.layoutProvider.getVerticalOffsetForLineNumber(t)},getWhitespaceAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getWhitespaceAtVerticalOffset: View is disposed");return e.layoutProvider.getWhitespaceAtVerticalOffset(t)},shouldSuppressMouseDownOnViewZone:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.shouldSuppressMouseDownOnViewZone: View is disposed");return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},getPositionFromDOMInfo:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getPositionFromDOMInfo: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.visibleRangeForPosition2: View is disposed");e._flushAccumulatedAndRenderNow();var r=0,i=e.viewLines.visibleRangesForRange2(new w.Range(t,n,t,n),0,r,!1);return i?i[0]:null},getLineWidth:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineWidth: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createKeyboardHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,textArea:this.textArea,visibleRangeForPositionRelativeToEditor:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.keyboardHandler.visibleRangeForPositionRelativeToEditor: View is disposed");e._flushAccumulatedAndRenderNow();var r=e.layoutProvider.getLinesViewportData(),i=0,o=e.viewLines.visibleRangesForRange2(new w.Range(t,n,t,n),r.visibleRangesDeltaTop,i,!1);return o?o[0]:null}}},t.prototype.onLayoutChanged=function(e){return r.StyleMutator.setWidth(this.domNode,e.width),r.StyleMutator.setHeight(this.domNode,e.height),r.StyleMutator.setWidth(this.overflowGuardContainer,e.width),r.StyleMutator.setHeight(this.overflowGuardContainer,e.height),r.StyleMutator.setWidth(this.linesContent,1e6),r.StyleMutator.setHeight(this.linesContent,1e6),r.StyleMutator.setLeft(this.linesContentContainer,e.contentLeft),r.StyleMutator.setWidth(this.linesContentContainer,e.contentWidth),r.StyleMutator.setHeight(this.linesContentContainer,e.contentHeight),this.outgoingEventBus.emit(o.EventType.ViewLayoutChanged,e),!1},t.prototype.onConfigurationChanged=function(){return g.applyEditorStyling(this.domNode,this.context.configuration.getEditorStyling()),r.StyleMutator.setFontSize(this.textArea,this.context.configuration.editor.fontSize),r.StyleMutator.setLineHeight(this.textArea,this.context.configuration.editor.lineHeight),!1},t.prototype.onScrollChanged=function(){return this.outgoingEventBus.emit("scroll",{scrollTop:this.layoutProvider.getScrollTop(),scrollLeft:this.layoutProvider.getScrollLeft()}),!1},t.prototype.onScrollHeightChanged=function(t){return this.outgoingEventBus.emit("scrollSize",{scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight()}),e.prototype.onScrollHeightChanged.call(this,t)},t.prototype.onViewFocusChanged=function(e){return r.toggleClass(this.domNode,"focused",e),e?(this._editorTextFocusContextKey.set(!0),this.outgoingEventBus.emit(o.EventType.ViewFocusGained,{})):(this._editorTextFocusContextKey.reset(),this.outgoingEventBus.emit(o.EventType.ViewFocusLost,{})),!1},t.prototype.dispose=function(){this._isDisposed=!0,-1!==this.handleAccumulatedModelEventsTimeout&&(clearTimeout(this.handleAccumulatedModelEventsTimeout),this.handleAccumulatedModelEventsTimeout=-1),null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.accumulatedModelEvents=[],this.eventDispatcher.removeEventHandler(this),this.outgoingEventBus.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.listenersToDispose=D.disposeAll(this.listenersToDispose),this.keyboardHandler.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].dispose();this.viewParts=[],this.layoutProvider.dispose(),this._keybindingService.dispose()},t.prototype.getCodeEditorHelper=function(){var e=this;return this.codeEditorHelper||(this.codeEditorHelper={getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollTop:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollTop: View is disposed");e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollLeft: View is disposed");e.layoutProvider.setScrollLeft(t)},getScrollHeight:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollHeight: View is disposed");return e.layoutProvider.getScrollHeight()},getScrollWidth:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollWidth: View is disposed");return e.layoutProvider.getScrollWidth()},getLayoutInfo:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getLayoutInfo: View is disposed");return e.layoutProvider.getLayoutInfo()},getVerticalOffsetForPosition:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getVerticalOffsetForPosition: View is disposed");var r=e.context.model.validateModelPosition({lineNumber:t,column:n}),i=e.context.model.convertModelPositionToViewPosition(r.lineNumber,r.column);return e.layoutProvider.getVerticalOffsetForLineNumber(i.lineNumber)},delegateVerticalScrollbarMouseDown:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.delegateVerticalScrollbarMouseDown: View is disposed");e.layoutProvider.delegateVerticalScrollbarMouseDown(t)},getOffsetForColumn:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getOffsetForColumn: View is disposed");var r=e.context.model.validateModelPosition({lineNumber:t,column:n}),i=e.context.model.convertModelPositionToViewPosition(r.lineNumber,r.column);e._flushAccumulatedAndRenderNow();var o=e.viewLines.visibleRangesForRange2(new w.Range(i.lineNumber,i.column,i.lineNumber,i.column),0,0,!1);return o?o[0].left:-1}}),this.codeEditorHelper},t.prototype.getCenteredRangeInViewport=function(){if(this._isDisposed)throw new Error("ViewImpl.getCenteredRangeInViewport: View is disposed");var e=this.layoutProvider.getCenteredViewLineNumberInViewport(),t=this.context.model,n=new w.Range(e,1,e,t.getLineMaxColumn(e));return t.convertViewRangeToModelRange(n)},t.prototype.getInternalEventBus=function(){if(this._isDisposed)throw new Error("ViewImpl.getInternalEventBus: View is disposed");return this.outgoingEventBus},t.prototype.saveState=function(){if(this._isDisposed)throw new Error("ViewImpl.saveState: View is disposed");return this.layoutProvider.saveState()},t.prototype.restoreState=function(e){if(this._isDisposed)throw new Error("ViewImpl.restoreState: View is disposed");return this._flushAnyAccumulatedEvents(),this.layoutProvider.restoreState(e)},t.prototype.focus=function(){if(this._isDisposed)throw new Error("ViewImpl.focus: View is disposed");var e=r.saveParentsScrollTop(this.textArea);this.textArea.focus(),r.selectTextInInputElement(this.textArea),r.restoreParentsScrollTop(this.textArea,e),this._setHasFocus(!0)},t.prototype.isFocused=function(){if(this._isDisposed)throw new Error("ViewImpl.isFocused: View is disposed");return this.hasFocus},t.prototype.createOverviewRuler=function(e,t,n){var r=this;if(this._isDisposed)throw new Error("ViewImpl.createOverviewRuler: View is disposed");return new d.OverviewRuler(this.context,e,this.layoutProvider.getScrollHeight(),t,n,function(e){return r.layoutProvider.getVerticalOffsetForLineNumber(e)})},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.change: View is disposed");var n=!1;return this._renderOnce(function(){t._flushAnyAccumulatedEvents();var r={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){n=t.viewZones.removeZone(e)||n},layoutZone:function(e){n=t.viewZones.layoutZone(e)||n}},i=null;try{i=e(r)}catch(s){E.onUnexpectedError(s)}return r.addZone=null,r.removeZone=null,n&&t.context.privateViewEventBus.emit(o.EventType.ViewZonesChanged,null),i}),n},t.prototype.getWhitespaces=function(){if(this._isDisposed)throw new Error("ViewImpl.getWhitespaces: View is disposed");return this.layoutProvider.getWhitespaces()},t.prototype.addContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addContentWidget: View is disposed");this._renderOnce(function(){t.contentWidgets.addWidget(e.widget),t.layoutContentWidget(e)})},t.prototype.layoutContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.layoutContentWidget: View is disposed");this._renderOnce(function(){var n=e.position?e.position.position:null,r=e.position?e.position.preference:null;t.contentWidgets.setWidgetPosition(e.widget,n,r)})},t.prototype.removeContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeContentWidget: View is disposed");this._renderOnce(function(){t.contentWidgets.removeWidget(e.widget)})},t.prototype.addOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.addWidget(e.widget),t.layoutOverlayWidget(e)})},t.prototype.layoutOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.layoutOverlayWidget: View is disposed");this._renderOnce(function(){var n=e.position?e.position.preference:null;t.overlayWidgets.setWidgetPosition(e.widget,n)})},t.prototype.removeOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.removeWidget(e.widget)})},t.prototype.render=function(){if(this._isDisposed)throw new Error("ViewImpl.render: View is disposed");this.layoutProvider.emitLayoutChangedEvent()},t.prototype.renderOnce=function(e){if(this._isDisposed)throw new Error("ViewImpl.renderOnce: View is disposed");return this._renderOnce(e)},t.prototype._renderOnce=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl._renderOnce: View is disposed");return this.outgoingEventBus.deferredEmit(function(){try{var n=e?e():null}finally{t._scheduleRender()}return n})},t.prototype._scheduleRender=function(){if(this._isDisposed)throw new Error("ViewImpl._scheduleRender: View is disposed");null===this._renderAnimationFrame&&(this._renderAnimationFrame=r.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){if(this._isDisposed)throw new Error("ViewImpl._renderNow: View is disposed");this.actualRender()},t.prototype.createRenderingContext=function(e){var t=this,n=this.layoutProvider.getCurrentViewport(),r=e.visibleRangesDeltaTop,i=0,o={linesViewportData:e,scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight(),visibleRange:e.visibleRange,bigNumbersDelta:e.bigNumbersDelta,viewportWidth:n.width,viewportHeight:n.height,viewportLeft:n.left,viewportTop:n.top,getScrolledTopFromAbsoluteTop:function(e){return t.layoutProvider.getScrolledTopFromAbsoluteTop(e)},getViewportVerticalOffsetForLineNumber:function(e){var n=t.layoutProvider.getVerticalOffsetForLineNumber(e),r=t.layoutProvider.getScrolledTopFromAbsoluteTop(n);return r},heightInPxForLine:function(e){return t.layoutProvider.heightInPxForLine(e)},getDecorationsInViewport:function(){return e.getDecorationsInViewport()},visibleRangesForRange:function(e,n){return t.viewLines.visibleRangesForRange2(e,r,i,n)},linesVisibleRangesForRange:function(e,n){return t.viewLines.linesVisibleRangesForRange(e,n)},visibleRangeForPosition:function(e){var n=t.viewLines.visibleRangesForRange2(new w.Range(e.lineNumber,e.column,e.lineNumber,e.column),r,i,!1);return n?n[0]:null},visibleRangeForPosition2:function(e,n){var o=t.viewLines.visibleRangesForRange2(new w.Range(e,n,e,n),r,i,!1);return o?o[0]:null},lineIsVisible:function(t){return e.visibleRange.startLineNumber<=t&&t<=e.visibleRange.endLineNumber}};return o},t.prototype.actualRender=function(){if(this._isDisposed)throw new Error("ViewImpl.actualRender: View is disposed");if(r.isInDOM(this.domNode)){var e,t,n=S.start(S.Topic.EDITOR,"View.render");try{for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onBeforeForcedLayout();var i=this.viewLines.render(),o=this.createRenderingContext(i);for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onReadAfterForcedLayout(o);for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onWriteAfterForcedLayout()}catch(s){E.onUnexpectedError(s)}n.stop()}},t.prototype._setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this.context.privateViewEventBus.emit(o.EventType.ViewFocusChanged,this.hasFocus))},t}(b.ViewEventHandler);t.View=M}),define("vs/editor/core/view/model/prefixSumComputer",["require","exports"],function(e,t){var n=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,n=this.values.length;n>t;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.insertValues=function(t,n){0!==n.length&&(this.values=this.values.slice(0,t).concat(n).concat(this.values.slice(t)),this.prefixSum=this.prefixSum.slice(0,t).concat(e._zeroArray(n.length)).concat(this.prefixSum.slice(t)),t-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=t-1))},e._zeroArray=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=0;return t},e.prototype.changeValue=function(e,t){this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(0>e)return 0;if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e,t){for(var n,r,i,o=0,s=this.values.length-1;s>=o;)if(n=o+(s-o)/2|0,i=this.getAccumulatedValue(n),r=i-this.values[n],r>e)s=n-1;else{if(!(e>=i))break;o=n+1}t.index=n,t.remainder=e-r},e}();t.PrefixSumComputer=n}),define("vs/editor/core/view/model/characterHardWrappingLineMapper",["require","exports","vs/editor/core/view/model/prefixSumComputer"],function(e,t,n){function r(e,t,n){var r,i=[],l=0,c=e+t+n;for(r=0;r<c.length;r++)l=Math.max(l,c.charCodeAt(r));for(r=0;l>=r;r++)i[r]=0;for(r=0;r<e.length;r++)i[e.charCodeAt(r)]=o;for(r=0;r<t.length;r++)i[t.charCodeAt(r)]=s;for(r=0;r<n.length;r++)i[n.charCodeAt(r)]=a;return i}var i={index:-1,remainder:-1},o=1,s=2,a=3,l=function(){function e(e,t,n){this.characterClasses=r(e,t,n)}return e.nextVisibleColumn=function(e,t,n){return n?e+(t-e%t):e+1},e.prototype.createLineMapping=function(t,r,i){if(-1===i)return null;var l,u,d,p,h,m,f,v,g=this.characterClasses,b="	".charCodeAt(0),y=0,_=[],w=0,E=-1,S=0,T=-1,k=0;for(d=0,l=0,u=t.length;u>l;l++)p=t.charCodeAt(l),h=p===b,m=p<g.length?g[p]:0,m===o&&(E=l,S=0),d=e.nextVisibleColumn(d,r,h),d>i&&0!==l&&(-1!==E?(f=E,v=S):-1!==T?(f=T,v=k):(f=l,v=0),_[w++]=f-y,y=f,d=e.nextVisibleColumn(v,r,h),E=-1,S=0,T=-1,k=0),-1!==E&&(S=e.nextVisibleColumn(S,r,h)),-1!==T&&(k=e.nextVisibleColumn(k,r,h)),m===s&&(E=l+1,S=0),m===a&&(T=l+1,k=0);return 0===w?null:(_[w++]=u-y,new c(new n.PrefixSumComputer(_)))},e}();t.CharacterHardWrappingLineMapperFactory=l;var c=function(){function e(e){this._prefixSums=e}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e,t){this._prefixSums.getIndexOf(e,i),t.outputLineIndex=i.index,t.outputOffset=i.remainder},e}();t.CharacterHardWrappingLineMapping=c}),define("vs/editor/core/view/model/filteredLineTokens",["require","exports","vs/editor/editor","vs/base/arrays"],function(e,t,n,r){var i=function(){function e(e,t,r){this._original=e,this._startOffset=t,this._endOffset=r,this.inflatedTokens=n.LineTokensBinaryEncoding.sliceAndInflate(e.getBinaryEncodedTokensMap(),e.getBinaryEncodedTokens(),t,r)}return e.prototype.getTokens=function(){return this.inflatedTokens},e.prototype.getTextLength=function(){return this._endOffset-this._startOffset},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this._startOffset!==n._startOffset?!1:this._endOffset!==n._endOffset?!1:this._original.equals(n._original)}return!1},e.prototype.findIndexOfOffset=function(e){return r.findIndexInSegmentsArray(this.inflatedTokens,e)},e}();t.FilteredLineTokens=i;var o=function(){function e(e,t){this._original=e,this._textLength=t}return e.prototype.getTokens=function(){return n.LineTokensBinaryEncoding.inflateArr(this._original.getBinaryEncodedTokensMap(),this._original.getBinaryEncodedTokens())},e.prototype.getTextLength=function(){return this._textLength},e.prototype.equals=function(t){if(t instanceof e){var n=t;
return this._original.equals(n._original)}return!1},e.prototype.findIndexOfOffset=function(e){return this._original.findIndexOfOffset(e)},e}();t.IdentityFilteredLineTokens=o}),define("vs/editor/core/view/model/splitLinesCollection",["require","exports","vs/editor/core/view/model/prefixSumComputer","vs/editor/core/view/model/filteredLineTokens","vs/editor/core/position","vs/editor/core/view/viewContext"],function(e,t,n,r,i,o){function s(e,t,n,r){var i=e.createLineMapping(t,n,r);return null===i?l.INSTANCE:new c(i)}var a={outputLineIndex:0,outputOffset:0},l=function(){function e(){}return e.prototype.getOutputLineCount=function(){return 1},e.prototype.getOutputLineContent=function(e,t){return e.getLineContent(t)},e.prototype.getOutputLineMaxColumn=function(e,t){return e.getLineMaxColumn(t)},e.prototype.getOutputLineTokens=function(e,t,n,i){return new r.IdentityFilteredLineTokens(e.getLineTokens(t,i),e.getLineMaxColumn(t)-1)},e.prototype.getInputColumnOfOutputPosition=function(e,t){return t},e.prototype.getOutputPositionOfInputPosition=function(e,t){return new i.Position(e,t)},e.INSTANCE=new e,e}(),c=function(){function e(e){this.positionMapper=e,this.outputLineCount=this.positionMapper.getOutputLineCount()}return e.prototype.getOutputLineCount=function(){return this.outputLineCount},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getOutputLineContent=function(e,t,n){var r=this.getInputStartOffsetOfOutputLineIndex(n),i=this.getInputEndOffsetOfOutputLineIndex(e,t,n);return e.getLineContent(t).substring(r,i)},e.prototype.getOutputLineMaxColumn=function(e,t,n){return this.getOutputLineContent(e,t,n).length+1},e.prototype.getOutputLineTokens=function(e,t,n,i){var o=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n);return new r.FilteredLineTokens(e.getLineTokens(t,i),o,s)},e.prototype.getInputColumnOfOutputPosition=function(e,t){return this.positionMapper.getInputOffsetOfOutputPosition(e,t-1)+1},e.prototype.getOutputPositionOfInputPosition=function(e,t){this.positionMapper.getOutputPositionOfInputOffset(t-1,a);var n=a.outputLineIndex,r=a.outputOffset+1;return new i.Position(e+n,r)},e}(),u=function(){function e(e,t,n,r){this.model=e,this._validModelVersionId=-1,this.tabSize=n,this.wrappingColumn=r,this.linePositionMapperFactory=t,this.constructLines(),this.tmpIndexOfResult={index:0,remainder:0}}return e.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},e.prototype.constructLines=function(){this.lines=[];for(var e,t=[],r=this.model.getLinesContent(),i=0,o=r.length;o>i;i++)e=s(this.linePositionMapperFactory,r[i],this.tabSize,this.wrappingColumn),t[i]=e.getOutputLineCount(),this.lines[i]=e;this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new n.PrefixSumComputer(t)},e.prototype.setTabSize=function(e,t){return this.tabSize===e?!1:(this.tabSize=e,this.constructLines(),t(o.EventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingColumn=function(e,t){return this.wrappingColumn===e?!1:(this.wrappingColumn=e,this.constructLines(),t(o.EventNames.ModelFlushedEvent,null),!0)},e.prototype.onModelFlushed=function(e,t){this.constructLines(),t(o.EventNames.ModelFlushedEvent,null)},e.prototype.onModelLinesDeleted=function(e,t,n,r){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(n-1);this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1);var a={fromLineNumber:i,toLineNumber:s};r(o.EventNames.LinesDeletedEvent,a)}},e.prototype.onModelLinesInserted=function(e,t,n,r,i){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;for(var a,l,c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=0,d=[],p=[],h=0,m=r.length;m>h;h++){var a=s(this.linePositionMapperFactory,r[h],this.tabSize,this.wrappingColumn);d.push(a),l=a.getOutputLineCount(),u+=l,p.push(l)}this.lines=this.lines.slice(0,t-1).concat(d).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,p);var f={fromLineNumber:c,toLineNumber:c+u-1};i(o.EventNames.LinesInsertedEvent,f)}},e.prototype.onModelLineChanged=function(e,t,n,r){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var i=t-1,a=this.lines[i].getOutputLineCount(),l=s(this.linePositionMapperFactory,n,this.tabSize,this.wrappingColumn);this.lines[i]=l;var c=this.lines[i].getOutputLineCount(),u=!1,d=0,p=-1,h=0,m=-1,f=0,v=-1;a>c?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+c-1,f=p+1,v=f+(a-c)-1,u=!0):c>a?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+a-1,h=p+1,m=h+(c-a)-1,u=!0):(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+c-1),this.prefixSumComputer.changeValue(i,c);var g,b,y,_;if(p>=d)for(var g=d;p>=g;g++)b={lineNumber:g},r(o.EventNames.LineChangedEvent,b);return m>=h&&(y={fromLineNumber:h,toLineNumber:m},r(o.EventNames.LinesInsertedEvent,y)),v>=f&&(_={fromLineNumber:f,toLineNumber:v},r(o.EventNames.LinesDeletedEvent,_)),u}},e.prototype.getOutputLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype.getOutputLineContent=function(e){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineContent(this.model,t+1,n)},e.prototype.getOutputLineMaxColumn=function(e){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineMaxColumn(this.model,t+1,n)},e.prototype.getOutputLineTokens=function(e,t){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var n=this.tmpIndexOfResult.index,r=this.tmpIndexOfResult.remainder;return this.lines[n].getOutputLineTokens(this.model,n+1,r,t)},e.prototype.convertOutputPositionToInputPosition=function(e,t){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var n=this.tmpIndexOfResult.index,r=this.tmpIndexOfResult.remainder,o=this.lines[n].getInputColumnOfOutputPosition(r,t);return new i.Position(n+1,o)},e.prototype.convertInputPositionToOutputPosition=function(e,t){this._ensureValidState(),e>this.lines.length&&(e=this.lines.length);var n=1+(1===e?0:this.prefixSumComputer.getAccumulatedValue(e-2)),r=this.lines[e-1].getOutputPositionOfInputPosition(n,t);return r},e}();t.SplitLinesCollection=u}),define("vs/editor/core/view/model/viewModelDecorations",["require","exports","vs/editor/core/range","vs/editor/core/view/viewContext"],function(e,t,n,r){var i=function(){function e(e,t){this.id=e.id,this.options=e.options,this.ownerId=e.ownerId,this.modelRange=e.range,this.range=t}return e}(),o=function(){function e(e,t,n){this.editorId=e,this.configuration=t,this.converter=n,this.decorations=[],this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverStartLineNumber=0,this._cachedModelDecorationsResolverEndLineNumber=0},e.prototype.dispose=function(){this.converter=null,this.decorations=null,this._clearCachedModelDecorationsResolver()},e.compareDecorations=function(e,t){return n.compareRangesUsingStarts(e.range,t.range)},e.prototype.reset=function(t){var n,r,o,s,a=t.getAllDecorations(this.editorId,this.configuration.editor.readOnly);for(this.decorations=[],n=0,r=a.length;r>n;n++)o=a[n],s=new i(o,this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)),this.decorations[n]=s;this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations)},e.prototype.onModelDecorationsChanged=function(t,n){var o,s,a,l=!1,c=!1,u={},d={},p=this.configuration.editor.readOnly;for(s=0,a=t.addedOrChangedDecorations.length;a>s;s++)o=t.addedOrChangedDecorations[s],p&&o.isForValidation||o.ownerId&&o.ownerId!==this.editorId||(d[o.id]=o);for(s=0,a=t.removedDecorations.length;a>s;s++)u[t.removedDecorations[s]]=!0;var h,m={};for(s=0,a=this.decorations.length;a>s;s++)h=this.decorations[s],d.hasOwnProperty(h.id)&&(m[h.id]=!0,o=d[h.id],h.options=o.options,h.modelRange=o.range,h.range=this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine),h.options.inlineClassName&&(c=!0),l=!0),u.hasOwnProperty(h.id)&&(this.decorations[s].options.inlineClassName&&(c=!0),this.decorations.splice(s,1),a--,s--,l=!0);var f;for(f in d)!m.hasOwnProperty(f)&&d.hasOwnProperty(f)&&(o=d[f],h=new i(o,this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)),this.decorations.push(h),h.options.inlineClassName&&(c=!0),l=!0);if(l){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var v={inlineDecorationsChanged:c};n(r.EventNames.DecorationsChangedEvent,v)}},e.prototype.onLineMappingChanged=function(t){var i,o,s,a,l=this.decorations,c=!1,u=!1;for(o=0,a=l.length;a>o;o++)i=l[o],s=this.converter.convertModelRangeToViewRange(i.modelRange,i.options.isWholeLine),u||!i.options.inlineClassName||n.equalsRange(s,i.range)||(u=!0),c||n.equalsRange(s,i.range)||(c=!0),i.range=s;if(c){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var d={inlineDecorationsChanged:u};t(r.EventNames.DecorationsChangedEvent,d)}},e.prototype.getAllDecorations=function(){return this.decorations},e.prototype.getDecorationsResolver=function(e,t){var n=!0;return n=n&&null!==this._cachedModelDecorationsResolver,n=n&&this._cachedModelDecorationsResolverStartLineNumber===e,n=n&&this._cachedModelDecorationsResolverEndLineNumber===t,n||(this._cachedModelDecorationsResolver=this._createDecorationsResolver(e,t),this._cachedModelDecorationsResolverStartLineNumber=e,this._cachedModelDecorationsResolverEndLineNumber=t),this._cachedModelDecorationsResolver},e.prototype._createDecorationsResolver=function(e,t){var n,r,i,o,s,a,l,c=[],u=[],d=this.decorations;for(n=e;t>=n;n++)u[n-e]=[];for(a=0,l=d.length;l>a&&(o=d[a],s=o.range,!(s.startLineNumber>t));a++)if(!(s.endLineNumber<e)&&(c.push(o),o.options.inlineClassName))for(r=Math.max(e,s.startLineNumber),i=Math.min(t,s.endLineNumber),n=r;i>=n;n++)u[n-e].push(o);return{getDecorations:function(){return c},getInlineDecorations:function(n){if(e>n||n>t)throw new Error("Unexpected line outside the ViewModelDecorationsResolver preconfigured range");return u[n-e]}}},e}();t.ViewModelDecorations=o}),define("vs/editor/core/view/model/viewModelCursors",["require","exports","vs/editor/core/range","vs/editor/core/selection","vs/editor/core/view/viewContext"],function(e,t,n,r,i){var o=function(){function e(e,t){this.configuration=e,this.converter=t,this.lastCursorPositionChangedEvent=null,this.lastCursorSelectionChangedEvent=null}return e.prototype.getSelections=function(){if(this.lastCursorSelectionChangedEvent){var e=[];e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.selection));for(var t=0,n=this.lastCursorSelectionChangedEvent.secondarySelections.length;n>t;t++)e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.secondarySelections[t]));return e}return[new r.Selection(1,1,1,1)]},e.prototype.onCursorPositionChanged=function(e,t){this.lastCursorPositionChangedEvent=e;var n=this.converter.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,e.position),r=this.configuration.editor.stopRenderingLineAfter;-1!==r&&n.column>r&&(n=n.clone(),n.column=r);for(var o=[],s=0,a=e.secondaryPositions.length;a>s;s++)o[s]=this.converter.validateViewPosition(e.secondaryViewPositions[s].lineNumber,e.secondaryViewPositions[s].column,e.secondaryPositions[s]),-1!==r&&o[s].column>r&&(o[s]=o[s].clone(),o[s].column=r);var l={position:n,secondaryPositions:o,isInEditableRange:e.isInEditableRange};t(i.EventNames.CursorPositionChangedEvent,l)},e.prototype.onCursorSelectionChanged=function(e,t){this.lastCursorSelectionChangedEvent=e;for(var n=this.converter.convertModelSelectionToViewSelection(e.selection),r=[],o=0,s=e.secondarySelections.length;s>o;o++)r[o]=this.converter.convertModelSelectionToViewSelection(e.secondarySelections[o]);var a={selection:n,secondarySelections:r};t(i.EventNames.CursorSelectionChangedEvent,a)},e.prototype.onCursorRevealRange=function(e,t){var r=null;if(e.viewRange){var o=this.converter.validateViewPosition(e.viewRange.startLineNumber,e.viewRange.startColumn,e.range.getStartPosition()),s=this.converter.validateViewPosition(e.viewRange.endLineNumber,e.viewRange.endColumn,e.range.getEndPosition());r=new n.Range(o.lineNumber,o.column,s.lineNumber,s.column)}else r=this.converter.convertModelRangeToViewRange(e.range);var a={range:r,verticalType:e.verticalType,revealHorizontal:e.revealHorizontal};t(i.EventNames.RevealRangeEvent,a)},e.prototype.onLineMappingChanged=function(e){this.lastCursorPositionChangedEvent&&this.onCursorPositionChanged(this.lastCursorPositionChangedEvent,e),this.lastCursorSelectionChangedEvent&&this.onCursorSelectionChanged(this.lastCursorSelectionChangedEvent,e)},e}();t.ViewModelCursors=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/model/viewModel",["require","exports","vs/base/eventEmitter","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/constants","vs/editor/core/selection","vs/editor/core/range","vs/editor/core/view/model/viewModelDecorations","vs/editor/core/view/model/viewModelCursors","vs/base/strings","vs/editor/core/position"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=function(e){function t(t,n,r,i){var o=this;e.call(this),this.lines=t,this.editorId=n,this.configuration=r,this.model=i,this.restoreCurrentCenteredModelRange=null,this.isHandlingExternalEvents=!1,this.decorations=new l.ViewModelDecorations(this.editorId,this.configuration,{convertModelRangeToViewRange:function(e,t){return t?o.convertWholeLineModelRangeToViewRange(e):o.convertModelRangeToViewRange(e)}}),this.decorations.reset(this.model),this.cursors=new c.ViewModelCursors(this.configuration,this),this._updateShouldForceTokenization(),this.listenersToRemove=[],this.listenersToRemove.push(this.model.addBulkListener(function(e){return o.onEvents(e)})),this.listenersToRemove.push(this.configuration.addBulkListener(function(e){return o.onEvents(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.decorations.dispose(),this.decorations=null,this.lines=null,this.configuration=null,this.model=null},t.prototype._updateShouldForceTokenization=function(){this.shouldForceTokenization=this.lines.getOutputLineCount()<=this.configuration.editor.forcedTokenizationBoundary},t.prototype.setTabSize=function(e){var t=this;this.deferredEmit(function(){var n=t.lines.setTabSize(e,function(e,n){return t.emit(e,n)});n&&(t.emit(r.EventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t._updateShouldForceTokenization())})},t.prototype.restoreCenteredModelRange=function(){if(this.restoreCurrentCenteredModelRange){var e=this.convertModelRangeToViewRange(this.restoreCurrentCenteredModelRange);this.restoreCurrentCenteredModelRange=null;var t={range:e,verticalType:i.VerticalRevealType.Center,revealHorizontal:!1};this.emit(r.EventNames.RevealRangeEvent,t)}},t.prototype.setWrappingColumn=function(e,t){var n=this,i=null,o=!1;this.deferredEmit(function(){if(t){var s=new a.Range(t,1,t,n.getLineMaxColumn(t));i=n.convertViewRangeToModelRange(s)}o=n.lines.setWrappingColumn(e,function(e,t){return n.emit(e,t)}),o?(n.emit(r.EventNames.LineMappingChangedEvent),n.decorations.onLineMappingChanged(function(e,t){return n.emit(e,t)}),n.cursors.onLineMappingChanged(function(e,t){return n.emit(e,t)}),n._updateShouldForceTokenization()):i=null,i&&(n.restoreCurrentCenteredModelRange=i),n.isHandlingExternalEvents||n.restoreCenteredModelRange()})},t.prototype.addEventSource=function(e){var t=this;this.listenersToRemove.push(e.addBulkListener(function(e){return t.onEvents(e)}))},t.prototype.onEvents=function(e){var t=this;this.isHandlingExternalEvents=!0,this.deferredEmit(function(){var n,i,s,a,l,c=!1,u=!1,d=!1;for(n=0,i=e.length;i>n;n++)switch(s=e[n],a=s.getData(),s.getType()){case o.EventType.ModelContentChanged:switch(l=a,l.changeType){case o.EventType.ModelContentChangedFlush:t.onModelFlushed(l),u=!0;break;case o.EventType.ModelContentChangedLinesDeleted:t.onModelLinesDeleted(l),u=!0;break;case o.EventType.ModelContentChangedLinesInserted:t.onModelLinesInserted(l),u=!0;break;case o.EventType.ModelContentChangedLineChanged:d=t.onModelLineChanged(l);break;default:console.info("ViewModel received unkown event: "),console.info(s)}c=!0;break;case o.EventType.ModelTokensChanged:t.onModelTokensChanged(a);break;case o.EventType.ModelModeChanged:break;case o.EventType.ModelModeSupportChanged:break;case o.EventType.ModelPropertiesChanged:break;case o.EventType.ModelContentChanged2:break;case o.EventType.ModelDecorationsChanged:t.onModelDecorationsChanged(a);break;case o.EventType.ModelDispose:break;case o.EventType.CursorPositionChanged:t.onCursorPositionChanged(a);break;case o.EventType.CursorSelectionChanged:t.onCursorSelectionChanged(a);break;case o.EventType.CursorRevealRange:t.onCursorRevealRange(a);break;case o.EventType.ConfigurationChanged:if(t.setTabSize(t.configuration.getIndentationOptions().tabSize),a.readOnly){t.decorations.reset(t.model);var p={inlineDecorationsChanged:!1};t.emit(r.EventNames.DecorationsChangedEvent,p)}t.emit(s.getType(),a);break;default:console.info("View received unkown event: "),console.info(s)}c&&t._updateShouldForceTokenization(),!u&&d&&(t.emit(r.EventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t._updateShouldForceTokenization())}),this.restoreCenteredModelRange(),this.isHandlingExternalEvents=!1},t.prototype.onModelFlushed=function(e){var t=this;this.lines.onModelFlushed(e.versionId,function(e,n){return t.emit(e,n)}),this.decorations.reset(this.model)},t.prototype.onModelDecorationsChanged=function(e){var t=this;this.decorations.onModelDecorationsChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onModelLinesDeleted=function(e){var t=this;this.lines.onModelLinesDeleted(e.versionId,e.fromLineNumber,e.toLineNumber,function(e,n){return t.emit(e,n)})},t.prototype.onModelTokensChanged=function(e){var t=this.convertModelPositionToViewPosition(e.fromLineNumber,1).lineNumber,n=this.convertModelPositionToViewPosition(e.toLineNumber,this.model.getLineMaxColumn(e.toLineNumber)).lineNumber,e={fromLineNumber:t,toLineNumber:n};this.emit(r.EventNames.TokensChangedEvent,e)},t.prototype.onModelLineChanged=function(e){var t=this,n=this.lines.onModelLineChanged(e.versionId,e.lineNumber,e.detail,function(e,n){return t.emit(e,n)});return n},t.prototype.onModelLinesInserted=function(e){var t=this;this.lines.onModelLinesInserted(e.versionId,e.fromLineNumber,e.toLineNumber,e.detail.split("\n"),function(e,n){return t.emit(e,n)})},t.prototype.validateViewPosition=function(e,t,n){1>e&&(e=1);var r=this.getLineCount();e>r&&(e=r);var i=this.getLineMaxColumn(e);1>t&&(t=1),t>i&&(t=i);var o=this.convertViewPositionToModelPosition(e,t);return o.equals(n)?new d.Position(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},t.prototype.onCursorPositionChanged=function(e){var t=this;this.cursors.onCursorPositionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorSelectionChanged=function(e){var t=this;this.cursors.onCursorSelectionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorRevealRange=function(e){var t=this;this.cursors.onCursorRevealRange(e,function(e,n){return t.emit(e,n)})},t.prototype.getLineCount=function(){return this.lines.getOutputLineCount()},t.prototype.getLineContent=function(e){return this.lines.getOutputLineContent(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getOutputLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=u.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=u.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getLineTokens=function(e){return this.lines.getOutputLineTokens(e,!this.shouldForceTokenization)},t.prototype.getLineRenderLineNumber=function(e){var t=this.convertViewPositionToModelPosition(e,1);if(1!==t.column)return"";var n=t.lineNumber;return"function"==typeof this.configuration.editor.lineNumbers?this.configuration.editor.lineNumbers(n):n.toString()},t.prototype.getDecorationsResolver=function(e,t){return this.decorations.getDecorationsResolver(e,t)},t.prototype.getAllDecorations=function(){return this.decorations.getAllDecorations()},t.prototype.getValueInRange=function(e,t){var n=this.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineContent=function(e){return this.model.getLineContent(e)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.convertViewPositionToModelPosition=function(e,t){return this.lines.convertOutputPositionToInputPosition(e,t)},t.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new a.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelPositionToViewPosition=function(e,t){return this.lines.convertInputPositionToOutputPosition(e,t)},t.prototype.convertModelSelectionToViewSelection=function(e){var t=this.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new s.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new a.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertWholeLineModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber));return new a.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t}(n.EventEmitter);t.ViewModel=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/actions",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/ui/events"],function(e,t,n,r,i){function o(e){return e?e instanceof a?!0:"string"!=typeof e.id?!1:"string"!=typeof e.label?!1:"string"!=typeof e.class?!1:"boolean"!=typeof e.enabled?!1:"boolean"!=typeof e.checked?!1:"function"!=typeof e.run?!1:!0:!1}function s(e){function t(t){return function(){e.forEach(function(e){e.checked=e===t})}}return e.map(function(e){return new l(e,t(e))})}t.isAction=o;var a=function(e){function t(t,n,r,i,o){void 0===n&&(n=""),void 0===r&&(r=""),void 0===i&&(i=!0),void 0===o&&(o=null),e.call(this),this._id=t,this._label=n,this._cssClass=r,this._enabled=i,this._actionCallback=o}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this.emit(t.LABEL,{source:this}))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),t.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this.emit(t.TOOLTIP,{source:this}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this.emit(t.CLASS,{source:this}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this.emit(t.ENABLED,{source:this}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this.emit(t.CHECKED,{source:this}))},Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCallback",{get:function(){return this._actionCallback},set:function(e){this._actionCallback=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return null!==this._actionCallback?this._actionCallback(e):n.Promise.as(!0)},t.LABEL="label",t.TOOLTIP="tooltip",t.CLASS="class",t.ENABLED="enabled",t.CHECKED="checked",t}(r.EventEmitter);t.Action=a;var l=function(e){function t(t,n){e.call(this,t.id,t.label,t.class,t.enabled,null),this.delegate=t,this.runHandler=n}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.delegate.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.delegate.label},set:function(e){this.delegate.label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.delegate.class},set:function(e){this.delegate.class=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.delegate.enabled},set:function(e){this.delegate.enabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.delegate.checked},set:function(e){this.delegate.checked=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.runHandler(e),this.delegate.run(e)},t.prototype.addListener=function(e,t){return this.delegate.addListener(e,t)},t.prototype.addBulkListener=function(e){return this.delegate.addBulkListener(e)},t.prototype.addEmitter=function(e,t){return this.delegate.addEmitter(e,t)},t.prototype.addEmitterTypeListener=function(e,t,n){return this.delegate.addEmitterTypeListener(e,t,n)},t.prototype.emit=function(e,t){this.delegate.emit(e,t)},t}(a);t.radioGroup=s;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t){var r=this;return e.enabled?(this.emit(i.EventType.BEFORE_RUN,{action:e}),n.Promise.as(e.run(t)).then(function(t){r.emit(i.EventType.RUN,{action:e,result:t})},function(t){r.emit(i.EventType.RUN,{action:e,error:t})})):n.Promise.as(null)},t}(r.EventEmitter);t.ActionRunner=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/editorAction",["require","exports","vs/base/ui/actions","vs/base/lifecycle","vs/base/types","vs/editor/core/constants"],function(e,t,n,r,i,o){var s=function(){function e(e){this._delegates=e}return e.prototype.value=function(){return this._delegates.every(function(e){return e.value()})},e.prototype.reset=function(){this._delegates.forEach(function(e){e instanceof a&&e.reset()})},e.prototype.dispose=function(){this._delegates.forEach(function(e){return e.dispose()})},e}(),a=function(){function e(){}return e.prototype.reset=function(){this._value=null},e.prototype.dispose=function(){},e.prototype.value=function(){return i.isUndefinedOrNull(this._value)&&(this._value=this._computeValue()),this._value},e.prototype._computeValue=function(){return!1},e}(),l=function(e){function t(t,n){var r=this;e.call(this),this._behaviour=t,this.editor=n,this._callOnDispose=[],this.hasTextFocus=!1,this.hasWidgetFocus=!1,this.isReadOnly=!1,this._behaviour&u.TextFocus&&(this._callOnDispose.push(this.editor.addListener(o.EventType.EditorTextFocus,function(){return r._update(!0)})),this._callOnDispose.push(this.editor.addListener(o.EventType.EditorTextBlur,function(){return r._update(!1)}))),this._behaviour&u.WidgetFocus&&(this._callOnDispose.push(this.editor.addListener(o.EventType.EditorFocus,function(){return r._update(void 0,!0)})),this._callOnDispose.push(this.editor.addListener(o.EventType.EditorBlur,function(){return r._update(void 0,!1)}))),this._behaviour&u.Writeable&&this._callOnDispose.push(this.editor.addListener(o.EventType.ConfigurationChanged,function(){return r._update()}))}return __extends(t,e),t.prototype._update=function(e,t){void 0===e&&(e=this.hasTextFocus),void 0===t&&(t=this.hasWidgetFocus),this.hasTextFocus=e,this.hasWidgetFocus=t,this.isReadOnly=this.editor.getConfiguration().readOnly,this.reset()},t.prototype.dispose=function(){e.prototype.dispose.call(this),r.cAll(this._callOnDispose)},t.prototype._computeValue=function(){return this._behaviour&u.TextFocus&&!this.hasTextFocus?!1:this._behaviour&u.WidgetFocus&&!this.hasWidgetFocus?!1:this._behaviour&u.Writeable&&this.isReadOnly?!1:!0},t}(a),c=function(e){function t(t,n){var r=this;e.call(this),this._action=n,this._callOnDispose=[],t&u.UpdateOnModelChange&&this._callOnDispose.push(this._action.editor.addListener(o.EventType.ModelChanged,function(){return r.reset()})),t&u.UpdateOnCursorPositionChange&&this._callOnDispose.push(this._action.editor.addListener(o.EventType.CursorPositionChanged,function(){return r.reset()}))}return __extends(t,e),t.prototype._computeValue=function(){return this._action.editor.getModel()?this._action.isSupported()?this._action.getEnablementState()?!0:!1:!1:!1},t}(a);!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.Behaviour||(t.Behaviour={}));var u=t.Behaviour;t.defaultPrecondition=u.TextFocus|u.Writeable|u.UpdateOnModelChange;var d=function(e){function t(t,n,r,i){e.call(this,n.id),this.editor=r,this._descriptor=n,this.label=n.label||"",this._enablementState=new s([new l(i,r),new c(i,this)]),this._shouldShowInContextMenu=!!(i&u.ShowInContextMenu),this._supportsReadonly=!(i&u.Writeable),this.toUnhook=[],this._telemetryService=t.telemetryService,this._editorService=t.editorService}return __extends(t,e),Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.dispose=function(){this._enablementState.dispose(),this.toUnhook=r.cAll(this.toUnhook),e.prototype.dispose.call(this)
},t.prototype.getGroupId=function(){return this.id},t.prototype.shouldShowInContextMenu=function(){return this._shouldShowInContextMenu},t.prototype.getDescriptor=function(){return this._descriptor},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enablementState.value()},set:function(){var e=new Error;console.log("setting EditorAction.enabled is UNCOOL. Use resetEnablementState and getEnablementState"),console.log(e.stack)},enumerable:!0,configurable:!0}),t.prototype.resetEnablementState=function(){this._enablementState.reset()},t.prototype.isSupported=function(){if(!this._supportsReadonly){if(this.editor.getConfiguration().readOnly)return!1;var e=this.editor.getModel();if(e&&e.hasEditableRange())return!1}return!0},t.prototype.getEnablementState=function(){return!0},t}(n.Action);t.EditorAction=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/editorExtensions",["require","exports","vs/base/lib/winjs.base","vs/editor/editor","vs/platform/platform","vs/platform/services","vs/editor/editorAction","vs/base/errors","vs/base/strings","vs/platform/configuration/keybindings","vs/editor/core/config/config"],function(e,t,n,r,i,o,s,a,l,c,u){function d(e,t,n){if(e.getLineContent().length<=t)return!1;for(var r=e.findIndexOfOffset(t),i=e.getTokenType(r),o=0,s=n.length;s>o;o++)if(""===n[o]){if(""===i)return!0}else if(l.startsWith(i,n[o]))return!0;return!1}function p(e,t,n){u.withCodeEditorFromCommandHandler(e,t,n,function(t){t.trigger("keyboard",e,n)})}function h(e,t,n){var r=u.findFocusedEditor(e,t,n,!1);if(r)return r.trigger("keyboard",e,n),void 0;var i=u.getActiveEditor(t);if(i){var o=i.getAction(e);return o&&(t.telemetryService.publicLog("editorActionInvoked",{name:o.label}),o.run().done(null,a.onUnexpectedError)),void 0}}function m(e){i.Registry.as(L.EditorContributions).registerEditorContribution2(e)}function f(e,t,n,r){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];i.Registry.as(L.EditorContributions).registerEditorActionContribution2(e,t,n,r?N.EditorTextFocus:N.EditorFocus,o)}function v(e,t,n,r){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];i.Registry.as(L.EditorContributions).registerEditorActionContributionWithHandler(e,t,n,r,o)}function g(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];i.Registry.as(L.EditorContributions).registerEditorActionContribution2(e,t,n,N.None,r)}function b(){return i.Registry.as(L.EditorContributions).getEditorContributions2()}function y(e,t){return e?[{key:r.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:t}]:[{key:r.KEYBINDING_CONTEXT_EDITOR_FOCUS},{key:t}]}function _(e){return void 0===e&&(e=0),c.WEIGHT.editorContrib(e)}function w(e,t,n,r,i,o){c.registerCommand(e,E(e,o),n,t,y(r,i))}function E(e,t){return function(n,r){u.withCodeEditorFromCommandHandler(e,n,r,function(e){t(n,e,r)})}}!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.Behaviour||(t.Behaviour={}));var S=t.Behaviour;t.defaultPrecondition=s.defaultPrecondition;var T=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return __extends(t,e),t}(s.EditorAction);t.EditorAction=T;var k=function(e){function r(n,r,i,o){e.call(this,n,r,i,t.defaultPrecondition),this._handlerId=o}return __extends(r,e),r.prototype.run=function(){return this.editor.trigger(this.getId(),this._handlerId,null),n.TPromise.as(!0)},r}(T);t.HandlerEditorAction=k;var C=function(e){function t(n,r,i){var o=r.enablement||{};e.call(this,n,{id:r.id,label:r.label,keybindings:r.keybindings||[]},i,t._transformBehaviour(o,r.contextMenuGroupId)),this._contextMenuGroupId=r.contextMenuGroupId,this._run=r.run,this._tokensAtPosition=o.tokensAtPosition,this._wordAtPosition=o.wordAtPosition}return __extends(t,e),t._transformBehaviour=function(e,t){var n=0;return t?n|=S.ShowInContextMenu:e.textFocus&&(n|=S.TextFocus),e.widgetFocus&&(n|=S.WidgetFocus),e.writeableEditor&&(n|=S.Writeable),"undefined"!=typeof e.tokensAtPosition&&(n|=S.UpdateOnCursorPositionChange),"undefined"!=typeof e.wordAtPosition&&(n|=S.UpdateOnCursorPositionChange),n},t.prototype.getGroupId=function(){return this._contextMenuGroupId},t.prototype.run=function(){return n.Promise.as(this._run(this.editor))},t.prototype.getEnablementState=function(){return this._getEnablementOnTokens()&&this._getEnablementOnWord()},t.prototype._getEnablementOnTokens=function(){if(!this._tokensAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=e.getLineContext(t.lineNumber),r=t.column-1;return d(n,r,this._tokensAtPosition)},t.prototype._getEnablementOnWord=function(){if(!this._wordAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=e.getWordAtPosition(t,!0,!0);return!!n},t}(T);t.DynamicEditorAction=C;var x=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}();t.SimpleEditorContributionDescriptor=x;var A=function(e){function t(t,n,r,i){e.call(this,t,{id:n,label:r,keybindings:i})}return __extends(t,e),t.prototype.createInstance=function(e,t){return e.createInstance(this,t)},Object.defineProperty(t.prototype,"descriptor",{get:function(){return this.staticArguments(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.descriptor.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.descriptor.label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindings",{get:function(){return this.descriptor.keybindings},enumerable:!0,configurable:!0}),t}(o.SyncDescriptor);t.EditorActionDescriptor=A;var L={EditorContributions:"editor.contributions"};!function(e){e[e.None=0]="None",e[e.EditorTextFocus=1]="EditorTextFocus",e[e.EditorFocus=2]="EditorFocus"}(t.ContextKey||(t.ContextKey={}));var N=t.ContextKey,I=function(){function e(){this.editorContributions2=[]}return e.prototype.registerEditorContribution2=function(e){this.editorContributions2.push(new x(e))},e.prototype.registerEditorActionContribution2=function(e,t,n,i,o){var s;i===N.EditorTextFocus?(s=[{key:r.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS}],c.registerCommand(t,p.bind(null,t),o,c.WEIGHT.editorContrib(),s)):i===N.EditorFocus?(s=[{key:r.KEYBINDING_CONTEXT_EDITOR_FOCUS}],c.registerCommand(t,p.bind(null,t),o,c.WEIGHT.editorContrib(),s)):c.registerCommand(t,h.bind(null,t),o,c.WEIGHT.editorContrib(),s),this.editorContributions2.push(new A(e,t,n,o))},e.prototype.registerEditorActionContributionWithHandler=function(e,t,n,r,i){c.registerCommand(t,r,i,c.WEIGHT.editorContrib()),this.editorContributions2.push(new A(e,t,n,i))},e.prototype.getEditorContributions2=function(){return this.editorContributions2.slice(0)},e}();i.Registry.add(L.EditorContributions,new I),t.triggerEditorAction=p,t.triggerEditorActionGlobal=h,t.registerEditorContribution=m,t.registerEditorActionContribution=f,t.registerEditorActionContributionWithHandler=v,t.registerEditorActionContributionGlobal=g,t.getEditorContributions=b,t.weight=_,t.registerEditorCommand=w}),define("vs/editor/core/editorPluginHost",["require","exports"],function(e,t){var n=function(){function e(){}return e.prototype.register=function(){},e.prototype.deregister=function(){},e.prototype.registerModel=function(){},e.prototype.deregisterModel=function(){},e.INSTANCE=new e,e}();t.EditorPluginHost=n}),define("vs/editor/editor2",["require","exports","vs/editor/editor","vs/base/errors","vs/editor/core/constants"],function(e,t,n,r,i){function o(e,t,n){var i,o;for(i=0,o=e.length;o>i;i++)try{e[i].call(t[i],n)}catch(s){r.onUnexpectedError(s)}}function s(e,t,n,r){if(!n||!r)throw new Error("Bad args");var i,o;for(i=0,o=e.length;o>i;i++)if(e[i]===n&&t[i]===r)throw new Error("Cannot add same callback twice!");e.push(n),t.push(r)}function a(e,t,n,r){if(!n||!r)throw new Error("Bad args");var i,o;for(i=0,o=e.length;o>i;i++)if(e[i]===n&&t[i]===r)return e.splice(i,1),t.splice(i,1),void 0;throw new Error("Cannot find callback to remove!")}function l(e){v.push(new f(e))}function c(){return v.slice(0)}t.TrackedRangeStickiness=n.TrackedRangeStickiness,t.OverviewRulerLane=n.OverviewRulerLane,t.OverlayWidgetPositionPreference=n.OverlayWidgetPositionPreference,t.EndOfLinePreference=n.EndOfLinePreference,function(e){e[e.EndOfLastEditOperation=0]="EndOfLastEditOperation"}(t.EditCursorState||(t.EditCursorState={}));t.EditCursorState;!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.ActionBehavior||(t.ActionBehavior={}));var u=(t.ActionBehavior,function(){function e(){this._func=[],this._context=[]}return e.prototype.invoke=function(e){o(this._func.slice(0),this._context.slice(0),e)},e.prototype.add=function(e,t){s(this._func,this._context,e,t)},e.prototype.remove=function(e,t){a(this._func,this._context,e,t)},e}());t.CallbackQueue=u;var d={};d[i.EventType.CursorPositionChanged]=!0,d[i.EventType.CursorSelectionChanged]=!0,d[i.EventType.ModelContentChanged]=!0,d[i.EventType.ModelChanged]=!0,d[i.EventType.ConfigurationChanged]=!0;var p=function(){function e(){var e=this;this._func=[],this._context=[],this.cursorPositionChanged=new u,this.modelContentChanged=new u,this.modelChanged=new u,this.configurationChanged=new u,this.cursorSelectionChanged=new u,this._invoker={cursorPositionChanged:function(t){return e.cursorPositionChanged.invoke(t.data)},cursorSelectionChanged:function(t){return e.cursorSelectionChanged.invoke(t.data)},modelContentChanged:function(t){return e.modelContentChanged.invoke(t.data)},modelChanged:function(t){return e.modelChanged.invoke(t.data)},configurationChanged:function(t){return e.configurationChanged.invoke(t.data)}}}return e.visitEvent=function(e,t){switch(e.type){case i.EventType.CursorPositionChanged:return t.cursorPositionChanged(e);case i.EventType.CursorSelectionChanged:return t.cursorSelectionChanged(e);case i.EventType.ModelContentChanged:return t.modelContentChanged(e);case i.EventType.ModelChanged:return t.modelChanged(e);case i.EventType.ConfigurationChanged:return t.configurationChanged(e);default:throw new Error("Not implemented")}},e.prototype.add=function(e,t){s(this._func,this._context,e,t)},e.prototype.remove=function(e,t){a(this._func,this._context,e,t)},e.prototype.invoke=function(t){if(t=t.filter(e._interestingEventsFilter),0!==t.length){o(this._func.slice(0),this._context.slice(0),t);for(var n=0;n<t.length;n++)e.visitEvent(t[n],this._invoker)}},e._interestingEventsFilter=function(e){return d[e.type]},e}();t.EditorEventsFacade=p;var h={};h[i.EventType.ModelContentChanged]=!0;var m=function(){function e(){var e=this;this._func=[],this._context=[],this.modelContentChanged=new u,this._invoker={modelContentChanged:function(t){return e.modelContentChanged.invoke(t.data)}}}return e.visitEvent=function(e,t){switch(e.type){case i.EventType.ModelContentChanged:return t.modelContentChanged(e);default:throw new Error("Not implemented")}},e.prototype.add=function(e,t){s(this._func,this._context,e,t)},e.prototype.remove=function(e,t){a(this._func,this._context,e,t)},e.prototype.invoke=function(t){if(t=t.filter(e._interestingEventsFilter),0!==t.length){o(this._func.slice(0),this._context.slice(0),t);for(var n=0;n<t.length;n++)e.visitEvent(t[n],this._invoker)}},e._interestingEventsFilter=function(e){return h[e.type]},e}();t.ModelEventsFacade=m;var f=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}(),v=[];t.registerEditorContribution=l,t.getEditorContributions=c}),define("vs/css!vs/editor/css/editor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/editor/css/tokens",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/editor/css/default-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/codeEditorWidget",["require","exports","vs/editor/standalone/colorizer","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/internalConstants","vs/base/objects","vs/base/types","vs/base/errors","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/config/configuration","vs/editor/core/controller/cursor","vs/editor/core/view/viewImpl","vs/editor/core/view/model/characterHardWrappingLineMapper","vs/editor/core/view/model/splitLinesCollection","vs/editor/core/view/model/viewModel","vs/editor/core/position","vs/editor/core/range","vs/editor/core/selection","vs/base/performance/timer","vs/editor/editorExtensions","vs/base/ui/actions","vs/editor/editor","vs/editor/core/controller/cursorMoveHelper","vs/editor/core/editorPluginHost","vs/editor/editor2","vs/base/lifecycle","vs/editor/editorAction","vs/css!./../css/editor","vs/css!./../css/tokens","vs/css!./../css/default-theme"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A){var L=0,N=function(e){function t(t,n,r){var o=this;e.call(this),this.id=++L,this._codeEditorService=t.codeEditorService,this._facade=new P(t,this);var s=_.start(_.Topic.EDITOR,"CodeEditor.ctor");this.domElement=n,this._lifetimeDispose=[],this._keybindingService=t.keybindingService.createScoped(n),this._editorIdContextKey=this._keybindingService.createKey("editorId",this.getId()),this._editorFocusContextKey=this._keybindingService.createKey(S.KEYBINDING_CONTEXT_EDITOR_FOCUS,void 0),this._editorTabMovesFocusKey=this._keybindingService.createKey(S.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,!1),this._hasMultipleSelectionsKey=this._keybindingService.createKey(S.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,!1),this._hasNonEmptySelectionKey=this._keybindingService.createKey(S.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,!1),this._langIdKey=this._keybindingService.createKey(S.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,void 0),this._lifetimeListeners=[],r=r||{};var a=null;r.model&&(a=r.model,delete r.model),this._configuration=new d.Configuration(r,n,function(e){return o.model?o.model.guessIndentation(e):null}),this._configuration.editor.tabFocusMode&&this._editorTabMovesFocusKey.set(!0),this._lifetimeListeners.push(this._configuration.addListener(i.EventType.ConfigurationChanged,function(e){return o.emit(i.EventType.ConfigurationChanged,e)})),this.forcedWidgetFocusCount=0,this.focusTracker=c.trackFocus(this.domElement),this.focusTracker.addFocusListener(function(){0===o.forcedWidgetFocusCount&&(o._editorFocusContextKey.set(!0),o.emit(i.EventType.EditorFocus,{}))}),this.focusTracker.addBlurListener(function(){0===o.forcedWidgetFocusCount&&(o._editorFocusContextKey.reset(),o.emit(i.EventType.EditorBlur,{}))}),this.handlerService=t.handlerService,this._telemetryService=t.telemetryService,this._instantiationService=t.instantiationService.createChild({keybindingService:this._keybindingService}),this._attachModel(a),this.contentWidgets={},this.overlayWidgets={},this.contributions={};for(var l=w.getEditorContributions(),u=0,p=l.length;p>u;u++){var h=l[u].createInstance(this._instantiationService,this);this.contributions[h.getId()]=h}for(var m=C.getEditorContributions(),u=0,p=m.length;p>u;u++){var h=m[u].createInstance(this._instantiationService,this.getFacade());this.contributions[h.getId()]=h}k.EditorPluginHost.INSTANCE.register(this),s.stop(),this._codeEditorService.addCodeEditor(this)}return __extends(t,e),t.prototype.getFacade=function(){return this._facade},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return i.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){for(this._codeEditorService.removeCodeEditor(this),k.EditorPluginHost.INSTANCE.deregister(this),this._lifetimeDispose=x.disposeAll(this._lifetimeDispose);this._lifetimeListeners.length>0;)this._lifetimeListeners.pop()();var t;for(t in this.contributions)this.contributions.hasOwnProperty(t)&&this.contributions[t].dispose();this.contributions={},this.contentWidgets={},this.overlayWidgets={},this.focusTracker.dispose(),this._postDetachModelCleanup(this._detachModel()),this._configuration.dispose(),this._keybindingService.dispose(),this.emit(i.EventType.Disposed,{}),e.prototype.dispose.call(this)},t.prototype.colorizeModelLine=function(e,t){if(void 0===t&&(t=this.model),!t)return"";var r=t.getLineContent(e),i=t.getLineTokens(e,!1),o=S.LineTokensBinaryEncoding.inflateArr(i.getBinaryEncodedTokensMap(),i.getBinaryEncodedTokens()),s=this._configuration.getIndentationOptions();return n.colorizeLine(r,o,s.tabSize)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e),this._configuration.editor.tabFocusMode?this._editorTabMovesFocusKey.set(!0):this._editorTabMovesFocusKey.reset()},t.prototype.getConfiguration=function(){return s.clone(this._configuration.editor)},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getIndentationOptions=function(){return s.clone(this._configuration.getIndentationOptions())},t.prototype.normalizeIndentation=function(e){return this._configuration.normalizeIndentation(e)},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=e&&e.preserveBOM?!0:!1,n=S.EndOfLinePreference.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?n=S.EndOfLinePreference.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=S.EndOfLinePreference.CRLF),this.model.getValue(n,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getView=function(){return this._view},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=_.start(_.Topic.EDITOR,"CodeEditor.setModel"),n=this._detachModel();this._attachModel(e);var r=null,o=null;n&&(r=n.getAssociatedResource().toString()),e&&(o=e.getAssociatedResource().toString());var s={oldModelUrl:r,newModelUrl:o};t.stop(),this.emit(i.EventType.ModelChanged,s),this._postDetachModelCleanup(n)}},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode:null},t.prototype.getCenteredRangeInViewport=function(){return this.hasView?this._view.getCenteredRangeInViewport():null},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e);return T.ModelCursorMoveHelper.visibleColumnFromColumn(this.model,t.lineNumber,t.column,this._configuration.getIndentationOptions().tabSize)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),this.cursor){if(!g.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,n,r)}},t.prototype._sendRevealRange=function(e,t,n){if(this.model&&this.cursor){if(!b.isIRange(e))throw new Error("Invalid arguments");var r=this.model.validateRange(e),o={range:r,viewRange:null,verticalType:t,revealHorizontal:n};this.cursor.emit(i.EventType.CursorRevealRange,o)}},t.prototype.revealLine=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},S.VerticalRevealType.Simple,!1)},t.prototype.revealLineInCenter=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},S.VerticalRevealType.Center,!1)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},S.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealPosition=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),!g.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t?S.VerticalRevealType.Center:S.VerticalRevealType.Simple,n)},t.prototype.revealPositionInCenter=function(e){if(!g.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},S.VerticalRevealType.Center,!0)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){if(!g.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},S.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,r=e.length;r>n;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=y.isISelection(e),o=b.isIRange(e);if(!i&&!o)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t,n,r);else if(o){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,n,r)}},t.prototype._setSelectionImpl=function(e,t,n,r){if(this.cursor){var i=new y.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[i]),t&&this.revealRange(i,n,r)}},t.prototype.revealLines=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},S.VerticalRevealType.Simple,!1)},t.prototype.revealLinesInCenter=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},S.VerticalRevealType.Center,!1)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},S.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this._sendRevealRange(e,t?S.VerticalRevealType.Center:S.VerticalRevealType.Simple,n)},t.prototype.revealRangeInCenter=function(e){this._sendRevealRange(e,S.VerticalRevealType.Center,!0)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this._sendRevealRange(e,S.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;n>t;t++)if(!y.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollTop(e)}},t.prototype.getScrollTop=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollTop():-1},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.getCodeEditorHelper().delegateVerticalScrollbarMouseDown(e)},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollLeft(e)}},t.prototype.getScrollLeft=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollLeft():-1},t.prototype.getScrollWidth=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollWidth():-1},t.prototype.getScrollHeight=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollHeight():-1},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;var e=this.cursor.saveState(),t=this._view.saveState();return{cursorState:e,viewState:t}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView){var t=e;if(t&&t.cursorState&&t.viewState){var n=t,r=n.cursorState;a.isArray(r)?this.cursor.restoreState(r):this.cursor.restoreState([r]),this._view.restoreState(n.viewState)}}},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e)},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.beginForcedWidgetFocus=function(){this.forcedWidgetFocusCount++},t.prototype.endForcedWidgetFocus=function(){this.forcedWidgetFocusCount--},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.getContribution=function(e){return this.contributions[e]||null},t.prototype.addAction=function(e){var t=this._instantiationService.createInstance(w.DynamicEditorAction,e,this);this.contributions[t.getId()]=t},t.prototype.getActions=function(){var e,t=[];for(e in this.contributions)if(this.contributions.hasOwnProperty(e)){var n=this.contributions[e];E.isAction(n)&&t.push(n)}return t},t.prototype.getAction=function(e){var t=this.contributions[e];return t&&E.isAction(t)?t:null},t.prototype.trigger=function(e,t,n){var i=this.getAction(t);if(null!==i)i.enabled&&(this._telemetryService.publicLog("editorActionInvoked",{name:i.label}),r.Promise.as(i.run()).done(null,l.onUnexpectedError));else{this._configuration.handlerDispatcher.trigger(e,t,n)}},t.prototype.executeCommand=function(e,t){return this._configuration.handlerDispatcher.trigger(e,o.Handler.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){return this._configuration.handlerDispatcher.trigger(e,o.Handler.ExecuteCommands,t)},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.changeViewZones=function(e){if(this.hasView){var t=this._view.change(e);t&&this.emit(i.EventType.ViewZonesChanged)}},t.prototype.getWhitespaces=function(){return this.hasView?this._view.getWhitespaces():[]},t.prototype.addTypingListener=function(e,t){var n=this;return this.cursor?(this.cursor.addTypingListener(e,t),function(){n.cursor&&n.cursor.removeTypingListener(e,t)}):function(){}},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,t):-1},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._view.getCodeEditorHelper(),r=n.getLayoutInfo(),i=n.getVerticalOffsetForPosition(t.lineNumber,t.column)-n.getScrollTop(),o=n.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-n.getScrollLeft();return{top:i,left:o,height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getOffsetForColumn(e,t):-1},t.prototype.getLayoutInfo=function(){return this.hasView?this._view.getCodeEditorHelper().getLayoutInfo():null},t.prototype._attachModel=function(e){var t=this;if(this.model=e?e:null,this.listenersToRemove=[],this._view=null,this.viewModel=null,this.cursor=null,this.model){this.domElement.setAttribute("data-mode-id",this.model.getMode().getId()),this._langIdKey.set(this.model.getMode().getId()),this.model.setStopLineTokenizationAfter(this._configuration.editor.stopLineTokenizationAfter),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines(this._configuration.editor.longLineBoundary)),this._configuration.resetIndentationOptions(),this.model.onBeforeAttached();var n=this._configuration.getWrappingColumn(),r=-1;n>0&&(r=n);var o=new m.CharacterHardWrappingLineMapperFactory(this._configuration.editor.wordWrapBreakBeforeCharacters,this._configuration.editor.wordWrapBreakAfterCharacters,this._configuration.editor.wordWrapBreakObtrusiveCharacters),s=new f.SplitLinesCollection(this.model,o,this._configuration.getIndentationOptions().tabSize,r);this.viewModel=new v.ViewModel(s,this.id,this._configuration,this.model);var a={viewModel:this.viewModel,convertModelPositionToViewPosition:function(e,n){return t.viewModel.convertModelPositionToViewPosition(e,n)},convertViewToModelPosition:function(e,n){return t.viewModel.convertViewPositionToModelPosition(e,n)},validateViewPosition:function(e,n,r){return t.viewModel.validateViewPosition(e,n,r)}};this.cursor=new p.Cursor(this.id,this._configuration,this.model,a),this.viewModel.addEventSource(this.cursor),this._view=new h.View(this.id,this._configuration,this.viewModel,this._keybindingService),this.listenersToRemove.push(this._view.getInternalEventBus().addBulkListener(function(e){for(var n=0,r=e.length;r>n;n++){var o=e[n].getType(),s=e[n].getData();switch(o){case i.EventType.ViewFocusGained:t.emit(i.EventType.EditorTextFocus),t.emit(i.EventType.EditorFocus,{});break;case"scroll":t.emit("scroll",s);break;case"scrollSize":t.emit("scrollSize",s);break;case i.EventType.ViewFocusLost:t.emit(i.EventType.EditorTextBlur);break;case i.EventType.ContextMenu:t.emit(i.EventType.ContextMenu,s);break;case i.EventType.MouseDown:t.emit(i.EventType.MouseDown,s);break;case i.EventType.MouseUp:t.emit(i.EventType.MouseUp,s);break;case i.EventType.KeyUp:t.emit(i.EventType.KeyUp,s);break;case i.EventType.MouseMove:t.emit(i.EventType.MouseMove,s);break;case i.EventType.MouseLeave:t.emit(i.EventType.MouseLeave,s);break;case i.EventType.KeyDown:t.emit(i.EventType.KeyDown,s);break;case i.EventType.ViewLayoutChanged:t.emit(i.EventType.EditorLayout,s)}}})),this.listenersToRemove.push(this.model.addBulkListener(function(e){for(var n=0,r=e.length;r>n;n++){var o=e[n].getType(),s=e[n].getData();switch(o){case i.EventType.ModelDecorationsChanged:t.emit(i.EventType.ModelDecorationsChanged,s);break;case i.EventType.ModelModeChanged:t.domElement.setAttribute("data-mode-id",t.model.getMode().getId()),t._langIdKey.set(t.model.getMode().getId()),t.emit(i.EventType.ModelModeChanged,s);
break;case i.EventType.ModelModeSupportChanged:t.emit(i.EventType.ModelModeSupportChanged,s);break;case i.EventType.ModelContentChanged:t.emit(i.EventType.ModelContentChanged,s),t.emit("change",{});break;case i.EventType.ModelDispose:t.setModel(null)}}}));var l=function(e){var t=[e.selection].concat(e.secondarySelections);return t.some(function(e){return!e.isEmpty()})};this.listenersToRemove.push(this.cursor.addBulkListener(function(e){for(var n=!1,r=!1,o=!1,s=!1,a=0,c=e.length;c>a;a++){var u=e[a].getType(),d=e[a].getData();switch(u){case i.EventType.CursorPositionChanged:var p=d;n=!0,r=p.secondaryPositions.length>0,t.emit(i.EventType.CursorPositionChanged,d);break;case i.EventType.CursorSelectionChanged:var h=d;n=!0,r=h.secondarySelections.length>0,o=!0,s=l(h),t.emit(i.EventType.CursorSelectionChanged,d)}}n&&(r?t._hasMultipleSelectionsKey.set(!0):t._hasMultipleSelectionsKey.reset()),o&&(s?t._hasNonEmptySelectionKey.set(!0):t._hasNonEmptySelectionKey.reset())})),this.domElement.appendChild(this._view.domNode),this._view.renderOnce(function(){var e;for(e in t.contentWidgets)t.contentWidgets.hasOwnProperty(e)&&t._view.addContentWidget(t.contentWidgets[e]);for(e in t.overlayWidgets)t.overlayWidgets.hasOwnProperty(e)&&t._view.addOverlayWidget(t.overlayWidgets[e]);t._view.render(),t.hasView=!0})}else this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this.id)},t.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.cursor&&(this.cursor.dispose(),this.cursor=null);var e=null;this._view&&(this._view.dispose(),e=this._view.domNode,this._view=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var t=this.model;return this.model=null,e&&this.domElement.removeChild(e),this.domElement.removeAttribute("data-mode-id"),t},t}(u.EventEmitter);t.CodeEditorWidget=N;var I=function(){function e(e,t){this._id=e,this._position=t,this._domNode=document.createElement("div"),this._domNode.className=this._id.replace(/\./g,"-").replace(/[^a-z0-9\-]/,"")}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e}(),O=function(){function e(e,t){this._ops=e,this._editCursorState=t}return e.prototype.getEditOperations=function(e,t){if(0!==this._ops.length){this._ops.sort(function(e,t){return b.compareRangesUsingStarts(e.range,t.range)});for(var n=[],r=this._ops[0],i=1;i<this._ops.length;i++)r.range.endLineNumber===this._ops[i].range.startLineNumber&&r.range.endColumn===this._ops[i].range.startColumn?(r.range=b.plusRange(r.range,this._ops[i].range),r.text=r.text+this._ops[i].text):(n.push(r),r=this._ops[i]);n.push(r);for(var i=0;i<n.length;i++)t.addEditOperation(b.create(n[i].range),n[i].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[n.length-1].range;return new y.Selection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)},e}();t.CommandRunner=O;var R=function(e){function t(t,n,r,i){e.call(this,t,r,i,r.behavior),this._action=n}return __extends(t,e),t.prototype.run=function(){return this._action.run()},t}(A.EditorAction),P=function(){function e(e,t){var n=this;this._editor=t,this._instantiationService=e.instantiationService,this._handlerService=e.handlerService,this.decorations=new D(t),this.events=new C.EditorEventsFacade,this._actions={},this._toDispose=[],this._toDispose.push(this._editor.addBulkListener2(function(e){var t=e.map(function(e){return{type:e.getType(),data:e.getData()}});n.events.invoke(t)}))}return e.prototype.dispose=function(){this._toDispose=x.disposeAll(this._toDispose)},e.prototype.getModel=function(){var e=this._editor.getModel();return e?e.getFacade():null},e.prototype.getConfiguration=function(){return this._editor.getConfiguration()},e.prototype.edit2=function(e,t,n){var r=new O(t,n);return this._editor.executeCommand(e,r)},e.prototype.getAction=function(e){return this._editor.getAction(e)||this._actions[e]},e.prototype.addAction=function(e,t){var n=this._instantiationService.createInstance(R,t,e,this._editor);this._actions[n.getId()]=n},e.prototype.addOverlayWidget=function(e,t){var n=new I(e,t);return this._editor.addOverlayWidget(n),n.getDomNode()},e.prototype.getPosition=function(){return this._editor.getPosition()},e.prototype.getSelection=function(){return this._editor.getSelection()},e.prototype.getSelections=function(){return this._editor.getSelections()},e.prototype.setSelection=function(e,t,n,r){this._editor.setSelection(e),n?r?this._editor.revealRangeInCenter(e):this._editor.revealLinesInCenter(e.startLineNumber,e.endLineNumber):r?this._editor.revealRange(e):this._editor.revealLines(e.startLineNumber,e.endLineNumber)},e.prototype.revealRange=function(e,t,n){t?n?this._editor.revealRangeInCenter(e):this._editor.revealLinesInCenter(e.startLineNumber,e.endLineNumber):n?this._editor.revealRange(e):this._editor.revealLines(e.startLineNumber,e.endLineNumber)},e.prototype.bindKeybinding=function(e,t,n){return this._handlerService.bind(e,t,n)},e.prototype.focus=function(){this._editor.focus()},e}(),D=function(){function e(e){this._editor=e,this._types={},this._lastTypeId=0}return e.prototype.createType=function(e){var t=String(++this._lastTypeId);return this._types[t]=e,t},e.prototype.disposeTypes=function(e){for(var t=0,n=e.length;n>t;t++){var r=String(e[t]);delete this._types[r]}},e.prototype.delta=function(e,t,n){var r=String(n),i=this._types[r],o=t.map(function(e){return{range:e,options:i}});return this._editor.deltaDecorations(e,o)},e.prototype.delta2=function(e){var t=this,n=[];return this._editor.changeDecorations(function(r){for(var i=0,o=e.toDelete.length;o>i;i++)r.removeDecoration(e.toDelete[i]);for(var i=0,o=e.toCreateRange.length;o>i;i++){var s=String(e.toCreateType[i]),a=t._types[s];n.push(r.addDecoration(e.toCreateRange[i],a))}for(var i=0,o=e.toChange.length;o>i;i++){var s=String(e.toChangeType[i]),a=t._types[s];r.changeDecorationOptions(e.toChange[i],a)}}),n},e.prototype.changeType=function(e,t){var n=String(t),r=this._types[n];this._editor.changeDecorations(function(t){for(var n=0,i=e.length;i>n;n++)t.changeDecorationOptions(e[n],r)})},e.prototype.changeTypes=function(e,t){var n=this;this._editor.changeDecorations(function(r){for(var i=0,o=e.length;o>i;i++){var s=String(t[i]),a=n._types[s];r.changeDecorationOptions(e[i],a)}})},e.prototype.getRange=function(e){return this._editor.getModel().getDecorationRange(e)},e.prototype.getRanges=function(e){for(var t=[],n=this._editor.getModel(),r=0,i=e.length;i>r;r++)t[r]=n.getDecorationRange(e[r]);return t},e}()}),define("vs/css!vs/base/dom/builder",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/dom/builder",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/strings","vs/base/assert","vs/base/dom/dom","vs/base/dom/browserService","vs/css!./builder"],function(e,t,n,r,i,o,s,a){function l(e,t){o.ok(r.isString(e),"Expected String as parameter");var n=a.getService().document.getElementById(e);return n?new x(n,t):null}function c(e){return e[_]||(e[_]={}),e[_]}function u(e){return!!e[_]}function d(e,t){return e instanceof A?new A(e):new x(e.getHTMLElement(),t)}function p(e,t){return new x(e,t)}function h(){return new x(null,!0)}function m(e,t,n){c(e)[t]=n}function f(e,t,n){if(u(e)){var i=c(e)[t];if(!r.isUndefined(i))return i}return n}function v(e,t){u(e)&&delete c(e)[t]}function g(e,t){m(e,w,t)}function b(e){v(e,w)}function y(e){return f(e,w)}t.withElementById=l,t.Build={withElementById:l};var _="_msDataKey",w="__$binding",E="__$listeners",S="__$visibility",T=function(){function e(e,t){this.x=e,this.y=t}return e}();t.Position=T;var k=function(){function e(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}return e}();t.Box=k;var C=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=C;var x=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={},this.browserService=a.getService()}return e.prototype.asContainer=function(){return d(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof A||(t=new e(t,this.offdom));var n=[this];if(t instanceof A)for(var r=0;r<t.length;r++)n.push(t.item(r));else n.push(t);return new A(n)},e.prototype.build=function(t,n){o.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,o.ok(t,"Builder can only be build() with a container provided."),o.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var i,a,l=t,c=l.childNodes;if(r.isNumber(n)&&n<c.length)for(i=0,a=this.createdElements.length;a>i;i++)l.insertBefore(this.createdElements[i],c[n++]);else for(i=0,a=this.createdElements.length;a>i;i++)l.appendChild(this.createdElements[i]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,o.ok(t,"Builder can only be build() with a container provided."),o.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var i=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var a=i.childNodes;return r.isNumber(n)&&n<a.length?i.insertBefore(this.currentElement,a[n]):i.appendChild(this.currentElement),this},e.prototype.append=function(t,n){return o.ok(t,"Need a child to append"),s.isHTMLElement(t)&&(t=p(t)),o.ok(t instanceof e||t instanceof A,"Need a child to append"),t.appendTo(this,n),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,i){var o=this.browserService.document.createElement(t);if(this.currentElement=o,this.offdom&&this.createdElements.push(o),r.isObject(n)&&this.attr(n),r.isFunction(n)&&(i=n),r.isFunction(i)){var s=new e(o);i.call(s,s)}return this.offdom||this.container.appendChild(o),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){var e=this.browserService.document.activeElement;return e===this.currentElement},e.prototype.domSelect=function(e){void 0===e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,n,i){var o=this;if(r.isArray(e))e.forEach(function(e){o.on(e,t,n,i)});else{var a=e,l=s.addListener(this.currentElement,a,function(e){t(e,o,l)},i||!1);i?(this.captureToUnbind[a]||(this.captureToUnbind[a]=[]),this.captureToUnbind[a].push(l)):(this.toUnbind[a]||(this.toUnbind[a]=[]),this.toUnbind[a].push(l));var c=this.getProperty(E,[]);c.push(l),this.setProperty(E,c),n&&r.isArray(n)&&n.push(l)}return this},e.prototype.off=function(e,t){var n=this;if(r.isArray(e))e.forEach(function(e){n.off(e)});else{var i=e;if(t){if(this.captureToUnbind[i])for(;this.captureToUnbind[i].length;)this.captureToUnbind[i].pop()()}else if(this.toUnbind[i])for(;this.toUnbind[i].length;)this.toUnbind[i].pop()()}return this},e.prototype.once=function(e,t,n,i){var o=this;if(r.isArray(e))e.forEach(function(e){o.once(e,t)});else{var a=e,l=s.addListener(this.currentElement,a,function(e){t(e,o,l),l()},i||!1);n&&r.isArray(n)&&n.push(l)}return this},e.prototype.preventDefault=function(e,t,n){var r=function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};return this.on(e,r,n)},e.prototype.attr=function(e,t){if(r.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.doSetAttr(n,i)}return this}return r.isString(e)&&!r.isString(t)?this.currentElement.getAttribute(e):(r.isString(e)&&(r.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?r.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(r.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.doSetStyle(n,i)}}else{if(r.isString(e)&&!r.isString(t))return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)];r.isString(e)&&r.isString(t)&&this.doSetStyle(e,t)}return this},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var r=1;r<n.length;r++){var i=n[r];e=e+i.charAt(0).toUpperCase()+i.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var r=t[n];e=e+r.charAt(0).toUpperCase()+r.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return s.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return s.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,n,i){return r.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),r.isUndefinedOrNull(n)||(this.currentElement.style.paddingBottom=this.toPixel(n)),r.isUndefinedOrNull(i)||(this.currentElement.style.paddingLeft=this.toPixel(i)),this)},e.prototype.margin=function(e,t,n,i){return r.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),r.isUndefinedOrNull(n)||(this.currentElement.style.marginBottom=this.toPixel(n)),r.isUndefinedOrNull(i)||(this.currentElement.style.marginLeft=this.toPixel(i)),this)},e.prototype.position=function(e,t,n,i,o){return r.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),r.isUndefinedOrNull(n)||(this.currentElement.style.bottom=this.toPixel(n)),r.isUndefinedOrNull(i)||(this.currentElement.style.left=this.toPixel(i)),o||(o="absolute"),this.currentElement.style.position=o,this)},e.prototype.size=function(e,t){return r.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return r.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return r.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(r.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),r.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype.float=function(e){return this.currentElement.style.cssFloat=e,this.currentElement.style.styleFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},e.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},e.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var r=n.Promise.timeout(e);return this.setProperty(S,r),r.done(function(){t.removeProperty(S),t.show()}),this},e.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(S);e&&(e.cancel(),this.removeProperty(S))},e.prototype.border=function(e,t,n){return r.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),n&&(this.currentElement.style.borderColor=n),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,n){return r.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),n&&(this.currentElement.style.borderTopColor=n),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,n){return r.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),n&&(this.currentElement.style.borderBottomColor=n),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,n){return r.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),n&&(this.currentElement.style.borderLeftColor=n),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,n){return r.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),n&&(this.currentElement.style.borderRightColor=n),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return-1===e.toString().indexOf("px")?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(this.browserService.document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(i.escape(e),t)},e.prototype.insertHtmlBeforeBegin=function(e){return this.currentElement.insertAdjacentHTML("beforeBegin",e),this},e.prototype.insertHtmlAfterBegin=function(e){return this.currentElement.insertAdjacentHTML("afterBegin",e),this},e.prototype.insertHtmlBeforeEnd=function(e){return this.currentElement.insertAdjacentHTML("beforeEnd",e),this},e.prototype.insertHtmlAfterEnd=function(e){return this.currentElement.insertAdjacentHTML("afterEnd",e),this},e.prototype.bind=function(e){return g(this.currentElement,e),this},e.prototype.unbind=function(){return b(this.currentElement),this},e.prototype.getBinding=function(){return y(this.currentElement)},e.prototype.setProperty=function(e,t){return m(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return f(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return u(this.currentElement)&&delete c(this.currentElement)[e],this},e.prototype.parent=function(e){return o.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),p(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,n=[],r=0;r<t.length;r++)n.push(p(t.item(r),e));return new A(n)},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){o.ok(r.isString(e),"Expected String as parameter");for(var n=this.currentElement.querySelectorAll(e),i=[],s=0;s<n.length;s++)i.push(p(n.item(s),t));return new A(i)},e.prototype.matches=function(e){var t=this.currentElement,n=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;n>t;t++){var i=e.children.item(t);if(u(i)){var o=c(i)[E];if(r.isArray(o))for(;o.length;)o.pop()();delete i[_]}this.unbindDescendants(i)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&s.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),u(this.currentElement))){var e=c(this.currentElement)[E];if(r.isArray(e))for(;e.length;)e.pop()();delete this.currentElement[_]}var t;for(t in this.toUnbind)if(this.toUnbind.hasOwnProperty(t)&&r.isArray(this.toUnbind[t]))for(;this.toUnbind[t].length;)this.toUnbind[t].pop()();for(t in this.captureToUnbind)if(this.captureToUnbind.hasOwnProperty(t)&&r.isArray(this.captureToUnbind[t]))for(;this.captureToUnbind[t].length;)this.captureToUnbind[t].pop()();this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getPositionRelativeTo=function(t){t instanceof e&&(t=t.getHTMLElement());var n=s.getRelativeLeft(this.currentElement,t),r=s.getRelativeTop(this.currentElement,t);return new k(r,-1,-1,n)},e.prototype.getPosition=function(){var e=s.getTopLeftOffset(this.currentElement);return new k(e.top,-1,-1,e.left)},e.prototype.getTotalSize=function(){var e=s.getTotalWidth(this.currentElement),t=s.getTotalHeight(this.currentElement);return new C(e,t)},e.prototype.getContentSize=function(){var e=s.getContentWidth(this.currentElement),t=s.getContentHeight(this.currentElement);return new C(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==this.browserService.document.body){var e=s.getDomNodePosition(this.currentElement);return new C(e.width,e.height)}if(this.browserService.window.innerWidth&&this.browserService.window.innerHeight)return new C(this.browserService.window.innerWidth,this.browserService.window.innerHeight);if(this.browserService.document.body&&this.browserService.document.body.clientWidth&&this.browserService.document.body.clientWidth)return new C(this.browserService.document.body.clientWidth,this.browserService.document.body.clientHeight);if(this.browserService.document.documentElement&&this.browserService.document.documentElement.clientWidth&&this.browserService.document.documentElement.clientHeight)return new C(this.browserService.document.documentElement.clientWidth,this.browserService.document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=x;var A=function(e){function t(n){if(o.ok(r.isArray(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),e.call(this),this.length=0,this.builders=[],r.isArray(n))for(var i=0;i<n.length;i++)n[i]instanceof HTMLElement?this.push(p(n[i])):this.push(n[i]);else for(var i=0;i<n.length;i++)this.push(n.item(i));var s=this,a=function(e){s[e]=function(){for(var n,i=Array.prototype.slice.call(arguments),o=!1,a=0;a<s.length;a++){var l=s.item(a)[e].apply(s.item(a),i);if(l instanceof t){n||(n=[]),o=!0;for(var c=0;c<l.length;c++)n.push(l.item(c))}else r.isUndefined(l)||l instanceof x||(n||(n=[]),n.push(l))}return n&&o?new t(n):n||s}};for(var l in x.prototype)"clone"!==l&&"and"!==l&&x.prototype.hasOwnProperty(l)&&r.isFunction(x.prototype[l])&&a(l)}return __extends(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var n=this.builders.slice(e,t);return this.length=this.builders.length,n},t.prototype.splice=function(e,t){var n=this.builders.splice(e,t);return this.length=this.builders.length,n},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof x||e instanceof t||(e=new x(e));var n=[];if(e instanceof t)for(var r=0;r<e.length;r++)n.push(e.item(r));else n.push(e);return this.push.apply(this,n),this},t}(x);t.MultiBuilder=A,t.setPropertyOnElement=m,t.getPropertyFromElement=f,t.removePropertyFromElement=v,t.bindElement=g,t.unbindElement=b,t.getBindingFromElement=y,t.Binding={setPropertyOnElement:m,getPropertyFromElement:f,removePropertyFromElement:v,bindElement:g,unbindElement:b,getBindingFromElement:y};var L=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(r.isUndefined(e))return h();if(!e)throw new Error("Bad use of $");if(s.isHTMLElement(e)||e===window)return p(e);if(r.isArray(e))return new A(e);if(e instanceof x)return d(e);if(r.isString(e)){if("<"===e[0]){var t,n=a.getService().document.createElement("div");if(n.innerHTML=i.format.apply(i,arguments),0===n.children.length)throw new Error("Bad use of $");if(1===n.children.length)return t=n.firstChild,n.removeChild(t),p(t);for(var o=[];n.firstChild;)t=n.firstChild,n.removeChild(t),o.push(p(t));return new A(o)}if(1===arguments.length){var l=L.exec(e);if(!l)throw new Error("Bad use of $");var c=l[1]||"div",u=l[3]||void 0,m=(l[4]||"").replace(/\./g," "),f={};return u&&(f.id=u),m&&(f["class"]=m),h().element(c,f)}var v=h();return v.element.apply(v,arguments),v}throw new Error("Bad use of $")},t.$.Box=k,t.$.Dimension=C,t.$.Position=T,t.$.Builder=x,t.$.MultiBuilder=A,t.$.Build=t.Build,t.$.Binding=t.Binding}),define("vs/css!vs/base/ui/widgets/sash",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/sash",["require","exports","vs/base/lifecycle","vs/base/dom/builder","vs/base/env","vs/base/types","vs/base/dom/dom","vs/base/dom/touch","vs/base/eventEmitter","vs/base/dom/mouseEvent","vs/css!./sash"],function(e,t,n,r,i,o,s,a,l,c){var u=r.$;!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var d=t.Orientation,p=function(e){function t(t,n,r){var o=this;void 0===r&&(r={}),e.call(this),this.$e=u(".monaco-sash").appendTo(t),this.gesture=new a.Gesture(this.$e.getHTMLElement()),this.$e.on("mousedown",function(e){o.onMouseDown(e)}),this.$e.on(a.EventType.Start,function(e){o.onTouchStart(e)}),this.orientation=r.orientation||d.VERTICAL,this.$e.addClass(this.orientation===d.HORIZONTAL?"horizontal":"vertical"),this.size=r.baseSize||5,i.browser.isIPad&&(this.size*=4,this.$e.addClass("touch")),this.orientation===d.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=n}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.onMouseDown=function(e){var t=this;if(s.EventHelper.stop(e,!1),!this.isDisabled){var n=new c.StandardMouseEvent(e),r=n.posx,i=n.posy,o={startX:r,currentX:r,instantDiffX:0,startY:i,currentY:i,instantDiffY:0};
this.$e.addClass("active"),this.emit("start",o);var a=u("div").style({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e6,cursor:this.orientation===d.VERTICAL?"ew-resize":"ns-resize"}),l=u(window),p=r,h=i;l.on("mousemove",function(e){s.EventHelper.stop(e,!1);var n=new c.StandardMouseEvent(e),o={startX:r,currentX:n.posx,instantDiffX:n.posx-p,startY:i,currentY:n.posy,instantDiffY:n.posy-h};p=n.posx,h=n.posy,t.emit("change",o)}).once("mouseup",function(e){s.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),l.off("mousemove"),a.destroy()}),a.appendTo(document.body)}},t.prototype.onTouchStart=function(e){var t=this;s.EventHelper.stop(e);var r=[],i=e.pageX,l=e.pageY;this.emit("start",{startX:i,currentX:i,instantDiffX:0,startY:l,currentY:l,instantDiffY:0});var c=i,u=l;r.push(s.addDisposableListener(this.$e.getHTMLElement(),a.EventType.Change,function(e){o.isNumber(e.pageX)&&o.isNumber(e.pageY)&&(t.emit("change",{startX:i,currentX:e.pageX,instantDiffX:e.pageX-c,startY:l,currentY:e.pageY,instantDiffY:e.pageY-u}),c=e.pageX,u=e.pageY)})),r.push(s.addDisposableListener(this.$e.getHTMLElement(),a.EventType.End,function(){t.emit("end"),n.disposeAll(r)}))},t.prototype.layout=function(){var e;if(this.orientation===d.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"},t.getVerticalSashTop&&(e.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(e.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;e={top:n.getHorizontalSashTop(this)-this.size/2+"px"},n.getHorizontalSashLeft&&n.getHorizontalSashLeft(this)+"px",n.getHorizontalSashWidth&&(e.width=n.getHorizontalSashWidth(this)+"px")}this.$e.style(e)},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t}(l.EventEmitter);t.Sash=p}),define("vs/css!vs/editor/diff/diffEditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/diff/diffEditorWidget",["require","exports","vs/editor/core/config/config","vs/base/lifecycle","vs/editor/core/constants","vs/base/objects","vs/editor/core/codeEditorWidget","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/range","vs/editor/editor","vs/base/ui/widgets/sash","vs/editor/core/view/lines/viewLine","vs/editor/core/view/lines/viewLineParts","vs/base/time/schedulers","vs/css!./diffEditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){return e.modifiedEndLineNumber>0}function v(e){return e.originalEndLineNumber>0}function g(e,t,n,r,i,o){return{range:new c.Range(e,t,n,r),options:{isOverlay:!1,className:i,isWholeLine:o}}}function b(){var e=document.createElement("div");return e.className="diagonal-fill",e}var y=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,r=t._zones.length;r>n;n++)e.removeZone(t._zones[n])}),this._zones=[],this._zonesMap={},this._decorations.length>0&&e.changeDecorations(function(e){for(var n=0,r=t._decorations.length;r>n;n++)e.removeDecoration(t._decorations[n])}),this._decorations=[]},e.prototype.apply=function(e,t,n){var r,i,o=this;e.changeViewZones(function(e){for(r=0,i=o._zones.length;i>r;r++)e.removeZone(o._zones[r]);for(o._zones=[],o._zonesMap={},r=0,i=n.zones.length;i>r;r++){n.zones[r].suppressMouseDown=!0;var t=e.addZone(n.zones[r]);o._zones.push(t),o._zonesMap[String(t)]=!0}}),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t.setZones(n.overviewZones)},e}(),_=0,w=function(e){function t(r,i,o){var s=this;e.call(this),this.id=++_,this._domElement=i,o=o||{},this._theme=o.theme||n.Config.editor.theme,this._renderSideBySide=!0,"undefined"!=typeof o.renderSideBySide&&(this._renderSideBySide=o.renderSideBySide),this._ignoreTrimWhitespace=!0,"undefined"!=typeof o.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=o.ignoreTrimWhitespace),this._updateDecorationsRunner=new m.RunOnceScheduler(function(){return s._updateDecorations()},0),this._toDispose=[],this._toDispose.push(this._updateDecorationsRunner),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=document.createElement("div"),this._overviewViewportDomElement.className="diffViewport",this._overviewViewportDomElement.style.position="absolute",this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.style.height="100%",this._overviewDomElement.appendChild(this._overviewViewportDomElement),this._toDispose.push(a.addDisposableListener(this._overviewDomElement,"mousedown",function(e){s.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new y,this._modifiedEditorState=new y,this._isVisible=!0,this._isHandlingScrollEvent=!1,this._width=0,this._height=0,this._lineChanges=null,this._createLeftHandSideEditor(o,r.instantiationService),this._createRightHandSideEditor(o,r.instantiationService),o.automaticLayout&&(this._measureDomElementToken=window.setInterval(function(){return s._measureDomElement(!1)},100)),this._enableSplitViewResizing=!0,"undefined"!=typeof o.enableSplitViewResizing&&(this._enableSplitViewResizing=o.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new k(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new x(this._createDataSource(),this._enableSplitViewResizing))}return __extends(t,e),t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=e},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=t.createInstance(s.CodeEditorWidget,this._originalDomNode,this._adjustOptionsForLeftHandSide(e)),this._toDispose.push(this.originalEditor.addBulkListener2(function(e){return n._onOriginalEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.originalEditor,"leftHandSide"))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=t.createInstance(s.CodeEditorWidget,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._toDispose.push(this.modifiedEditor.addBulkListener2(function(e){return n._onModifiedEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.modifiedEditor,"rightHandSide"))},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._toDispose=r.disposeAll(this._toDispose),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.destroy(),this.modifiedEditor.destroy(),this._strategy.dispose(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return i.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){this._theme=e&&e.theme?e.theme:this._theme;var n=!1;"undefined"!=typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0),"undefined"!=typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,this._beginUpdateDecorations()),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),"undefined"!=typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new k(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new x(this._createDataSource(),this._enableSplitViewResizing)))},t.prototype.getValue=function(e){return void 0===e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,n,r){this.modifiedEditor.setPosition(e,t,n,r)},t.prototype.revealLine=function(e){this.modifiedEditor.revealLine(e)},t.prototype.revealLineInCenter=function(e){this.modifiedEditor.revealLineInCenter(e)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealPosition(e,t,n)},t.prototype.revealPositionInCenter=function(e){this.modifiedEditor.revealPositionInCenter(e)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,n,r){this.modifiedEditor.setSelection(e,t,n,r)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t){this.modifiedEditor.revealLines(e,t)},t.prototype.revealLinesInCenter=function(e,t){this.modifiedEditor.revealLinesInCenter(e,t)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealRange(e,t,n)},t.prototype.revealRangeInCenter=function(e){this.modifiedEditor.revealRangeInCenter(e)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e)},t.prototype.addAction=function(e){this.modifiedEditor.addAction(e)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.getAction=function(e){return this.modifiedEditor.getAction(e)},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){var t=e;if(t.original&&t.original){var n=t;this.originalEditor.restoreViewState(n.original),this.modifiedEditor.restoreViewState(n.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){t=t||a.getDomNodePosition(this._containerDomElement),t.width<=0||(e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._doLayout())},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,n=this.modifiedEditor.getLayoutInfo();n&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}))},t.prototype._recomputeIfNecessary=function(e){for(var n=this,r=!1,o=0;!r&&o<e.length;o++){var s=e[o].getType();r=r||"change"===s||s===i.EventType.ModelModeChanged}r&&this._isVisible&&(-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return n._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY))},t.prototype._onOriginalEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&this._onOriginalEditorScroll(e[t].getData()),e[t].getType()===i.EventType.ViewZonesChanged&&this._onViewZonesChanged();this._recomputeIfNecessary(e)},t.prototype._onModifiedEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&(this._onModifiedEditorScroll(e[t].getData()),this._layoutOverviewViewport()),"scrollSize"===e[t].getType()&&this._layoutOverviewViewport(),"viewLayoutChanged"===e[t].getType()&&this._layoutOverviewViewport(),e[t].getType()===i.EventType.ViewZonesChanged&&this._onViewZonesChanged();this._recomputeIfNecessary(e)},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorations=function(){var e=this;if(this._beginUpdateDecorationsTimeout=-1,this.modifiedEditor.getModel()){this._diffComputationToken++;var t=this._diffComputationToken,n=this.originalEditor.getModel(),r=this.modifiedEditor.getModel(),o=this.modifiedEditor.getModel().getMode().diffSupport;if(o)try{o.computeDiff(n.getAssociatedResource(),r.getAssociatedResource(),this._ignoreTrimWhitespace).then(function(o){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&r===e.modifiedEditor.getModel()&&(e._lineChanges=o,e._updateDecorationsRunner.schedule(),e.emit(i.EventType.DiffUpdated,{editor:e,lineChanges:o}))},function(){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&r===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())})}catch(s){console.error(s),this._lineChanges=null,this._updateDecorationsRunner.schedule()}else this._lineChanges=null,this._updateDecorationsRunner.schedule()}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),r=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,r.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,r.modified)}finally{this._currentlyChangingViewZones=!1}},t.prototype._adjustOptionsForLeftHandSide=function(e){var t=o.clone(e||{});return t.wrappingColumn=-1,t.readOnly=!0,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.overviewRulerLanes=1,t.theme=this._theme+" original-in-monaco-diff-editor",t},t.prototype._adjustOptionsForRightHandSide=function(e){var r=o.clone(e||{});return r.wrappingColumn=-1,r.automaticLayout=!1,r.revealHorizontalRightPadding=n.Config.editor.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,r.scrollbar=r.scrollbar||{},r.scrollbar.vertical="visible",r.scrollbar.verticalHasArrows=!1,r.theme=this._theme+" modified-in-monaco-diff-editor",r},t.prototype._onOriginalEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollLeft(e.scrollLeft),this.modifiedEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._onModifiedEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollLeft(e.scrollLeft),this.originalEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.height="30px",this.originalEditor.layout({width:e,height:this._height}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(a.StyleMutator.setTop(this._overviewViewportDomElement,e.top),a.StyleMutator.setHeight(this._overviewViewportDomElement,e.height)):(a.StyleMutator.setTop(this._overviewViewportDomElement,0),a.StyleMutator.setHeight(this._overviewViewportDomElement,0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),r=Math.max(0,e.contentHeight-e.horizontalScrollbarHeight),i=Math.max(0,r-0),o=n>0?i/n:0,s=Math.max(1,Math.floor(e.contentHeight*o)),a=Math.floor(t*o);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var n=0,r=this._lineChanges.length-1;r>n;){var i=Math.floor((n+r)/2),o=t(this._lineChanges[i]),s=r>=i+1?t(this._lineChanges[i+1]):Number.MAX_VALUE;o>e?r=i-1:e>=s?n=i+1:(n=i,r=i)}return this._lineChanges[n]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),i=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return i>=s?r+Math.min(s,o):r+o-i+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),i=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-r;return o>=s?n+Math.min(s,i):n+i-o+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t}(l.EventEmitter);t.DiffEditorWidget=w;var E=function(){function e(e){this._dataSource=e}return e.prototype.getEditorsDiffDecorations=function(e,t,n,r,i,o){r=r.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),n=n.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var s=this._getViewZones(e,n,r,i,o),a=this._getOriginalEditorDecorations(e,t,i,o),l=this._getModifiedEditorDecorations(e,t,i,o);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}},e.prototype._getViewZones=function(){return null},e.prototype._getOriginalEditorDecorations=function(){return null},e.prototype._getModifiedEditorDecorations=function(){return null},e}(),S=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null},e}(),T=function(){function e(e,t,n){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=n}return e.prototype.getViewZones=function(){var e,t,n,r,i,o,s,a={original:[],modified:[]},l=0,c=0,u=0,d=0,p=0,h=0,m=0,g=function(e,t){return e.afterLineNumber-t.afterLineNumber},y=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return n.heightInLines+=t.heightInLines,void 0}e.push(t)},_=new S(this.modifiedForeignVZ),w=new S(this.originalForeignVZ);for(e=0,t=this.lineChanges.length;t>=e;e++){for(n=t>e?this.lineChanges[e]:null,null!==n?(u=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),d=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),c=n.originalEndLineNumber>0?n.originalEndLineNumber-n.originalStartLineNumber+1:0,l=n.modifiedEndLineNumber>0?n.modifiedEndLineNumber-n.modifiedStartLineNumber+1:0,p=Math.max(n.originalStartLineNumber,n.originalEndLineNumber),h=Math.max(n.modifiedStartLineNumber,n.modifiedEndLineNumber)):(u+=1e7+c,d+=1e7+l,p=u,h=d),r=[],i=[];_.current&&_.current.afterLineNumber<=h;)m=_.current.afterLineNumber<=d?u-d+_.current.afterLineNumber:p,r.push({afterLineNumber:m,heightInLines:_.current.heightInLines,domNode:null}),_.advance();for(;w.current&&w.current.afterLineNumber<=p;)m=w.current.afterLineNumber<=u?d-u+w.current.afterLineNumber:h,i.push({afterLineNumber:m,heightInLines:w.current.heightInLines,domNode:null}),w.advance();if(null!==n&&f(n)){var E=this._produceOriginalFromDiff(n,c,l);E&&r.push(E)}if(null!==n&&v(n)){var E=this._produceModifiedFromDiff(n,c,l);E&&i.push(E)}for(o=0,s=0,r=r.sort(g),i=i.sort(g);o<r.length&&s<i.length;){var T=r[o],k=i[s],C=T.afterLineNumber-u,x=k.afterLineNumber-d;x>C?(y(a.original,T),o++):C>x?(y(a.modified,k),s++):T.shouldNotShrink?(y(a.original,T),o++):k.shouldNotShrink?(y(a.modified,k),s++):T.heightInLines>=k.heightInLines?(T.heightInLines-=k.heightInLines,s++):(k.heightInLines-=T.heightInLines,o++)}for(;o<r.length;)y(a.original,r[o]),o++;for(;s<i.length;)y(a.modified,i[s]),s++}var A=function(e){e.domNode||(e.domNode=b())};return a.original.forEach(A),a.modified.forEach(A),a},e.prototype._produceOriginalFromDiff=function(){throw new Error("NotImplemented")},e.prototype._produceModifiedFromDiff=function(){throw new Error("NotImplemented")},e}(),k=function(e){function t(t,n){var r=this;e.call(this,t),this._disableSash=n===!1,this._sashRatio=null,this._sashPosition=null,this._sash=new d.Sash(this._dataSource.getContainerDomNode(),this),this._disableSash&&this._sash.disable(),this._sash.on("start",function(){return r._onSashDragStart()}),this._sash.on("change",function(e){return r._onSashDrag(e)}),this._sash.on("end",function(){return r._onSashDragEnd()})}return __extends(t,e),t.prototype.dispose=function(){this._sash.dispose()},t.prototype.setEnableSplitViewResizing=function(e){var t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth(),r=n-w.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*r),o=Math.floor(.5*r),i=this._disableSash?o:i||o;return r>2*t.MINIMUM_EDITOR_WIDTH?(i<t.MINIMUM_EDITOR_WIDTH&&(i=t.MINIMUM_EDITOR_WIDTH),i>r-t.MINIMUM_EDITOR_WIDTH&&(i=r-t.MINIMUM_EDITOR_WIDTH)):i=o,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},t.prototype._onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype._onSashDrag=function(e){var t=this._dataSource.getWidth(),n=t-w.ENTIRE_DIFF_OVERVIEW_WIDTH,r=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=r/n,this._dataSource.relayoutEditors()},t.prototype._onSashDragEnd=function(){this._sash.layout()},t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this._sashPosition},t.prototype.getVerticalSashHeight=function(){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n){var r=new C(e,t,n);return r.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n){var r,i,o,s,a,l,c,d,p,h={decorations:[],overviewZones:[]},m=n.getModel();for(r=0,i=e.length;i>r;r++)if(a=e[r],v(a)&&(h.decorations.push(g(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"line-delete",!0)),f(a)&&a.charChanges||h.decorations.push(g(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"char-delete",!0)),h.overviewZones.push({startLineNumber:a.originalStartLineNumber,endLineNumber:a.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:u.OverviewRulerLane.Full}),a.charChanges))for(o=0,s=a.charChanges.length;s>o;o++)if(l=a.charChanges[o],v(l))if(t)for(c=l.originalStartLineNumber;c<=l.originalEndLineNumber;c++)d=c===l.originalStartLineNumber?l.originalStartColumn:m.getLineFirstNonWhitespaceColumn(c),p=c===l.originalEndLineNumber?l.originalEndColumn:m.getLineLastNonWhitespaceColumn(c),h.decorations.push(g(c,d,c,p,"char-delete",!1));else h.decorations.push(g(l.originalStartLineNumber,l.originalStartColumn,l.originalEndLineNumber,l.originalEndColumn,"char-delete",!1));return h},t.prototype._getModifiedEditorDecorations=function(e,t,n,r){var i,o,s,a,l,c,d,p,h,m={decorations:[],overviewZones:[]},b=r.getModel();for(i=0,o=e.length;o>i;i++)if(l=e[i],f(l)&&(m.decorations.push(g(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),v(l)&&l.charChanges||m.decorations.push(g(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0)),m.overviewZones.push({startLineNumber:l.modifiedStartLineNumber,endLineNumber:l.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:u.OverviewRulerLane.Full}),l.charChanges))for(s=0,a=l.charChanges.length;a>s;s++)if(c=l.charChanges[s],f(c))if(t)for(d=c.modifiedStartLineNumber;d<=c.modifiedEndLineNumber;d++)p=d===c.modifiedStartLineNumber?c.modifiedStartColumn:b.getLineFirstNonWhitespaceColumn(d),h=d===c.modifiedEndLineNumber?c.modifiedEndColumn:b.getLineLastNonWhitespaceColumn(d),m.decorations.push(g(d,p,d,h,"char-insert",!1));else m.decorations.push(g(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn,"char-insert",!1));return m},t.MINIMUM_EDITOR_WIDTH=100,t}(E),C=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(T),x=function(e){function t(t){var n=this;e.call(this,t),this.decorationsLeft=40,this.toDispose=[],this.toDispose.push(t.getOriginalEditor().addListener2(i.EventType.EditorLayout,function(e){n.decorationsLeft!==e.decorationsLeft&&(n.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))}return __extends(t,e),t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose)},t.prototype.setEnableSplitViewResizing=function(){},t.prototype._getViewZones=function(e,t,n,r,i){var o=new A(e,t,n,r,i);return o.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e){var t,n,r,i={decorations:[],overviewZones:[]};for(t=0,n=e.length;n>t;t++)r=e[t],v(r)&&i.overviewZones.push({startLineNumber:r.originalStartLineNumber,endLineNumber:r.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:u.OverviewRulerLane.Full});return i},t.prototype._getModifiedEditorDecorations=function(e,t,n,r){var i,o,s,a,l,c,d,p,h,m={decorations:[],overviewZones:[]},v=r.getModel();for(i=0,o=e.length;o>i;i++)if(s=e[i],f(s))if(m.decorations.push(g(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),m.overviewZones.push({startLineNumber:s.modifiedStartLineNumber,endLineNumber:s.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:u.OverviewRulerLane.Full}),s.charChanges){for(a=0,l=s.charChanges.length;l>a;a++)if(c=s.charChanges[a],f(c))if(t)for(d=c.modifiedStartLineNumber;d<=c.modifiedEndLineNumber;d++)p=d===c.modifiedStartLineNumber?c.modifiedStartColumn:v.getLineFirstNonWhitespaceColumn(d),h=d===c.modifiedEndLineNumber?c.modifiedEndColumn:v.getLineLastNonWhitespaceColumn(d),m.decorations.push(g(d,p,d,h,"char-insert",!1));
else m.decorations.push(g(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn,"char-insert",!1))}else m.decorations.push(g(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0));return m},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(E),A=function(e){function t(t,n,r,i,o){e.call(this,t,n,r),this.originalModel=i.getModel(),this.modifiedEditorConfiguration=o.getConfiguration(),this.modifiedEditorIndentation=o.getIndentationOptions()}return __extends(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div")}},t.prototype._produceModifiedFromDiff=function(e,t){var n,r,i,o,s=[];if(e.charChanges)for(n=0,r=e.charChanges.length;r>n;n++)i=e.charChanges[n],v(i)&&(o=g(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,"char-delete",!1),o.options.inlineClassName=o.options.className,s.push(o));var a,l=[];for(a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)l=l.concat(this.renderOriginalLine(a-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorIndentation,a,s));var c=document.createElement("div");return c.className="view-lines line-delete",c.innerHTML=l.join(""),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:c}},t.prototype.renderOriginalLine=function(e,t,n,r,i,o){var s,a,l=t.getLineContent(i);s={getTokens:function(){return[{startIndex:0,type:""}]},getTextLength:function(){return l.length},equals:function(){return!1},findIndexOfOffset:function(){return 0}},a=h.createLineParts(i,l,s,o,n.renderWhitespace);var c=p.renderLine({lineContent:l,tabSize:r.tabSize,stopRenderingLineAfter:n.stopRenderingLineAfter,renderWhitespace:n.renderWhitespace,parts:a.getParts()}),u=[];return u.push('<div class="view-line'),0===o.length&&u.push(" char-delete"),u.push('" style="top:'),u.push(String(e*n.lineHeight)),u.push('px;width:1000000px;">'),u=u.concat(c.output),u.push("</div>"),u},t}(T)}),define("vs/base/dom/htmlContentRenderer",["require","exports","vs/base/dom/dom"],function(e,t,n){function r(e,t){return"string"==typeof e?[document.createTextNode(e)]:Array.isArray(e)?e.map(function(e){return i(e,t)}):e?[i(e,t)]:[]}function i(e,t){if(e.isText)return document.createTextNode(e.text);var n=o(e.tagName)||"div",r=document.createElement(n);return e.className&&(r.className=e.className),e.text&&(r.textContent=e.text),e.style&&r.setAttribute("style",e.style),e.customStyle&&Object.keys(e.customStyle).forEach(function(t){r.style[t]=e.customStyle[t]}),e.children&&e.children.forEach(function(e){r.appendChild(i(e))}),e.formattedText&&s(r,a(e.formattedText),t),r}function o(e){return e?d.hasOwnProperty(e)?e:null:null}function s(e,t,r){var i;if(t.type===u.Text)i=document.createTextNode(t.content);else if(t.type===u.Bold)i=document.createElement("b");else if(t.type===u.Italics)i=document.createElement("i");else if(t.type===u.Action){var o=document.createElement("a");o.href="#",n.addStandardDisposableListener(o,"click",function(e){r(t.index,e)}),i=o}else t.type===u.NewLine?i=document.createElement("br"):t.type===u.Root&&(i=e);e!==i&&e.appendChild(i),Array.isArray(t.children)&&t.children.forEach(function(e){s(i,e,r)})}function a(e){for(var t={type:u.Root,children:[]},n=0,r=t,i=[],o=new p(e);!o.eos();){var s=o.next();if(l(s)&&s===o.peek()){o.advance(),r.type===u.Text&&(r=i.pop());var a=c(s);if(r.type===a||r.type===u.Action&&a===u.ActionClose)r=i.pop();else{var d={type:a,children:[]};a===u.Action&&(d.index=n,n++),r.children.push(d),i.push(r),r=d}}else if("\n"===s)r.type===u.Text&&(r=i.pop()),r.children.push({type:u.NewLine});else if(r.type!==u.Text){var h={type:u.Text,content:s};r.children.push(h),i.push(r),r=h}else r.content+=s}return r.type===u.Text&&(r=i.pop()),i.length,t}function l(e){return c(e)!==u.Invalid}function c(e){switch(e){case"*":return u.Bold;case"_":return u.Italics;case"[":return u.Action;case"]":return u.ActionClose;default:return u.Invalid}}t.renderHtml2=r,t.renderHtml=i;var u,d={a:!0,b:!0,blockquote:!0,code:!0,del:!0,dd:!0,div:!0,dl:!0,dt:!0,em:!0,h1h2h3i:!0,img:!0,kbd:!0,li:!0,ol:!0,p:!0,pre:!0,s:!0,span:!0,sup:!0,sub:!0,strong:!0,strike:!0,ul:!0,br:!0,hr:!0},p=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(u||(u={}))}),define("vs/css!vs/base/ui/widgets/contextview/contextview",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/contextview/contextview",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/lifecycle","vs/base/eventEmitter","vs/css!./contextview"],function(e,t,n,r,i,o){function s(e,t,n,r,i){var o,s;return r===c.BELOW?(o=t.top+t.height-n.top,n.top+o+e.height>n.height&&t.top-n.top>e.height&&(o=t.top-e.height-n.top)):(o=t.top-e.height-n.top,o+n.top<0&&t.top+t.height+e.height-n.top<n.height&&(o=t.top+t.height-n.top)),i===l.LEFT?(s=t.left-n.left,n.left+s+e.width>n.width&&(s-=e.width-t.width)):(s=t.left+t.width-e.width-n.left,s+n.left<0&&t.left+e.width<n.width&&(s=t.left-n.left)),{top:o,left:s}}var a=n.$;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.AnchorAlignment||(t.AnchorAlignment={}));var l=t.AnchorAlignment;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(t.AnchorPosition||(t.AnchorPosition={}));var c=t.AnchorPosition;t.layout=s;var u=function(e){function t(t){var n=this;e.call(this),this.$view=a(".context-view").hide(),this.setContainer(t),this.toDispose=[{dispose:function(){n.setContainer(null)}}],this.toDisposeOnClean=null}return __extends(t,e),t.prototype.setContainer=function(e){var n=this;this.$container&&(this.$container.off(t.BUBBLE_UP_EVENTS),this.$container.off(t.BUBBLE_DOWN_EVENTS,!0),this.$container=null),e&&(this.$container=a(e),this.$view.appendTo(this.$container),this.$container.on(t.BUBBLE_UP_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(t.BUBBLE_DOWN_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!0)},null,!0))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1)return this.hide(),void 0;this.delegate.layout&&this.delegate.layout(),this.doLayout()}},t.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(r.isHTMLElement(t)){var n=a(t),i=n.getPosition(),o=n.getTotalSize();e={top:i.top,left:i.left,width:o.width,height:o.height}}else{var u=t;e={top:u.y,left:u.x,width:u.width||0,height:u.height||0}}var d=this.$container.getPosition(),p={top:d.top,left:d.left,height:window.innerHeight,width:window.innerWidth},h=this.$view.getTotalSize(),m={width:h.width,height:h.height},f=this.delegate.anchorPosition||c.BELOW,v=this.delegate.anchorAlignment||l.LEFT,g=s(m,e,p,f,v);this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(f===c.BELOW?"bottom":"top"),this.$view.addClass(v===l.LEFT?"left":"right"),this.$view.style({top:g.top+"px",left:g.left+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):n&&!r.isAncestor(e.target,this.$container.getHTMLElement())&&this.hide())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=i.disposeAll(this.toDispose)},t.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],t.BUBBLE_DOWN_EVENTS=["click"],t}(o.EventEmitter);t.ContextView=u}),define("vs/css!vs/base/ui/widgets/inputBox",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/inputBox",["require","exports","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/base/dom/htmlContentRenderer","vs/base/eventEmitter","vs/base/ui/widgets/contextview/contextview","vs/css!./inputBox"],function(e,t,n,r,i,o,s,a){var l=r.$;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(t.MessageType||(t.MessageType={}));var c=t.MessageType,u=function(e){function t(t,r,o){var s=this;e.call(this),this.state="idle",this.contextViewProvider=r,this.$placeholderShim=null,this.message=null,this.placeholder=o&&o.placeholder||"",this.ariaLabel=o&&o.ariaLabel||"",o&&o.validationOptions&&(this.validation=o.validationOptions.validation,this.showValidationMessage=o.validationOptions.showMessage||!1),this.$el=l(".monaco-inputbox.idle").appendTo(t);var a=l(".wrapper").appendTo(this.$el),c={wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.ariaLabel&&(c["aria-label"]=this.ariaLabel),!n.browser.isIE11orEarlier&&this.placeholder&&(c.placeholder=this.placeholder),this.$input=l("input.input").type(o.type||"text").attr(c).on(i.EventType.INPUT,function(){s.onValueChange()}).on(i.EventType.BLUR,function(){s._hideMessage()}).on(i.EventType.FOCUS,function(){s._showMessage()}),this.placeholder&&n.browser.isIE11orEarlier&&(this.$placeholderShim=l("label.placeholder-shim").appendTo(a).attr({text:this.placeholder,for:"input"}).on(i.EventType.CLICK,function(e){i.EventHelper.stop(e,!0),s.$input.domFocus()}),n.browser.isIE9&&this.$input.on("keyup",function(){return s.onValueChange()})),this.$input.appendTo(a)}return __extends(t,e),t.prototype.setPlaceHolder=function(e){this.$input&&this.$input.attr("placeholder",e)},t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.$input.getHTMLElement()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.inputElement.value},set:function(e){this.inputElement.value!==e&&(this.inputElement.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.$input.domFocus()},t.prototype.hasFocus=function(){return this.$input.hasFocus()},t.prototype.select=function(e){void 0===e&&(e=null),this.$input.domSelect(e)},t.prototype.enable=function(){this.inputElement.removeAttribute("disabled")},t.prototype.disable=function(){this.$input.attr({disabled:!0}),this._hideMessage()},Object.defineProperty(t.prototype,"width",{get:function(){return this.$input.getTotalSize().width},set:function(e){this.$input.size(e)},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e){this.message=e,this.$el.removeClass("idle info warning error").addClass(this.classForType(e.type)),this.hasFocus()&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,this.$el.removeClass("info warning error").addClass("idle"),this._hideMessage()},t.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?this.showMessage(e):this.hideMessage()),!e},t.prototype.classForType=function(e){switch(e){case c.INFO:return"info";case c.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.showValidationMessage&&this.message){var t;this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.$el.getHTMLElement()},anchorAlignment:a.AnchorAlignment.RIGHT,render:function(n){var r=e.$el.getTotalSize();t=l("div.monaco-inputbox-container").style({width:r.width+"px"}).appendTo(n);var i={tagName:"span",className:"monaco-inputbox-message"};e.message.formatContent?i.formattedText=e.message.content:i.text=e.message.content;var s=o.renderHtml(i),a=l(s).addClass(e.classForType(e.message.type)).appendTo(t);return{dispose:function(){a.destroy(),t.destroy()}}},layout:function(){var n=e.$el.getTotalSize();t.style({width:n.width+"px"})}})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){this.emit("change",this.value),this.validate(),this.$placeholderShim&&(this.value?this.$placeholderShim.hide():this.$placeholderShim.show())},t.prototype.dispose=function(){this._hideMessage(),this.$el&&(this.$el.dispose(),this.$el=null,this.$input.dispose(),this.$input=null),this.$placeholderShim&&(this.$placeholderShim.dispose(),this.$placeholderShim=null),this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,e.prototype.dispose.call(this)},t}(s.EventEmitter);t.InputBox=u}),define("vs/css!vs/base/ui/widgets/findInput",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/findInput",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","vs/base/ui/widgets/inputBox","vs/css!./findInput"],function(e,t,n,r,i,o,s){var a=r.$,l=function(){function e(e,t,n,r){var s=this;this.actionClassName=e,this.title=t,this.isChecked=n,this.onChange=r,this.listenersToRemove=[],this.domNode=document.createElement("div"),this.domNode.title=t,this.render(),a(this.domNode).attr({"aria-checked":"false","aria-label":this.title,tabindex:0,role:"checkbox"}),a(this.domNode).on("click",function(e){var t=new i.StandardMouseEvent(e);s.isChecked=!s.isChecked,s.render(),s.onChange(),t.preventDefault()},this.listenersToRemove),a(this.domNode).on("keydown",function(e){var t=new o.KeyboardEvent(e);("Space"===t.key||"Enter"===t.key)&&(s.isChecked=!s.isChecked,s.render(),s.onChange(),t.preventDefault())},this.listenersToRemove)}return e.prototype.focus=function(){this.domNode.focus()},e.prototype.render=function(){this.domNode.className=this.className()},e.prototype.setChecked=function(e){this.isChecked=e,a(this.domNode).attr("aria-checked",this.isChecked),this.render()},e.prototype.className=function(){return"custom-checkbox "+this.actionClassName+" "+(this.isChecked?"checked":"unchecked")},e.prototype.width=function(){return 22},e.prototype.enable=function(){this.domNode.tabIndex=0},e.prototype.disable=function(){this.domNode.tabIndex=-1},e.prototype.destroy=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e}();t.CustomCheckbox=l;var c=function(){function e(e,t,r){this.contextViewProvider=t,this.onOptionChange=null,this.width=r.width||100,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||n.localize("vs_base_ui_widgets_findInput",0),this.listenersToRemove=[],this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputNode=null,this.inputBox=null,this.validationNode=null,this.buildDomNode(),Boolean(e)&&e.appendChild(this.domNode)}return e.prototype.destroy=function(){this.regex.destroy(),this.wholeWords.destroy(),this.caseSensitive.destroy(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype.on=function(t,n){switch(t){case"keydown":case"keyup":a(this.inputBox.inputElement).on(t,n);break;case e.OPTION_CHANGE:this.onOptionChange=n}return this},e.prototype.enable=function(){a(this.domNode).removeClass("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){a(this.domNode).addClass("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},e.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.isChecked},e.prototype.setCaseSensitive=function(e){this.caseSensitive.setChecked(e),this.setInputWidth()},e.prototype.getWholeWords=function(){return this.wholeWords.isChecked},e.prototype.setWholeWords=function(e){this.wholeWords.setChecked(e),this.setInputWidth()},e.prototype.getRegex=function(){return this.regex.isChecked},e.prototype.setRegex=function(e){this.regex.setChecked(e),this.setInputWidth()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},e.prototype.buildDomNode=function(){var e=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",a(this.domNode).addClass("monaco-findInput"),this.inputBox=new s.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}}),this.regex=new l("regex",n.localize("vs_base_ui_widgets_findInput",1),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.wholeWords=new l("whole-word",n.localize("vs_base_ui_widgets_findInput",2),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.caseSensitive=new l("case-sensitive",n.localize("vs_base_ui_widgets_findInput",3),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.setInputWidth();var t=document.createElement("div");t.className="controls",t.appendChild(this.caseSensitive.domNode),t.appendChild(this.wholeWords.domNode),t.appendChild(this.regex.domNode),this.domNode.appendChild(t)},e.prototype.validate=function(){this.inputBox.validate()},e.prototype.showMessage=function(e){this.inputBox.showMessage(e)},e.prototype.clearMessage=function(){this.inputBox.hideMessage()},e.prototype.clearValidation=function(){this.inputBox.hideMessage()},e.OPTION_CHANGE="optionChange",e}();t.FindInput=c}),define("vs/editor/contrib/find/replaceAllCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){var i=function(){function e(e,t){this._ranges=e,this._replaceStrings=t}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var r=[],i=0;i<this._ranges.length;i++)r.push({range:this._ranges[i],text:this._replaceStrings[i]});r.sort(function(e,t){return n.compareRangesUsingStarts(e.range,t.range)});for(var o=[],s=r[0],i=1;i<r.length;i++)s.range.endLineNumber===r[i].range.startLineNumber&&s.range.endColumn===r[i].range.startColumn?(s.range=s.range.plusRange(r[i].range),s.text=s.text+r[i].text):(o.push(s),s=r[i]);o.push(s);for(var i=0;i<o.length;i++)t.addEditOperation(o[i].range,o[i].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[n.length-1].range;return new r.Selection(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},e}();t.ReplaceAllCommand=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/findModel",["require","exports","vs/editor/core/position","vs/editor/core/constants","vs/base/strings","vs/base/eventEmitter","vs/editor/contrib/find/replaceAllCommand","vs/editor/core/command/replaceCommand","vs/editor/editor","vs/editor/core/range","vs/base/time/schedulers"],function(e,t,n,r,i,o,s,a,l,c,u){t.START_FIND_ID="actions.find",t.NEXT_MATCH_FIND_ID="editor.action.nextMatchFindAction",t.PREVIOUS_MATCH_FIND_ID="editor.action.previousMatchFindAction",t.START_FIND_REPLACE_ID="editor.action.startFindReplaceAction";var d=function(e){function t(n){var i=this;e.call(this,[t._MATCHES_UPDATED_EVENT,t._START_EVENT]),this.editor=n,this.startPosition=null,this.searchString="",this.replaceString="",this.searchOnlyEditableRange=!1,this.decorations=[],this.decorationIndex=0,this.findScopeDecorationId=null,this.highlightedDecorationId=null,this.listenersToRemove=[],this.didReplace=!1,this.isRegex=!1,this.matchCase=!1,this.wholeWord=!1,this.updateDecorationsScheduler=new u.RunOnceScheduler(function(){i.updateDecorations(!1,!1,null)},100),this.listenersToRemove.push(this.editor.addListener(r.EventType.CursorPositionChanged,function(e){("explicit"===e.reason||"undo"===e.reason||"redo"===e.reason)&&(null!==i.highlightedDecorationId&&i.editor.changeDecorations(function(e){e.changeDecorationOptions(i.highlightedDecorationId,i.createFindMatchDecorationOptions(!1)),i.highlightedDecorationId=null}),i.startPosition=i.editor.getPosition(),i.decorationIndex=-1)})),this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelContentChanged,function(e){e.changeType===r.EventType.ModelContentChangedFlush&&(i.decorations=[],i.decorationIndex=-1,i.findScopeDecorationId=null,i.highlightedDecorationId=null),i.startPosition=i.editor.getPosition(),i.updateDecorationsScheduler.schedule()}))}return __extends(t,e),t.prototype.removeOldDecorations=function(e,t){var n,r;for(n=0,r=this.decorations.length;r>n;n++)e.removeDecoration(this.decorations[n]);this.decorations=[],t&&this.hasFindScope()&&(e.removeDecoration(this.findScopeDecorationId),this.findScopeDecorationId=null)},t.prototype.createFindMatchDecorationOptions=function(e){return{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",position:l.OverviewRulerLane.Center}}},t.prototype.createFindScopeDecorationOptions=function(){return{className:"findScope",isWholeLine:!0}},t.prototype.addMatchesDecorations=function(e,t){var n,r;for(n=0,r=t.length;r>n;n++)this.decorations[n]=e.addDecoration(t[n],this.createFindMatchDecorationOptions(!1))},t.prototype.updateDecorations=function(e,t,n){var r=this;this.didReplace&&this.next(),this.editor.changeDecorations(function(e){r.removeOldDecorations(e,t);var i;i=r.searchOnlyEditableRange?r.editor.getModel().getEditableRange():r.editor.getModel().getFullModelRange(),t&&n&&(r.findScopeDecorationId=e.addDecoration(n,r.createFindScopeDecorationOptions())),r.hasFindScope()&&(i=i.intersectRanges(r.editor.getModel().getDecorationRange(r.findScopeDecorationId))),r.addMatchesDecorations(e,r.editor.getModel().findMatches(r.searchString,i,r.isRegex,r.matchCase,r.wholeWord))}),this.highlightedDecorationId=null,this.decorationIndex=this.indexAfterPosition(this.startPosition),this.didReplace||e?this.decorations.length>0&&this.setSelectionToDecoration(this.decorations[this.decorationIndex]):this.decorationIndex=this.previousIndex(this.decorationIndex);var i={position:this.decorations.length>0?this.decorationIndex+1:0,count:this.decorations.length};this._emitMatchesUpdatedEvent(i),this.didReplace=!1},t.prototype.setFindScope=function(e){null===e?this.updateDecorations(!1,!0,e):this.updateDecorations(!1,!0,new c.Range(e.startLineNumber,1,e.endLineNumber,this.editor.getModel().getLineMaxColumn(e.endLineNumber)))},t.prototype.recomputeMatches=function(e,t){var n=!1;this.isRegex!==e.properties.isRegex&&(this.isRegex=e.properties.isRegex,n=!0),this.matchCase!==e.properties.matchCase&&(this.matchCase=e.properties.matchCase,n=!0),this.wholeWord!==e.properties.wholeWord&&(this.wholeWord=e.properties.wholeWord,n=!0),e.searchString!==this.searchString&&(this.searchString=e.searchString,n=!0),this.replaceString=e.replaceString,e.isReplaceRevealed!==this.searchOnlyEditableRange&&(this.searchOnlyEditableRange=e.isReplaceRevealed,n=!0),n&&this.updateDecorations(t,!1,null)},t.prototype.start=function(e,t,n){this.startPosition=this.editor.getPosition(),this.isRegex=e.properties.isRegex,this.matchCase=e.properties.matchCase,this.wholeWord=e.properties.wholeWord,this.searchString=e.searchString,this.replaceString=e.replaceString,this.searchOnlyEditableRange=e.isReplaceRevealed,this.setFindScope(t),this.decorationIndex=this.previousIndex(this.indexAfterPosition(this.startPosition));var r={state:e,selectionFindEnabled:this.hasFindScope(),shouldFocus:n};this._emitStartEvent(r)},t.prototype.prev=function(){this.decorations.length>0?(-1===this.decorationIndex&&(this.decorationIndex=this.indexAfterPosition(this.startPosition)),this.decorationIndex=this.previousIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRangeInCenterIfOutsideViewport(this.editor.getModel().getDecorationRange(this.findScopeDecorationId))},t.prototype.next=function(){this.decorations.length>0?(this.decorationIndex=-1===this.decorationIndex?this.indexAfterPosition(this.startPosition):this.nextIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRangeInCenterIfOutsideViewport(this.editor.getModel().getDecorationRange(this.findScopeDecorationId))},t.prototype.setSelectionToDecoration=function(e){var t=this;this.editor.changeDecorations(function(n){null!==t.highlightedDecorationId&&n.changeDecorationOptions(t.highlightedDecorationId,t.createFindMatchDecorationOptions(!1)),n.changeDecorationOptions(e,t.createFindMatchDecorationOptions(!0)),t.highlightedDecorationId=e});var n=this.editor.getModel().getDecorationRange(e);c.isIRange(n)&&(this.editor.setSelection(n),this.editor.revealRangeInCenterIfOutsideViewport(n))},t.prototype.getReplaceString=function(e){if(!this.isRegex)return this.replaceString;var t=i.createRegExp(this.searchString,this.isRegex,this.matchCase,this.wholeWord);return e.replace(t,this.replaceString)},t.prototype.replace=function(){if(0!==this.decorations.length){var e=this.editor.getModel(),t=e.getDecorationRange(this.decorations[this.decorationIndex]),r=this.editor.getSelection();if(null!==t&&r.startColumn===t.startColumn&&r.endColumn===t.endColumn&&r.startLineNumber===t.startLineNumber&&r.endLineNumber===t.endLineNumber){var i=e.getValueInRange(r),o=this.getReplaceString(i),s=new a.ReplaceCommand(r,o);this.editor.executeCommand("replace",s),this.startPosition=new n.Position(r.startLineNumber,r.startColumn+o.length),this.decorationIndex=-1,this.didReplace=!0}else this.next()}},t.prototype.replaceAll=function(){var e=this;if(0!==this.decorations.length){for(var t=this.editor.getModel(),n=[],r=0,i=this.decorations.length;i>r;r++)n.push(t.getDecorationRange(this.decorations[r]));this.editor.changeDecorations(function(t){e.removeOldDecorations(t,!1)});for(var o=[],r=0,i=n.length;i>r;r++)o.push(this.getReplaceString(t.getValueInRange(n[r])));var a=new s.ReplaceAllCommand(n,o);this.editor.executeCommand("replaceAll",a)}},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),this.updateDecorationsScheduler.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.editor.getModel()&&this.editor.changeDecorations(function(e){t.removeOldDecorations(e,!0)})},t.prototype.hasFindScope=function(){return!!this.findScopeDecorationId},t.prototype.previousIndex=function(e){return this.decorations.length>0?(e-1+this.decorations.length)%this.decorations.length:0},t.prototype.nextIndex=function(e){return this.decorations.length>0?(e+1)%this.decorations.length:0},t.prototype.indexAfterPosition=function(e){if(0===this.decorations.length)return 0;for(var t=0,n=this.decorations.length;n>t;t++){var r=this.decorations[t],i=this.editor.getModel().getDecorationRange(r);if(i&&!(i.startLineNumber<e.lineNumber)){if(i.startLineNumber>e.lineNumber)return t;if(!(i.startColumn<e.column))return t}}return 0},t.prototype.addStartEventListener=function(e){return this.addListener2(t._START_EVENT,e)},t.prototype._emitStartEvent=function(e){this.emit(t._START_EVENT,e)},t.prototype.addMatchesUpdatedEventListener=function(e){return this.addListener2(t._MATCHES_UPDATED_EVENT,e)},t.prototype._emitMatchesUpdatedEvent=function(e){this.emit(t._MATCHES_UPDATED_EVENT,e)},t._START_EVENT="start",t._MATCHES_UPDATED_EVENT="matches",t}(o.EventEmitter);t.FindModelBoundToEditorModel=d}),define("vs/css!vs/editor/contrib/find/findWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/findWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/errors","vs/base/eventEmitter","vs/base/dom/dom","vs/editor/core/constants","vs/base/dom/keyboardEvent","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/findInput","vs/editor/editor","./findModel","vs/base/lifecycle","vs/css!./findWidget"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(e){function t(n,r,i){var s=this;e.call(this,[t._USER_INPUT_EVENT,t._USER_CLOSED_EVENT]),this._codeEditor=n,this._controller=r,this._contextViewProvider=i,this._isVisible=!1,this._isReplaceVisible=!1,this._isReplaceEnabled=!1,this._toDispose=[],this._model=null,this._modelListenersToDispose=[],this._buildDomNode(),this.focusTracker=o.trackFocus(this._domNode),this._codeEditor.addOverlayWidget(this),this.focusTracker.addFocusListener(function(){var e=s._codeEditor.getSelection();e.startLineNumber!==e.endLineNumber&&s._controller.enableSelectionFind()})}return __extends(t,e),t.prototype.dispose=function(){this.focusTracker.dispose(),this._removeModel(),this._findInput.destroy(),this._replaceInputBox.dispose(),this._toDispose=p.disposeAll(this._toDispose)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:u.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},t.prototype._setState=function(e,t){this._findInput.setValue(e.searchString),this._findInput.setCaseSensitive(e.properties.matchCase),this._findInput.setWholeWords(e.properties.wholeWord),this._findInput.setRegex(e.properties.isRegex),this._toggleSelectionFind.checkbox.disabled=!t,this._toggleSelectionFind.checkbox.checked=t,this._replaceInputBox.value=e.replaceString,e.isReplaceRevealed?this._enableReplace(!1):this._disableReplace(!1),this._onFindValueChange()},t.prototype.getState=function(){var e={searchString:this._findInput.getValue(),replaceString:this._replaceInputBox.value,properties:{isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},isReplaceRevealed:this._isReplaceEnabled,isVisible:this._isVisible};return e},t.prototype.setModel=function(e){var t=this;this._removeModel(),e?(this._model=e,this._modelListenersToDispose.push(this._model.addStartEventListener(function(e){t._reveal(e.shouldFocus),t._setState(e.state,e.selectionFindEnabled),e.shouldFocus&&t._findInput.select()})),this._modelListenersToDispose.push(this._model.addMatchesUpdatedEventListener(function(e){o.toggleClass(t._domNode,"no-results",""!==t._findInput.getValue()&&0===e.count)
}))):this._hide(!1)},t.prototype._removeModel=function(){null!==this._model&&(this._modelListenersToDispose=p.disposeAll(this._modelListenersToDispose),this._model=null)},t.prototype._enableReplace=function(e){this._isReplaceEnabled=!0,this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._replaceInputBox.enable(),this._isReplaceVisible=!0,o.addClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("collapse",!1),this._toggleReplaceBtn.toggleClass("expand",!0),this._toggleReplaceBtn.setExpanded(!0)),e&&this._emitUserInputEvent(!1)},t.prototype._disableReplace=function(e){this._isReplaceEnabled=!1,this._isReplaceVisible&&(this._replaceInputBox.disable(),o.removeClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("expand",!1),this._toggleReplaceBtn.toggleClass("collapse",!0),this._toggleReplaceBtn.setExpanded(!1),this._isReplaceVisible=!1),e&&this._emitUserInputEvent(!1)},t.prototype._onFindInputKeyDown=function(e){var t=this,n=e.asString(),i=!1;switch(n){case"Enter":this._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,r.onUnexpectedError),i=!0;break;case"Shift-Enter":this._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,r.onUnexpectedError),i=!0;break;case"Tab":this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),i=!0}i?e.preventDefault():setTimeout(function(){t._onFindValueChange(),t._emitUserInputEvent(!0)},10)},t.prototype._onReplaceInputKeyDown=function(e){var t=this,n=e.asString(),r=!1;switch(n){case"Enter":this._controller.replace(),r=!0;break;case"Meta-Enter":case"Ctrl-Enter":this._controller.replaceAll(),r=!0;break;case"Tab":this._findInput.focusOnCaseSensitive(),r=!0}r?e.preventDefault():setTimeout(function(){t._emitUserInputEvent(!0)},10)},t.prototype._onFindValueChange=function(){var e=this._findInput.getValue().length>0;this._prevBtn.setEnabled(e),this._nextBtn.setEnabled(e),this._replaceBtn.setEnabled(e),this._replaceAllBtn.setEnabled(e)},t.prototype._buildFindPart=function(){var e=this;this._findInput=new c.FindInput(null,this._contextViewProvider,{width:t.FIND_INPUT_AREA_WIDTH,label:n.localize("vs_editor_contrib_find_findWidget",0),placeholder:n.localize("vs_editor_contrib_find_findWidget",1),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(n){return{content:n.message}}}}).on("keydown",function(t){e._onFindInputKeyDown(new a.KeyboardEvent(t))}).on(c.FindInput.OPTION_CHANGE,function(){e._emitUserInputEvent(!0)}),this._findInput.disable(),this._prevBtn=new f(n.localize("vs_editor_contrib_find_findWidget",2),"previous").onTrigger(function(){e._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,r.onUnexpectedError)}),this._toDispose.push(this._prevBtn),this._nextBtn=new f(n.localize("vs_editor_contrib_find_findWidget",3),"next").onTrigger(function(){e._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,r.onUnexpectedError)}),this._toDispose.push(this._nextBtn);var i=document.createElement("div");return i.className="find-part",i.appendChild(this._findInput.domNode),i.appendChild(this._prevBtn.domNode),i.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=new m(i,n.localize("vs_editor_contrib_find_findWidget",4)),this._toggleSelectionFind.disable(),this._toDispose.push(o.addStandardDisposableListener(this._toggleSelectionFind.checkbox,"change",function(){e._toggleSelectionFind.checkbox.checked?e._controller.enableSelectionFind():(e._controller.disableSelectionFind(),e._updateToggleSelectionFindButton())})),this._toDispose.push(this._toggleSelectionFind),this._codeEditor.addListener(s.EventType.CursorSelectionChanged,function(){e._updateToggleSelectionFindButton()}),this._closeBtn=new f(n.localize("vs_editor_contrib_find_findWidget",5),"close").onTrigger(function(){e._hide(!0),e._emitClosedEvent()}).onKeyDown(function(t){e._isReplaceVisible&&(e._replaceBtn.focus(),t.preventDefault())}),this._toDispose.push(this._closeBtn),i.appendChild(this._closeBtn.domNode),i},t.prototype._updateToggleSelectionFindButton=function(){if(this._isVisible&&!this._toggleSelectionFind.checkbox.checked){var e=this._codeEditor.getSelection();e.startLineNumber===e.endLineNumber?this._toggleSelectionFind.disable():this._toggleSelectionFind.enable()}},t.prototype._buildReplacePart=function(){var e=this,r=document.createElement("div");r.className="replace-input",r.style.width=t.REPLACE_INPUT_AREA_WIDTH+"px",this._replaceInputBox=new l.InputBox(r,null,{ariaLabel:n.localize("vs_editor_contrib_find_findWidget",6),placeholder:n.localize("vs_editor_contrib_find_findWidget",7)}),this._toDispose.push(o.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._replaceInputBox.disable(),this._replaceBtn=new f(n.localize("vs_editor_contrib_find_findWidget",8),"replace").onTrigger(function(){e._controller.replace()}),this._toDispose.push(this._replaceBtn),this._replaceAllBtn=new f(n.localize("vs_editor_contrib_find_findWidget",9),"replace-all").onTrigger(function(){e._controller.replaceAll()}),this._toDispose.push(this._replaceAllBtn);var i=document.createElement("div");return i.className="replace-part",i.appendChild(r),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),i},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),r=this._buildReplacePart();this._toggleReplaceBtn=new f(n.localize("vs_editor_contrib_find_findWidget",10),"toggle left").onTrigger(function(){e._isReplaceVisible?e._disableReplace(!0):e._enableReplace(!0)}),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._toDispose.push(this._toggleReplaceBtn),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","false"),this._codeEditor.getConfiguration().readOnly||o.addClass(this._domNode,"can-replace"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(r)},t.prototype._reveal=function(e){var t=this;this._isVisible||(this._findInput.enable(),this._isReplaceVisible&&this._replaceInputBox.enable(),this._toggleSelectionFind.enable(),this._closeBtn.setEnabled(!0),this._onFindValueChange(),this._isVisible=!0,window.setTimeout(function(){o.addClass(t._domNode,"visible"),e||(o.addClass(t._domNode,"noanimation"),window.setTimeout(function(){o.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this))},t.prototype._hide=function(e){this._isVisible&&(this._findInput.disable(),this._replaceInputBox.disable(),this._toggleSelectionFind.disable(),this._closeBtn.setEnabled(!1),this._prevBtn.setEnabled(!1),this._nextBtn.setEnabled(!1),this._replaceBtn.setEnabled(!1),this._replaceAllBtn.setEnabled(!1),o.removeClass(this._domNode,"visible"),this._isVisible=!1,e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this))},t.prototype.addUserInputEventListener=function(e){return this.addListener2(t._USER_INPUT_EVENT,e)},t.prototype._emitUserInputEvent=function(e){var n={jumpToNextMatch:e};this.emit(t._USER_INPUT_EVENT,n)},t.prototype.addClosedEventListener=function(e){return this.addListener2(t._USER_CLOSED_EVENT,e)},t.prototype._emitClosedEvent=function(){this.emit(t._USER_CLOSED_EVENT)},t._USER_CLOSED_EVENT="close",t._USER_INPUT_EVENT="userInputEvent",t.ID="editor.contrib.findWidget",t.PART_WIDTH=275,t.FIND_INPUT_AREA_WIDTH=t.PART_WIDTH-54,t.REPLACE_INPUT_AREA_WIDTH=t.FIND_INPUT_AREA_WIDTH,t}(i.EventEmitter);t.FindWidget=h;var m=function(){function e(t,n){this._domNode=document.createElement("div"),this._domNode.className="monaco-checkbox",this._domNode.title=n,this._checkbox=document.createElement("input"),this._checkbox.type="checkbox",this._checkbox.className="checkbox",this._checkbox.id="checkbox-"+e.COUNTER++,this.label=document.createElement("label"),this.label.className="label",this.label.htmlFor=this._checkbox.id,this._domNode.appendChild(this._checkbox),this._domNode.appendChild(this.label),t.appendChild(this._domNode)}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkbox",{get:function(){return this._checkbox},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._checkbox.focus()},e.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},e.prototype.disable=function(){this._checkbox.disabled=!0},e.prototype.dispose=function(){this._domNode=null,this._checkbox=null,this.label=null},e.COUNTER=0,e}();t.Checkbox=m;var f=function(){function e(e,t){var n=this;this._onTrigger=null,this._onKeyDown=null,this._domNode=document.createElement("div"),this._domNode.title=e,this._domNode.tabIndex=-1,this._domNode.className="button "+t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",e),this._toDispose=[],this._toDispose.push(o.addStandardDisposableListener(this._domNode,"click",function(e){n._invokeOnTrigger(),e.preventDefault()})),this._toDispose.push(o.addStandardDisposableListener(this._domNode,"keydown",function(e){var t=e.asString();return"Space"===t||"Enter"===t?(n._invokeOnTrigger(),e.preventDefault(),void 0):(n._invokeOnKeyDown(e),void 0)}))}return e.prototype.dispose=function(){this._toDispose=p.disposeAll(this._toDispose)},Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(e){o.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},e.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(e))},e.prototype.toggleClass=function(e,t){o.toggleClass(this._domNode,e,t)},e.prototype.onTrigger=function(e){return this._onTrigger=e,this},e.prototype.onKeyDown=function(e){return this._onKeyDown=e,this},e.prototype._invokeOnTrigger=function(){this._onTrigger&&this._onTrigger()},e.prototype._invokeOnKeyDown=function(e){this._onKeyDown&&this._onKeyDown(e)},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/find",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/editor/editorExtensions","./findWidget","./findModel","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/core/constants","vs/base/lifecycle"],function(e,t,n,r,i,o,s,a,l,c){var u=function(){function e(e,t){var n=this;this._findWidgetVisible=e.keybindingService.createKey(f,!1),this.editor=t,this.model=null,this.widgetIsVisible=!1,this.lastState=null,this.widget=new o.FindWidget(this.editor,this,e.contextViewService),this.widgetListeners=[],this.widgetListeners.push(this.widget.addUserInputEventListener(function(e){return n.onWidgetUserInput(e)})),this.widgetListeners.push(this.widget.addClosedEventListener(function(){return n.onWidgetClosed()})),this.editorListeners=[],this.editorListeners.push(this.editor.addListener(l.EventType.ModelChanged,function(){n.disposeBindingAndModel(),n.editor.getModel()&&n.lastState&&n.widgetIsVisible&&n._start(!1,!1,!1,!1)})),this.editorListeners.push(this.editor.addListener(l.EventType.Disposed,function(){n.editorListeners.forEach(function(e){e()}),n.editorListeners=[]}))}return e.getFindController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widgetListeners=c.disposeAll(this.widgetListeners),this.widget&&(this.widget.dispose(),this.widget=null),this.disposeBindingAndModel()},e.prototype.disposeBindingAndModel=function(){this._findWidgetVisible.reset(),this.widget&&this.widget.setModel(null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.closeFindWidget=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel(),this.editor.focus()},e.prototype.onWidgetClosed=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel()},e.prototype.onWidgetUserInput=function(e){this.lastState=this.widget.getState(),this.model&&this.model.recomputeMatches(this.lastState,e.jumpToNextMatch)},e.prototype._start=function(e,t,n,r){this.model||(this.model=new s.FindModelBoundToEditorModel(this.editor),this.widget.setModel(this.model)),this._findWidgetVisible.set(!0),this.lastState=this.lastState||this.widget.getState();var i=this.editor.getSelection();if(i){t&&!i.isEmpty()&&i.startLineNumber===i.endLineNumber&&(this.lastState.searchString=this.editor.getModel().getValueInRange(i));var o=null;n&&i.startLineNumber<i.endLineNumber&&(o=i),e&&(this.lastState.isReplaceRevealed=e),this.model.start(this.lastState,o,r),this.widgetIsVisible=!0}},e.prototype.startFromAction=function(e){this._start(e,!0,!0,!0)},e.prototype.next=function(){return this.model?(this.model.next(),!0):!1},e.prototype.prev=function(){return this.model?(this.model.prev(),!0):!1},e.prototype.enableSelectionFind=function(){this.model&&this.model.setFindScope(this.editor.getSelection())},e.prototype.disableSelectionFind=function(){this.model&&this.model.setFindScope(null)},e.prototype.replace=function(){return this.model?(this.model.replace(),!0):!1},e.prototype.replaceAll=function(){return this.model?(this.model.replaceAll(),!0):!1},e.ID="editor.contrib.findController",e}();t.FindController=u;var d=function(e){function t(t,n,r,o){void 0===o&&(o=i.Behaviour.WidgetFocus),e.call(this,t,n,r,o)}return __extends(t,e),t.prototype._startController=function(e){e.startFromAction(!1)},t.prototype.run=function(){var e=u.getFindController(this.editor);return this._startController(e),r.TPromise.as(!0)},t}(i.EditorAction);t.StartFindAction=d;var p=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=u.getFindController(this.editor);return e.next()?r.TPromise.as(!0):this.editor.getAction(s.START_FIND_ID).run()},t}(i.EditorAction);t.NextMatchFindAction=p;var h=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=u.getFindController(this.editor);return e.prev()?r.TPromise.as(!0):this.editor.getAction(s.START_FIND_ID).run()},t}(i.EditorAction);t.PreviousMatchFindAction=h;var m=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.WidgetFocus|i.Behaviour.Writeable)}return __extends(t,e),t.prototype.getId=function(){return s.START_FIND_REPLACE_ID},t.prototype._startController=function(e){e.startFromAction(!0)},t}(d);t.StartFindReplaceAction=m;var f="findWidgetVisible",v=n.isMacintosh?{ctrlCmd:!0,alt:!0,key:"F"}:{ctrlCmd:!0,key:"H"};i.registerEditorActionContributionGlobal(d,s.START_FIND_ID,a.localize("vs_editor_contrib_find_find",0),{ctrlCmd:!0,key:"F3"},{ctrlCmd:!0,key:"F"}),n.isMacintosh?i.registerEditorActionContribution(p,s.NEXT_MATCH_FIND_ID,a.localize("vs_editor_contrib_find_find",1),!1,{key:"F3"},{ctrlCmd:!0,key:"G"}):i.registerEditorActionContribution(p,s.NEXT_MATCH_FIND_ID,a.localize("vs_editor_contrib_find_find",2),!1,{key:"F3"}),n.isMacintosh?i.registerEditorActionContribution(h,s.PREVIOUS_MATCH_FIND_ID,a.localize("vs_editor_contrib_find_find",3),!1,{shift:!0,key:"F3"},{ctrlCmd:!0,shift:!0,key:"G"}):i.registerEditorActionContribution(h,s.PREVIOUS_MATCH_FIND_ID,a.localize("vs_editor_contrib_find_find",4),!1,{shift:!0,key:"F3"}),i.registerEditorActionContributionGlobal(m,s.START_FIND_REPLACE_ID,a.localize("vs_editor_contrib_find_find",5),v),i.registerEditorContribution(u),i.registerEditorCommand("closeFindWidget",i.weight(5),{key:"Escape"},!1,f,function(e,t){u.getFindController(t).closeFindWidget()})}),define("vs/editor/core/editorState",["require","exports","vs/base/strings"],function(e,t,n){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new o(e,t)}!function(e){e[e.Value=0]="Value",e[e.Selection=1]="Selection",e[e.Position=2]="Position",e[e.Scroll=3]="Scroll"}(t.Flag||(t.Flag={}));var i=t.Flag;t.capture=r;var o=function(){function e(e,t){var r=this;this.editor=e,this.flags=t,t.forEach(function(e){switch(e){case i.Value:var t=r.editor.getModel();r.modelVersionId=t?n.format("{0}#{1}",t.getAssociatedResource().toString(),t.getVersionId()):null;break;case i.Position:r.position=r.editor.getPosition();break;case i.Selection:r.selection=r.editor.getSelection();break;case i.Scroll:r.scrollLeft=r.editor.getScrollLeft(),r.scrollTop=r.editor.getScrollTop()}})}return e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId!==n.modelVersionId?!1:this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop?!1:!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)?!1:!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection)?!1:!0},e.prototype.validate=function(){return this.equals(new e(this.editor,this.flags))},e}()}),define("vs/editor/contrib/format/formatCommand",["require","exports","vs/editor/core/range","vs/editor/core/position","vs/base/strings"],function(e,t,n,r,i){var o=function(){function e(e,t){this._edits=e,this._initialSelection=t}return e.prototype.getEditOperations=function(e,t){var r=this;this._edits.map(function(t){return r.fixLineTerminators(t,e)}).map(function(t){return r.trimEdit(t,e)}).filter(function(e){return null!==e}).forEach(function(e){return t.addEditOperation(n.create(e.range),e.text)});var i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e.prototype.fixLineTerminators=function(e,t){return e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL()),e},e.prototype.trimEdit=function(e,t){var n=t.getValueInRange(e.range),o=i.commonPrefixLength(e.text,n);if(o===n.length&&o===e.text.length)return null;var s=0;o!==n.length&&o!==e.text.length&&(s=i.commonSuffixLength(e.text,n));var a=new r.Position(e.range.startLineNumber,e.range.startColumn);a=t.modifyPosition(a,o);var l=new r.Position(e.range.endLineNumber,e.range.endColumn);l=t.modifyPosition(l,-s);var c=e.text.slice(o,e.text.length-s);return{text:c,range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:l.lineNumber,endColumn:l.column}}},e}();t.EditOperationsCommand=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/format/format",["require","exports","vs/base/types","vs/editor/core/range","vs/base/lifecycle","vs/editor/core/constants","vs/base/arrays","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/editorExtensions","vs/editor/core/editorState","vs/editor/contrib/format/formatCommand","vs/base/env"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=function(){function e(e,t){var n=this;this.editor=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(t.addListener(o.EventType.ConfigurationChanged,function(){return n.update()})),this.callOnDispose.push(t.addListener(o.EventType.ModelChanged,function(){return n.update()})),this.callOnDispose.push(t.addListener(o.EventType.ModelModeChanged,function(){return n.update()})),this.callOnDispose.push(t.addListener(o.EventType.ModelModeSupportChanged,function(e){e.formattingSupport&&n.update()}))}return e.prototype.update=function(){var e=this;if(this.callOnModel=i.cAll(this.callOnModel),this.editor.getConfiguration().formatOnType&&!n.isUndefinedOrNull(this.editor.getModel())){var t=this.editor.getModel(),r=t.getMode();!n.isUndefinedOrNull(r.formattingSupport)&&n.isFunction(r.formattingSupport.getAutoFormatTriggerCharacters)&&n.isFunction(r.formattingSupport.formatAfterKeystroke)&&(this.formattingOptions=this.editor.getIndentationOptions(),r.formattingSupport.getAutoFormatTriggerCharacters().forEach(function(t){e.callOnModel.push(e.editor.addTypingListener(t,e.trigger.bind(e,t)))}))}},e.prototype.trigger=function(e){var t=this,n=this.editor.getModel(),r=this.editor.getPosition(),i=!1,a=this.editor.addListener(o.EventType.ModelContentChanged,function(e){if(e.changeType===o.EventType.ModelContentChangedFlush)i=!0;else if(e.changeType===o.EventType.ModelContentChangedLineChanged){var t=e.lineNumber;i=t<=r.lineNumber}else if(e.changeType===o.EventType.ModelContentChangedLinesInserted){var n=e.fromLineNumber;i=n<=r.lineNumber}else if(e.changeType===o.EventType.ModelContentChangedLinesDeleted){var s=e.toLineNumber;i=s<=r.lineNumber}i&&a()});n.getMode().formattingSupport.formatAfterKeystroke(n.getAssociatedResource(),r,e,this.formattingOptions).then(function(e){a(),i||s.isFalsyOrEmpty(e)||t.editor.executeCommand(t.getId(),new u.EditOperationsCommand(e,t.editor.getSelection()))},function(e){throw a(),e})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()();for(;this.callOnModel.length>0;)this.callOnModel.pop()()},e.ID="editor.contrib.autoFormat",e}(),h=function(e){function t(t,n,r){e.call(this,t,n,r,l.Behaviour.WidgetFocus|l.Behaviour.Writeable|l.Behaviour.UpdateOnModelChange|l.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/2_format"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.formattingSupport&&(t.formattingSupport.formatDocument||t.formattingSupport.formatRange)&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e,t=this,n=this.editor.getModel(),i=n.getMode().formattingSupport,o="function"==typeof i.formatRange,s="function"==typeof i.formatDocument,a=this.editor.getSelection(),l=this.editor.getIndentationOptions();if(o){var u=a;u.isEmpty()?u=new r.Range(1,1,n.getLineCount(),n.getLineMaxColumn(n.getLineCount())):u.startColumn=1,e=i.formatRange(n.getAssociatedResource(),u,l)}else s&&(e=i.formatDocument(n.getAssociatedResource(),l));var d=c.capture(this.editor,c.Flag.Value,c.Flag.Position);return e.then(function(e){return d.validate()?e&&0!==e.length?(t.apply(t.editor,a,e),t.editor.focus(),!0):!1:!1})},t.prototype.apply=function(e,t,n){var r=null;t.isEmpty()&&(r=e.saveViewState());var i=new u.EditOperationsCommand(n,t);e.executeCommand(this.id,i),r&&e.restoreViewState(r)},t.ID="editor.action.format",t}(l.EditorAction);t.FormatAction=h;var m={ctrlCmd:!0,alt:!0,key:"F"};d.isLinux&&(m={ctrlCmd:!0,shift:!0,key:"I"}),l.registerEditorActionContribution(h,h.ID,a.localize("vs_editor_contrib_format_format",0),!0,m),l.registerEditorContribution(p)}),define("vs/editor/contrib/hover/hoverOperation",["require","exports","vs/base/time/schedulers","vs/base/errors"],function(e,t,n,r){var i;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(i||(i={}));var o=function(){function e(e,t,r,o){var s=this;this._computer=e,this._state=i.IDLE,this._firstWaitScheduler=new n.RunOnceScheduler(function(){return s._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new n.RunOnceScheduler(function(){return s._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new n.RunOnceScheduler(function(){return s._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=r,this._progressCallback=o}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=i.SECOND_WAIT,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync(),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}).done(null,function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=i.IDLE,this._onComplete(this._computer.getResult())):(this._state=i.WAITING_FOR_ASYNC_COMPUTATION,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){this._state===i.WAITING_FOR_ASYNC_COMPUTATION&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),this._state===i.WAITING_FOR_ASYNC_COMPUTATION&&(this._state=i.IDLE,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):r.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){this._state===i.IDLE&&(this._state=i.FIRST_WAIT,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===i.FIRST_WAIT&&this._firstWaitScheduler.cancel(),this._state===i.SECOND_WAIT&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&this._asyncComputationPromise.cancel()),this._state===i.WAITING_FOR_ASYNC_COMPUTATION&&this._asyncComputationPromise&&this._asyncComputationPromise.cancel(),this._state=i.IDLE},e.HOVER_TIME=300,e}();t.HoverOperation=o}),define("vs/editor/contrib/hover/hoverWidgets",["require","exports","vs/editor/editor","vs/editor/core/position","vs/base/dom/dom"],function(e,t,n,r,i){var o=function(){function e(e,t){this.allowEditorOverflow=!0,this._id=e,this._editor=t,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover monaco-editor-background",this._domNode=document.createElement("div"),this._domNode.style.display="inline-block",this._containerDomNode.appendChild(this._domNode),this._editor.addContentWidget(this),this._showAtPosition=null}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(e){this._showAtPosition=new r.Position(e.lineNumber,e.column),this._isVisible=!0;var t=Math.min(800,parseInt(this._containerDomNode.style.maxWidth,10));i.StyleMutator.setWidth(this._containerDomNode,t),i.StyleMutator.setHeight(this._containerDomNode,0),i.StyleMutator.setLeft(this._containerDomNode,0);var n=Math.min(t,this._domNode.clientWidth+5),o=this._domNode.clientHeight+1;i.StyleMutator.setWidth(this._containerDomNode,n),i.StyleMutator.setHeight(this._containerDomNode,o),this._editor.layoutContentWidget(this),this._editor.getOffsetForColumn(this._showAtPosition.lineNumber,this._showAtPosition.column)},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[n.ContentWidgetPositionPreference.ABOVE,n.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this.hide()},e}();t.ContentHoverWidget=o;var s=function(){function e(e,t){this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._editor.addOverlayWidget(this)}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(e){this._showAtLineNumber=e,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),r=this._editor.getScrollTop();this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=n-r+"px"},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this.hide()},e}();t.GlyphHoverWidget=s}),define("vs/css!vs/base/ui/widgets/progressbar",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/modesContentHover",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/core/range","vs/base/lib/winjs.base","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets","vs/base/dom/htmlContentRenderer","vs/css!vs/base/ui/widgets/progressbar"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel().getMode(),t=e.extraInfoSupport;return t?t.computeInfo(this._editor.getModel().getAssociatedResource(),{lineNumber:this._range.startLineNumber,column:this._range.startColumn}).then(function(e){if(e){var t="undefined"!=typeof e.range,n="undefined"!=typeof e.value,r="undefined"!=typeof e.htmlContent&&e.htmlContent&&e.htmlContent.length>0;if(t&&(n||r))return[e]}return null}):i.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=[],n=this._range.startLineNumber;if(n>this._editor.getModel().getLineCount())return t;var i=this._editor.getLineDecorations(n),o=this._editor.getModel().getLineMaxColumn(n);return i.forEach(function(i){var s=i.range.startLineNumber===n?i.range.startColumn:1,a=i.range.endLineNumber===n?i.range.endColumn:o;if(s<=e._range.startColumn&&e._range.endColumn<=a&&(i.options.hoverMessage||i.options.htmlMessage&&i.options.htmlMessage.length>0)){var l={value:i.options.hoverMessage,range:new r.Range(e._range.startLineNumber,s,e._range.startLineNumber,a)};i.options.htmlMessage&&(l.htmlContent=i.options.htmlMessage),t.push(l)}}),t},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,htmlContent:[{tagName:"div",className:"",children:[{text:n.localize("vs_editor_contrib_hover_modesContentHover",0)}]}]}},e}(),c=function(e){function t(n){var r=this;e.call(this,t.ID,n),this._computer=new l(this._editor),this._highlightDecorations=[],this._hoverOperation=new o.HoverOperation(this._computer,function(e){return r._withResult(e,!0)},null,function(e){return r._withResult(e,!1)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())
},t.prototype.startShowingAt=function(e){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var t=[],n=0,r=this._messages.length;r>n;n++){var i=this._messages[n],o=i.range;o.startColumn<=e.startColumn&&o.endColumn>=e.endColumn&&t.push(i)}t.length>0?this._renderMessages(e,t):this.hide()}this._lastRange=e,this._computer.setRange(e),this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[])},t.prototype._withResult=function(e,t){this._messages=e,this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,t){var n=Number.MAX_VALUE,i=t[0].range,o=document.createDocumentFragment();t.forEach(function(e){if(e.range){n=Math.min(n,e.range.startColumn),i=r.plusRange(i,e.range);var t=document.createElement("div"),s=null,l=t;e.className&&(s=document.createElement("span"),s.className=e.className,l=s,t.appendChild(s)),e.htmlContent&&e.htmlContent.length>0?e.htmlContent.forEach(function(e){l.appendChild(a.renderHtml(e))}):l.textContent=e.value,o.appendChild(t)}}),this._domNode.textContent="",this._domNode.appendChild(o),this.showAt({lineNumber:e.startLineNumber,column:n}),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:i,options:{className:"hoverHighlight"}}])},t.ID="editor.contrib.modesContentHoverWidget",t}(s.ContentHoverWidget);t.ModesContentHoverWidget=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/modesGlyphHover",["require","exports","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets"],function(e,t,n,r){var i=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e,t,n,r=[],i=this._editor.getLineDecorations(this._lineNumber);for(e=0,t=i.length;t>e;e++)n=i[e],n.options.glyphMarginClassName&&n.options.hoverMessage&&r.push({value:n.options.hoverMessage});return r},e.prototype.onResult=function(e){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),o=function(e){function t(r){var o=this;e.call(this,t.ID,r),-1===this._lastLineNumber,this._computer=new i(this._editor),this._hoverOperation=new n.HoverOperation(this._computer,function(e){return o._withResult(e)},null,function(e){return o._withResult(e)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("div"),r=null;e.className?(r=document.createElement("span"),r.textContent=e.value,r.className=e.className,t.appendChild(r)):t.textContent=e.value,n.appendChild(t)}),this._domNode.textContent="",this._domNode.appendChild(n),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(r.GlyphHoverWidget);t.ModesGlyphHoverWidget=o}),define("vs/css!vs/editor/contrib/hover/hover",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/hover/hover",["require","exports","vs/editor/core/constants","vs/editor/editorExtensions","vs/editor/editor","vs/base/env","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/hover/modesGlyphHover","vs/css!./hover"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e,t){var r=this;this._editor=t,this._toUnhook=[],t.getConfiguration().hover&&(this._toUnhook.push(this._editor.addListener(n.EventType.MouseDown,function(e){return r._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.MouseMove,function(e){return r._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.MouseLeave,function(){return r._hideWidgets()})),this._toUnhook.push(this._editor.addListener(n.EventType.KeyDown,function(e){return r._onKeyDown(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.ModelChanged,function(){return r._hideWidgets()})),this._toUnhook.push(this._editor.addListener(n.EventType.ModelDecorationsChanged,function(){return r._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.addListener("scroll",function(){return r._hideWidgets()})),this._contentWidget=new s.ModesContentHoverWidget(t),this._glyphWidget=new a.ModesGlyphHoverWidget(t))}return e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;(t!==i.MouseTargetType.CONTENT_WIDGET||e.target.detail!==s.ModesContentHoverWidget.ID)&&(t!==i.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==a.ModesGlyphHoverWidget.ID)&&this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=o.isMacintosh?"metaKey":"ctrlKey";(t!==i.MouseTargetType.CONTENT_WIDGET||e.target.detail!==s.ModesContentHoverWidget.ID||e.event[n])&&(t!==i.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==a.ModesGlyphHoverWidget.ID||e.event[n])&&(this._editor.getConfiguration().hover&&t===i.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range)):this._editor.getConfiguration().hover&&t===i.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){var t=o.isMacintosh?"Meta":"Ctrl";e.key!==t&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this._toUnhook.length>0;)this._toUnhook.pop()();this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e}();r.registerEditorContribution(l)}),define("vs/base/severity",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings"],function(e,t,n,r){var i;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(i||(i={}));var i;return function(e){function t(t){return t?r.equalsIgnoreCase(s,t)?e.Error:r.equalsIgnoreCase(a,t)||r.equalsIgnoreCase(l,t)?e.Warning:r.equalsIgnoreCase(c,t)?e.Info:e.Ignore:e.Ignore}function i(e){return u[e]||r.empty}function o(e,t){return t-e}var s="error",a="warning",l="warn",c="info",u=Object.create(null);u[e.Error]=n.localize("vs_base_severity",0),u[e.Warning]=n.localize("vs_base_severity",1),u[e.Info]=n.localize("vs_base_severity",2),e.fromValue=t,e.toString=i,e.compare=o}(i||(i={})),i}),define("vs/css!vs/editor/contrib/rename/rename",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/rename/rename",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/editorExtensions","vs/editor/core/range","vs/base/severity","vs/editor/core/editorState","vs/editor/core/constants","vs/css!./rename"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e,t,n,r){var i=this;this._onDispose=r,this.editor=e,this.isDisposed=!1,this.editor.changeDecorations(function(e){i.decorations=[];for(var r=0,o=t.length;o>r;r++){var s="linked-editing-placeholder";i.decorations.push(e.addDecoration(n[r],{className:s}))}}),this.editor.setSelections(t),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(a.EventType.CursorPositionChanged,function(e){if(!i.isDisposed){var t=1+e.secondaryPositions.length;t!==i.decorations.length&&i.dispose()}}))}return e.prototype.onEnterOrEscape=function(){return this.isDisposed?void 0:(this.editor.setSelection(this.editor.getSelection()),this.dispose(),!0)},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._onDispose(),this.decorations=this.editor.deltaDecorations(this.decorations,[]),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[])},e}(),c=function(){function e(e){this._editor=e}return e.prototype.showWhile=function(e,t){var n,r,i=this;return r=setTimeout(function(){n=i._addDecoration()},t||0),e.then(function(e){return clearTimeout(r),i._removeDecoration(n),e},function(e){throw clearTimeout(r),i._removeDecoration(n),e})},e.prototype._addDecoration=function(){var e,t=this._editor.getPosition(),n=this._editor.getModel().getWordAtPosition(t,!1,!0);return this._editor.changeDecorations(function(r){e=r.addDecoration({startLineNumber:t.lineNumber,startColumn:n.startColumn,endLineNumber:t.lineNumber,endColumn:n.endColumn},{inlineClassName:"word-level-progress"})}),e},e.prototype._removeDecoration=function(e){e&&this._editor.changeDecorations(function(t){t.removeDecoration(e)})},e.prototype.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];throw new Error("not implemented")},e}(),u=function(e){function t(t,n,i){e.call(this,t,n,i,r.Behaviour.WidgetFocus|r.Behaviour.Writeable|r.Behaviour.ShowInContextMenu|r.Behaviour.UpdateOnCursorPositionChange),this._idPool=0,this._messageService=t.messageService,this._progressService=new c(this.editor),this._currentController=null,this._changeAllMode=t.keybindingService.createKey(d,!1)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/1_changeAll"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.occurrencesSupport&&e.prototype.isSupported.call(this)},t.prototype.computeInfos=function(e){var t=e.getSelection(),n=t.getStartPosition(),r=e.getModel();return this.editor.getModel().getMode().occurrencesSupport.findOccurrences(r.getAssociatedResource(),n)},t.prototype.run=function(){var e=this,t=++this._idPool,n=s.capture(this.editor,s.Flag.Position,s.Flag.Value),r=this.editor.getSelection(),i=this.computeInfos(this.editor);return this._progressService&&this._progressService.showWhile(i,500),i.then(function(i){if(t===e._idPool&&n.validate()&&0!==i.length){var o=i.map(function(e){return e.range});e._beginLinkedEditing(o,r)}},function(t){e._messageService.show(o.Info,t)})},t.prototype._indexOf=function(e,t,n){for(var r={lineNumber:t,column:n},o=0;o<e.length;o++)if(e[o].startLineNumber===t&&i.containsPosition(e[o],r))return o;return-1},t.prototype._beginLinkedEditing=function(e,t){var n=this;this._currentController&&(this._currentController.dispose(),this._currentController=null);var r=this.editor.getSelection(),o=this._indexOf(e,r.positionLineNumber,r.positionColumn);if(-1!==o||(r=t,o=this._indexOf(e,r.positionLineNumber,r.positionColumn),-1!==o)){var s=!1;r.isEmpty()||i.containsPosition(e[o],{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn})&&(s=!0);var a,c;s?(a=r.positionColumn-e[o].startColumn,c=r.selectionStartColumn-e[o].startColumn):(a=e[o].endColumn-e[o].startColumn,c=0);var u=[];u.push({selectionStartLineNumber:e[o].startLineNumber,selectionStartColumn:e[o].startColumn+c,positionLineNumber:e[o].startLineNumber,positionColumn:e[o].startColumn+a});for(var d=0;d<e.length;d++)d!==o&&u.push({selectionStartLineNumber:e[d].startLineNumber,selectionStartColumn:e[d].startColumn+c,positionLineNumber:e[d].startLineNumber,positionColumn:e[d].startColumn+a});this._changeAllMode.set(!0),this._currentController=new l(this.editor,u,e,function(){n._changeAllMode.reset()})}},t.prototype.leaveChangeAllMode=function(){this._currentController&&(this._currentController.onEnterOrEscape(),this._currentController=null)},t.ID="editor.action.changeAll",t}(r.EditorAction);t.ChangeAllAction=u;var d="inChangeAllMode",p=r.weight(30);r.registerEditorActionContribution(u,u.ID,n.localize("vs_editor_contrib_rename_rename",0),!0,{ctrlCmd:!0,key:"F2"}),r.registerEditorCommand("leaveChangeAllMode",p,[{key:"Enter"},{key:"Escape"}],!0,d,function(e,t){var n=t.getAction(u.ID);n.leaveChangeAllMode()})}),define("vs/editor/contrib/rename/changeRecorder",["require","exports","vs/base/collections","vs/base/arrays","vs/platform/services","vs/css!./rename"],function(e,t,n,r,i){var o=function(){function e(e){this._eventService=e.eventService}return e.prototype.start=function(){var e=Object.create(null),t=this._eventService.addListener(i.Files.EventType.FILE_CHANGES,function(t){t.changes.forEach(function(t){var n=String(t.resource),r=e[n];r||(e[n]=r=[]),r.push(t)})});return{stop:t,hasChanged:function(t){return!!e[t.toString()]},allChanges:function(){return r.merge(n.values(e))}}},e}();t.ChangeRecorder=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/rename/renameModel",["require","exports","vs/base/lib/winjs.base","vs/base/uri","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/arrays","vs/base/collections","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(e){this._endCursorSelection=null,this._model=e,this._edits=[]}return e.prototype.addEdit=function(e){var t;t=e.range?e.range:this._model.getFullModelRange(),this._edits.push({range:a.create(t),text:e.newText,identifier:{major:0,minor:0}})},e.prototype.apply=function(){var t=this;0!==this._edits.length&&(this._edits.sort(e._editCompare),this._model.pushEditOperations(this._getInitialSelections(),this._edits,function(e){return t._getEndCursorSelections(e)}))},e.prototype._getInitialSelections=function(){var e=this._edits[0].range,t=new l.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);return[t]},e.prototype._getEndCursorSelections=function(e){var t=e[0].range;return this._endCursorSelection=new l.Selection(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn),[this._endCursorSelection]},e.prototype.getEndCursorSelection=function(){return this._endCursorSelection},e._editCompare=function(e,t){return a.compareRangesUsingStarts(e.range,t.range)},e}(),u=function(e){function t(t,n){e.call(this,t),this._initialSelections=n}return __extends(t,e),t.prototype._getInitialSelections=function(){return this._initialSelections},t}(c),d=function(){function e(e,t,n,r){this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._editorService=e.editorService,this._sourceModel=t,this._sourceSelections=n,this._sourceModelTask=null,"string"==typeof r?this.reject(r):r.edits.forEach(this._addEdit,this)}return e.prototype.reject=function(e){this._rejectReasons||(this._rejectReasons=[]),this._rejectReasons.push(e)},e.prototype.isRejected=function(){return!o.isFalsyOrEmpty(this._rejectReasons)},e.prototype.rejectReasons=function(){return this._rejectReasons},e.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},e.prototype.changeCount=function(){return this._numberOfChanges},e.prototype._addEdit=function(e){var t=this._edits[e.resource];t||(this._edits[e.resource]=t=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,t.push(e)},e.prototype.prepare=function(){var e=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var t=[];return s.forEach(this._edits,function(n){var o=e._editorService.resolveEditorModel({resource:r.parse(n.key)}).then(function(t){if(t&&t.textEditorModel){var r,o=t.textEditorModel;o.getAssociatedResource().equals(e._sourceModel)?(e._sourceModelTask=new u(o,e._sourceSelections),r=e._sourceModelTask):r=new c(o),n.value.forEach(function(e){return r.addEdit(e)}),e._tasks.push(r)}else e.reject(i.localize("vs_editor_contrib_rename_renameModel",0,n.key))});t.push(o)}),n.TPromise.join(t).then(function(){return e})},e.prototype.apply=function(){this._tasks.forEach(function(e){return e.apply()});var e=null;return this._sourceModelTask&&(e=this._sourceModelTask.getEndCursorSelection()),e},e}();return d}),define("vs/editor/contrib/rename/renameInputField",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/base/errors","vs/base/lifecycle","vs/editor/core/constants","vs/editor/core/range","vs/editor/editor","vs/css!./rename"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(e,t){this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=t,this._editor.addContentWidget(this)}return e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._domNode=document.createElement("div"),this._domNode.style.height=""+this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField)),this._domNode},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[l.ContentWidgetPositionPreference.BELOW,l.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},e.prototype.getInput=function(e,t,l,c){var u=this;this._position={lineNumber:e.startLineNumber,column:e.startColumn},this._inputField.value=t,this._inputField.setAttribute("selectionStart",l.toString()),this._inputField.setAttribute("selectionEnd",c.toString());var d,p=[];return d=function(){o.disposeAll(p),u._hide()},new n.TPromise(function(n,o){u._currentCancelInput=function(){return u._currentAcceptInput=null,u._currentCancelInput=null,o(i.canceled()),!0},u._currentAcceptInput=function(){return r.isFalsyOrWhitespace(u._inputField.value)||u._inputField.value===t?(u._currentCancelInput(),void 0):(u._currentAcceptInput=null,u._currentCancelInput=null,n(u._inputField.value),void 0)};var l=function(){a.containsPosition(e,u._editor.getPosition())||u._currentCancelInput()};p.push(u._editor.addListener2(s.EventType.CursorSelectionChanged,l)),p.push(u._editor.addListener2(s.EventType.EditorBlur,u._currentCancelInput)),u._show()},this._currentCancelInput).then(function(e){return d(),e},function(e){return d(),n.TPromise.wrapError(e)})},e.prototype._show=function(){var e=this;this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e}();return c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/rename/rename2",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/errors","vs/base/uri","vs/editor/editorExtensions","vs/editor/modes/supports","vs/editor/contrib/rename/changeRecorder","vs/editor/contrib/rename/renameModel","vs/editor/contrib/rename/renameInputField","vs/base/severity","vs/css!./rename"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=function(e){function t(t,n,r){e.call(this,t,n,r,s.Behaviour.WidgetFocus|s.Behaviour.Writeable|s.Behaviour.ShowInContextMenu|s.Behaviour.UpdateOnCursorPositionChange),this._messageService=t.messageService,this._instantiationService=t.instantiationService,this._renameInputField=this._instantiationService.createInstance(u,this.editor),this._renameInputVisible=t.keybindingService.createKey(h,!1)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/1_rename2"},t.prototype.isSupported=function(){return this.renameSupport()&&!this.editor.getModel().hasEditableRange()&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=this.renameSupport().filter;if(!n)return!0;var r=e.getLineContext(t.lineNumber);return a.isLineToken(r,t.column-1,n)?!0:t.column>1&&a.isLineToken(r,t.column-2,n)?!0:!1},t.prototype.renameSupport=function(){var e=this.editor.getModel();return e?e.getMode().renameSupport:null},t.prototype.run=function(){var e=this,t=this.renameSupport(),o=this.editor.getSelection(),s=this.editor.getModel().getWordAtPosition(o.getStartPosition(),!1);if(!t)return n.TPromise.wrapError(r.localize("vs_editor_contrib_rename_rename2",0));if(s){var a,l=o.startLineNumber,c=0,u=s.word.length;return a={startLineNumber:l,startColumn:s.startColumn,endLineNumber:l,endColumn:s.endColumn},o.isEmpty()||o.startLineNumber!==o.endLineNumber||(c=Math.max(0,o.startColumn-s.startColumn),u=Math.min(s.endColumn,o.endColumn)-s.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(a,s.word,c,u).then(function(n){return e._renameInputVisible.reset(),e._prepareRename(t,n).then(function(t){if(t.isRejected()){var n=t.rejectReasons().join("\n");e._messageService.show(d.Warning,n)}else{var r=t.apply();e.editor.focus(),r&&e.editor.setSelection(r)}})},function(t){return e._renameInputVisible.reset(),e.editor.focus(),i.isPromiseCanceledError(t)?void 0:n.TPromise.wrapError(t)})}},t.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},t.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},t.prototype._prepareRename=function(e,t){var n=this,i=this._instantiationService.createInstance(l.ChangeRecorder).start(),o=this.editor.getModel().getAssociatedResource(),s=this.editor.getSelections();return e.rename(o,this.editor.getPosition(),t).then(function(e){var t,a;return t=e?e.rejectReason?n._instantiationService.createInstance(c,o,s,e.rejectReason):(a=n.errorIfConflicting(i,e))?n._instantiationService.createInstance(c,o,s,a):n._instantiationService.createInstance(c,o,s,e):n._instantiationService.createInstance(c,o,s,r.localize("vs_editor_contrib_rename_rename2",1)),t.isRejected()?t:t.prepare().then(function(){return(a=n.errorIfConflicting(i,e))&&t.reject(a),t})}).then(function(e){return i.stop(),e})},t.prototype.errorIfConflicting=function(e,t){var n=t.edits.map(function(e){return o.parse(e.resource)}).filter(function(t){return e.hasChanged(t)});return n.length>0?r.localize("vs_editor_contrib_rename_rename2",2,n.join(", ")):void 0},t.ID="editor.action.rename",t}(s.EditorAction);t.RenameAction=p;var h="renameInputVisible",m=s.weight(99);s.registerEditorActionContribution(p,p.ID,r.localize("vs_editor_contrib_rename_rename2",3),!0,{key:"F2"}),s.registerEditorCommand("acceptRenameInput",m,{key:"Enter"},!1,h,function(e,t){var n=t.getAction(p.ID);n.acceptRenameInput()}),s.registerEditorCommand("cancelRenameInput",m,{key:"Escape"},!1,h,function(e,t){var n=t.getAction(p.ID);n.cancelRenameInput()})}),define("vs/css!vs/editor/contrib/snippet/snippet",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/snippet/snippet",["require","exports","vs/base/collections","vs/base/strings","vs/editor/core/range","vs/editor/core/constants","vs/editor/core/command/replaceCommand","vs/editor/core/selection","vs/editor/editor","vs/editor/editorExtensions","vs/css!./snippet"],function(e,t,n,r,i,o,s,a,l,c){function u(e){return e.getContribution(m.ID)}!function(e){e[e.TextMateSnippet=0]="TextMateSnippet",e[e.EmmetSnippet=1]="EmmetSnippet"}(t.ExternalSnippetType||(t.ExternalSnippetType={}));var d=t.ExternalSnippetType,p=function(){function e(e){this.lines=[],this.placeHolders=[],this._lastGeneratedId=0,this.startPlaceHolderIndex=0,this.finishPlaceHolderIndex=-1,this.parseTemplate(e)}return e.prototype.parseTemplate=function(e){var t,r,o,s,a={},l=e.split("\n");for(t=0,r=l.length;r>t;t++){var c=this.parseLine(l[t]);for(o=0,s=c.placeHolders.length;s>o;o++){var u,d=c.placeHolders[o],p=new i.Range(t+1,d.startColumn,t+1,d.endColumn);n.contains(a,d.id)?u=a[d.id]:(u={id:d.id,value:d.value,occurences:[]},this.placeHolders.push(u),""===d.value&&(this.finishPlaceHolderIndex=this.placeHolders.length-1),a[d.id]=u),u.occurences.push(p)}this.lines.push(c.line)}if(this.placeHolders.length>this.startPlaceHolderIndex){var h=this.placeHolders[this.startPlaceHolderIndex];""===h.value&&""===h.id&&this.placeHolders.length>1&&this.startPlaceHolderIndex++}},e.prototype.parseLine=function(e){for(var t=[{placeHolderId:"",placeHolderText:""}],n=[],r=0,i=e.length,o=0;i>r;){var s=e.substr(r);if(/^{{/.test(s)){r+=2,t.push({placeHolderId:"",placeHolderText:""});var a=s.match(/^{{(\w+):/);Array.isArray(a)&&2===a.length&&(t[t.length-1].placeHolderId=a[1],r+=a[1].length+1)}else t.length>1&&/^}}/.test(s)?(r+=2,0===t[t.length-1].placeHolderId.length&&(t[t.length-1].placeHolderId=t[t.length-1].placeHolderText,"_"===t[t.length-1].placeHolderId&&(t[t.length-1].placeHolderId="TAB_STOP_"+String(++this._lastGeneratedId),t[t.length-1].placeHolderText="",--o)),n.push({id:t[t.length-1].placeHolderId,value:t[t.length-1].placeHolderText,startColumn:o+1-t[t.length-1].placeHolderText.length,endColumn:o+1}),t[t.length-2].placeHolderText+=t[t.length-1].placeHolderText,t.pop()):(/^\\./.test(s)&&++r,t[t.length-1].placeHolderText+=e.charAt(r),++o,++r)}return n.sort(function(e,t){return e.startColumn<t.startColumn?-1:e.startColumn>t.startColumn?1:e.endColumn<t.endColumn?-1:e.endColumn>t.endColumn?1:0}),{line:t[0].placeHolderText,placeHolders:n}},e.convertExternalSnippet=function(e,t){for(var n=0,r="",i=0,o=e.length;o>i;){var s=e.substr(i);if(/^\$0/.test(s))i+=2,r+=t===d.EmmetSnippet?"{{_}}":"{{}}";else if(/^\$\{0\}/.test(s))i+=4,r+=t===d.EmmetSnippet?"{{_}}":"{{}}";else if(t===d.EmmetSnippet&&/^\|/.test(s))++i,r+="{{}}";else{var a=s.match(/^\$(\d+)/);Array.isArray(a)&&2===a.length?(i+=1+a[1].length,r+="{{"+a[1]+":}}"):(a=s.match(/^\$\{(\d+)\}/),Array.isArray(a)&&2===a.length?(i+=3+a[1].length,r+="{{"+a[1]+":}}"):/^\${/.test(s)?(i+=2,++n,r+="{{"):n>0&&/^}/.test(s)?(i+=1,--n,r+="}}"):/^\\./.test(s)?(i+=2,r+=s.substr(0,2)):(a=s.match(/^({|})/),Array.isArray(a)&&2===a.length?(i+=1,r+="\\"+a[1]):(i+=1,r+=s.charAt(0))))}}return r},e.prototype.extractLineIndentation=function(e,t){void 0===t&&(t=Number.MAX_VALUE);var n=r.getLeadingWhitespace(e);return n.length>t-1?n.substring(0,t-1):n},e.prototype.bind=function(e,t,n,r){var i,o,s,a,l,c,u,d,p=[],h=[],m=this.extractLineIndentation(e,n+1),f=[];for(l=0,c=this.lines.length;c>l;l++)i=this.lines[l],0===l?(f[l+1]=n,p[l]=i):(o=this.extractLineIndentation(i),s=i.substr(o.length),a=r.normalizeIndentation(m+o),f[l+1]=a.length-o.length,p[l]=a+s);var v,g,b;for(l=0,c=this.placeHolders.length;c>l;l++){for(v=this.placeHolders[l],b=[],u=0,d=v.occurences.length;d>u;u++)g=v.occurences[u],b.push({startLineNumber:g.startLineNumber+t,startColumn:g.startColumn+f[g.startLineNumber],endLineNumber:g.endLineNumber+t,endColumn:g.endColumn+f[g.endLineNumber]});h.push({id:v.id,value:v.value,occurences:b})}return{lines:p,placeHolders:h,startPlaceHolderIndex:this.startPlaceHolderIndex,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},e}();t.CodeSnippet=p;var h=function(){function e(e,t,n,r,i){this.editor=e,this._onStop=i,this.model=e.getModel(),this.finishPlaceHolderIndex=t.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=t.startPlaceHolderIndex,this.highlightDecorationId=null,this.isFinished=!1,this._initialAlternativeVersionId=r,this.initialize(t,n)}return e.prototype.dispose=function(){this.stopAll()},e.prototype.initialize=function(e,t){var n,r,s=this;for(n=0,r=e.placeHolders.length;r>n;n++){for(var a=e.placeHolders[n],c=[],u=0,d=a.occurences.length;d>u;u++)c.push(this.model.addTrackedRange(a.occurences[u],l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges));this.trackedPlaceHolders.push({ranges:c})}this.editor.changeDecorations(function(o){var a=t+e.lines.length-1,l=s.model.getLineMaxColumn(a);for(s.highlightDecorationId=o.addDecoration(new i.Range(t,1,a,l),{className:"new-snippet",isWholeLine:!0}),n=0,r=s.trackedPlaceHolders.length;r>n;n++){var c=n===s.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";s.placeHolderDecorations.push(o.addDecoration(s.model.getTrackedRange(s.trackedPlaceHolders[n].ranges[0]),{className:c}))}}),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(o.EventType.ModelContentChanged,function(e){if(!s.isFinished){if(e.changeType===o.EventType.ModelContentChangedFlush)s.stopAll();else if(e.changeType===o.EventType.ModelContentChangedLineChanged){var t=e.lineNumber,n=s.model.getDecorationRange(s.highlightDecorationId);(t<n.startLineNumber||t>n.endLineNumber)&&s.stopAll()}else if(e.changeType===o.EventType.ModelContentChangedLinesInserted){var r=e.fromLineNumber,n=s.model.getDecorationRange(s.highlightDecorationId);(r<n.startLineNumber||r>n.endLineNumber)&&s.stopAll()}else if(e.changeType===o.EventType.ModelContentChangedLinesDeleted){var i=e.fromLineNumber,a=e.toLineNumber,n=s.model.getDecorationRange(s.highlightDecorationId),l=a<n.startLineNumber,c=i>n.endLineNumber;(l||c)&&s.stopAll()}var u=s.editor.getModel().getAlternativeVersionId();s._initialAlternativeVersionId===u&&s.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(o.EventType.CursorPositionChanged,function(e){if(!s.isFinished){var t=s.model.getDecorationRange(s.highlightDecorationId),n=e.position.lineNumber;(n<t.startLineNumber||n>t.endLineNumber)&&s.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(o.EventType.ModelChanged,function(){s.stopAll()}));var p=-1;this.listenersToRemove.push(this.editor.addListener(o.EventType.EditorBlur,function(){p=setTimeout(function(){s.stopAll()},100)})),this.listenersToRemove.push(this.editor.addListener(o.EventType.EditorFocus,function(){-1!==p&&(clearTimeout(p),p=-1)})),this.listenersToRemove.push(this.model.addListener(o.EventType.ModelDecorationsChanged,function(){if(!s.isFinished){for(var e=s.model.getEditableRange(),t=null,n=!0,r=!0,i=0;(n||r)&&i<s.trackedPlaceHolders.length;i++)for(var o=s.trackedPlaceHolders[i].ranges,a=0;(n||r)&&a<o.length;a++){var l=s.model.getTrackedRange(o[a]);n&&(l.isEmpty()?null===t?t=l:t.equalsRange(l)||(n=!1):n=!1),r&&!e.equalsRange(l)&&(r=!1)}if(n||r)s.stopAll();else if(-1!==s.finishPlaceHolderIndex){var c=s.placeHolderDecorations[s.finishPlaceHolderIndex],u=s.model.getDecorationRange(c),d=s.model.getDecorationOptions(c),p=u.isEmpty(),h="finish-snippet-placeholder"===d.className,m=Number(p)^Number(h);m&&s.editor.changeDecorations(function(e){var t=p?"finish-snippet-placeholder":"snippet-placeholder";e.changeDecorationOptions(c,{className:t})})}}})),this.doLinkEditing()},e.prototype.onNextPlaceHolder=function(){return this.changePlaceHolder(!0)},e.prototype.onPrevPlaceHolder=function(){return this.changePlaceHolder(!1)},e.prototype.changePlaceHolder=function(e){if(this.isFinished)return!1;var t=this.currentPlaceHolderIndex,n=this.model.getTrackedRange(this.trackedPlaceHolders[t].ranges[0]),r=!0;
do{this.currentPlaceHolderIndex=e?(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length:(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length;var i=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[0]);r=n.equalsRange(i)}while(this.currentPlaceHolderIndex!==t&&r);return this.doLinkEditing(),!0},e.prototype.onAccept=function(){if(this.isFinished)return!1;if(-1!==this.finishPlaceHolderIndex){var e=this.model.getTrackedRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:e.endLineNumber,column:e.endColumn})}return this.stopAll(),!0},e.prototype.onEscape=function(){return this.isFinished?!1:(this.stopAll(),this.editor.setSelections([this.editor.getSelections()[0]]),!0)},e.prototype.doLinkEditing=function(){for(var e=[],t=0,n=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;n>t;t++){var r=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[t]);e.push({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn})}this.editor.setSelections(e)},e.prototype.stopAll=function(){var e=this;if(!this.isFinished){this._onStop(),this.isFinished=!0,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[];for(var t=0;t<this.trackedPlaceHolders.length;t++)for(var n=this.trackedPlaceHolders[t].ranges,r=0;r<n.length;r++)this.model.removeTrackedRange(n[r]);this.trackedPlaceHolders=[],this.editor.changeDecorations(function(t){t.removeDecoration(e.highlightDecorationId);for(var n=0;n<e.placeHolderDecorations.length;n++)t.removeDecoration(e.placeHolderDecorations[n]);e.placeHolderDecorations=[],e.highlightDecorationId=null})}},e}();t.get=u;var m=function(){function e(e,n){this._editor=n,this._currentController=null,this._inSnippetMode=e.keybindingService.createKey(t.CONTEXT_SNIPPET_MODE,!1)}return e.prototype.dispose=function(){this._currentController&&(this._currentController.dispose(),this._currentController=null)},e.prototype.getId=function(){return e.ID},e.prototype.run=function(e,t,n){this.dispose(),0===e.placeHolders.length?this._runForAllSelections(e,t,n):this._runForPrimarySelection(e,t,n)},e._getTypeRangeForSelection=function(e,t,n,r){var o;return o=n||r?e.validateRange(i.plusRange(t,{startLineNumber:t.positionLineNumber,startColumn:t.positionColumn-n,endLineNumber:t.positionLineNumber,endColumn:t.positionColumn+r})):t},e._getAdaptedSnippet=function(e,t,n,r){return n.bind(t.getLineContent(r.startLineNumber),r.startLineNumber-1,r.startColumn-1,e)},e._getCommandForSnippet=function(e,t){var n=e.lines.join("\n");return new s.ReplaceCommand(t,n)},e.prototype._runForPrimarySelection=function(t,n,r){var i=this,o=this._editor.getModel().getAlternativeVersionId(),s=e._prepareSnippet(this._editor,this._editor.getSelection(),t,n,r);this._editor.executeCommand("editor.contrib.insertSnippetHelper",e._getCommandForSnippet(s.adaptedSnippet,s.typeRange));var l=e._getSnippetCursorOnly(s.adaptedSnippet);l?this._editor.setSelection(new a.Selection(l.lineNumber,l.column,l.lineNumber,l.column)):s.adaptedSnippet.placeHolders.length>0&&(this._inSnippetMode.set(!0),this._currentController=new h(this._editor,s.adaptedSnippet,s.typeRange.startLineNumber,o,function(){i._inSnippetMode.reset()}))},e.prototype._runForAllSelections=function(t,n,r){var i,o=this._editor.getSelections(),s=[];for(i=0;i<o.length;i++){var a=e._prepareSnippet(this._editor,o[i],t,n,r);s.push(e._getCommandForSnippet(a.adaptedSnippet,a.typeRange))}this._editor.executeCommands("editor.contrib.insertSnippetHelper",s)},e._prepareSnippet=function(t,n,i,o,s){var a=t.getModel(),l=e._getTypeRangeForSelection(a,n,o,s);if(1===i.lines.length){var c=a.getLineContent(l.endLineNumber).substr(l.endColumn-1),u=i.lines[0].substr(o),d=r.commonPrefixLength(c,u);d>0&&(l=l.setEndPosition(l.endLineNumber,l.endColumn+d))}var p=e._getAdaptedSnippet(t,a,i,l);return{typeRange:l,adaptedSnippet:p}},e._getSnippetCursorOnly=function(e){if(1!==e.placeHolders.length)return null;var t=e.placeHolders[0];if(""!==t.value||1!==t.occurences.length)return null;var n=t.occurences[0];return i.isEmpty(n)?{lineNumber:n.startLineNumber,column:n.startColumn}:null},e.prototype.jumpToNextPlaceholder=function(){this._currentController&&this._currentController.onNextPlaceHolder()},e.prototype.jumpToPrevPlaceholder=function(){this._currentController&&this._currentController.onPrevPlaceHolder()},e.prototype.acceptSnippet=function(){this._currentController&&this._currentController.onAccept()},e.prototype.leaveSnippet=function(){this._currentController&&this._currentController.onEscape()},e.ID="editor.contrib.snippetController",e}();t.CONTEXT_SNIPPET_MODE="inSnippetMode";var f=c.weight(30);c.registerEditorContribution(m),c.registerEditorCommand("jumpToNextSnippetPlaceholder",f,{key:"Tab"},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){u(t).jumpToNextPlaceholder()}),c.registerEditorCommand("jumpToPrevSnippetPlaceholder",f,{shift:!0,key:"Tab"},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){u(t).jumpToPrevPlaceholder()}),c.registerEditorCommand("acceptSnippet",f,{key:"Enter"},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){u(t).acceptSnippet()}),c.registerEditorCommand("leaveSnippet",f,{key:"Escape"},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){u(t).leaveSnippet()})}),define("vs/editor/contrib/comment/blockCommentCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){var i=function(){function e(e){this._selection=e,this._usedEndToken=null}return e.prototype._haystackHasNeedleAtOffset=function(e,t,n){if(0>n)return!1;var r=t.length,i=e.length;if(n+r>i)return!1;for(var o=0;r>o;o++)if(e.charCodeAt(n+o)!==t.charCodeAt(o))return!1;return!0},e.prototype._createOperationsForBlockComment=function(e,t,r,i){var o=e.startLineNumber,s=e.startColumn,a=e.endLineNumber,l=e.endColumn,c=n.isEmpty(e),u=t.blockCommentStartToken,d=u.length,p=t.blockCommentEndToken,h=p.length,m=this._haystackHasNeedleAtOffset(r.getLineContent(o),u,s-1-d),f=this._haystackHasNeedleAtOffset(r.getLineContent(a),p,l-1);m&&f?c?i.addEditOperation(new n.Range(o,s-d,a,l+h),null):(i.addEditOperation(new n.Range(o,s-d,o,s),null),i.addEditOperation(new n.Range(a,l,a,l+h),null)):c?(i.addEditOperation(new n.Range(o,s,a,l),u+p),this._usedEndToken=p):(i.addEditOperation(new n.Range(o,s,o,s),u),i.addEditOperation(new n.Range(a,l,a,l),p))},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,r=this._selection.startColumn,i=this._selection.endLineNumber,o=this._selection.endColumn;i>n&&1===o&&(i-=1,o=e.getLineMaxColumn(i));var s=e.getModeAtPosition(n,r).commentsSupport;if(s){var a=s.getCommentsConfiguration();a&&a.blockCommentStartToken&&a.blockCommentEndToken&&this._createOperationsForBlockComment({startLineNumber:n,startColumn:r,endLineNumber:i,endColumn:o},a,e,t)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var i=n[0],o=n[1];return new r.Selection(i.range.endLineNumber,i.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length:0;return new r.Selection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/comment/lineCommentCommand",["require","exports","vs/editor/contrib/comment/blockCommentCommand","vs/base/strings","vs/editor/core/range"],function(e,t,n,r,i){var o=function(e){function t(t){e.call(this,t),this._hasDelegatedToParent=!1}return __extends(t,e),t.prototype._hasLineCommentTokensSupportForLines=function(e,t,n){for(var r,i,o=t;n>=o;o++){if(r=e.getModeAtPosition(o,1).commentsSupport,!r)return!1;if(i=r.getCommentsConfiguration(),!i||!i.lineCommentTokens||0===i.lineCommentTokens.length)return!1}return!0},t.prototype.getEditOperations=function(t,n){var o=this._selection;this._moveEndPositionDown=!1,o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));var s=t.getModeAtPosition(o.startLineNumber,o.startColumn).commentsSupport;if(s){if(!this._hasLineCommentTokensSupportForLines(t,o.startLineNumber,o.endLineNumber)){var a=s.getCommentsConfiguration();if(!a||!a.blockCommentStartToken||!a.blockCommentEndToken)return;var l=a.blockCommentStartToken,c=l.length,u=a.blockCommentEndToken,d=(u.length,t.getLineContent(o.startLineNumber).lastIndexOf(l,o.startColumn-1)),p=t.getLineContent(o.endLineNumber).indexOf(u,o.endColumn-1);return-1!==d&&-1!==p?(o.startColumn=d+c+1,o.endColumn=p+1):(o.startColumn=1,o.endColumn=t.getLineMaxColumn(o.endLineNumber)),this._hasDelegatedToParent=!0,e.prototype._createOperationsForBlockComment.call(this,o,a,t,n),void 0}var h,m,f,v,g=!0,b=[],y=[];for(v=o.startLineNumber;v<=o.endLineNumber;v++)f=t.getModeAtPosition(v,1).commentsSupport.getCommentsConfiguration().lineCommentTokens[0],y[v-o.startLineNumber]=f,g&&(h=t.getLineContent(v),m=r.firstNonWhitespaceIndex(h),-1===m?g=!1:this._haystackHasNeedleAtOffset(h,f,m)||(g=!1),b[v-o.startLineNumber]=m);if(g)for(v=o.startLineNumber;v<=o.endLineNumber;v++)n.addEditOperation(new i.Range(v,b[v-o.startLineNumber]+1,v,b[v-o.startLineNumber]+1+y[v-o.startLineNumber].length),null);else for(v=o.startLineNumber;v<=o.endLineNumber;v++)n.addEditOperation(new i.Range(v,1,v,1),y[v-o.startLineNumber]);this._selectionId=n.trackSelection(o)}},t.prototype.computeCursorState=function(t,n){if(this._hasDelegatedToParent)return e.prototype.computeCursorState.call(this,t,n);var r=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),r},t}(n.BlockCommentCommand);t.LineCommentCommand=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/comment/comment",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","./lineCommentCommand","./blockCommentCommand","vs/editor/editorExtensions"],function(e,t,n,r,i,o,s,a){var l=function(e){function t(t,n,r){e.call(this,t,n,r,a.defaultPrecondition)}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new o.LineCommentCommand(t[n]));return this.editor.executeCommands(this.id,e),i.TPromise.as(null)},t.ID="editor.action.commentLine",t}(a.EditorAction),c=function(e){function t(t,n,r){e.call(this,t,n,r,a.defaultPrecondition)}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new s.BlockCommentCommand(t[n]));return this.editor.executeCommands(this.id,e),i.TPromise.as(null)},t.ID="editor.action.blockComment",t}(a.EditorAction);a.registerEditorActionContribution(l,l.ID,n.localize("vs_editor_contrib_comment_comment",0),!0,{ctrlCmd:!0,key:"/"},{ctrlCmd:!0,key:"7"},{ctrlCmd:!0,key:"K",chord:{ctrlCmd:!0,key:"C"}},{ctrlCmd:!0,key:"K",chord:{ctrlCmd:!0,key:"U"}}),a.registerEditorActionContribution(c,c.ID,n.localize("vs_editor_contrib_comment_comment",1),!0,{ctrlCmd:r.isLinux,shift:!0,alt:!r.isLinux,key:"A"})}),define("vs/editor/contrib/linesOperations/copyLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){var i=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var r=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._endLineNumberDelta=1,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));for(var i=[],o=r.startLineNumber;o<=r.endLineNumber;o++)i.push(e.getLineContent(o));var s=i.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new n.Range(r.startLineNumber,1,r.startLineNumber,1),s+"\n"):t.addEditOperation(new n.Range(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(r),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var i=n.startLineNumber,o=n.startColumn,s=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(i+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),n=r.createWithDirection(i,o,s,a,this._selectionDirection)}return n},e}();t.CopyLinesCommand=i}),define("vs/editor/contrib/linesOperations/deleteLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){function i(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),new o(e.startLineNumber,t,e.positionColumn)}t.createFromSelection=i;var o=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var r=this.startLineNumber,i=this.endLineNumber,o=1,s=e.getLineMaxColumn(i);i<e.getLineCount()?(i+=1,s=1):r>1&&(r-=1,o=e.getLineMaxColumn(r)),t.addEditOperation(new n.Range(r,o,i,s),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return new r.Selection(i.endLineNumber,this.restoreCursorToColumn,i.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=o}),define("vs/editor/contrib/linesOperations/moveLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,r){var i=function(){function e(e,t){this._selection=e,this._isMovingDown=t}return e.prototype.getEditOperations=function(e,t){var i=e.getLineCount();if(!(this._isMovingDown&&this._selection.endLineNumber===i||!this._isMovingDown&&1===this._selection.startLineNumber)){this._moveEndPositionDown=!1;var o=this._selection;if(o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1))),o.startLineNumber===o.endLineNumber&&1===e.getLineMaxColumn(o.startLineNumber)){var s=o.startLineNumber,a=this._isMovingDown?s+1:s-1;1===e.getLineMaxColumn(a)?t.addEditOperation(new n.Range(1,1,1,1),null):(t.addEditOperation(new n.Range(s,1,s,1),e.getLineContent(a)),t.addEditOperation(new n.Range(a,1,a,e.getLineMaxColumn(a)),null)),o=new r.Selection(a,1,a,1)}else{var l,c;this._isMovingDown?(l=o.endLineNumber+1,c=e.getLineContent(l),t.addEditOperation(new n.Range(l-1,e.getLineMaxColumn(l-1),l,e.getLineMaxColumn(l)),null),t.addEditOperation(new n.Range(o.startLineNumber,1,o.startLineNumber,1),c+"\n")):(l=o.startLineNumber-1,c=e.getLineContent(l),t.addEditOperation(new n.Range(l,1,l+1,1),null),t.addEditOperation(new n.Range(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+c))}this._selectionId=t.trackSelection(o)}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),n},e}();t.MoveLinesCommand=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/linesOperations/linesOperations",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/editor/editorExtensions","./copyLinesCommand","./deleteLinesCommand","./moveLinesCommand","vs/editor/core/constants"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(t,n,r,i){e.call(this,t,n,r,o.defaultPrecondition),this.down=i}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new s.CopyLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),i.TPromise.as(!0)},t}(o.EditorAction),d=function(e){function t(t,n,r){e.call(this,t,n,r,!1)}return __extends(t,e),t.ID="editor.action.copyLinesUpAction",t}(u),p=function(e){function t(t,n,r){e.call(this,t,n,r,!0)}return __extends(t,e),t.ID="editor.action.copyLinesDownAction",t}(u),h=function(e){function t(t,n,r,i){e.call(this,t,n,r,o.defaultPrecondition),this.down=i}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new l.MoveLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),i.TPromise.as(!0)},t}(o.EditorAction),m=function(e){function t(t,n,r){e.call(this,t,n,r,!1)}return __extends(t,e),t.ID="editor.action.moveLinesUpAction",t}(h),f=function(e){function t(t,n,r){e.call(this,t,n,r,!0)}return __extends(t,e),t.ID="editor.action.moveLinesDownAction",t}(h),v=function(e){function t(t,n,r){e.call(this,t,n,r,o.defaultPrecondition)}return __extends(t,e),t.prototype._getLinesToRemove=function(){var e=this.editor.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});e.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var t=[],n=e[0],r=1;r<e.length;r++)n.endLineNumber+1===e[r].startLineNumber?n.endLineNumber=e[r].endLineNumber:(t.push(n),n=e[r]);return t.push(n),t},t}(o.EditorAction),g=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.run=function(){var e=this._getLinesToRemove(),t=e.map(function(e){return new a.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});return this.editor.executeCommands(this.id,t),i.TPromise.as(!0)},t.ID="editor.action.deleteLines",t}(v),b=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.run=function(){if(r.browser.isIE11orEarlier&&document.queryCommandSupported("cut")){var t=this._getLinesToRemove(),n=t.map(function(e){return{selectionStartLineNumber:e.startLineNumber,selectionStartColumn:1,positionLineNumber:e.endLineNumber+1,positionColumn:1}});return this.editor.setSelections(n),this.editor.focus(),document.execCommand("cut"),i.TPromise.as(!0)}return e.prototype.run.call(this)},t.ID="editor.action.cutLines",t}(g),y=function(e){function t(t,n,r){e.call(this,t,n,r,c.InternalHandlers.Indent)}return __extends(t,e),t.ID="editor.action.indentLines",t}(o.HandlerEditorAction),_=function(e){function t(t,n,r){e.call(this,t,n,r,c.InternalHandlers.Outdent)}return __extends(t,e),t.ID="editor.action.outdentLines",t}(o.HandlerEditorAction),w=function(e){function t(t,n,r){e.call(this,t,n,r,c.InternalHandlers.LineInsertBefore)}return __extends(t,e),t.ID="editor.action.insertLineBefore",t}(o.HandlerEditorAction),E=function(e){function t(t,n,r){e.call(this,t,n,r,c.InternalHandlers.LineInsertAfter)}return __extends(t,e),t.ID="editor.action.insertLineAfter",t}(o.HandlerEditorAction);o.registerEditorActionContribution(b,b.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",0),!0,{shift:!0,key:"Delete"}),o.registerEditorActionContribution(g,g.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",1),!0,{ctrlCmd:!0,shift:!0,key:"K"}),o.registerEditorActionContribution(f,f.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",2),!0,{ctrlCmd:r.isLinux,alt:!r.isLinux,key:"DownArrow"}),o.registerEditorActionContribution(m,m.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",3),!0,{ctrlCmd:r.isLinux,alt:!r.isLinux,key:"UpArrow"}),o.registerEditorActionContribution(p,p.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",4),!0,{ctrlCmd:r.isLinux,alt:!0,shift:!0,key:"DownArrow"}),o.registerEditorActionContribution(d,d.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",5),!0,{ctrlCmd:r.isLinux,alt:!0,shift:!0,key:"UpArrow"}),o.registerEditorActionContribution(y,y.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",6),!0,{ctrlCmd:!0,key:"]"}),o.registerEditorActionContribution(_,_.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",7),!0,{ctrlCmd:!0,key:"["}),o.registerEditorActionContribution(w,w.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",8),!0,{ctrlCmd:!0,shift:!0,key:"Enter"}),o.registerEditorActionContribution(E,E.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",9),!0,{ctrlCmd:!0,key:"Enter"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/embeddedCodeEditorWidget",["require","exports","vs/editor/core/codeEditorWidget","vs/editor/core/constants","vs/base/objects"],function(e,t,n,r,i){var o=function(e){function t(t,n,i,o){var s=this;e.call(this,t,n,o.getRawConfiguration()),this._parentEditor=o,this._overwriteOptions=i,e.prototype.updateOptions.call(this,this._overwriteOptions),this._lifetimeListeners.push(o.addListener(r.EventType.ConfigurationChanged,function(e){return s._onParentConfigurationChanged(e)}))}return __extends(t,e),t.prototype._onParentConfigurationChanged=function(){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){i.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t}(n.CodeEditorWidget);t.EmbeddedCodeEditorWidget=o}),define("vs/css!vs/base/ui/widgets/actionbar",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/actionbar",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/base/dom/dom","vs/base/ui/events","vs/base/types","vs/base/eventEmitter","vs/base/dom/touch","vs/base/dom/keyboardEvent","vs/css!./actionbar"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=i.$,h=function(e){function t(t,n){var r=this;if(e.call(this),this._callOnDispose=[],this._context=t||this,this._action=n,n instanceof o.Action){var i=n.addBulkListener(function(e){r.builder&&e.forEach(function(e){switch(e.getType()){case o.Action.ENABLED:r._updateEnabled();break;case o.Action.LABEL:r._updateLabel(),r._updateTooltip();break;case o.Action.TOOLTIP:r._updateTooltip();break;case o.Action.CLASS:r._updateClass();break;case o.Action.CHECKED:r._updateChecked();break;default:r._updateUnknown(e)}})});this._callOnDispose.push(i)}}return __extends(t,e),Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=p(e),this.gesture=new u.Gesture(e),this.builder.on(s.EventType.CLICK,function(e){t.onClick(e)}),this.builder.on(u.EventType.Tap,function(e){t.onClick(e)}),this.builder.on("mousedown",function(e){0===e.button&&t._action.enabled&&t.builder.addClass("active")}),this.builder.on(["mouseup","mouseout"],function(e){0===e.button&&t._action.enabled&&t.builder.removeClass("active")})},t.prototype.onClick=function(e){s.EventHelper.stop(e,!0),this._actionRunner.run(this._action,this._context||e)},t.prototype.focus=function(){this.builder.domFocus(),this.builder.addClass("focused")},t.prototype.blur=function(){this.builder.removeClass("focused")},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTooltip=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype._updateUnknown=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),r.cAll(this._callOnDispose)},t}(c.EventEmitter);t.BaseActionItem=h;var m=function(e){function t(n,r){e.call(this,t.ID,n,n?"separator text":"separator"),this.checked=!1,this.enabled=!1,this.order=r}return __extends(t,e),t.ID="actions.monaco.separator",t}(o.Action);t.Separator=m;var f=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this,t,n),this.options=r,this.options.icon=void 0!==r.icon?r.icon:!1,this.options.label=void 0!==r.label?r.label:!0,this.cssClass=""}return __extends(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=p("a.action-label").attr("tabIndex","-1").appendTo(this.builder),this.$e.attr({role:"menuitem"}),this.options.label&&this.options.keybinding&&p("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n.localize("vs_base_ui_widgets_actionbar",0,e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled")):(this.builder.addClass("disabled"),this.$e.addClass("disabled"))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t}(h);t.ActionItem=f;var v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.render=function(t){var n=document.createElement("div");p(n).addClass("progress-item");var r=document.createElement("div");p(r).addClass("label"),r.textContent=this.getAction().label,r.title=this.getAction().label,e.prototype.render.call(this,r);var i=document.createElement("div");i.textContent="â¦",p(i).addClass("tag","progress");var o=document.createElement("div");o.textContent="â",p(o).addClass("tag","done");var s=document.createElement("div");s.textContent="!",p(s).addClass("tag","error"),this.callOnDispose.push(this.addListener(a.EventType.BEFORE_RUN,function(){p(i).addClass("active"),p(o).removeClass("active"),p(s).removeClass("active")})),this.callOnDispose.push(this.addListener(a.EventType.RUN,function(e){p(i).removeClass("active"),e.error?(p(o).removeClass("active"),p(s).addClass("active")):(p(s).removeClass("active"),p(o).addClass("active"))})),n.appendChild(r),n.appendChild(i),n.appendChild(o),n.appendChild(s),t.appendChild(n)},t.prototype.dispose=function(){r.cAll(this.callOnDispose),e.prototype.dispose.call(this)},t}(h);t.ProgressItem=v,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(t.ActionsOrientation||(t.ActionsOrientation={}));var g=t.ActionsOrientation,b={orientation:g.HORIZONTAL,context:null},y=function(e){function t(n,r){var i=this;void 0===r&&(r=b),e.call(this),this.builder=n,this.options=r,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new o.ActionRunner,this.toDispose.push(this._actionRunner)),this.toDispose.push(this.addEmitter2(this._actionRunner)),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this.domNode.tabIndex=0;var a=this.options.orientation===g.VERTICAL;a&&(this.domNode.className+=" vertical"),p(this.domNode).on(s.EventType.KEY_DOWN,function(e){var t=new d.KeyboardEvent(e),n=!0;switch(t.asString()){case a?"UpArrow":"LeftArrow":i.focusPrevious();break;case a?"DownArrow":"RightArrow":i.focusNext();break;case"Escape":i.cancel();break;case"Enter":break;default:n=!1}n&&(t.preventDefault(),t.stopPropagation())}),p(this.domNode).on(s.EventType.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}),p(this.domNode).on(s.EventType.KEY_UP,function(e){var t=new d.KeyboardEvent(e);switch(t.asString()){case"Enter":i.doTrigger(t),t.preventDefault(),t.stopPropagation()}});var l=s.trackFocus(this.domNode);l.addBlurListener(function(e){document.activeElement!==i.domNode&&s.isAncestor(document.activeElement,i.domNode)||i.emit("blur",e)}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","menu"),this.actionsList.setAttribute("aria-label",t.nlsActionBarAccessibleLabel),this.domNode.appendChild(this.actionsList),n&&n.getHTMLElement().appendChild(this.domNode)}return __extends(t,e),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return p(this.domNode)},t.prototype.push=function(e,t){var n=this;void 0===t&&(t={}),Array.isArray(e)||(e=[e]);var r=l.isNumber(t.index)?t.index:null;e.forEach(function(e){var i=document.createElement("li");i.className="action-item",i.setAttribute("role","presentation");var o=null;n.options.actionItemProvider&&(o=n.options.actionItemProvider(e)),o||(o=new f(n.options.context,e,t)),o.actionRunner=n._actionRunner,o.setActionContext(n.options.context),n.addEmitter(o),o.render(i),null===r||0>r||r>=n.actionsList.children.length?n.actionsList.appendChild(i):n.actionsList.insertBefore(i,n.actionsList.children[r++]),n.items.push(o)})},t.prototype.clear=function(){for(var e;e=this.items.pop();)e.dispose();p(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.onContentsChange=function(){this.emit(a.EventType.CONTENTS_CHANGED)},t.prototype.focus=function(e){e&&"undefined"==typeof this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.updateFocus=function(){if("undefined"==typeof this.focusedItem)return this.domNode.focus(),void 0;for(var e=0;e<this.items.length;e++){var t=this.items[e],n=t;e===this.focusedItem?l.isFunction(n.focus)&&n.focus():l.isFunction(n.blur)&&n.blur()}},t.prototype.doTrigger=function(e){if("undefined"!=typeof this.focusedItem){var t=this.items[this.focusedItem];
this.run(t._action,t._context||e).done()}},t.prototype.cancel=function(){this.emit(a.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&this.clear(),this.items=null,this.toDispose=r.disposeAll(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t.nlsActionBarAccessibleLabel=n.localize("vs_base_ui_widgets_actionbar",1),t.DEFAULT_OPTIONS={orientation:g.HORIZONTAL},t}(c.EventEmitter);t.ActionBar=y;var _=function(e){function t(t,n,r,i){e.call(this,t,n),this.select=document.createElement("select"),this.select.className="action-bar-select",this.options=r,this.selected=i,this.toDispose=[],this.registerListeners()}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(s.addStandardDisposableListener(this.select,"change",function(t){e.actionRunner.run(e._action,t.target.value).done()}))},t.prototype.render=function(e){s.addClass(e,"select-container"),e.appendChild(this.select),this.setOptions()},t.prototype.setOptions=function(){var e=this;this.select.options.length=0,this.options.forEach(function(t){e.select.options.add(e.createOption(t))}),this.selected>=0&&(this.select.selectedIndex=this.selected)},t.prototype.createOption=function(e){var t=document.createElement("option");return t.value=e,t.text=e,t},t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(h);t.SelectActionItem=_}),define("vs/base/ui/labels",["require","exports","vs/base/env","vs/base/types","vs/base/paths"],function(e,t,n,r,i){function o(e,t){var r=t&&s(t),o=s(e);return r&&i.isEqualOrParent(o,r)?i.normalize(i.makeAbsolute(o.substr(r.length)),n.isNative):n.isWindows&&":"===o[1]?i.normalize(o.charAt(0).toUpperCase()+o.slice(1),n.isNative):i.normalize(o,n.isNative)}function s(e){if(!e)return null;if("string"==typeof e)return e;if(r.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.path:void 0}return e.path}var a=function(){function e(e){this.root=e&&s(e)}return e.prototype.getLabel=function(e){return o(s(e),this.root)},e}();t.PathLabelProvider=a,t.getPathLabel=o}),define("vs/css!vs/editor/contrib/zoneWidget/zoneWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/zoneWidget",["require","exports","vs/base/dom/dom","vs/base/types","vs/base/objects","vs/base/eventEmitter","vs/editor/core/constants","vs/css!./zoneWidget"],function(e,t,n,r,i,o,s){var a={showArrow:!0,showFrame:!0,frameColor:"",className:""},l="vs.editor.contrib.zoneWidget",c=function(){function e(e,t,n,r,i,o){this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=r,this._onDomNodeTop=i,this._onComputedHeight=o}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),u=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),d=function(e){function t(t,n){var r=this;void 0===n&&(n={}),e.call(this),this.editor=t,this.options=i.mixin(i.clone(a),n),this.zoneId=-1,this.overlayWidget=null,this.lastView=null,this.domNode=document.createElement("div"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.container=null,this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(s.EventType.EditorLayout,function(e){var t=r.getWidth(e);r.domNode.style.width=t+"px",r.onWidth(t)}))}return __extends(t,e),t.prototype.create=function(){n.addClass(this.domNode,"zone-widget"),n.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),n.addClass(this.container,"container"),this.domNode.appendChild(this.container),this.fillContainer(this.container)},t.prototype.getWidth=function(e){return void 0===e&&(e=this.editor.getLayoutInfo()),e.width-e.verticalScrollbarWidth},t.prototype.onViewZoneTop=function(e){this.domNode.style.top=e+"px"},t.prototype.onViewZoneHeight=function(e){this.domNode.style.height=e+"px"},t.prototype.show=function(e,t){r.isUndefinedOrNull(e.startLineNumber)?this.showImpl({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t):this.showImpl(e,t)},t.prototype.showImpl=function(e,t){var n=this,r={lineNumber:e.startLineNumber,column:e.startColumn};this.domNode.style.width=this.getWidth()+"px",this.editor.revealPositionInCenter(r);var i=document.createElement("div"),o=document.createElement("div"),s=this.editor.getConfiguration().lineHeight,a=t*s,d=0,p=0;this.options.showArrow&&(d=Math.round(s/3),a-=2*d,o=document.createElement("div"),o.className="zone-widget-arrow below",o.style.top=-d+"px",o.style.borderWidth=d+"px",o.style.left=this.editor.getOffsetForColumn(r.lineNumber,r.column)+"px",o.style.borderBottomColor=this.options.frameColor,i.appendChild(o)),this.options.showFrame&&(p=Math.round(s/9),a-=2*p),this.editor.changeViewZones(function(e){-1!==n.zoneId&&e.removeZone(n.zoneId),n.overlayWidget&&(n.editor.removeOverlayWidget(n.overlayWidget),n.overlayWidget=null),n.domNode.style.top="-1000px";var o=new c(i,r.lineNumber,r.column,t,function(e){return n.onViewZoneTop(e)},function(e){return n.onViewZoneHeight(e)});n.zoneId=e.addZone(o),n.overlayWidget=new u(l+n.zoneId,n.domNode),n.editor.addOverlayWidget(n.overlayWidget)}),this.options.showFrame&&(this.container.style.borderTopColor=this.options.frameColor,this.container.style.borderBottomColor=this.options.frameColor,this.container.style.borderTopWidth=p+"px",this.container.style.borderBottomWidth=p+"px"),this.container.style.top=d+"px",this.container.style.height=a+"px",this.container.style.overflow="hidden",this.doLayout(a),this.editor.setSelection(e);var h=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.editor.revealLineInCenter(h),this.position=r},t.prototype.dispose=function(){var e=this;this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.overlayWidget&&(this.editor.removeOverlayWidget(this.overlayWidget),this.overlayWidget=null),-1!==this.zoneId&&this.editor.changeViewZones(function(t){t.removeZone(e.zoneId),e.zoneId=-1})},t.prototype.fillContainer=function(){},t.prototype.onWidth=function(){},t.prototype.doLayout=function(){},t}(o.EventEmitter);t.ZoneWidget=d}),define("vs/css!vs/editor/contrib/zoneWidget/peekViewWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/peekViewWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/ui/widgets/actionbar","vs/base/ui/actions","vs/base/strings","vs/base/ui/labels","vs/base/dom/builder","vs/base/dom/dom","./zoneWidget","vs/css!./peekViewWidget"],function(e,t,n,r,i,o,s,a,l,c){function u(e,t){var n=t.context[p];return n?e.codeEditorService.getCodeEditor(n):null}var d;!function(e){e.Closed="closed"}(d=t.Events||(t.Events={})),t.CONTEXT_IN_INNER_EDITOR="inInnerEditor";var p="outerEditorId";t.getOuterEditor=u;var h=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this,t,r),n.setContext(p,t.getId())}return __extends(t,e),t.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.getActiveWidget=function(){return this},t.prototype.show=function(t,n){this._isActive=!0,e.prototype.show.call(this,t,n)},t.prototype.fillContainer=function(e){a.$(e).addClass("peekview-widget"),this._headElement=a.$(".head").getHTMLElement(),this._bodyElement=a.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(){var e=this,t=a.$(".peekview-title").on(l.EventType.CLICK,function(t){return e._onTitleClick(t)}).appendTo(this._headElement).getHTMLElement();this._filenameElement=a.$("span.filename").appendTo(t).getHTMLElement(),this._dirnameElement=a.$("span.dirname").appendTo(t).getHTMLElement(),this._actionbarWidget=new r.ActionBar,a.$(".peekview-actions").append(this._actionbarWidget.domNode).appendTo(this._headElement),this._actionbarWidget.push(new i.Action("peekview.close",n.localize("vs_editor_contrib_zoneWidget_peekViewWidget",0),"close-peekview-action",!0,function(){return e.dispose(),e.emit(d.Closed,e),null}),{label:!1,icon:!0})},t.prototype._onTitleClick=function(){},t.prototype.setTitle=function(e,t){a.$(this._filenameElement).safeInnerHtml(e),t?a.$(this._dirnameElement).safeInnerHtml(s.getPathLabel(t)):l.clearNode(this._dirnameElement)},t.prototype._fillBody=function(){},t.prototype.doLayout=function(e){var t=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),n=e-(t+2);this._doLayoutHead(t),this._doLayoutBody(n)},t.prototype._doLayoutHead=function(e){this._headElement.style.height=o.format("{0}px",e)},t.prototype._doLayoutBody=function(e){this._bodyElement.style.height=o.format("{0}px",e)},t}(c.ZoneWidget);t.PeekViewWidget=h}),define("vs/css!vs/editor/contrib/goToDeclaration/goToDeclaration",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/goToDeclaration/goToDeclaration",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/severity","vs/base/env","vs/base/network","vs/base/async","vs/base/strings","vs/base/errors","vs/base/paths","vs/base/lib/winjs.base","vs/base/dom/builder","vs/editor/core/embeddedCodeEditorWidget","vs/editor/editorExtensions","vs/editor/contrib/zoneWidget/peekViewWidget","vs/editor/core/constants","vs/editor/editor","vs/editor/core/range","vs/editor/modes/modesExtensions","vs/editor/core/editorState","vs/editor/core/config/config","vs/css!./goToDeclaration"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_){var w=function(e){function t(t,n,r){e.call(this,t,n,r,h.Behaviour.WidgetFocus|h.Behaviour.ShowInContextMenu|h.Behaviour.UpdateOnCursorPositionChange),this.messageService=t.messageService,this.requestService=t.requestService}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel(),n=this.editor.getPosition(),i=this.resolve(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column});return i.then(function(t){return t?(e.editorService.openEditor({resource:t.resourceUrl,options:{selection:e.getSelection(t)}}),!0):!1},function(t){return e.messageService.show(r.Error,t),!1})},t.prototype.resolve=function(){return u.TPromise.as(null)},t.prototype.getSelection=function(e){return e.range},t}(h.EditorAction);t.GoToTypeAction=w;var E=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/3_visitTypeDefinition"},t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().typeDeclarationSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().typeDeclarationSupport.canFindTypeDeclaration(t.getLineContext(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){var n=this.editor.getModel().getMode().typeDeclarationSupport;return n?n.findTypeDeclaration(e,t):u.Promise.as(null)},t.ID="editor.action.goToTypeDeclaration",t}(w);t.GoToTypeDeclarationActions=E;var S=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/2_visitDefinition"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.declarationSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().declarationSupport.canFindDeclaration(t.getLineContext(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){var n=this.editor.getModel().getMode().declarationSupport;return n?n.findDeclaration(e,t):u.Promise.as(null)},t.prototype.getSelection=function(e){return g.collapseToStart(e.range)},t.ID="editor.action.goToDeclaration",t}(w);t.GoToDeclarationAction=S;var T=function(e){function t(t,n,r,i){e.call(this,t,n,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.requestService=r,this.instantiationService=i.createChild({peekViewService:this}),this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.widget&&this.widget.getModel()){var n=this.widget.getModel(),r=this.widget.getPosition().lineNumber,i=new g.Range(r,1,r,n.getLineMaxColumn(r));this.emit(t.Events.HeaderTabClick,{reference:n.getAssociatedResource(),range:i,originalEvent:e})}},t.prototype._fillBody=function(e){var t=d.$(e).addClass("preview-zone-widget preview"),n={scrollBeyondLastLine:!1,scrollbar:_.Config.editor.scrollbar,overviewRulerLanes:2};this.widget=this.instantiationService.createInstance(p.EmbeddedCodeEditorWidget,t.getHTMLElement(),n,this.editor)},t.prototype.showPreview=function(e,t){this.widget.setModel(t.model);var n={lineNumber:t.range.startLineNumber,column:t.range.startColumn};this.widget.setPosition(n),this.widget.revealPositionInCenter(n),this.setTitle(t.filename,t.dirpath),this.show(e,18)},t.prototype.doLayout=function(t){e.prototype.doLayout.call(this,t),this.widget.layout()},t.prototype.onWidth=function(){this.widget.layout()},t.prototype.dispose=function(){this.widget.dispose(),e.prototype.dispose.call(this)},t.Events={HeaderTabClick:"headerTabClick"},t}(m.PeekViewWidget),k=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r,h.Behaviour.WidgetFocus|h.Behaviour.ShowInContextMenu|h.Behaviour.UpdateOnCursorPositionChange),this._startTime=-1,this.toUnhook.push(r.addListener(f.EventType.ModelChanged,function(){return i.clear()})),this.requestService=t.requestService,this.instantiationService=t.instantiationService,this.peekViewService=t.peekViewService,this.keybindingService=t.keybindingService,this.peekViewService&&t.keybindingService.setContext(m.CONTEXT_IN_INNER_EDITOR,!0),this._peekDeclarationVisible=t.keybindingService.createKey(x,!1)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/1_peekDefinition"},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().declarationSupport.canFindDeclaration(e.getLineContext(t.lineNumber),t.column-1)},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.declarationSupport&&!!t.declarationSupport.findDeclaration&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this;this.clear();var t=this.editor.getModel(),r=this.editor.getModel().getMode().declarationSupport,s=this.editor.getPosition(),a={lineNumber:s.lineNumber,column:s.column};return r.findDeclaration(t.getAssociatedResource(),a).then(function(t){return t?e.editorService.resolveEditorModel({resource:t.resourceUrl}).then(function(r){if(!r)return u.Promise.as(null);var a={model:r.textEditorModel,range:t.range,filename:n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",0),dirpath:""};if(a.model.getAssociatedResource().getScheme()!==o.schemas.inMemory)if(i.isNative){var d=a.model.getAssociatedResource();a.filename=c.basename(d.path),a.dirpath=c.dirname(d.path),"."===a.dirpath&&(a.dirpath="")}else{var p=e.requestService.getPath("root",a.model.getAssociatedResource()),h=p.lastIndexOf("/");a.filename=p.substring(h+1),a.dirpath=p.substring(0,h+1)}e.widget=new T(e.editor,e.keybindingService,e.requestService,e.instantiationService),e.widget.showPreview(s,a),e._startTime=(new Date).getTime(),e.toUnhook.push(e.widget.addListener(T.Events.HeaderTabClick,function(t){e.editorService.openEditor({resource:t.reference,options:{selection:t.range}},t.originalEvent.ctrlKey||t.originalEvent.metaKey).done(null,l.onUnexpectedError),e.clear()})),e._peekDeclarationVisible.set(!0)}):u.Promise.as(null)})},t.prototype.closePeekDeclaration=function(){-1!==this._startTime&&(this.telemetryService.log("zoneWidgetShown",{mode:"go to declaration",elapsedTime:(new Date).getTime()-this._startTime}),this._startTime=-1),this.clear()},t.prototype.clear=function(){this._startTime=-1,this._peekDeclarationVisible.reset(),this.widget&&(this.widget.dispose(),this.widget=null)},t.prototype.dispose=function(){this.clear(),e.prototype.dispose.call(this)},t.ID="editor.action.previewDeclaration",t}(h.EditorAction);t.PreviewDeclarationAction=k;var C=function(){function e(e,t){var n=this;this.editorService=e.editorService,this.requestService=e.requestService,this.messageService=e.messageService,this.hasRequiredServices=!!this.messageService&&!!this.requestService&&!!this.editorService,this.toUnhook=[],this.decorations=[],this.editor=t,this.throttler=new s.Throttler,this.toUnhook.push(this.editor.addListener(f.EventType.MouseUp,function(e){return n.onEditorMouseUp(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.MouseMove,function(e){return n.onEditorMouseMove(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.KeyDown,function(e){return n.onEditorKeyDown(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.KeyUp,function(e){return n.onEditorKeyUp(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.ModelChanged,function(){return n.resetHandler()})),this.toUnhook.push(this.editor.addListener("change",function(){return n.resetHandler()})),this.toUnhook.push(this.editor.addListener("scroll",function(){return n.resetHandler()}))}return e.prototype.onEditorMouseMove=function(e,t){this.lastMouseEvent=e,this.startFindDefinition(e,t)},e.prototype.startFindDefinition=function(t,n){var r=this;if(!this.isEnabled(t,n))return this.currentWordUnderMouse=null,this.removeDecorations(),void 0;var i=t.target.position,o=i?this.editor.getModel().getWordAtPosition(i,!1):null;if(!o)return this.currentWordUnderMouse=null,this.removeDecorations(),void 0;if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==o.startColumn||this.currentWordUnderMouse.endColumn!==o.endColumn||this.currentWordUnderMouse.word!==o.word){this.currentWordUnderMouse=o;var s=y.capture(this.editor,y.Flag.Position,y.Flag.Value,y.Flag.Selection,y.Flag.Scroll);this.throttler.queue(function(){return s.validate()?r.findDefinition(t.target):u.Promise.as(null)}).then(function(t){return t&&s.validate()?(r.editorService.resolveEditorModel({resource:t.resourceUrl}).then(function(n){var s;if(n&&n.textEditorModel){var l,c,u=Math.max(1,t.range.startLineNumber);c=n.textEditorModel,l=Math.min(u+e.MAX_SOURCE_PREVIEW_LINES,c.getLineCount()),s=c.getValueInRange({startLineNumber:u,startColumn:1,endLineNumber:l,endColumn:1});for(var d,p,h=Number.MAX_VALUE,m=/^[ \t]*/;l>=u&&h>0;)p=c.getLineContent(u++),a.isFalsyOrWhitespace(p)||(d=m.exec(p),h=Math.min(h,d[0].length));s=s.replace(new RegExp("^([ 	]{"+h+"})","gm"),a.empty)}r.addDecoration({startLineNumber:i.lineNumber,startColumn:o.startColumn,endLineNumber:i.lineNumber,endColumn:o.endColumn},s)}),void 0):(r.removeDecorations(),void 0)}).done(void 0,l.onUnexpectedError)}},e.prototype.addDecoration=function(e,t){var n=this.editor.getModel();if(n){var r={tagName:"div",className:"goto-definition-link-hover"};a.isFalsyOrWhitespace(t)||(r.children=[b.TextToHtmlTokenizer.tokenizeToHtmlContent(t,n.getMode())]);var i={range:e,options:{inlineClassName:"goto-definition-link",htmlMessage:[r]}};this.decorations=this.editor.deltaDecorations(this.decorations,[i])}},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.startFindDefinition(this.lastMouseEvent,t)},e.prototype.resetHandler=function(){this.lastMouseEvent=null,this.removeDecorations()},e.prototype.onEditorMouseUp=function(e){var t=this;this.isEnabled(e)&&this.gotoDefinition(e.target,e.event.altKey).done(function(){t.removeDecorations()},function(e){t.removeDecorations(),l.onUnexpectedError(e)})},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.removeDecorations()},e.prototype.isEnabled=function(t,n){return this.hasRequiredServices&&this.editor.getModel()&&(i.browser.isIE11orEarlier||t.event.detail<=1)&&t.target.type===v.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().declarationSupport},e.prototype.findDefinition=function(e){var t=this.editor.getModel();if(!t)return u.Promise.as(null);var n=e.position;return t.getMode().declarationSupport.findDeclaration(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column})},e.prototype.gotoDefinition=function(e,t){var n=this,r=y.capture(this.editor,y.Flag.Position,y.Flag.Value,y.Flag.Selection,y.Flag.Scroll);return this.findDefinition(e).then(function(i){if(r.validate()){var o=e.position,s=n.editor.getModel().getWordAtPosition(o,!1);return!i||!i.range||s&&i.range.startColumn===s.startColumn&&i.range.startLineNumber===e.position.lineNumber?void 0:n.editorService.openEditor({resource:i.resourceUrl,options:{selection:g.collapseToStart(i.range)}},t)}})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.toUnhook.length>0;)this.toUnhook.pop()()},e.ID="editor.contrib.gotodefinitionwithmouse",e.TRIGGER_MODIFIER=i.isMacintosh?"metaKey":"ctrlKey",e.TRIGGER_KEY_VALUE=i.isMacintosh?"Meta":"Ctrl",e.MAX_SOURCE_PREVIEW_LINES=7,e}(),x="peekDeclarationVisible";h.registerEditorActionContribution(k,k.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",1),!0,{ctrlCmd:i.isLinux,shift:i.isLinux,alt:!i.isLinux,key:i.isLinux?"F10":"F12"}),h.registerEditorActionContribution(S,S.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",2),!0,{ctrlCmd:!i.isMacintosh,key:"F12"}),h.registerEditorActionContribution(E,E.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",3),!0),h.registerEditorContribution(C),h.registerEditorCommand("closePeekDeclaration",h.weight(50),{key:"Escape"},!1,x,function(e,t,n){var r=m.getOuterEditor(e,n);if(r){var i=r.getAction(k.ID);i.closePeekDeclaration()}}),h.registerEditorCommand("closePeekDeclarationEditor",h.weight(-101),{key:"Escape"},!1,m.CONTEXT_IN_INNER_EDITOR,function(e,t,n){var r=m.getOuterEditor(e,n);if(r){var i=r.getAction(k.ID);i.closePeekDeclaration()}})}),define("vs/base/callbackList",["require","exports"],function(){var e=function(){function e(){}return e.prototype.add=function(e,t,n){var r=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return r.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;i>r;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),this._contexts.splice(r,1),void 0;n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this._callbacks){for(var n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0),o=0,s=r.length;s>o;o++)n.push(r[o].apply(i[o],e));return n}},e}();return e}),define("vs/base/eventSource",["require","exports","vs/base/callbackList"],function(e,t,n){var r=function(){function e(){}return e.prototype.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this._value?this._value.invoke.apply(this._value,e):void 0},Object.defineProperty(e.prototype,"value",{get:function(){var e=this;return this._value||(this._value=new n),{add:function(t,n,r){e._value.add(t,n,r)},remove:this._value.remove.bind(this._value)}},enumerable:!0,configurable:!0}),e}();return r}),define("vs/css!vs/editor/contrib/gotoError/gotoError",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/gotoError/gotoError",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lifecycle","vs/base/strings","vs/base/errors","vs/base/severity","vs/base/dom/dom","vs/base/lib/winjs.base","vs/editor/contrib/zoneWidget/zoneWidget","vs/base/dom/builder","vs/editor/editorExtensions","vs/editor/core/constants","vs/editor/core/position","vs/base/dom/htmlContentRenderer","vs/base/eventSource","vs/editor/editor2","vs/editor/core/codeEditorWidget","vs/css!./gotoError"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){var b=u.$,y=function(){function e(e,t){var n=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new f,this._onMarkerSetChanged=new f,this.setMarkers(t),this._toUnbind.push(this._editor.addListener(p.EventType.Disposed,function(){return n.dispose()})),this._toUnbind.push(this._editor.addListener(p.EventType.CursorPositionChanged,function(){n._ignoreSelectionChange||(n._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.value},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype.initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),r=0,i=this._markers.length;i>r&&!t;r++){var o={lineNumber:this._markers[r].startLineNumber,column:this._markers[r].startColumn};n.isBeforeOrEqual(o)&&(this._nextIdx=r+(e?0:-1),t=!0)}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},e.prototype.move=function(e){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(),void 0;-1===this._nextIdx?this.initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.next=function(){this.move(!0)},e.prototype.previous=function(){this.move(!1)},e.prototype.goTo=function(e){for(var t=0;t<this._markers.length;t++){var n=this._markers[t];if(n.startLineNumber<=e.lineNumber&&n.endLineNumber>=e.lineNumber&&n.startColumn<=e.column&&n.endColumn>=e.column)return this._onCurrentMarkerChanged.fire(n),void 0}return null},e.prototype.indexOf=function(e){return this._markers.indexOf(e)},e.prototype.length=function(){return this._markers.length},e.prototype.reveal=function(){var e=this;-1!==this._nextIdx&&this.withoutWatchingEditorPosition(function(){var t=new h.Position(e._markers[e._nextIdx].startLineNumber,e._markers[e._nextIdx].startColumn);e._editor.setPosition(t),e._editor.revealPositionInCenter(t)})},e.prototype.dispose=function(){this._toUnbind=r.cAll(this._toUnbind)},e}(),_={showFrame:!0,showArrow:!0},w=function(e){function t(t,n){e.call(this,t,_),this._model=n,this._callOnDispose=[],this.create(),this._wireModelAndView()}return __extends(t,e),t.prototype.fillContainer=function(e){var t=this,n=b(e).addClass("marker-widget");n.div({class:"descriptioncontainer"},function(e){t._element=e}),n.div(function(e){t._quickFixSection=e}),n.on(a.EventType.CLICK,function(){t.editor.focus()})},t.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged.add(this.showAtMarker,this,this._callOnDispose)},t.prototype.showAtMarker=function(e){var t=this;if(e){switch(e.severity){case s.Error:this.options.frameColor="#ff5a5a";break;case s.Warning:case s.Info:this.options.frameColor="#5aac5a"}this._element.text(i.format("({0}/{1}) ",this._model.indexOf(e)+1,this._model.length()));var r=this._element.getHTMLElement();m.renderHtml2(e.message).forEach(function(e){r.appendChild(e)});var l=this.editor.getModel().getMode();if(this._quickFixSection.hide(),l.quickFixSupport){var c=l.quickFixSupport.getQuickFixes(this.editor.getModel().getAssociatedResource(),e);c.then(function(r){if(t._quickFixSection.clearChildren(),r.length>0){var i=b(t._quickFixSection);i.span({class:"quickfixhead",text:r.length>1?n.localize("vs_editor_contrib_gotoError_gotoError",0):n.localize("vs_editor_contrib_gotoError_gotoError",1)}).span({class:"quickfixcontainer"},function(n){r.forEach(function(r,i){var o=b(n);i>0&&(o=o.span({text:", "})),o.span({class:"quickfixentry",text:r.label}).on(a.EventType.CLICK,function(){return l.quickFixSupport.runQuickFixAction(t.editor.getModel().getAssociatedResource(),e,r.id).then(function(n){var r=new g.CommandRunner(n.editOperations,v.EditCursorState.EndOfLastEditOperation);t.editor.executeCommand("quickfix",r),t._quickFixSection.hide(),1===n.editOperations.length&&n.editOperations[0].range.endLineNumber===t.editor.getModel().getLineCount()&&t.editor.revealPositionInCenter({column:e.startColumn,lineNumber:e.startLineNumber})}),!0})})}),t._quickFixSection.show(),t.show(new h.Position(e.startLineNumber,e.startColumn),4)}},function(e){o.onUnexpectedError(e)})}this._model.withoutWatchingEditorPosition(function(){t.show(new h.Position(e.startLineNumber,e.startColumn),3)})}},t.prototype.dispose=function(){this._callOnDispose=r.disposeAll(this._callOnDispose),e.prototype.dispose.call(this)},t}(c.ZoneWidget),E=function(e){function t(t,n,r,i){e.call(this,t,n,r,d.Behaviour.WidgetFocus|d.Behaviour.Writeable|d.Behaviour.UpdateOnModelChange),this.markerService=t.markerService,this._isNext=i}return __extends(t,e),t.prototype.getOrCreateModel=function(){throw new Error("Abstract method")},t.prototype.run=function(){var e=this.getOrCreateModel();return this.telemetryService.log("zoneWidgetShown",{mode:"go to error"}),e&&(this._isNext?e.next():e.previous(),e.reveal()),l.TPromise.as(!0)},t}(d.EditorAction),S=function(e){function t(t,n,r){e.call(this,t,n,r,!0),this._callOnClose=[],this._markersNavigationVisible=t.keybindingService.createKey(k,!1)}return __extends(t,e),t.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this.markerService.onMarkerChanged.remove(this._onMarkerChanged,this),this._callOnClose=r.disposeAll(this._callOnClose),this._zone=null,this._model=null},t.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new y(this.editor,t),this._zone=new w(this.editor,this._model),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this.editor.addListener2(p.EventType.ModelChanged,function(){e._cleanUp()})),this._model.onCurrentMarkerChanged.add(function(t){t||e._cleanUp()},void 0,this._callOnClose),this.markerService.onMarkerChanged.add(this._onMarkerChanged,this),this._model
},t.prototype.closeMarkersNavigation=function(){this._cleanUp()},t.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t.editor.getModel().getAssociatedResource().equals(e)})&&this._model.setMarkers(this._getMarkers())},t.prototype._getMarkers=function(){var e=this.editor.getModel().getAssociatedResource(),t=this.markerService.read({resource:e});return t},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cleanUp()},t.ID="editor.action.marker.next",t}(E),T=function(e){function t(t,n,r){e.call(this,t,n,r,!1)}return __extends(t,e),t.prototype.getOrCreateModel=function(){return this.editor.getAction(S.ID).getOrCreateModel()},t.ID="editor.action.marker.prev",t}(E),k="markersNavigationVisible";d.registerEditorActionContribution(S,S.ID,n.localize("vs_editor_contrib_gotoError_gotoError",2),!1,{key:"F8"}),d.registerEditorActionContribution(T,T.ID,n.localize("vs_editor_contrib_gotoError_gotoError",3),!1,{shift:!0,key:"F8"}),d.registerEditorCommand("closeMarkersNavigation",d.weight(50),{key:"Escape"},!1,k,function(e,t){var n=t.getAction(S.ID);n.closeMarkersNavigation()})}),define("vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand",["require","exports","vs/editor/core/selection"],function(e,t,n){var r=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return this._originalSelection.isEmpty()?new n.Selection(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new n.Selection(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},e}();t.InPlaceReplaceCommand=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/inPlaceReplace/inPlaceReplace",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/core/range","vs/editor/core/editorState","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/base/env"],function(e,t,n,r,i,o,s,a,l){var c=function(e){function t(t,n,o,s){e.call(this,t,n,o,i.defaultPrecondition),this.up=s,this.requestIdPool=0,this.currentRequest=r.TPromise.as(null),this.decorationRemover=r.TPromise.as(null),this.decorationIds=[]}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().inplaceReplaceSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this;this.currentRequest.cancel();var n=this.editor.getSelection(),i=this.editor.getModel(),l=i.getMode().inplaceReplaceSupport;if(n.startLineNumber!==n.endLineNumber)return null;var c=s.capture(this.editor,s.Flag.Value,s.Flag.Position);return this.currentRequest=l.navigateValueSet(i.getAssociatedResource(),n,this.up),this.currentRequest.then(function(i){if(i&&i.range&&i.value&&c.validate()){var s=o.create(i.range),l=i.range,u=i.value.length-(n.endColumn-n.startColumn);l.endColumn=l.startColumn+i.value.length,n.endColumn+=u>1?u-1:0;var d=new a.InPlaceReplaceCommand(s,n,i.value);return e.editor.executeCommand(e.id,d),e.decorationIds=e.editor.deltaDecorations(e.decorationIds,[{range:l,options:t.DECORATION}]),e.decorationRemover.cancel(),e.decorationRemover=r.TPromise.timeout(350),e.decorationRemover.then(function(){e.editor.changeDecorations(function(t){for(;e.decorationIds.length>0;)t.removeDecoration(e.decorationIds.pop())})}),!0}})},t.DECORATION={isOverlay:!1,className:"valueSetReplacement"},t}(i.EditorAction),u=function(e){function t(t,n,r){e.call(this,t,n,r,!0)}return __extends(t,e),t.ID="editor.action.inPlaceReplace.up",t}(c),d=function(e){function t(t,n,r){e.call(this,t,n,r,!1)}return __extends(t,e),t.ID="editor.action.inPlaceReplace.down",t}(c);i.registerEditorActionContribution(u,u.ID,n.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",0),!0,{ctrlCmd:!l.isLinux,shift:l.isLinux,alt:l.isLinux,key:"UpArrow"}),i.registerEditorActionContribution(d,d.ID,n.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",1),!0,{ctrlCmd:!l.isLinux,shift:l.isLinux,alt:l.isLinux,key:"DownArrow"})}),define("vs/base/ui/widgets/tree/treeDefaults",["require","exports","vs/base/env","vs/base/errors","vs/base/dom/dom"],function(e,t,n,r,i){var o=function(){function e(){}return e.prototype.getHeight=function(){return 20},e.prototype.render=function(e,t,n){return n.textContent=""+t,null},e}();t.DefaultRenderer=o,function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(t.ClickBehavior||(t.ClickBehavior={}));var s=t.ClickBehavior,a=function(){function e(e){void 0===e&&(e={clickBehavior:s.ON_MOUSE_UP}),this.options=e,this.downKeyBindings={Space:this.onSpace.bind(this),UpArrow:this.onUp.bind(this),PageUp:this.onPageUp.bind(this),DownArrow:this.onDown.bind(this),PageDown:this.onPageDown.bind(this),LeftArrow:this.onLeft.bind(this),RightArrow:this.onRight.bind(this),Escape:this.onEscape.bind(this)},this.upKeyBindings={Enter:this.onEnter.bind(this)},n.isMacintosh?this.upKeyBindings["Meta-Enter"]=this.onEnter.bind(this):this.upKeyBindings["Ctrl-Enter"]=this.onEnter.bind(this)}return e.prototype.onMouseDown=function(e,t,n,r){if(void 0===r&&(r="mouse"),this.options.clickBehavior===s.ON_MOUSE_DOWN&&n.leftButton){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(i.findParentWithClass(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,r)}return!1},e.prototype.onClick=function(e,t,r){var i=n.isMacintosh;return i&&r.ctrlKey?(r.preventDefault(),r.stopPropagation(),!1):r.middleButton?!1:r.target&&r.target.tagName&&"input"===r.target.tagName.toLowerCase()?!1:this.options.clickBehavior===s.ON_MOUSE_DOWN&&r.leftButton?!1:this.onLeftClick(e,t,r)},e.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var o={origin:i,originalEvent:n};if(e.getInput()===t)e.clearFocus(o),e.clearSelection(o);else{var s=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;s||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.setSelection([t],o),e.setFocus(t,o),e.isExpanded(t)?e.collapse(t).done(null,r.onUnexpectedError):e.expand(t).done(null,r.onUnexpectedError)}return!0},e.prototype.onContextMenu=function(e,t,n){return n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase()?!1:(n&&(n.preventDefault(),n.stopPropagation()),!1)},e.prototype.onTap=function(e,t,n){var r=n.initialTarget;return r&&r.tagName&&"input"===r.tagName.toLowerCase()?!1:this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindings,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindings,e,t)},e.prototype.onKey=function(e,t,n){var r=e[n.asString()];return r&&r(t,n)?(n.preventDefault(),n.stopPropagation(),!0):!1},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus())),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus())),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var r=e.getFocus();e.collapse(r).done(function(t){r&&!t&&e.focusParent(n)})}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.expand(i).done(null,r.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var r=e.getFocus();return r&&e.setSelection([r],n),!0},e.prototype.onSpace=function(e){if(e.getHighlight())return!1;var t=e.getFocus();return t&&e.toggleExpansion(t),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getFocus()||e.getSelection().length?(e.clearFocus(n),e.clearSelection(n),!0):!1},e}();t.DefaultController=a;var l=function(){function e(){}return e.prototype.getDragURI=function(){return null},e.prototype.onDragStart=function(){},e.prototype.onDragOver=function(){return null},e.prototype.drop=function(){},e}();t.DefaultDragAndDrop=l;var c=function(){function e(){}return e.prototype.isVisible=function(){return!0},e}();t.DefaultFilter=c;var u=function(){function e(){}return e.prototype.compare=function(){return 0},e}();t.DefaultSorter=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeModel",["require","exports","vs/base/assert","vs/base/eventEmitter","vs/base/lib/winjs.base"],function(e,t,n,r,i){var o=function(e){function t(t){e.call(this),this._item=t}return __extends(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.LockData=o;var s=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n=this,r=this.getLock(e);if(r){var s;return new i.Promise(function(i,o){s=r.addOneTimeListener("unlock",function(){return n.run(e,t).then(i,o)})},function(){return s()})}var a;return new i.Promise(function(r,i){if(e.isDisposed())return i(new Error("Item is disposed."));var s=n.locks[e.id]=new o(e);return a=t().then(function(t){return delete n.locks[e.id],s.dispose(),t}).then(r,i)},function(){return a.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}();t.Lock=s;var a=function(e){function t(){e.call(this),this.items={}}return __extends(t,e),t.prototype.register=function(e){n.ok(!this.isRegistered(e.id),"item already registered: "+e.id),this.items[e.id]=e,this.emit("register",e)},t.prototype.deregister=function(e){n.ok(this.isRegistered(e.id),"item not registered: "+e.id),delete this.items[e.id],this.emit("deregister",e)},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){return this.items[e]||null},t.prototype.dispose=function(){e.prototype.dispose.call(this),delete this.items},t}(r.EventEmitter);t.ItemRegistry=a;var l=function(e){function t(t,n,r,i,o){e.call(this),this.registry=n,this.context=r,this.lock=i,this.element=o,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.depth=0,this.maxDepth=0,this.expanded=!1,this.emit("item:create",{item:this}),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return __extends(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.getMaxDepth=function(){return this.maxDepth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return i.Promise.as(!1);var t=this.lock.run(this,function(){var t,n={item:e};return e.emit("item:expanding",n),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):i.Promise.as(null),t.then(function(){return e._setExpanded(!0),e.emit("item:expanded",n),!0})});return t.then(function(t){return e.isDisposed()?!1:t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t})},t.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=i.Promise.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?i.Promise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),i.Promise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),!r&&!this.isExpanded())return this.needsChildrenRefresh=!0,i.Promise.as(this);this.needsChildrenRefresh=!1;var s=function(){var r={item:o,isNested:n};o.emit("item:childrenRefreshing",r);var s;return s=o.doesHaveChildren?o.context.dataSource.getChildren(o.context.tree,o.element):i.Promise.as([]),s.then(function(n){n=n?n.slice(0):[],n=o.sort(n);for(var r={};null!==o.firstChild;)r[o.firstChild.id]=o.firstChild,o.removeChild(o.firstChild);for(var s=0,a=n.length;a>s;s++){var l=n[s],c=o.context.dataSource.getId(o.context.tree,l),u=r[c]||new t(c,o.registry,o.context,o.lock,l);u.element=l,e&&(u.needsChildrenRefresh=e),delete r[c],o.addChild(u)}for(var d in r)r.hasOwnProperty(d)&&r[d].dispose();return e?i.Promise.join(o.mapEachChild(function(t){return t.doRefresh(e,!0)})):i.Promise.as(null)}).then(function(){o.emit("item:childrenRefreshed",r)})};return n?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){void 0===t&&(t=!1);var n={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",n),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new u(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,r=null===t,i=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):r?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):i?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1;for(var o=this,s=e.maxDepth+1;o&&o.maxDepth<s;)o.maxDepth=s++,o=o.parent},t.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null;for(var r=this,i=e.maxDepth+1;r&&r.maxDepth===i;)i=r.maxDepth+1,r.maxDepth=Math.max.apply(null,this.mapEachChild(function(e){return e.maxDepth}))+1,r=r.parent},t.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),delete this.parent,delete this.previous,delete this.next,delete this.firstChild,delete this.lastChild;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(r.EventEmitter);t.Item=l;var c=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i,o)}return __extends(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(l),u=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do if((this.item instanceof c||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);this.item=t?t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item.parent:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;this.item=e&&e!==this.start&&e.isVisible()?e:null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},e}();t.TreeNavigator=u;var d=function(e){function t(t){e.call(this),this.context=t,this.input=null,this.traitsToItems={}}return __extends(t,e),t.prototype.setInput=function(e){var t=this,n={item:this.input};this.emit("clearingInput",n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new s,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.unbindRegistryListener()),this.registry=new a,this.unbindRegistryListener=this.registry.addListener("register",function(e){var n=t.addEmitter(e),r=t.registry.addListener("deregister",function(i){if(i.id===e.id){for(var o=i.getAllTraits(),s=0,a=o.length;a>s;s++){var l=o[s];delete t.traitsToItems[l][i.id]}n(),r()}})});var r=this.context.dataSource.getId(this.context.tree,e);return this.input=new c(r,this.registry,this.context,this.lock,e),n={item:this.input},this.emit("setInput",n),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var r=this.getItem(e);if(!r)return i.Promise.as(null);var o={item:r,recursive:t};return this.emit("refreshing",o),r.refresh(t).then(function(){n.emit("refreshed",o)})},t.prototype.refreshAll=function(e,t){var n=this;void 0===t&&(t=!0);var r=[];return this.deferredEmit(function(){for(var i=0,o=e.length;o>i;i++)r.push(n.refresh(e[i],t))}),i.Promise.join(r)},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():i.Promise.as(!1)},t.prototype.expandAll=function(e){if(!e){e=[];for(var t,n=this.getNavigator();t=n.next();)e.push(t)}for(var r=[],o=0,s=e.length;s>o;o++)r.push(this.expand(e[o]));return i.Promise.join(r)},t.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):i.Promise.as(!1)},t.prototype.collapseAll=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),e||(e=[this.input],t=!0);for(var n=[],r=0,o=e.length;o>r;r++)n.push(this.collapse(e[r],t));return i.Promise.join(n)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(this.toggleExpansion(e[n]));return i.Promise.join(t)},t.prototype.isExpanded=function(e){var t=this.getItem(e);return t?t.isExpanded():!1},t.prototype.getExpandedElements=function(){for(var e,t=[],n=this.getNavigator();e=n.next();)e.isExpanded()&&t.push(e);return t},t.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=i.Promise.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var r=n.getItem(e);r&&r.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):i.Promise.as([])})},t.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this.emit("highlight",n)},t.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return t?t.hasTrait("highlighted"):!1},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.isSelected=function(e){var t=this.getItem(e);return t?t.hasTrait("selected"):!1},t.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},t.prototype.selectNext=function(e,t){void 0===e&&(e=1);for(var n,r=this.getSelection(),i=r.length>0?r[0]:this.input,o=this.getNavigator(i,!1),s=0;e>s&&(n=o.next(),n);s++)i=n;this.setSelection([i],t)},t.prototype.selectPrevious=function(e,t){void 0===e&&(e=1);var n=this.getSelection(),r=null,i=null;if(0===n.length){for(var o=this.getNavigator(this.input);r=o.next();)i=r;return this.setSelection([i],t),void 0}r=n[0];for(var o=this.getNavigator(r,!1),s=0;e>s&&(i=o.previous(),i);s++)r=i;this.setSelection([r],t)},t.prototype.selectParent=function(e){var t=this.getSelection(),n=t.length>0?t[0]:this.input,r=this.getNavigator(n,!1),i=r.parent();i&&this.setSelection([i],e)},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this.emit("focus",n)},t.prototype.isFocused=function(e){var t=this.getItem(e);return t?t.hasTrait("focused"):!1},t.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},t.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,r=this.getFocus()||this.input,i=this.getNavigator(r,!1),o=0;e>o&&(n=i.next(),n);o++)r=n;this.setFocus(r,t)},t.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,r=this.getFocus()||this.input,i=this.getNavigator(r,!1),o=0;e>o&&(n=i.previous(),n);o++)r=n;this.setFocus(r,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1),r=n.parent();r&&this.setFocus(r,e)},t.prototype.focusFirst=function(e){this.focusNth(0,e)},t.prototype.focusNth=function(e,t){for(var n=this.getNavigator(this.input),r=n.first(),i=0;e>i;i++)r=n.next();r&&this.setFocus(r,t)},t.prototype.focusLast=function(e){var t=this.getNavigator(this.input),n=t.last();n&&this.setFocus(n,e)},t.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new u(this.getItem(e),t)},t.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof l?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var n,r=this.traitsToItems[e]||{},i=0,o=t.length;o>i;i++)n=this.getItem(t[i]),n&&(n.addTrait(e),r[n.id]=n);this.traitsToItems[e]=r},t.prototype.removeTraits=function(e,t){var n,r,i=this.traitsToItems[e]||{};if(0===t.length){for(r in i)i.hasOwnProperty(r)&&(n=i[r],n.removeTrait(e));delete this.traitsToItems[e]}else for(var o=0,s=t.length;s>o;o++)n=this.getItem(t[o]),n&&(n.removeTrait(e),delete i[n.id])},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,r={},i=0,o=t.length;o>i;i++)n=this.getItem(t[i]),n&&(r[n.id]=n);var s,a=this.traitsToItems[e]||{},l=[];for(s in a)a.hasOwnProperty(s)&&(r.hasOwnProperty(s)?delete r[s]:l.push(a[s]));for(var i=0,o=l.length;o>i;i++)n=l[i],n.removeTrait(e),delete a[n.id];for(s in r)r.hasOwnProperty(s)&&(n=r[s],n.addTrait(e),a[s]=n);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e,t){var n,r=[],i=this.traitsToItems[e]||{};for(n in i)i.hasOwnProperty(n)&&(i[n].isVisible()||t)&&r.push(i[n].getElement());return r},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.TreeModel=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/tree",["require","exports"],function(e,t){var n=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=n;var r=function(e){function t(t){e.call(this,t.posx,t.posy,t.target),this.originalEvent=t}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.MouseContextMenuEvent=r;var i=function(e){function t(t,n,r){e.call(this,t,n,r.target),this.originalEvent=r}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.KeyboardContextMenuEvent=i,function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(t.DragOverEffect||(t.DragOverEffect={}));var o=t.DragOverEffect;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(t.DragOverBubble||(t.DragOverBubble={}));var s=t.DragOverBubble;t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:s.BUBBLE_UP},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN={accept:!0,bubble:s.BUBBLE_DOWN},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:s.BUBBLE_UP,effect:o.COPY},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY={accept:!0,bubble:s.BUBBLE_DOWN,effect:o.COPY}}),define("vs/base/bits/bits",["require","exports"],function(e,t){function n(e,t,n){return void 0===n&&(n="0"),new Array(t-e.length+1).join(n)+e}function r(e,t){return void 0===t&&(t=32),n((e>>>0).toString(16),t/4)}function i(e,t,n){void 0===n&&(n=32);var r=n-t,i=~((1<<r)-1);return(e<<t|(i&e)>>>r)>>>0}function o(e,t){var n=65535&e,r=e>>>16,i=65535&t,o=t>>>16,s=0,a=0,l=0,c=0,u=i*n;return s+=65535&u,a+=u>>>16,u=i*r,a+=65535&u,l+=u>>>16,u=o*n,a+=65535&u,l+=u>>>16,l+=a>>>16,a=65535&a,u=o*r,l+=65535&u,c+=u>>>16,c+=l>>>16,l=65535&l,[(c<<16|l)>>>0,(a<<16|s)>>>0]}t.leftPad=n,t.toHexString=r,t.leftRotate=i,t.multiply64=o}),define("vs/base/bits/encoding",["require","exports","./bits"],function(e,t,n){function r(e){if(e>>>=0,128>e)return 1;if(2048>e)return 2;if(65536>e)return 3;if(2097152>e)return 4;if(67108864>e)return 5;if(2147483648>e)return 6;throw new Error("Code point 0x"+n.toHexString(e)+" not encodable in UTF8.")}function i(e,t,n){var i=r(e);if(1===i)return t[n]=e,1;t[n]=255&(252<<6-i|e>>>6*(i-1));for(var o=1;i>o;o++)t[n+o]=255&(128|63&e>>>6*(i-o-1));return i}function o(e,t){var n,o,s=0,a=0,l=0,c=0;for(n=0,o=e.length;o>n;n++){if(a=e.charCodeAt(n),a>=55296&&56320>a){if(l=e.charCodeAt(++n),!(l>=56320&&57344>l))throw new Error("Invalid char code");c=((a-55296&1023)<<10|l-56320&1023)+65536}else c=a;s+=r(c)}t&&(s+=3);var u=new ArrayBuffer(s),d=new Uint8Array(u),p=0;for(t&&(d[0]=239,d[1]=187,d[2]=191,p+=3),n=0,o=e.length;o>n;n++)a=e.charCodeAt(n),a>=55296&&56320>a?(l=e.charCodeAt(++n),c=((a-55296&1023)<<10|l-56320&1023)+65536):c=a,p+=i(c,d,p);return u}function s(e,t,n,r){var i=2*e.length;if(i>r)throw Error("Unable to encode string to UTF16. Need "+i+" bytes, but only have "+r+" bytes.");for(var o=0;o<e.length;o++)t.setUint16(n+2*o,e.charCodeAt(o),!1);return i}t.encodeToUTF8=o,t.encodeToUTF16=s}),define("vs/base/bits/hash",["require","exports","vs/base/env","vs/base/bits/bits","vs/base/bits/encoding","vs/base/types"],function(e,t,n,r,i,o){function s(e,t,n,r,i){for(var o=0,s=Math.min(e.byteLength-t,n.byteLength-r,i);s>o;o++)e[t+o]=n[r+o];return s}function a(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e.byteLength),void 0===r&&(r=0);for(var i=0;n>i;i++)e[t+i]=r}function l(e,t,n){if("undefined"==typeof ArrayBuffer)return null;var r=o.isString(e)?i.encodeToUTF8(e,t):e,s=new u;return n&&s.update(n(r.byteLength)),r.byteLength&&s.update(r),s.digest()}function c(){return!n.browser.isIE9}var u=function(){function e(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.length=0,this.buffer=new Uint8Array(e.BLOCK_SIZE),this.bufferDV=new DataView(this.buffer.buffer),this.bufferLength=0,this.bigBlock32=new DataView(new ArrayBuffer(320))}return e.digest=function(t){var n=new e;return n.update(t),n.digest()},e.prototype.update=function(t){if(!this.buffer)throw new Error("Digest already computed.");var n;n=o.isString(t)?new Uint8Array(i.encodeToUTF8(t)):t instanceof ArrayBuffer?new Uint8Array(t):t instanceof DataView?new Uint8Array(t.buffer):t;for(var r=0,a=0;a<n.byteLength;)r=s(this.buffer,this.bufferLength,n,a,n.byteLength),this.bufferLength+=r,a+=r,this.bufferLength===e.BLOCK_SIZE&&(this.step(this.bufferDV),this.bufferLength=0);this.length+=a},e.prototype.digest=function(){return this.buffer&&this.wrapUp(),r.toHexString(this.h0)+r.toHexString(this.h1)+r.toHexString(this.h2)+r.toHexString(this.h3)+r.toHexString(this.h4)},e.prototype.wrapUp=function(){this.buffer[this.bufferLength++]=128,a(this.buffer,this.bufferLength),this.bufferLength>56&&(this.step(this.bufferDV),a(this.buffer));var e=r.multiply64(8,this.length);this.bufferDV.setUint32(56,e[0],!1),this.bufferDV.setUint32(60,e[1],!1),this.step(this.bufferDV),this.buffer=null,this.bufferDV=null,this.bufferLength=-1},e.prototype.step=function(e){for(var t=0;64>t;t+=4)this.bigBlock32.setUint32(t,e.getUint32(t,!1),!1);
for(t=64;320>t;t+=4)this.bigBlock32.setUint32(t,r.leftRotate(this.bigBlock32.getUint32(t-12,!1)^this.bigBlock32.getUint32(t-32,!1)^this.bigBlock32.getUint32(t-56,!1)^this.bigBlock32.getUint32(t-64,!1),1),!1);var n,i,o,s=this.h0,a=this.h1,l=this.h2,c=this.h3,u=this.h4;for(t=0;80>t;t++)20>t?(n=a&l|~a&c,i=1518500249):40>t?(n=a^l^c,i=1859775393):60>t?(n=a&l|a&c|l&c,i=2400959708):(n=a^l^c,i=3395469782),o=r.leftRotate(s,5)+n+u+i+this.bigBlock32.getUint32(4*t,!1)&4294967295,u=c,c=l,l=r.leftRotate(a,30),a=s,s=o;this.h0=this.h0+s&4294967295,this.h1=this.h1+a&4294967295,this.h2=this.h2+l&4294967295,this.h3=this.h3+c&4294967295,this.h4=this.h4+u&4294967295},e.BLOCK_SIZE=64,e}();t.SHA1=u,t.computeSHA1Hash=l,t.canHash=c}),define("vs/base/diff/diffChange",["require","exports"],function(e,t){t.DifferenceType={Add:0,Remove:1,Change:2};var n=function(){function e(e,t,n,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=r}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=n}),define("vs/base/diff/diff",["require","exports","vs/base/diff/diffChange"],function(e,t,n){var r=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=r;var i=function(){function e(){}return e.Copy=function(e,t,n,r,i){for(var o=0;i>o;o++)n[r+o]=e[t+o]},e}();t.MyArray=i;// Copyright (C) 2008 Microsoft Corporation
var o=1447,s=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),a=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,r={},i=1;for(n=0;e>n;n++){var o=this.OriginalSequence.getElementHash(n);r.hasOwnProperty(o)?this.m_originalIds[n]=r[o]:(this.m_originalIds[n]=i++,r[o]=this.m_originalIds[n])}for(n=0;t>n;n++){var s=this.ModifiedSequence.getElementHash(n);r.hasOwnProperty(s)?this.m_modifiedIds[n]=r[s]:(this.m_modifiedIds[n]=i++,r[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,n,r){var i=[!1];return this.ComputeDiffRecursive(e,t,n,r,i)},e.prototype.ComputeDiffRecursive=function(e,t,i,o,s){for(s[0]=!1;t>=e&&o>=i&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){var a;return o>=i?(r.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n.DiffChange(e,0,i,o-i+1)]):t>=e?(r.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n.DiffChange(e,t-e+1,i,0)]):(r.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var l=[0],c=[0],u=this.ComputeRecursionPoint(e,t,i,o,l,c,s),d=l[0],p=c[0];if(null!==u)return u;if(!s[0]){var h=this.ComputeDiffRecursive(e,d,i,p,s),m=[];return m=s[0]?[new n.DiffChange(d+1,t-(d+1)+1,p+1,o-(p+1)+1)]:this.ComputeDiffRecursive(d+1,t,p+1,o,s),this.ConcatenateChanges(h,m)}return[new n.DiffChange(e,t-e+1,i,o-i+1)]},e.prototype.WALKTRACE=function(e,t,r,i,o,a,l,c,u,d,p,h,m,f,v,g,b,y){var _,w=null,E=null,S=new s,T=t,k=r,C=m[0]-g[0]-i,x=Number.MIN_VALUE,A=this.m_forwardHistory.length-1;do _=C+e,_===T||k>_&&u[_-1]<u[_+1]?(p=u[_+1],f=p-C-i,x>p&&S.MarkNextChange(),x=p,S.AddModifiedElement(p+1,f),C=_+1-e):(p=u[_-1]+1,f=p-C-i,x>p&&S.MarkNextChange(),x=p-1,S.AddOriginalElement(p,f+1),C=_-1-e),A>=0&&(u=this.m_forwardHistory[A],e=u[0],T=1,k=u.length-1);while(--A>=-1);if(w=S.getReverseChanges(),y[0]){var L=m[0]+1,N=g[0]+1;if(null!==w&&w.length>0){var I=w[w.length-1];L=Math.max(L,I.getOriginalEnd()),N=Math.max(N,I.getModifiedEnd())}E=[new n.DiffChange(L,h-L+1,N,v-N+1)]}else{S=new s,T=a,k=l,C=m[0]-g[0]-c,x=Number.MAX_VALUE,A=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do _=C+o,_===T||k>_&&d[_-1]>=d[_+1]?(p=d[_+1]-1,f=p-C-c,p>x&&S.MarkNextChange(),x=p+1,S.AddOriginalElement(p+1,f+1),C=_+1-o):(p=d[_-1],f=p-C-c,p>x&&S.MarkNextChange(),x=p,S.AddModifiedElement(p+1,f+1),C=_-1-o),A>=0&&(d=this.m_reverseHistory[A],o=d[0],T=1,k=d.length-1);while(--A>=-1);E=S.getChanges()}return this.ConcatenateChanges(w,E)},e.prototype.ComputeRecursionPoint=function(e,t,r,s,a,l,c){var u,d,p,h=0,m=0,f=0,v=0;e--,r--,a[0]=0,l[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var g=t-e+(s-r),b=g+1,y=new Array(b),_=new Array(b),w=s-r,E=t-e,S=e-r,T=t-s,k=E-w,C=k%2===0;y[w]=e,_[E]=t,c[0]=!1;var x,A;for(p=1;g/2+1>=p;p++){var L=0,N=0;for(h=this.ClipDiagonalBound(w-p,p,w,b),m=this.ClipDiagonalBound(w+p,p,w,b),x=h;m>=x;x+=2){for(u=x===h||m>x&&y[x-1]<y[x+1]?y[x+1]:y[x-1]+1,d=u-(x-w)-S,A=u;t>u&&s>d&&this.ElementsAreEqual(u+1,d+1);)u++,d++;if(y[x]=u,u+d>L+N&&(L=u,N=d),!C&&Math.abs(x-E)<=p-1&&u>=_[x])return a[0]=u,l[0]=d,A<=_[x]&&o>0&&o+1>=p?this.WALKTRACE(w,h,m,S,E,f,v,T,y,_,u,t,a,d,s,l,C,c):null}var I=(L-e+(N-r)-p)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(L,this.OriginalSequence,I))return c[0]=!0,a[0]=L,l[0]=N,I>0&&o>0&&o+1>=p?this.WALKTRACE(w,h,m,S,E,f,v,T,y,_,u,t,a,d,s,l,C,c):(e++,r++,[new n.DiffChange(e,t-e+1,r,s-r+1)]);for(f=this.ClipDiagonalBound(E-p,p,E,b),v=this.ClipDiagonalBound(E+p,p,E,b),x=f;v>=x;x+=2){for(u=x===f||v>x&&_[x-1]>=_[x+1]?_[x+1]-1:_[x-1],d=u-(x-E)-T,A=u;u>e&&d>r&&this.ElementsAreEqual(u,d);)u--,d--;if(_[x]=u,C&&Math.abs(x-w)<=p&&u<=y[x])return a[0]=u,l[0]=d,A>=y[x]&&o>0&&o+1>=p?this.WALKTRACE(w,h,m,S,E,f,v,T,y,_,u,t,a,d,s,l,C,c):null}if(o>=p){var O=new Array(m-h+2);O[0]=w-h+1,i.Copy(y,h,O,1,m-h+1),this.m_forwardHistory.push(O),O=new Array(v-f+2),O[0]=E-f+1,i.Copy(_,f,O,1,v-f+1),this.m_reverseHistory.push(O)}}return this.WALKTRACE(w,h,m,S,E,f,v,T,y,_,u,t,a,d,s,l,C,c)},e.prototype.ConcatenateChanges=function(e,t){var n=[],r=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(r=new Array(e.length+t.length-1),i.Copy(e,0,r,0,e.length-1),r[e.length-1]=n[0],i.Copy(t,1,r,e.length,t.length-1),r):(r=new Array(e.length+t.length),i.Copy(e,0,r,0,e.length),i.Copy(t,0,r,e.length,t.length),r)},e.prototype.ChangesOverlap=function(e,t,i){if(r.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),r.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var o=e.originalStart,s=e.originalLength,a=e.modifiedStart,l=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(l=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n.DiffChange(o,s,a,l),!0}return i[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,r){if(e>=0&&r>e)return e;var i=n,o=r-n-1,s=t%2===0;if(0>e){var a=i%2===0;return s===a?0:1}var l=o%2===0;return s===l?r-1:r-2},e}();t.LcsDiff=a}),define("vs/base/ui/widgets/tree/treeDnd",["require","exports"],function(e,t){var n=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=n;var r=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();t.ExternalElementsDragAndDropData=r;var i=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=i}),define("vs/base/ui/widgets/tree/treeUtil",["require","exports"],function(e,t){var n=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.items=e,this.start=t,this.end=n,this.index=t-1}return e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=n;var r=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}();t.MappedIterator=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeView",["require","exports","./tree","vs/base/env","vs/base/bits/hash","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/eventEmitter","vs/base/diff/diff","vs/base/dom/touch","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","./treeDnd","./treeUtil","vs/base/ui/scrollbar/impl/scrollableElement"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e,t){return e||t?e&&t?e.accept!==t.accept?!1:e.bubble!==t.bubble?!1:e.effect!==t.effect?!1:!0:!1:!0}var v=function(){function e(e,t,n){var r=this;this.context=e,this.model=t,this.id=this.model.id,this.top=n,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return r._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.row){var n=["monaco-tree-row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.row.className=n.join(" "),this.row.draggable=this.draggable,this.row.style.height=this.height+"px",this.row.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px";var r=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());r!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart(),delete this.unbindDragStart),r?(this.uri=r,this.draggable=!0,this.unbindDragStart=s.addListener(this.row,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||(this.renderCleanupFn&&this.renderCleanupFn(this.context.tree,this.model.getElement()),this.renderCleanupFn=this.context.renderer.render(this.context.tree,this.model.getElement(),this.row.firstChild,this.renderCleanupFn))}},e.prototype.insertInDOM=function(e,t){if(!this.row){var n=document.createElement("div");n.className="content",this.row=document.createElement("div"),this.row[y.BINDING]=this,this.row.appendChild(n)}this.row.parentElement||(null===t?e.appendChild(this.row):e.insertBefore(this.row,t),this.render())},e.prototype.removeFromDOM=function(){if(this.row){this.unbindDragStart&&(this.unbindDragStart(),this.unbindDragStart=null),this.renderCleanupFn&&this.renderCleanupFn(this.context.tree,this.model.getElement()),this.uri=null;try{this.row.parentElement.removeChild(this.row)}catch(e){}this.row=null}},e.prototype.dispose=function(){this.renderCleanupFn=null,this.row=null,this.model=null},e}();t.ViewItem=v;var g=function(e){function t(t,n,r){e.call(this,t,n,0),this.row=r}return __extends(t,e),t.prototype.render=function(){if(this.row){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.row.className=e.join(" ")}},t.prototype.insertInDOM=function(){},t.prototype.removeFromDOM=function(){},t}(v),b=function(e){function t(t){e.call(this),this.context=t,this.heightMap=[],this.indexes={}}return __extends(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var n,r,i,o,s,a=0;if(null===t)i=0,s=0;else{if(i=this.indexes[t]+1,r=this.heightMap[i-1],!r){var l=new Error("Tree error, onInsertItems: viewItem doesn't exist.");throw l.data=this.getDebugData(i-1),l}s=r.top+r.height}for(var c=this.heightMap.splice.bind(this.heightMap,i,0),u=[];n=e.next();)r=new v(this.context,n,s+a),this.emit("viewItem:create",{item:r.model}),this.indexes[n.id]=i++,u.push(r),a+=r.height;for(c.apply(this.heightMap,u),o=i;o<this.heightMap.length;o++)r=this.heightMap[o],r.top+=a,this.indexes[r.id]=o;for(o=u.length-1;o>=0;o--)this.onInsertItem(u[o]);for(o=this.heightMap.length-1;o>=i;o--)this.onRefreshItem(this.heightMap[o]);return a},t.prototype.onInsertItem=function(){},t.prototype.onRemoveItems=function(e){for(var t,n,r,i=null,o=0;t=e.next();){if(r=this.indexes[t],n=this.heightMap[r],!n){var s=new Error("Tree error, onRemoveItems: viewItem doesn't exist.");throw s.data=this.getDebugData(r),s}o-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===i&&(i=r)}if(0!==o)for(this.heightMap.splice(i,r-i+1),r=i;r<this.heightMap.length;r++)n=this.heightMap[r],n.top+=o,this.indexes[n.id]=r,this.onRefreshItem(n)},t.prototype.onRemoveItem=function(){},t.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]});this.onRefreshItems(new h.ArrayIterator(n))},t.prototype.onRefreshItems=function(e){for(var t,n,r,i,o=null,s=0;t=e.next();){for(i=this.indexes[t.id];0!==s&&null!==o&&i>o;o++)n=this.heightMap[o],n.top+=s,this.onRefreshItem(n);n=this.heightMap[i],r=t.getHeight(),n.top+=s,s+=r-n.height,n.height=r,this.onRefreshItem(n,!0),o=i+1}if(0!==s&&null!==o)for(;o<this.heightMap.length;o++)n=this.heightMap[o],n.top+=s,this.onRefreshItem(n)},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].id},t.prototype.withItemsInRange=function(e,t,n){e=this.indexAt(e),t=this.indexAt(t);for(var r=e;t>=r;r++)n(this.heightMap[r].id)},t.prototype.indexAt=function(e){for(var t,n,r=0,i=this.heightMap.length;i>r;)if(t=Math.floor((r+i)/2),n=this.heightMap[t],e<n.top)i=t;else{if(!(e>=n.top+n.height))return t;if(r===t)break;r=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.id]+1]||null},t.prototype.getDebugData=function(e){var t=this,n={};Object.keys(this.indexes).forEach(function(e){n[i.SHA1.digest(e)]=t.indexes[e]});var r=this.heightMap.map(function(e){return{id:i.SHA1.digest(e.id),top:e.top,height:e.height}});return{i:e,indexes:n,heightMap:r}},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(a.EventEmitter);t.HeightMap=b;var y=function(e){function t(t,n){var i=this;e.call(this,t),this.lastClickTimeStamp=0,this.isRefreshing=!1,this.refreshingPreviousChildrenIds={},this.treeContext=t,this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-tree",this.domNode.tabIndex=0,this.treeContext.options.alwaysFocused&&s.addClass(this.domNode,"focused"),this.treeContext.options.bare&&s.addClass(this.domNode,"bare"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-tree-wrapper",this.scrollableElement=new m.ScrollableElement(this.wrapper,{scrollable:this,horizontal:"hidden",vertical:t.options.verticalScrollMode||"auto",useShadows:t.options.useShadows}),r.browser.isIE11orEarlier?(this.wrapper.style.msTouchAction="none",this.wrapper.style.msContentZooming="none"):this.wrapperGesture=new c.Gesture(this.wrapper),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-tree-rows",this.fakeRow=document.createElement("div"),this.fakeRow.className="monaco-tree-row fake",this.fakeContent=document.createElement("div"),this.fakeContent.className="content",this.fakeRow.appendChild(this.fakeContent),this.rowsContainer.appendChild(this.fakeRow);var o=s.trackFocus(this.domNode);o.addFocusListener(function(e){return i.onFocus(e)}),o.addBlurListener(function(e){return i.onBlur(e)}),this.viewListeners.push(function(){o.dispose()}),this.viewListeners.push(s.addListener(this.domNode,"keydown",function(e){return i.onKeyDown(e)})),this.viewListeners.push(s.addListener(this.domNode,"keyup",function(e){return i.onKeyUp(e)})),this.viewListeners.push(s.addListener(this.domNode,"mousedown",function(e){return i.onMouseDown(e)})),this.viewListeners.push(s.addListener(this.domNode,"mouseup",function(e){return i.onMouseUp(e)})),this.viewListeners.push(s.addListener(this.wrapper,"click",function(e){return i.onClick(e)})),this.viewListeners.push(s.addListener(this.domNode,"contextmenu",function(e){return i.onContextMenu(e)})),this.viewListeners.push(s.addListener(this.wrapper,c.EventType.Tap,function(e){return i.onTap(e)})),this.viewListeners.push(s.addListener(this.wrapper,c.EventType.Change,function(e){return i.onTouchChange(e)})),r.browser.isIE11orEarlier&&(this.viewListeners.push(s.addListener(this.wrapper,"MSPointerDown",function(e){return i.onMsPointerDown(e)})),this.viewListeners.push(s.addListener(this.wrapper,"MSGestureTap",function(e){return i.onMsGestureTap(e)})),this.viewListeners.push(s.addThrottledListener(this.wrapper,"MSGestureChange",function(e){return i.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),this.viewListeners.push(s.addListener(window,"dragover",function(e){return i.onDragOver(e)})),this.viewListeners.push(s.addListener(window,"drop",function(e){return i.onDrop(e)})),this.viewListeners.push(s.addListener(window,"dragend",function(e){return i.onDragEnd(e)})),this.viewListeners.push(s.addListener(window,"dragleave",function(e){return i.onDragOver(e)})),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollableElement.getDomNode()),n.appendChild(this.domNode),this._scrollTop=0,this._viewHeight=0,this.renderTop=0,this.renderHeight=0,this.didJustPressContextMenuKey=!1,this.currentDropTarget=null,this.currentDropTargets=[],this.shouldInvalidateDropReaction=!1,this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null,this.onHiddenScrollTop=null,this.onRowsChanged(),this.layout(),this.setupMSGesture()}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions(),this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||s.getContentHeight(this.wrapper),this.scrollTop=this.scrollTop,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions())},t.prototype.render=function(e,t){var n,r,i=e+t,o=this.scrollTop+this.viewHeight,s=e;s=Math.max(s,0);var a=i,l=0===o?0:o;for(n=this.indexAfter(a)-1,r=this.indexAt(Math.max(l,s));n>=r;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=Math.min(this.indexAt(this.renderTop),this.indexAfter(a))-1,r=this.indexAt(s);n>=r;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=this.indexAt(this.renderTop),r=Math.min(this.indexAt(s),this.indexAfter(l));r>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));for(n=Math.max(this.indexAfter(a),this.indexAt(this.renderTop)),r=this.indexAfter(l);r>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));var c=this.itemAtIndex(this.indexAt(s));c&&(this.rowsContainer.style.top=c.top-s+"px"),this.renderTop=s,this.renderHeight=a-s},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n],o=i.getData();switch(i.getType()){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(o);break;case"setInput":this.onSetInput(o);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(o);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(o);break;case"item:refresh":t.push(o.item);break;case"item:expanding":this.onItemExpanding(o);break;case"item:expanded":this.onItemExpanded(o);break;case"item:collapsing":this.onItemCollapsing(o);break;case"item:reveal":this.onItemReveal(o);break;case"item:addTrait":this.onItemAddTrait(o);break;case"item:removeTrait":this.onItemRemoveTrait(o)}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e,this.scrollableElement.onElementInternalDimensions())},t.prototype.withFakeRow=function(e){return e(this.fakeContent)},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var r=this.itemAtIndex(n).model.getElement(),i=this.model.getFocus();if(i!==r)this.model.setFocus(r,e);else{var o=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var r=this.itemAtIndex(t).model.getElement(),i=this.model.getFocus();if(i!==r)this.model.setFocus(r,e);else{var o=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(e){this.render(this.scrollTop,e),this._viewHeight=e},enumerable:!0,configurable:!0}),t.prototype.getScrollHeight=function(){return this.getTotalHeight()},t.prototype.getScrollWidth=function(){return 0},t.prototype.getScrollLeft=function(){return 0},t.prototype.setScrollLeft=function(){},Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._scrollTop},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),t.prototype.getScrollTop=function(){return this._scrollTop},t.prototype.setScrollTop=function(e){e=Math.min(e,this.getTotalHeight()-this.viewHeight),e=Math.max(e,0),this.render(e,this.viewHeight),this._scrollTop=e,this.emit("scroll",{vertical:!0,horizontal:!1})},t.prototype.addScrollListener=function(e){return this.addListener2("scroll",e)},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new h.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.inputItem=new g(this.treeContext,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,r=this.items[n.id];if(r&&(r.loadingPromise=o.Promise.timeout(t.LOADING_DECORATION_DELAY).then(function(){r.loadingPromise=null,r.loading=!0})),!e.isNested){for(var i,s=[],a=n.getNavigator();i=a.next();)s.push(i.id);this.refreshingPreviousChildrenIds[n.id]=s}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,r=this.items[n.id];if(r&&(r.loadingPromise&&(r.loadingPromise.cancel(),r.loadingPromise=null),r.loading=!1),!e.isNested){for(var i,o=this.refreshingPreviousChildrenIds[n.id],s=[],a=n.getNavigator();i=a.next();)s.push(i);var c=new l.LcsDiff({getLength:function(){return o.length},getElementHash:function(e){return o[e]}},{getLength:function(){return s.length},getElementHash:function(e){return s[e].id}},null),u=c.ComputeDiff(),d=u.some(function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,r=e.modifiedStart+e.modifiedLength;r>n;n++)if(t.items.hasOwnProperty(s[n].id))return!0;return!1});if(d)u.length&&(this.onRemoveItems(new h.ArrayIterator(o)),this.onInsertItems(new h.ArrayIterator(s)));else for(var p=0,m=u.length;m>p;p++){var f=u[p];if(f.originalLength>0&&this.onRemoveItems(new h.ArrayIterator(o,f.originalStart,f.originalStart+f.originalLength)),f.modifiedLength>0){var v=s[f.modifiedStart-1]||n;v=v.getDepth()>0?v:null,this.onInsertItems(new h.ArrayIterator(s,f.modifiedStart,f.modifiedStart+f.modifiedLength),v?v.id:null)}}u.length&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var r=this.onInsertItems(t.getNavigator(),t.id),i=this.scrollTop;n.top+n.height<=this.scrollTop&&(i+=r),this.onRowsChanged(i)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new h.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,r=this.items[t.id];if(r)if(null!==n){n=0>n?0:n,n=n>1?1:n;var i=r.height-this.viewHeight;this.scrollTop=i*n+r.top}else{var o=r.top+r.height,s=this.scrollTop+this.viewHeight;r.top<this.scrollTop?this.scrollTop=r.top:o>=s&&(this.scrollTop=o-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,r=this.items[t.id];r&&r.addClass(n),"highlighted"===n&&(s.addClass(this.domNode,n),r&&(this.highlightedItemWasDraggable=!!r.draggable,r.draggable&&(r.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,r=this.items[t.id];r&&r.removeClass(n),"highlighted"===n&&(s.removeClass(this.domNode,n),this.highlightedItemWasDraggable&&(r.draggable=!0),delete this.highlightedItemWasDraggable)},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new u.StandardMouseEvent(e),n=this.getItemAround(t.target);n&&(r.browser.isIE10orLater&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.treeContext.controller.onClick(this.treeContext.tree,n.model.getElement(),t))}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.treeContext.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&r.isNative&&r.isMacintosh)){var n=this.getItemAround(t.target);n&&this.treeContext.controller.onMouseDown(this.treeContext.tree,n.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.treeContext.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&r.isNative&&r.isMacintosh)){var n=this.getItemAround(t.target);n&&this.treeContext.controller.onMouseUp(this.treeContext.tree,n.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.treeContext.controller.onTap(this.treeContext.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,r;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var i=new d.KeyboardEvent(e);if(r=this.model.getFocus(),!r)return;var o=this.context.dataSource.getId(this.context.tree,r),a=this.items[o],l=s.getDomNodePosition(a.row);t=new n.KeyboardContextMenuEvent(l.left+l.width,l.top,i)}else{var c=new u.StandardMouseEvent(e),p=this.getItemAround(c.target);if(!p)return;r=p.model.getElement(),t=new n.MouseContextMenuEvent(c)}this.treeContext.controller.onContextMenu(this.treeContext.tree,r,t)},t.prototype.onKeyDown=function(e){var t=new d.KeyboardEvent(e);this.didJustPressContextMenuKey="ContextMenu"===t.key||t.shiftKey&&"F10"===t.key,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.treeContext.controller.onKeyDown(this.treeContext.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.treeContext.controller.onKeyUp(this.treeContext.tree,new d.KeyboardEvent(e))},t.prototype.onDragStart=function(e,n){if(!this.model.getHighlight()){n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData("URL",e.uri),n.dataTransfer.setDragImage&&e.row&&n.dataTransfer.setDragImage(e.row,n.offsetX||6,n.offsetY||6);var r=[e.model.getElement()];this.currentDragAndDropData=new p.ElementsDragAndDropData(r),t.currentExternalDragAndDropData=new p.ExternalElementsDragAndDropData(r),this.treeContext.dnd.onDragStart(this.treeContext.tree,this.currentDragAndDropData,new u.DragMouseEvent(n))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=s.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,r=0,i=e.viewHeight-35;35>n?r=Math.max(-14,.2*(n-35)):n>i&&(r=Math.min(14,.2*(n-i))),e.scrollTop+=r}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var r=this,i=new u.DragMouseEvent(e),s=this.getItemAround(i.target);if(!s)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),delete this.currentDropTarget,delete this.currentDropElement,delete this.dragAndDropMouseY,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;
else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new p.DesktopDragAndDropData}this.currentDragAndDropData.update(i);var a,l,c=s.model;do{if(a=c?c.getElement():this.model.getInput(),l=this.treeContext.dnd.onDragOver(this.treeContext.tree,this.currentDragAndDropData,a,i),!l||l.bubble!==n.DragOverBubble.BUBBLE_UP)break;c=c&&c.parent}while(c);if(!c)return delete this.currentDropElement,!1;var d=l&&l.accept;d?(this.currentDropElement=c.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=l.effect===n.DragOverEffect.COPY?"copy":"move"):delete this.currentDropElement;var h=c.id===this.inputItem.id?this.inputItem:this.items[c.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==h||!f(this.currentDropElementReaction,l))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=h,this.currentDropElementReaction=l,d)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),l.bubble===n.DragOverBubble.BUBBLE_DOWN)for(var m,v=c.getNavigator();m=v.next();)s=this.items[m.id],s&&(s.dropTarget=!0,this.currentDropTargets.push(s));this.currentDropPromise=o.Promise.timeout(500).then(function(){return r.treeContext.tree.expand(r.currentDropElement).then(function(){r.shouldInvalidateDropReaction=!0})})}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new u.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.treeContext.dnd.drop(this.treeContext.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),delete this.currentDragAndDropData,t.currentExternalDragAndDropData=null,delete this.currentDropElement,delete this.currentDropTarget,delete this.dragAndDropMouseY},t.prototype.onFocus=function(){this.treeContext.options.alwaysFocused||s.addClass(this.domNode,"focused")},t.prototype.onBlur=function(){this.treeContext.options.alwaysFocused||s.removeClass(this.domNode,"focused")},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;return t===(e.MSPOINTER_TYPE_MOUSE||"mouse")?(this.lastPointerType="mouse",void 0):(t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)),void 0)}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.row&&(t=n.row),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.renderTop+this.renderHeight&&e.top+e.height>this.renderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){if(this.model){for(;this.modelListeners.length;)this.modelListeners.pop()();this.model=null}},t.prototype.dispose=function(){for(this.scrollableElement.destroy(),this.releaseModel(),this.modelListeners=null;this.viewListeners.length;)this.viewListeners.pop()();this.viewListeners=null,this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.currentExternalDragAndDropData=null,t}(b);t.TreeView=y}),define("vs/css!vs/base/ui/widgets/tree/tree",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeImpl",["require","exports","vs/base/types","vs/base/ui/widgets/tree/treeDefaults","vs/base/eventEmitter","./treeModel","./treeView","vs/css!./tree"],function(e,t,n,r,i,o,s){var a=function(){function e(e,t,i){if(void 0===i&&(i={}),this.tree=e,this.configuration=t,this.options=i,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer||new r.DefaultRenderer,this.controller=t.controller||new r.DefaultController,this.dnd=t.dnd||new r.DefaultDragAndDrop,this.filter=t.filter||new r.DefaultFilter,this.sorter=t.sorter||null;var o=[this.dataSource,this.renderer,this.controller,this.dnd,this.filter,this.sorter];o.forEach(function(t){t&&n.isFunction(t.setTree)&&t.setTree(e)})}return e}();t.TreeContext=a;var l=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this),this.container=t,this.configuration=n,this.options=r,this.options.twistiePixels="number"==typeof this.options.twistiePixels?this.options.twistiePixels:32,this.options.indentPixels="number"==typeof this.options.indentPixels?this.options.indentPixels:12,this.options.alwaysFocused=this.options.alwaysFocused===!0?!0:!1,this.options.bare=this.options.bare===!0?!0:!1,this.options.useShadows=this.options.useShadows===!1?!1:!0,this.context=new a(this,n,r),this.model=new o.TreeModel(this.context),this.view=new s.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter(this.model),this.addEmitter(this.view)}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},t.prototype.refreshAll=function(e,t){return void 0===t&&(t=!0),this.model.refreshAll(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e)},t.prototype.collapseAll=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},t.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t){this.model.selectNext(e,t)},t.prototype.selectPrevious=function(e,t){this.model.selectPrevious(e,t)},t.prototype.selectParent=function(e){this.model.selectParent(e)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirst=function(e){this.model.focusFirst(e)},t.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},t.prototype.focusLast=function(e){this.model.focusLast(e)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.withFakeRow=function(e){return this.view.withFakeRow(e)},t.prototype.dispose=function(){null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.Tree=l}),define("vs/css!vs/base/ui/widgets/highlightedlabel",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/highlightedLabel",["require","exports","vs/base/strings","vs/base/dom/dom","vs/base/objects","vs/css!./highlightedlabel"],function(e,t,n,r,i){var o=function(){function e(e,t,n){void 0===t&&(t=""),void 0===n&&(n=[]),this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.getHTMLElement().appendChild(this.domNode),this.text=t,this.highlights=n,this.renderedOnce=!1}return e.prototype.destroy=function(){this.text=null,this.highlights=null},e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]),this.renderedOnce&&this.text===e&&i.equals(this.highlights,t)||(this.text=e,this.highlights=t,this.render(),this.renderedOnce=!0)},e.prototype.render=function(){r.clearNode(this.domNode);for(var e,t=[],i=0,o=0;o<this.highlights.length;o++)e=this.highlights[o],i<e.start&&(t.push("<span>"),t.push(n.escape(this.text.substring(i,e.start))),t.push("</span>"),i=e.end),t.push('<span class="highlight">'),t.push(n.escape(this.text.substring(e.start,e.end))),t.push("</span>"),i=e.end;i<this.text.length&&(t.push("<span>"),t.push(n.escape(this.text.substring(i))),t.push("</span>")),this.domNode.innerHTML=t.join("")},e}();t.HighlightedLabel=o}),define("vs/css!vs/editor/contrib/suggest/suggest",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggestWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/errors","vs/editor/modes/modes","vs/base/dom/builder","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/highlightedLabel","vs/editor/core/constants","vs/editor/editor","vs/css!./suggest"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e,t){var n=t;return t instanceof f||!n.documentationLabel||!e.isFocused(n)?19:35}function h(e,t,n){for(var r=e.toLowerCase(),i=0,o=0;o<t.length&&o<e.length;o++)if(t[o]===e[o])i+=2;else{if(n[o]!==r[o])break;i+=1}return i}var m=s.$,f=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=f;var v=function(){function e(e){this.child=new f(this,e)}return e}();t.MessageRoot=v;var g=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof v?!0:e instanceof f?!1:e.suggestions?(this.root=e,!0):!1},e.prototype.getId=function(t,n){if(n instanceof v)return"messageroot";if(n instanceof f)return"message"+n.message;if(n.suggestions)return"root";if(o.isISuggestion(n))return"string"!=typeof n.id&&(n.id=String(e._IdPool++)),n.id;throw i.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof v?r.Promise.as(null):t instanceof f?r.Promise.as(t.parent):r.Promise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof v?r.Promise.as([t.child]):t instanceof f?r.Promise.as([]):r.Promise.as(this.isRoot(t)?this.root.suggestions:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e._IdPool=0,e}(),b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n){return n.preventDefault(),n.stopPropagation(),t instanceof f||e.setSelection([t],{origin:"mouse"}),!0},t}(l.DefaultController),y=function(){function e(e){this.editor=e}return e.prototype.getHeight=function(e,t){return p(e,t)},e.prototype.render=function(e,t,n){var r=m(n);if(t instanceof f)return r.empty().span({style:{opacity:.7,"padding-left":"12px"},text:t.message}),null;var i=t,o=r.getBinding(),s=r.clone();if(!o){if(i.type&&"#"===i.type.charAt(0)){var a=m(".icon").addClass("customcolor").appendTo(s);m("span.colorspan").style("background-color",i.type.substring(1)).appendTo(a),s.attr("aria-label","color")}else m(".icon").addClass(i.type).appendTo(s),s.attr("aria-label",i.type);o={};var l=m(".text").appendTo(s);o.main=m(".main").appendTo(l),o.highlightedLabel=new c.HighlightedLabel(o.main),o.typeLabel=m("span.type-label").appendTo(o.main),o.documentation=m(".docs").appendTo(l),o.documentationLabel=m("span.docs-label").appendTo(o.documentation),r.bind(o)}return o.highlightedLabel.setValue(i.label,i.highlights),o.typeLabel.text(i.typeLabel||""),o.documentationLabel.text(i.documentationLabel||""),function(){o.highlightedLabel.destroy()}},e}(),_=function(){function e(t,n,s,l){var c=this;this.allowEditorOverflow=!0,this.editor=t,this._onShown=s,this._onHidden=l,this.isActive=!1,this.isLoading=!1,this.isAuto=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=null,this.telemetryService=n;var d=function(){var e=c.editor.getModel();c.shouldShowEmptySuggestionList=e&&e.getMode().suggestSupport?e.getMode().suggestSupport.shouldShowEmptySuggestionList():!1};d(),this.listenersToRemove=[],this.listenersToRemove.push(t.addListener(u.EventType.ModelChanged,d)),this.listenersToRemove.push(t.addListener(u.EventType.ModelModeChanged,d)),this.listenersToRemove.push(t.addListener(u.EventType.ModelModeSupportChanged,function(e){e.suggestSupport&&d()})),this.builder=m(".editor-widget.suggest-widget.monaco-editor-background").style({width:e.WIDTH+"px",top:0,left:0}),this.editor.getConfiguration().iconsInSuggestions||this.builder.addClass("no-icons");var p=new g;this.renderer=new y(this.editor),this.tree=new a.Tree(this.builder.getHTMLElement(),{dataSource:p,renderer:this.renderer,controller:new b},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible",useShadows:!1}),this.listenersToRemove.push(t.addListener(u.EventType.EditorTextBlur,function(){r.Promise.timeout(150).done(function(){c.tree&&!c.tree.isDOMFocused()&&c.hide()})})),this.listenersToRemove.push(this.tree.addListener("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];t.hasOwnProperty("suggestions")||t instanceof v||t instanceof f||(c.telemetryData.selectedIndex=c.tree.getInput().suggestions.indexOf(t),c.telemetryData.wasCancelled=!1,c.submitTelemetryData(),c.model.accept(t),c.editor.focus())}}));var h=null;this.listenersToRemove.push(this.tree.addListener("focus",function(e){var t=e.focus,n=e.payload;if(o.isISuggestion(t)&&c.resolveDetails(t),t!==h){var r=[];h&&r.push(h),t&&r.push(t),h=t,c.tree.refreshAll(r).done(function(){c.updateWidgetHeight(),t&&c.tree.reveal(t,n&&n.firstSuggestion?0:null)},i.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(u.EventType.CursorSelectionChanged,function(){c.isActive&&c.editor.layoutContentWidget(c)})),this.hide()}return e.prototype.setModel=function(t){var n=this;this.releaseModel(),this.model=t;var r,o=null;this.modelListenersToRemove.push(this.model.addListener("loading",function(t){n.isActive||(o=n.telemetryService.start("suggestWidgetLoadingTime"),n.isLoading=!0,n.isAuto=!!t.auto,n.isAuto||(r=setTimeout(function(){n.builder.removeClass("empty"),n.tree.setInput(e.LOADING_MESSAGE).done(null,i.onUnexpectedError),n.updateWidgetHeight(),n.show()},50)),t.retrigger||(n.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){n.isLoading=!1,"undefined"!=typeof r&&clearTimeout(r);for(var t,s=e.suggestions.currentWord,a=s.toLowerCase(),l=e.suggestions.suggestions,c=-1,u=e.suggestions.suggestions[0],d=-1,p=0,m=l.length;m>p;p++){t=l[p];var f=h(t.label,s,a);f>d&&(d=f,u=t,c=p)}n.builder.removeClass("empty"),n.tree.setInput(e.suggestions).done(null,i.onUnexpectedError),n.tree.setFocus(u,{firstSuggestion:!0}),n.updateWidgetHeight(),n.show(),n.resolveDetails(u),n.telemetryData=n.telemetryData||{},n.telemetryData.suggestionCount=l.length,n.telemetryData.suggestedIndex=c,n.telemetryData.hintLength=s.length,o&&(o.data={reason:"results"},o.stop(),o=null)})),this.modelListenersToRemove.push(this.model.addListener("empty",function(t){var s=n.isLoading;n.isLoading=!1,"undefined"!=typeof r&&clearTimeout(r),t.auto?n.hide():s?n.shouldShowEmptySuggestionList?(n.builder.removeClass("empty"),n.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,i.onUnexpectedError),n.updateWidgetHeight(),n.show()):n.hide():n.builder.addClass("empty"),o&&(o.data={reason:"empty"},o.stop(),o=null)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(e){n.isLoading=!1,e.retrigger||(n.hide(),n.telemetryData&&(n.telemetryData.selectedIndex=-1,n.telemetryData.wasCancelled=!0,n.submitTelemetryData())),o&&(o.data={reason:"cancel"},o.stop(),o=null)}))},e.prototype.resolveDetails=function(e){var t=this;if(e.detailsResolved!==!0){var n=this.editor.getModel().getMode().suggestSupport;"function"==typeof n.getSuggestionDetails&&(this.currentSuggestionDetails&&this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=n.getSuggestionDetails(this.editor.getModel().getAssociatedResource(),this.model.getRequestPosition()||this.editor.getPosition(),e),this.currentSuggestionDetails.then(function(n){return e.detailsResolved=!0,e.codeSnippet=n.codeSnippet,e.documentationLabel=n.documentationLabel,e.highlights=n.highlights,e.label=n.label,e.type=n.type,e.typeLabel=n.typeLabel,t.tree.refresh(e).then(function(){t.updateWidgetHeight()})},function(e){return i.isPromiseCanceledError(e)?null:e}).done(void 0,i.onUnexpectedError))}},e.prototype.selectNextPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusNextPage(),!0):!1},e.prototype.selectNext=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusPreviousPage(),!0):!1},e.prototype.selectPrevious=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancel(),!0}return!1},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){var e=this;this._onShown(),this.isActive=!0,this.tree.layout(),this.editor.layoutContentWidget(this),r.Promise.timeout(100).done(function(){e.builder.addClass("visible")})},e.prototype.cancel=function(){this.model.cancel()},e.prototype.hide=function(){this._onHidden(),this.isActive=!1,this.builder.removeClass("visible"),this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[d.ContentWidgetPositionPreference.BELOW,d.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.getDomNode=function(){return this.builder.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("suggestWidget",this.telemetryData),this.telemetryData=null},e.prototype.updateWidgetHeight=function(){var t=this.tree.getInput(),n=1e3,r=0;if(t===e.LOADING_MESSAGE||t===e.NO_SUGGESTIONS_MESSAGE)r=19;else{var i=this.tree.getFocus(),o=i?p(this.tree,i):19;r+=o;var s=Math.floor((n-o)/19),a=t;r+=19*Math.min(a.suggestions.length-1,11,s)}this.builder.style({height:r+"px"}),this.tree.layout(r),this.editor.layoutContentWidget(this)},e.prototype.destroy=function(){this.releaseModel(),this.builder.destroy(),this.tree.dispose(),this.tree=null,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null},e.ID="editor.widget.suggestWidget",e.WIDTH=438,e.LOADING_MESSAGE=new v(n.localize("vs_editor_contrib_suggest_suggestWidget",0)),e.NO_SUGGESTIONS_MESSAGE=new v(n.localize("vs_editor_contrib_suggest_suggestWidget",1)),e}();t.SuggestWidget=_});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggestModel",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/strings","vs/base/performance/timer","vs/editor/modes/modesExtensions","vs/editor/core/constants","vs/editor/contrib/snippet/snippet"],function(e,t,n,r,i,o,s,a,l){var c;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(c||(c={}));var u=function(){function e(e){this._suggestions=e,this._suggestions||(this._suggestions=[])}return e.prototype.suggestions=function(){return this._suggestions.reduce(function(e,t){return e.concat(t.suggestions)},[])},e.prototype.parent=function(e){var t;return this._suggestions.every(function(n){return-1!==n.suggestions.indexOf(e)?(t=n,!1):!0}),t},e.prototype.isEmpty=function(){return 0===this._suggestions.length||this._suggestions.every(function(e){return 0===e.suggestions.length})},e.prototype.isIncomplete=function(){return this._suggestions.some(function(e){return e.incomplete})},e}(),d=function(){function e(e,t){this.auto=t;var n=e.getModel(),r=e.getPosition(),i=n.getLineContent(r.lineNumber);this.wordBefore="",this.wordAfter="";var o=n.getWordAtPosition(r,!1,!0);if(o&&(this.wordBefore=i.substring(o.startColumn-1,r.column-1),this.wordAfter=i.substring(r.column-1,o.endColumn-1)),this.lineNumber=r.lineNumber,this.column=r.column,this.lineContentBefore=i.substr(0,r.column-1),this.lineContentAfter=i.substr(r.column-1),this.isInEditableRange=!0,n.hasEditableRange()){var s=n.getEditableRange();s.containsPosition(r)||(this.isInEditableRange=!1)}var a=n.getLineContext(r.lineNumber),l=n.getLineContent(r.lineNumber).charAt(r.column-1);this.shouldAuto=n.getMode().suggestSupport&&n.getMode().suggestSupport.shouldAutotriggerSuggest(a,r.column-1,l)}return e.prototype.isValidForAutoSuggest=function(){return 0===this.wordBefore.length?!1:this.wordAfter.length>0?!1:this.shouldAuto?!0:!1},e.prototype.isValidForNewContext=function(e){return this.lineNumber!==e.lineNumber?!1:e.column<this.column-this.wordBefore.length?!1:i.startsWith(e.lineContentBefore,this.lineContentBefore)&&this.lineContentAfter===e.lineContentAfter?""===e.wordBefore&&e.lineContentBefore!==this.lineContentBefore?!1:!0:!1},e.prototype.isValidForRetrigger=function(e){return i.startsWith(this.lineContentBefore,e.lineContentBefore)&&this.lineContentAfter===e.lineContentAfter?this.lineContentBefore.length>e.lineContentBefore.length&&0===this.wordBefore.length?!1:this.auto&&0===e.wordBefore.length?!1:!0:!1},e}(),p=function(e){function t(t,n){var r=this;e.call(this),this.editor=t,this.onAccept=n,this.listenersToRemove=[],this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=10),this.triggerAutoSuggestPromise=null,this.state=c.NOT_ACTIVE,this.requestPromise=null,this.raw=null,this.requestContext=null,this.listenersToRemove.push(this.editor.addListener(a.EventType.CursorSelectionChanged,function(e){return e.selection.isEmpty()?"keyboard"!==e.source||""!==e.reason?(r.cancel(),void 0):(r.onCursorChange(),void 0):(r.cancel(),void 0)})),this.listenersToRemove.push(this.editor.addListener(a.EventType.ModelChanged,function(){r.cancel()}))}return __extends(t,e),t.prototype.cancel=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.state!==c.NOT_ACTIVE;return this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=c.NOT_ACTIVE,this.raw=null,this.requestContext=null,e||this.emit("cancel",{retrigger:t}),n},t.prototype.getRequestPosition=function(){return this.requestContext?{lineNumber:this.requestContext.lineNumber,column:this.requestContext.column}:null},t.prototype.isAutoSuggest=function(){return this.state===c.AUTO_TRIGGER},t.prototype.onCursorChange=function(){var e=this;if(this.editor.getModel().getMode().suggestSupport){var t=this.state===c.NOT_ACTIVE;if(!t||this.editor.getConfiguration().quickSuggestions){var r=new d(this.editor,!1);t?(this.cancel(),r.isValidForAutoSuggest()&&(this.triggerAutoSuggestPromise=n.Promise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){e.triggerAutoSuggestPromise=null,e.trigger(!0,!1)}))):this.raw&&this.raw.isIncomplete()?this.trigger(this.state===c.AUTO_TRIGGER,!1,!0):this.onNewContext(r)}}},t.prototype.trigger=function(e,t,n){var r=this;void 0===n&&(n=!1);var i=this.editor.getModel(),a=i.getMode().suggestSupport;if(a){var l=new d(this.editor,e);if(l.isInEditableRange){var p=o.start(o.Topic.EDITOR,"suggest/TRIGGER");this.cancel(!1,n),this.state=e||t?c.AUTO_TRIGGER:c.MANUAL_TRIGGER,this.emit("loading",{auto:this.isAutoSuggest(),characterTriggered:t,retrigger:n}),this.requestContext=l;var h=o.start(o.Topic.EDITOR,"suggest/REQUEST"),m=this.editor.getPosition();this.requestPromise=a.suggest(i.getAssociatedResource(),m),this.requestPromise.then(function(t){if(h.stop(),r.requestPromise=null,r.state!==c.NOT_ACTIVE){var n=s.getSnippets(i,m);n&&n.suggestions&&n.suggestions.length>0&&(t=(t||[]).slice(0),t.push(n));var o=new u(t);o.isEmpty()?r.emit("empty",{auto:r.isAutoSuggest()}):(r.raw=o,r.onNewContext(new d(r.editor,e)))}},function(){h.stop()}).done(function(){return p.stop()})}}},t.prototype.onNewContext=function(e){if(this.requestContext&&!this.requestContext.isValidForNewContext(e))return this.requestContext.isValidForRetrigger(e)?this.trigger(this.state===c.AUTO_TRIGGER,!1,!0):this.cancel(),void 0;if(this.raw){var t=this.editor.getModel().getMode().suggestSupport,n=this.raw.suggestions(),r=t.getFilter();r&&(n=n.filter(r.bind(null,e.wordBefore)));var o;t.getSorter&&(o=t.getSorter()),o||(o=function(e,t){return i.localeCompare(e.label.toLowerCase(),t.label.toLowerCase())}),n=n.sort(o),n.length>0?this.emit("suggest",{suggestions:{suggestions:n,currentWord:e.wordBefore},auto:this.isAutoSuggest()}):this.emit("empty",{auto:this.isAutoSuggest()})}},t.prototype.accept=function(e){function t(e){return"undefined"!=typeof e}if(!e&&null===this.raw)return!1;var n=e||this.raw.suggestions()[0],r=this.raw.parent(n),i=this.editor.getPosition().column-this.requestContext.column,o=(t(r.overwriteBefore)?r.overwriteBefore:r.currentWord.length)+i,s=t(r.overwriteAfter)?Math.max(0,r.overwriteAfter):0;return this.cancel(),this.onAccept(new l.CodeSnippet(n.codeSnippet),o,s),!0},t.prototype.destroy=function(){this.cancel(!0),this.listenersToRemove&&(this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null),this.emit("destroy",null)},t}(r.EventEmitter);t.SuggestModel=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggest",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/contrib/snippet/snippet","vs/editor/core/constants","./suggestWidget","./suggestModel","vs/base/env","vs/base/errors","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(e){function n(n,a,l){var c=this;e.call(this,n,a,l,u.defaultPrecondition),this.suggestWidgetVisible=n.keybindingService.createKey(t.CONTEXT_SUGGEST_WIDGET_VISIBLE,!1),this.model=new s.SuggestModel(this.editor,function(e,t,n){r.get(c.editor).run(e,t,n)}),this.suggestWidget=new o.SuggestWidget(this.editor,n.telemetryService,function(){c.suggestWidgetVisible.set(!0)},function(){c.suggestWidgetVisible.reset()}),this.suggestWidget.setModel(this.model),this.triggerCharacterListeners=[],this.toUnhook.push(l.addListener(i.EventType.ConfigurationChanged,function(){return c.update()})),this.toUnhook.push(l.addListener(i.EventType.ModelChanged,function(){return c.update()})),this.toUnhook.push(l.addListener(i.EventType.ModelModeChanged,function(){return c.update()})),this.toUnhook.push(l.addListener(i.EventType.ModelModeSupportChanged,function(e){e.suggestSupport&&c.update()})),this.update()}return __extends(n,e),n.prototype.isSupported=function(){return!!this.editor.getModel().getMode().suggestSupport&&!this.editor.getConfiguration().readOnly},n.prototype.update=function(){var e=this;if(this.triggerCharacterListeners.forEach(function(e){e()}),this.triggerCharacterListeners=[],!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().suggestOnTriggerCharacters){var t=this.editor.getModel().getMode();t.suggestSupport&&t.suggestSupport.getTriggerCharacters().forEach(function(t){e.triggerCharacterListeners.push(e.editor.addTypingListener(t,function(){return e.triggerCharacterHandler(t)}))})}},n.prototype.triggerCharacterHandler=function(e){var t=this.editor.getPosition(),n=this.editor.getModel().getLineContext(t.lineNumber),r=this.editor.getModel().getMode();r.suggestSupport.shouldAutotriggerSuggest(n,t.column-1,e)&&this.triggerSuggest(!0).done(null,l.onUnexpectedError)},n.prototype.run=function(){return this.triggerSuggest(!1)},n.prototype.triggerSuggest=function(e){return this.model.trigger(!1,e),this.editor.focus(),c.TPromise.as(!1)},n.prototype.dispose=function(){for(e.prototype.dispose.call(this);this.triggerCharacterListeners.length>0;)this.triggerCharacterListeners.pop()();this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.destroy(),this.model=null)},n.prototype.acceptSelectedSuggestion=function(){this.suggestWidget&&this.suggestWidget.acceptSelectedSuggestion()},n.prototype.hideSuggestWidget=function(){this.suggestWidget&&this.suggestWidget.cancel()},n.prototype.selectNextSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNext()},n.prototype.selectNextPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNextPage()},n.prototype.selectPrevSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPrevious()},n.prototype.selectPrevPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPreviousPage()},n.ID="editor.action.triggerSuggest",n}(u.EditorAction);t.TriggerSuggestAction=d,t.CONTEXT_SUGGEST_WIDGET_VISIBLE="suggestWidgetVisible",t.ACCEPT_SELECTED_SUGGESTION_CMD="acceptSelectedSuggestion";
var p=u.weight(90);u.registerEditorActionContribution(d,d.ID,n.localize("vs_editor_contrib_suggest_suggest",0),!0,{ctrlCmd:!a.isMacintosh,winCtrl:a.isMacintosh,key:"Space"}),u.registerEditorCommand(t.ACCEPT_SELECTED_SUGGESTION_CMD,p,[{key:"Enter"},{key:"Tab"}],!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.acceptSelectedSuggestion()}),u.registerEditorCommand("hideSuggestWidget",p,{key:"Escape"},!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.hideSuggestWidget()}),u.registerEditorCommand("selectNextSuggestion",p,{key:"DownArrow"},!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.selectNextSuggestion()}),u.registerEditorCommand("selectNextPageSuggestion",p,{key:"PageDown"},!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.selectNextPageSuggestion()}),u.registerEditorCommand("selectPrevSuggestion",p,{key:"UpArrow"},!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.selectPrevSuggestion()}),u.registerEditorCommand("selectPrevPageSuggestion",p,{key:"PageUp"},!0,t.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=t.getAction(d.ID);n.selectPrevPageSuggestion()})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/parameterHints/parameterHintsModel",["require","exports","vs/base/lib/winjs.base","vs/base/lifecycle","vs/base/bits/hash","vs/base/async","vs/editor/core/constants","vs/base/eventEmitter"],function(e,t,n,r,i,o,s,a){function l(e){if(!e)return null;var t=new i.SHA1;return e.signatures.forEach(function(e){t.update(e.documentation||""),t.update(e.label||""),e.parameters.forEach(function(e){t.update(e.documentation||""),t.update(e.label||""),t.update(e.signatureLabelEnd.toString()),t.update(e.signatureLabelOffset.toString())})}),t.digest()}var c=function(e){function t(n){var r=this;e.call(this,["cancel","hint","destroy"]),this.editor=n,this.toDispose=[],this.triggerCharactersListeners=[],this.throttledDelayer=new o.ThrottledDelayer(t.DELAY),this.active=!1,this.hash=null,this.event(this.editor,s.EventType.ModelChanged,function(){return r.onModelChanged()}),this.event(this.editor,s.EventType.ModelModeChanged,function(){return r.onModelChanged()}),this.event(this.editor,s.EventType.ModelModeSupportChanged,function(e){return r.onModeChanged(e)}),this.event(this.editor,s.EventType.CursorSelectionChanged,function(e){return r.onCursorChange(e)}),this.onModelChanged()}return __extends(t,e),t.prototype.cancel=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.active=!1,t||(this.hash=null),this.throttledDelayer.cancel(),e||this.emit("cancel")},t.prototype.trigger=function(e){var n=this;return void 0===e&&(e=t.DELAY),this.editor.getModel().getMode().parameterHintsSupport?(this.cancel(!0,!0),this.throttledDelayer.trigger(function(){return n.doTrigger()},e)):void 0},t.prototype.doTrigger=function(){var e=this,t=this.editor.getModel();if(!t||!t.getMode().parameterHintsSupport)return n.Promise.as(!1);var r=t.getMode().parameterHintsSupport;return r.getParameterHints(t.getAssociatedResource(),this.editor.getPosition()).then(function(t){var n=l(t);if(!t||0===t.signatures.length||e.hash&&n!==e.hash)return e.cancel(),e.emit("cancel"),!1;e.active=!0,e.hash=n;var r={hints:t};return e.emit("hint",r),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isTriggered()},t.prototype.onModelChanged=function(){var e=this;this.triggerCharactersListeners=r.disposeAll(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){var n=t.getMode();n.parameterHintsSupport&&(this.triggerCharactersListeners=n.parameterHintsSupport.getParameterHintsTriggerCharacters().map(function(r){var i=e.editor.addTypingListener(r,function(){var r=e.editor.getPosition(),i=t.getLineContext(r.lineNumber);n.parameterHintsSupport.shouldTriggerParameterHints(i,r.column-1)&&e.trigger()});return{dispose:i}}))}},t.prototype.onModeChanged=function(e){e.parameterHintsSupport&&this.onModelChanged()},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.event=function(e,t,n){this.toDispose.push(e.addListener2(t,n))},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=r.disposeAll(this.triggerCharactersListeners),this.toDispose=r.disposeAll(this.toDispose),this.emit("destroy",null),e.prototype.dispose.call(this)},t.DELAY=120,t}(a.EventEmitter);t.ParameterHintsModel=c}),define("vs/css!vs/editor/contrib/parameterHints/parameterHints",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/parameterHints/parameterHintsWidget",["require","exports","vs/base/lib/winjs.base","vs/base/lifecycle","vs/base/dom/builder","vs/editor/editor","vs/editor/core/constants","vs/css!./parameterHints"],function(e,t,n,r,i,o,s){var a=i.$,l=function(){function e(e,t,n,r){var i=this;this.allowEditorOverflow=!0,this._onShown=n,this._onHidden=r,this.editor=t,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.isDisposed=!1,this.setModel(e),this.$el=a(".editor-widget.parameter-hints-widget").on("click",function(){i.selectNext(),i.editor.focus()}),this.$wrapper=a(".wrapper.monaco-editor-background").appendTo(this.$el);var o=a(".buttons").appendTo(this.$wrapper);a(".button.previous").on("click",function(e){e.preventDefault(),e.stopPropagation(),i.selectPrevious()}).appendTo(o),a(".button.next").on("click",function(e){e.preventDefault(),e.stopPropagation(),i.selectNext()}).appendTo(o),this.$overloads=a(".overloads").appendTo(this.$wrapper),this.$signatures=a(".signatures").appendTo(this.$wrapper),this.signatureViews=[],this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.toDispose=[],this.toDispose.push(this.editor.addListener2(s.EventType.CursorSelectionChanged,function(){i.editor.layoutContentWidget(i)}))}return e.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListenersToRemove.push(this.model.addListener("hint",function(e){t.show(),t.render(e.hints),t.currentSignature=e.hints.currentSignature,t.select(t.currentSignature)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(){t.hide()}))},e.prototype.show=function(){var e=this;this.isDisposed||(this._onShown(),this.isVisible=!0,n.Promise.timeout(100).done(function(){e.$el.addClass("visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.isDisposed||(this._onHidden(),this.isVisible=!1,this.$el.removeClass("visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[o.ContentWidgetPositionPreference.ABOVE,o.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.render=function(e){e.signatures.length>1?this.$el.addClass("multiple"):this.$el.removeClass("multiple"),this.$signatures.empty(),this.signatureViews=[];for(var t=0,n=0,r=e.signatures.length;r>n;n++){var i=e.signatures[n],o=this.renderSignature(this.$signatures,i,e.currentParameter);this.renderDocumentation(o,i,e.currentParameter);var s=o.getClientArea().height;this.signatureViews.push({top:t,height:s}),t+=s}},e.prototype.renderSignature=function(e,t,n){var r=a(".signature").appendTo(e),i=t.parameters.length>0;if(i){for(var o=a("span.parameters"),s=0,l=0,c=t.parameters.length;c>l;l++){var u=t.parameters[l];(0===l?r:o).append(a("span").text(t.label.substring(s,u.signatureLabelOffset))),o.append(a("span.parameter").addClass(l===n?"active":"").text(t.label.substring(u.signatureLabelOffset,u.signatureLabelEnd))),s=u.signatureLabelEnd}r.append(o),r.append(a("span").text(t.label.substring(s)))}else r.append(a("span").text(t.label));return r},e.prototype.renderDocumentation=function(e,t,n){t.documentation&&e.append(a(".documentation").text(t.documentation));var r=t.parameters[n];if(r&&r.documentation){var i=a(".documentation");i.append(a("span.parameter").text(r.label)),i.append(a("span").text(r.documentation)),e.append(i)}},e.prototype.select=function(e){var t=this.signatureViews[e];this.$signatures.style({height:t.height+"px"}),this.$signatures.getHTMLElement().scrollTop=t.top;var n=""+(e+1);this.signatureViews.length<10&&(n+="/"+this.signatureViews.length),this.$overloads.text(n),this.editor.layoutContentWidget(this)},e.prototype.selectNext=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%this.signatureViews.length,this.select(this.currentSignature),!0)},e.prototype.selectPrevious=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature--,this.currentSignature<0&&(this.currentSignature=this.signatureViews.length-1),this.select(this.currentSignature),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.$el.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model&&(this.model.dispose(),this.model=null)},e.prototype.destroy=function(){this.toDispose=r.disposeAll(this.toDispose),this.releaseModel(),this.$overloads&&(this.$overloads.destroy(),delete this.$overloads),this.$signatures&&(this.$signatures.destroy(),delete this.$signatures),this.$wrapper&&(this.$wrapper.destroy(),delete this.$wrapper),this.$el&&(this.$el.destroy(),delete this.$el),this.isDisposed=!0},e.ID="editor.widget.parameterHintsWidget",e}();t.ParameterHintsWidget=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/parameterHints/parameterHints",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","./parameterHintsModel","./parameterHintsWidget","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n,o){var a=this;e.call(this,t,n,o,s.defaultPrecondition),this.model=new r.ParameterHintsModel(this.editor),this.parameterHintsVisible=t.keybindingService.createKey(l,!1),this.widget=new i.ParameterHintsWidget(this.model,this.editor,function(){a.parameterHintsVisible.set(!0)},function(){a.parameterHintsVisible.reset()})}return __extends(t,e),t.prototype.getModel=function(){return this.model},t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().parameterHintsSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return o.TPromise.as(!1)},t.prototype.dispose=function(){this.model&&(this.model.dispose(),this.model=null),this.widget&&(this.widget.destroy(),this.widget=null),e.prototype.dispose.call(this)},t.prototype.closeWidget=function(){this.widget&&this.widget.cancel()},t.prototype.showPrevHint=function(){this.widget&&this.widget.selectPrevious()},t.prototype.showNextHint=function(){this.widget&&this.widget.selectNext()},t.ID="editor.action.triggerParameterHints",t}(s.EditorAction);t.TriggerParameterHintsAction=a;var l="parameterHintsVisible",c=s.weight(75);s.registerEditorActionContribution(a,a.ID,n.localize("vs_editor_contrib_parameterHints_parameterHints",0)),s.registerEditorCommand("closeParameterHints",c,{key:"Escape"},!0,l,function(e,t){var n=t.getAction(a.ID);n.closeWidget()}),s.registerEditorCommand("showPrevParameterHint",c,{key:"UpArrow"},!0,l,function(e,t){var n=t.getAction(a.ID);n.showPrevHint()}),s.registerEditorCommand("showNextParameterHint",c,{key:"DownArrow"},!0,l,function(e,t){var n=t.getAction(a.ID);n.showNextHint()})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/diffNavigator/diffNavigator",["require","exports","vs/base/eventEmitter","vs/base/assert","vs/editor/core/constants","vs/editor/core/range","vs/base/objects"],function(e,t,n,r,i,o,s){var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},l=function(e){function t(n,r){var o=this;void 0===r&&(r={}),e.call(this,[t.Events.UPDATED]),this.editor=n,this.options=s.mixin(r,a,!1),this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.addListener(i.EventType.Disposed,function(){return o.dispose()})),this.toUnbind.push(this.editor.addListener(i.EventType.DiffUpdated,function(){return o.onDiffUpdated()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(i.EventType.CursorPositionChanged,function(){o.ignoreSelectionChange||(o.nextIdx=-1)})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(i.EventType.ModelChanged,function(){o.revealFirst=!0})),this.init()}return __extends(t,e),t.prototype.init=function(){var e=this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var n=this;this.ranges=[],e&&e.forEach(function(e){!n.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,n=this.editor.getPosition(),r=0,i=this.ranges.length;i>r&&!t;r++){var o=this.ranges[r].range;n.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=r+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},t.prototype.move=function(e){if(r.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=t.range.getStartPosition();this.editor.setPosition(n),this.editor.revealPositionInCenter(n)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){for(;this.toUnbind.length>0;)this.toUnbind.pop()();this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t.Events={UPDATED:"navigation.updated"},t}(n.EventEmitter);t.DiffNavigator=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/smartSelect/smartSelect",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/arrays","vs/base/env","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}return e}(),u=null,d=!1,p=function(e){function t(t,n,r,i){e.call(this,t,n,r,l.Behaviour.TextFocus|l.Behaviour.UpdateOnModelChange),this.forward=i}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().logicalSelectionSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this,t=this.editor.getSelection(),n=this.editor.getModel(),i=n.getMode().logicalSelectionSupport;u&&u.editor!==this.editor&&(u=null);var l=o.Promise.as(u);return u||(l=i.getRangesToPosition(n.getAssociatedResource(),t.getStartPosition()).then(function(t){if(!r.isFalsyOrEmpty(t)){var n;t.filter(function(t){var n=e.editor.getSelection(),r=new a.Range(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return r.containsPosition(n.getStartPosition())&&r.containsPosition(n.getEndPosition())}).forEach(function(t){var r=t.range,i=new c(e.editor);i.selection=new a.Range(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn),n&&(i.next=n,n.previous=i),n=i});var i=new c(e.editor);i.next=n,n&&(n.previous=i),u=i;var o=e.editor.addListener(s.EventType.CursorPositionChanged,function(){d||(u=null,o())})}})),l.then(function(){if(u&&(u=e.forward?u.next:u.previous)){d=!0;try{e.editor.setSelection(u.selection)}finally{d=!1}}})},t}(l.EditorAction),h=function(e){function t(t,n,r){e.call(this,t,n,r,!0)}return __extends(t,e),t.ID="editor.action.smartSelect.grow",t}(p),m=function(e){function t(t,n,r){e.call(this,t,n,r,!1)}return __extends(t,e),t.ID="editor.action.smartSelect.shrink",t}(p);l.registerEditorActionContribution(h,h.ID,n.localize("vs_editor_contrib_smartSelect_smartSelect",0),!0,i.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"RightArrow"}:{shift:!0,alt:!0,key:"RightArrow"}),l.registerEditorActionContribution(m,m.ID,n.localize("vs_editor_contrib_smartSelect_smartSelect",1),!0,i.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"LeftArrow"}:{shift:!0,alt:!0,key:"LeftArrow"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/smartSelect/jumpToBracket",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/editor/core/internalConstants","vs/editor/editorExtensions","vs/base/env"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n,r){e.call(this,t,n,r,o.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.trigger(this.id,i.Handler.JumpToBracket,{}),r.TPromise.as(!0)},t.ID="editor.action.jumpToBracket",t}(o.EditorAction);o.registerEditorActionContribution(a,a.ID,n.localize("vs_editor_contrib_smartSelect_jumpToBracket",0),!0,{ctrlCmd:!0,shift:s.isLinux,alt:!s.isLinux,key:"]"})}),define("vs/css!vs/editor/contrib/color/color",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/color/color",["require","exports","vs/base/lifecycle","vs/base/time/schedulers","vs/base/dom/dom","vs/base/errors","vs/base/strings","vs/editor/editor","vs/editor/core/constants","vs/editor/editorExtensions","vs/css!./color"],function(e,t,n,r,i,o,s,a,l,c){var u=function(){function e(e,t,n){this.renderingDecorationId=e.addDecoration({startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.startLineNumber,endColumn:t.startColumn+1},{inlineClassName:"inline-color-decoration "+n,stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}),this.trackingDecorationId=e.addDecoration(t,{stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges})}return e.prototype.dispose=function(e){e.removeDecoration(this.trackingDecorationId),e.removeDecoration(this.renderingDecorationId)},e.prototype.getColorValue=function(e){var t=e.getDecorationRange(this.trackingDecorationId);return t?e.getValueInRange(t):""},e}(),d=function(){function e(t,n){var o=this;this._instanceCount=++e.INSTANCE_COUNT,this._editor=n,this._callOnDispose=[],this._callOnModelChange=[],this._currentDecorations=[],this._currentDynamicColors=[],this._contentChangedScheduler=new r.RunOnceScheduler(null,250),this._decorationsChangedScheduler=new r.RunOnceScheduler(function(){return o.onDecorationsChanged()},250),this._currentFindColorDeclarationsPromise=null,this._callOnDispose.push(this._contentChangedScheduler),this._callOnDispose.push(this._decorationsChangedScheduler),this._callOnDispose.push(this._editor.addListener2(l.EventType.ModelChanged,function(){return o.onModelChange()})),this._callOnDispose.push(this._editor.addListener2(l.EventType.ModelModeChanged,function(){return o.onModelChange()})),this._callOnDispose.push(this._editor.addListener2(l.EventType.ModelModeSupportChanged,function(){o.onModelChange()})),this._style=i.createStyleSheet(),this.onModelChange()}return e.prototype.dispose=function(){var e=this;this._editor.changeDecorations(function(t){for(var n=0;n<e._currentDecorations.length;n++)e._currentDecorations[n].dispose(t)}),this._style.parentNode.removeChild(this._style),this._style=null,this._callOnDispose=n.disposeAll(this._callOnDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;n.cAll(this._callOnModelChange);var t=this._editor.getModel();if(t){var r=t.getMode();"function"==typeof r.findColorDeclarations&&(this._contentChangedScheduler.setRunner(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=r.findColorDeclarations(t.getAssociatedResource());var n=e._editor.getModel().getVersionId();e._currentFindColorDeclarationsPromise.then(function(t){n===e._editor.getModel().getVersionId()&&e.renderAndTrackColors(t)},function(e){o.onUnexpectedError(e)})}),this._contentChangedScheduler.schedule(),this._callOnModelChange.push(function(){e._contentChangedScheduler.cancel(),e._decorationsChangedScheduler.cancel()}),this._callOnModelChange.push(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=null}),this._callOnModelChange.push(this._editor.addListener(l.EventType.ModelContentChanged,function(){return e._contentChangedScheduler.schedule()})),this._callOnModelChange.push(t.addListener(l.EventType.ModelDecorationsChanged,function(){return e._decorationsChangedScheduler.schedule()})))}},e.prototype.renderAndTrackColors=function(e){var t=this;e=e.slice(0,500);var n,r;this._editor.changeDecorations(function(i){for(n=0,r=t._currentDecorations.length;r>n;n++)t._currentDecorations[n].dispose(i);for(t._currentDecorations=[],n=0,r=e.length;r>n;n++)t._currentDecorations.push(new u(i,e[n].range,t.getCSSRuleName(n)))}),this.onDecorationsChanged()},e.prototype.onDecorationsChanged=function(){var e,t,n,r,i,o,s=this,a=this._editor.getModel(),l=[];this._editor.changeDecorations(function(c){for(e=0,t=s._currentDecorations.length;t>e;e++)o=s._currentDecorations[e],n=a.getDecorationRange(o.trackingDecorationId),n&&!n.isEmpty()?(l[e]=a.getValueInRange(n).replace(/[^%#a-z0-9.,()]/gi,""),r=a.getDecorationRange(o.renderingDecorationId),i=a.validateRange({startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.startLineNumber,endColumn:n.startColumn+1}),r&&r.equalsRange(i)||c.changeDecoration(o.renderingDecorationId,i)):l[e]="";s.ensureColors(l)})},e.prototype.getCSSRuleName=function(e){return 0>e?".monaco-css-dynamic-"+this._instanceCount+"-":".monaco-css-dynamic-"+this._instanceCount+"-"+e+":before"},e.prototype._changeCost=function(e){if(this._currentDynamicColors.length!==e.length)return Number.MAX_VALUE;for(var t=0,n=0;n<e.length;n++)e[n]!==this._currentDynamicColors[n]&&t++;return t},e.prototype.ensureColors=function(e){var t,n=this._changeCost(e);if(0!==n){if(10>n){for(t=0;t<e.length;t++)if(e[t]!==this._currentDynamicColors[t]){var r=i.getCSSRule(this.getCSSRuleName(t),this._style);r&&(r.style.backgroundColor=e[t])}}else{var o=[];for(t=0;t<e.length;t++)o.push(this.getCSSRuleName(t)),o.push("{"),o.push(this.getCSSText(e[t])),o.push("}");this._style.innerHTML=o.join("")}this._currentDynamicColors=e}},e.prototype.getCSSText=function(e){return s.format("background-color:{0};",e)},e.ID="css.editor.colorContribution",e.INSTANCE_COUNT=0,e}();t.ColorContribution=d,c.registerEditorContribution(d)}),define("vs/css!vs/base/ui/widgets/filelabel",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/fileLabel",["require","exports","vs/base/dom/dom","vs/base/paths","vs/base/types","vs/base/ui/labels","vs/css!./filelabel"],function(e,t,n,r,i,o){function s(e){if(!e)return null;if("string"==typeof e)return e;if(i.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.path:void 0}return e.path}var a=function(){function e(e,t,n){this.domNode=document.createElement("span"),this.domNode.className="monaco-file-label",e.appendChild(this.domNode),n&&(this.basepath=s(n)),t&&this.setValue(t)}return e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e){var t=s(e);this.renderedOnce&&this.path===t||(this.path=t,this.render(),this.renderedOnce=!0)},e.prototype.render=function(){n.clearNode(this.domNode);var e=[];e.push('<span class="file-name">'),e.push(r.basename(this.path)),e.push("</span>");var t=r.dirname(this.path);if(t&&"."!==t){var i=o.getPathLabel(t,this.basepath);e.push('<span class="file-path" title="'+i+'">'),e.push(i),e.push("</span>")}this.domNode.innerHTML=e.join("")},e}();t.FileLabel=a}),define("vs/css!vs/base/ui/widgets/leftRightWidget/leftRightWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/leftRightWidget/leftRightWidget",["require","exports","vs/base/dom/builder","vs/css!./leftRightWidget"],function(e,t,n){var r=n.$,i=function(){function e(e,t,n){this.$el=r(".monaco-left-right-widget").appendTo(e),this.toDispose=[n(r(".right").appendTo(this.$el).getHTMLElement()),t(r("span.left").appendTo(this.$el).getHTMLElement())].filter(function(e){return!!e})}return e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.LeftRightWidget=i}),define("vs/css!vs/base/ui/widgets/countBadge/countBadge",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/countBadge/countBadge",["require","exports","vs/base/dom/builder","vs/base/strings","vs/css!./countBadge"],function(e,t,n,r){var i=n.$,o=function(){function e(e,t,n){this.$el=i(".monaco-count-badge").appendTo(e),this.titleFormat=n||"",this.setCount(t||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.$el.text(""+this.count),this.$el.title(r.format(this.titleFormat,this.count))},e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.CountBadge=o}),define("vs/editor/core/model/modelLine",["require","exports","vs/editor/editor","vs/base/strings"],function(e,t,n,r){function i(e,t,n){return 0===n?h.INSTANCE:!t||0===t.length||1===t.length&&0===t[0].startIndex&&""===t[0].type&&!t[0].bracket?m.INSTANCE:new p(e,t)}function o(e,t,n){return 0===n?h.INSTANCE:!t||0===t.length||1===t.length&&0===t[0]?m.INSTANCE:new p(e,t)}function s(e,t){return t&&0!==t.length?1===t.length&&0===t[0].startIndex?t[0].mode===e?f.INSTANCE:new v(t[0].mode):new g(t):f.INSTANCE}var a=function(){function e(e,t){this.lineNumber=e,this.text=t,this.isInvalid=!1,this._recreateLineTokens(null,null),this._recreateModeTransitions(null,null)}return e.prototype.setState=function(e){this._state=e},e.prototype.getState=function(){return this._state||null},e.prototype._setLineTokens=function(e){("undefined"!=typeof this._lineTokens||e!==h.INSTANCE&&e!==m.INSTANCE)&&(this._lineTokens=e)},e.prototype.getTokens=function(){return this._lineTokens?this._lineTokens:0===this.text.length?h.INSTANCE:m.INSTANCE},e.prototype.getModeTransitions=function(){return this._modeTransitions?this._modeTransitions:f.INSTANCE},e.prototype._recreateLineTokens=function(e,t){this._setLineTokens(i(e,t,this.text.length))},e.prototype._recreateLineTokens2=function(e,t){this._setLineTokens(o(e,t,this.text.length))},e.prototype._setModeTransitions=function(e){("undefined"!=typeof this._modeTransitions||e!==f.INSTANCE)&&(this._modeTransitions=e)},e.prototype._recreateModeTransitions=function(e,t){this._setModeTransitions(s(e,t))},e.prototype.insertText=function(e,t,r,i){var o=this.text,s=o.length+1,a=this.getTokens(),l=a.getBinaryEncodedTokens(),c=a instanceof p,u=r.text.length;t=Math.max(1,t),t=Math.min(t,s);var d,h;if(u>0){var m=o.substring(0,t-1)+r.text+o.substring(t-1,o.length);if(c){var f,v,g,b,y,_,w=n.LineTokensBinaryEncoding;for(d=0,h=l.length;h>d;d++)f=l[d],v=f/w.START_INDEX_OFFSET&w.START_INDEX_MASK,v>=t-1&&v>0&&(y=f/w.TYPE_OFFSET&w.TYPE_MASK,_=f/w.BRACKET_OFFSET&w.BRACKET_MASK,b=v+u,g=_*w.BRACKET_OFFSET+y*w.TYPE_OFFSET+b*w.START_INDEX_OFFSET,l[d]=g)}if(this._markers){var E;for(d=0,h=this._markers.length;h>d;d++)E=this._markers[d],(E.column>t||E.column===t&&(i||!E.stickToPreviousCharacter))&&(e[E.id]=!0,E.oldLineNumber=E.oldLineNumber||this.lineNumber,E.oldColumn=E.oldColumn||E.column,E.column+=u)}this.text=m,this._recreateLineTokens2(a.getBinaryEncodedTokensMap(),l)}if(r.markers&&(h=r.markers.length,h>0))for(this._markers||(this._markers=[]),d=0;h>d;d++)E=r.markers[d],e[E.id]=!0,E.oldLineNumber=E.oldLineNumber||this.lineNumber,E.oldColumn=E.oldColumn||E.column,E.line=this,E.column+=t-1,this._markers.push(E)},e.prototype.removeText=function(e,t,r,i,o){var s=r,a="",l=[],c=this.text,u=c.length+1,d=this.getTokens(),h=d.getBinaryEncodedTokens(),m=d instanceof p;t=Math.max(1,t),r=Math.max(1,r),t=Math.min(t,u),r=Math.min(r,u);var f;if(r>t&&r>1&&u>t){a=c.substring(t-1,r-1);var v=c.substring(0,t-1)+c.substring(r-1,c.length);if(m){var g,b,y,_,w,E,S,T=n.LineTokensBinaryEncoding;for(f=0;f<h.length;f++)g=h[f],b=g/T.START_INDEX_OFFSET&T.START_INDEX_MASK,_=b,b>=r-1?_=b-a.length:b>=t-1&&(_=t-1),_>=v.length?(h.splice(f,1),f--):(w=g/T.TYPE_OFFSET&T.TYPE_MASK,E=g/T.BRACKET_OFFSET&T.BRACKET_MASK,y=E*T.BRACKET_OFFSET+w*T.TYPE_OFFSET+_*T.START_INDEX_OFFSET,h[f]=y,f>0&&(S=h[f-1]/T.START_INDEX_OFFSET&T.START_INDEX_MASK,S>=_&&(h.splice(f-1,1),f--)))}this.text=v,this._recreateLineTokens2(d.getBinaryEncodedTokensMap(),h)}if(this._markers){var k;for(f=0;f<this._markers.length;f++)k=this._markers[f],k.column>s||k.column===s&&(o||!k.stickToPreviousCharacter)?(e[k.id]=!0,k.oldLineNumber=k.oldLineNumber||this.lineNumber,k.oldColumn=k.oldColumn||k.column,k.column-=a.length):(k.column>t||k.column===t&&(o||!k.stickToPreviousCharacter))&&(e[k.id]=!0,k.oldLineNumber=k.oldLineNumber||this.lineNumber,k.oldColumn=k.oldColumn||k.column,i?(k.line=null,k.column-=t-1,this._markers.splice(f,1),f--,l.push(k)):k.column=t)}return{text:a,markers:l}},e.prototype.addMarker=function(e){e.line=this,this._markers?this._markers.push(e):this._markers=[e]},e.prototype.addMarkers=function(e){var t,n;for(t=0,n=e.length;n>t;t++)e[t].line=this;this._markers=this._markers?this._markers.concat(e):e.slice(0)},e.prototype.removeMarker=function(e){var t=this._indexOfMarkerId(e.id);t>=0&&this._markers.splice(t,1),e.line=null},e.prototype.getMarkers=function(){return this._markers?this._markers.slice(0):[]},e.prototype.updateLineNumber=function(e,t){if(this._markers){var n,r,i,o=this._markers;for(n=0,r=o.length;r>n;n++)i=o[n],e[i.id]=!0,i.oldLineNumber=i.oldLineNumber||this.lineNumber}this.lineNumber=t},e.prototype.deleteLine=function(e,t,n){if(this._markers){var r,i,o,s=this._markers;for(r=0,i=s.length;i>r;r++)o=s[r],e[o.id]=!0,o.oldColumn=o.oldColumn||o.column,o.oldLineNumber=o.oldLineNumber||n,o.column=t;return s}return[]},e.prototype._indexOfMarkerId=function(e){if(this._markers){var t,n,r=this._markers;for(t=0,n=r.length;n>t;t++)if(r[t].id===e)return t}return-1},e.prototype.setTokens=function(e,t,n,r){this._recreateLineTokens(e,t),this._recreateModeTransitions(n,r)},e}();t.ModelLine=a;var l=n.LineTokensBinaryEncoding.getStartIndex,c=n.LineTokensBinaryEncoding.getType,u=n.LineTokensBinaryEncoding.getBracket,d=n.LineTokensBinaryEncoding.findIndexOfOffset,p=function(){function e(e,t){this.map=e,this._tokens="number"==typeof t[0]?t:n.LineTokensBinaryEncoding.deflateArr(e,t)}return e.prototype.getBinaryEncodedTokensMap=function(){return this.map
},e.prototype.getBinaryEncodedTokens=function(){return this._tokens},e.prototype.getTokenCount=function(){return this._tokens.length},e.prototype.getTokenStartIndex=function(e){return l(this._tokens[e])},e.prototype.getTokenType=function(e){return c(this.map,this._tokens[e])},e.prototype.getTokenBracket=function(e){return u(this._tokens[e])},e.prototype.getTokenEndIndex=function(e,t){return e+1<this._tokens.length?l(this._tokens[e+1]):t},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(e){return d(this._tokens,e)},e}();t.LineTokens=p;var h=function(){function e(){}return e.prototype.getBinaryEncodedTokens=function(){return e.TOKENS},e.prototype.getBinaryEncodedTokensMap=function(){return null},e.prototype.getTokenCount=function(){return 0},e.prototype.getTokenStartIndex=function(){return 0},e.prototype.getTokenType=function(){return r.empty},e.prototype.getTokenBracket=function(){return 0},e.prototype.getTokenEndIndex=function(){return 0},e.prototype.equals=function(e){return e===this},e.prototype.findIndexOfOffset=function(){return 0},e.INSTANCE=new e,e.TOKENS=[],e}(),m=function(){function e(){}return e.prototype.getBinaryEncodedTokensMap=function(){return null},e.prototype.getBinaryEncodedTokens=function(){return e.TOKENS},e.prototype.getTokenCount=function(){return 1},e.prototype.getTokenStartIndex=function(){return 0},e.prototype.getTokenType=function(){return r.empty},e.prototype.getTokenBracket=function(){return 0},e.prototype.getTokenEndIndex=function(e,t){return t},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(){return 0},e.INSTANCE=new e,e.TOKENS=[0],e}();t.DefaultLineTokens=m;var f=function(){function e(){}return e.prototype.toArray=function(e){return[{startIndex:0,mode:e}]},e.INSTANCE=new e,e}(),v=function(){function e(e){this._mode=e}return e.prototype.toArray=function(){return[{startIndex:0,mode:this._mode}]},e}(),g=function(){function e(e){this._modeTransitions=e}return e.prototype.toArray=function(){return this._modeTransitions.slice(0)},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModel",["require","exports","vs/base/eventEmitter","vs/editor/editor","vs/editor/core/model/modelLine","vs/base/strings","vs/editor/core/position","vs/editor/core/range","vs/editor/core/constants","vs/base/eventSource","vs/base/env"],function(e,t,n,r,i,o,s,a,l,c,u){var d=" ".charCodeAt(0),p="	".charCodeAt(0),h=999,m=u.isLinux||u.isMacintosh?"\n":"\r\n",f=function(e){function t(t,n){t.push(l.EventType.ModelContentChanged),e.call(this,t),this._constructLines(n),this._setVersionId(1),this._isDisposed=!1,this._onContentChanged=new c,this.onContentChanged=this._onContentChanged.value}return __extends(t,e),t.prototype.getVersionId=function(){if(this._isDisposed)throw new Error("TextModel.getVersionId: Model is disposed");return this._versionId},t.prototype.getAlternativeVersionId=function(){if(this._isDisposed)throw new Error("TextModel.getAlternativeVersionId: Model is disposed");return this._alternativeVersionId},t.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},t.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},t.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){if(this._isDisposed)throw new Error("TextModel.dispose: Model is disposed");this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,e.prototype.dispose.call(this)},t.prototype._createContentChangedFlushEvent=function(){return{changeType:l.EventType.ModelContentChangedFlush,detail:null,versionId:-1,isUndoing:!1,isRedoing:!1}},t.prototype._emitContentChanged2=function(e,t,n,r,i,o,s,c){var u={range:new a.Range(e,t,n,r),rangeLength:i,text:o,versionId:this.getVersionId(),isUndoing:s,isRedoing:c};this.emit(l.EventType.ModelContentChanged2,u),this._onContentChanged.fire([u])},t.prototype._resetValue=function(e,n){this._constructLines(t.toRawText(n)),this._increaseVersionId(),e.detail=this.toRawText(),e.versionId=this._versionId},t.prototype.toRawText=function(){return{BOM:this._BOM,EOL:this._EOL,lines:this.getLinesContent(),length:this.getValueLength()}},t.prototype.setValue=function(e){if(this._isDisposed)throw new Error("TextModel.setValue: Model is disposed");if(null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),r=this.getLineCount(),i=this.getLineMaxColumn(r),o=this._createContentChangedFlushEvent();this._resetValue(o,e),this._emitModelContentChangedFlushEvent(o),this._emitContentChanged2(1,1,r,i,n,this.getValue(),!1,!1)}},t.prototype.getValue=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModel.getValue: Model is disposed");var n=this.getFullModelRange(),r=this.getValueInRange(n,e);return t?this._BOM+r:r},t.prototype.getValueLength=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModel.getValueLength: Model is disposed");var n=this.getFullModelRange(),r=this.getValueLengthInRange(n,e);return t?this._BOM.length+r:r},t.prototype.getEmptiedValueInRange=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=r.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getEmptiedValueInRange: Model is disposed");var i=this.validateRange(e);if(i.isEmpty())return"";if(i.startLineNumber===i.endLineNumber)return this._repeatCharacter(t,i.endColumn-i.startColumn);var o=this._getEndOfLine(n),s=i.startLineNumber-1,a=i.endLineNumber-1,l=[];l.push(this._repeatCharacter(t,this._lines[s].text.length-i.startColumn+1));for(var c=s+1;a>c;c++)l.push(this._repeatCharacter(t,this._lines[c].text.length));return l.push(this._repeatCharacter(t,i.endColumn-1)),l.join(o)},t.prototype._repeatCharacter=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},t.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=r.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getValueInRange: Model is disposed");var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var i=this._getEndOfLine(t),o=n.startLineNumber-1,s=n.endLineNumber-1,a=[];a.push(this._lines[o].text.substring(n.startColumn-1));for(var l=o+1;s>l;l++)a.push(this._lines[l].text);return a.push(this._lines[s].text.substring(0,n.endColumn-1)),a.join(i)},t.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=r.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getValueInRange: Model is disposed");var n=this.validateRange(e);if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;var i=this._getEndOfLine(t).length,o=n.startLineNumber-1,s=n.endLineNumber-1,a=0;a+=this._lines[o].text.length-n.startColumn+1;for(var l=o+1;s>l;l++)a+=i+this._lines[l].text.length;return a+=i+(n.endColumn-1)},t.prototype.isDominatedByLongLines=function(e){if(this._isDisposed)throw new Error("TextModel.isDominatedByLongLines: Model is disposed");var t,n,r,i=0,o=0,s=this._lines;for(t=0,n=this._lines.length;n>t;t++)r=s[t].text.length,r>=e?o+=r:i+=r;return o>i},t.prototype._extractIndentationFactors=function(){var e,t,n,r,i,o,s,a,l,c,u,h=this._lines,m=0,f="",v=0,g=[],b=0,y=[];for(e=0,t=h.length;t>e;e++){for(s=h[e].text,a=!1,l=0,u=0,c=0,n=0,r=s.length;r>n;n++)if(i=s.charCodeAt(n),i===p)c++;else{if(i!==d){a=!0,l=n;break}u++}if(1===u&&(u=0),(c>0||u>0)&&(m++,c>0&&b++,u>0&&(y[u]=(y[u]||0)+1)),a){u=0;var _=!0;for(n=0;v>n&&l>n;n++)o=f.charCodeAt(n),i=s.charCodeAt(n),_&&o!==i&&(_=!1),_||(o===d&&u++,i===d&&u++);for(;v>n;n++)o=f.charCodeAt(n),o===d&&u++;for(;l>n;n++)i=s.charCodeAt(n),i===d&&u++;1===u&&(u=0),u>0&&(g[u]=(g[u]||0)+1),v=l,f=s}}return{linesWithIndentationCount:m,linesIndentedWithTabs:b,relativeSpaceCounts:g,absoluteSpaceCounts:y}},t.prototype.guessIndentation=function(e){if(this._isDisposed)throw new Error("TextModel.guessIndentation: Model is disposed");var t,n,r=this._extractIndentationFactors(),i=r.linesWithIndentationCount,o=r.linesIndentedWithTabs,s=r.absoluteSpaceCounts,a=r.relativeSpaceCounts,l=0;for(t=1,n=s.length;n>t;t++)l+=s[t]||0;if(o>=l)return{insertSpaces:!1,tabSize:e};if(6>i&&o>0)return{insertSpaces:!1,tabSize:e};var c,u,d,p,h=[];for(c=2,n=s.length;n>c;c++)if(s[c]){for(u=0,d=0,p=c;n>p;p+=c)s[p]?u+=s[p]:d+=c/p;h[c]=u/(1+d)}var m=e,f=0;for(c=Math.min(6,Math.max(a.length,h.length));c>=2;c--)u=(h[c]||0)+(a[c]||0),u>f&&(m=c,f=u);return{insertSpaces:!0,tabSize:m}},t.prototype.getLineCount=function(){if(this._isDisposed)throw new Error("TextModel.getLineCount: Model is disposed");return this._lines.length},t.prototype.getLineContent=function(e){if(this._isDisposed)throw new Error("TextModel.getLineContent: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text},t.prototype.getLinesContent=function(){if(this._isDisposed)throw new Error("TextModel.getLineContent: Model is disposed");for(var e=[],t=0,n=this._lines.length;n>t;t++)e[t]=this._lines[t].text;return e},t.prototype.getEOL=function(){if(this._isDisposed)throw new Error("TextModel.getEOL: Model is disposed");return this._EOL},t.prototype.setEOL=function(e){var t=e===r.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._EOL=t,this._increaseVersionId();var a=this._createContentChangedFlushEvent();a.detail=this.toRawText(),a.versionId=this._versionId,this._emitModelContentChangedFlushEvent(a),this._emitContentChanged2(1,1,o,s,i,this.getValue(),!1,!1)}},t.prototype.getLineMaxColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineMaxColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text.length+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineFirstNonWhitespaceColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=o.firstNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineLastNonWhitespaceColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=o.lastNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+2},t.prototype.validateLineNumber=function(e){if(this._isDisposed)throw new Error("TextModel.validateLineNumber: Model is disposed");return 1>e&&(e=1),e>this._lines.length&&(e=this._lines.length),e},t.prototype.validatePosition=function(e){if(this._isDisposed)throw new Error("TextModel.validatePosition: Model is disposed");var t=e.lineNumber?e.lineNumber:1,n=e.column?e.column:1;1>t&&(t=1),t>this._lines.length&&(t=this._lines.length),1>n&&(n=1);var r=this.getLineMaxColumn(t);return n>r&&(n=r),new s.Position(t,n)},t.prototype.validateRange=function(e){if(this._isDisposed)throw new Error("TextModel.validateRange: Model is disposed");var t=this.validatePosition(new s.Position(e.startLineNumber,e.startColumn)),n=this.validatePosition(new s.Position(e.endLineNumber,e.endColumn));return new a.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.modifyPosition=function(e,t){if(this._isDisposed)throw new Error("TextModel.modifyPosition: Model is disposed");for(var n=this.validatePosition(e);t>0;){var r=this.getLineMaxColumn(n.lineNumber);if(n.column<r){var i=Math.min(t,r-n.column);t-=i,n.column+=i}if(0===t)break;if(t-=this._EOL.length,0>t)throw new Error("TextModel.modifyPosition: Breaking line terminators");if(++n.lineNumber,n.lineNumber>this._lines.length)throw new Error("TextModel.modifyPosition: Offset goes beyond the end of the model");n.column=1}for(;0>t;){if(n.column>1){var o=Math.min(-t,n.column-1);t+=o,n.column-=o}if(0===t)break;if(t+=this._EOL.length,t>0)throw new Error("TextModel.modifyPosition: Breaking line terminators");if(--n.lineNumber,n.lineNumber<1)throw new Error("TextModel.modifyPosition: Offset goes beyond the beginning of the model");n.column=this.getLineMaxColumn(n.lineNumber)}return n},t.prototype.getFullModelRange=function(){if(this._isDisposed)throw new Error("TextModel.getFullModelRange: Model is disposed");var e=this.getLineCount();return new a.Range(1,1,e,this.getLineMaxColumn(e))},t.prototype._emitModelContentChangedFlushEvent=function(e){this.emit(l.EventType.ModelContentChanged,e)},t.toRawText=function(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\r",n+1));)t++;var r=e.split(/\r\n|\r|\n/),i="";o.startsWithUTF8BOM(r[0])&&(i=o.UTF8_BOM_CHARACTER,r[0]=r[0].substr(1));var s=r.length-1,a="";return a=0===s?m:t>s/2?"\r\n":"\n",{BOM:i,EOL:a,lines:r,length:e.length}},t.prototype._constructLines=function(e){var t,n,r=e.lines,o=[];for(t=0,n=r.length;n>t;t++)o.push(new i.ModelLine(t+1,r[t]));this._BOM=e.BOM,this._EOL=e.EOL,this._lines=o},t.prototype._getEndOfLine=function(e){switch(e){case r.EndOfLinePreference.LF:return"\n";case r.EndOfLinePreference.CRLF:return"\r\n";case r.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},t.prototype.findMatches=function(e,t,n,r,i){if(this._isDisposed)throw new Error("Model.findMatches: Model is disposed");if(""===e)return[];var s=null;try{s=o.createRegExp(e,n,r,i)}catch(l){return[]}if(o.regExpLeadsToEndlessLoop(s))return[];var c;return c=a.isIRange(t)?t:this.getFullModelRange(),this._doFindMatches(c,s)},t.prototype._doFindMatches=function(e,t){var n,r=[],i=0;if(e.startLineNumber===e.endLineNumber)return n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),i=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,i,r),r;n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1),i=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,i,r);for(var o=e.startLineNumber+1;o<e.endLineNumber&&h>i;o++)i=this._findMatchesInLine(t,this._lines[o-1].text,o,0,i,r);return h>i&&(n=this._lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),i=this._findMatchesInLine(t,n,e.endLineNumber,0,i,r)),r},t.prototype._findMatchesInLine=function(e,t,n,r,i,o){var s;do if(s=e.exec(t),s&&(o.push(new a.Range(n,s.index+1+r,n,s.index+1+s[0].length+r)),i++,i>=h))return i;while(s);return i},t}(n.EventEmitter);t.TextModel=f}),define("vs/editor/core/model/tokenIterator",["require","exports","vs/editor/editor"],function(e,t,n){var r=n.LineTokensBinaryEncoding.getStartIndex,i=n.LineTokensBinaryEncoding.inflate,o=function(){function e(e,t){this._model=e,this._currentLineNumber=t.lineNumber,this._currentTokenIndex=0,this._readLineTokens(this._currentLineNumber),this._next=null,this._prev=null;for(var n=t.column-1,i=Number.MAX_VALUE,o=this._currentTokens.length-1;o>=0;o--){if(r(this._currentTokens[o])<=n&&i>=n){this._currentTokenIndex=o,this._next=this._current(),this._prev=this._current();break}i=r(this._currentTokens[o])}}return e.prototype._readLineTokens=function(e){this._currentLineTokens=this._model.getLineTokens(e,!1),this._currentTokens=this._currentLineTokens.getBinaryEncodedTokens(),this._map=this._currentLineTokens.getBinaryEncodedTokensMap()},e.prototype._advanceNext=function(){if(this._prev=this._next,this._next=null,this._currentTokenIndex+1<this._currentTokens.length)this._currentTokenIndex++,this._next=this._current();else{for(;this._currentLineNumber+1<=this._model.getLineCount();)if(this._currentLineNumber++,this._readLineTokens(this._currentLineNumber),this._currentTokens.length>0){this._currentTokenIndex=0,this._next=this._current();break}null===this._next&&(this._readLineTokens(this._currentLineNumber),this._currentTokenIndex=this._currentTokens.length,this._advancePrev(),this._next=null)}},e.prototype._advancePrev=function(){if(this._next=this._prev,this._prev=null,this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else for(;this._currentLineNumber>1;)if(this._currentLineNumber--,this._readLineTokens(this._currentLineNumber),this._currentTokens.length>0){this._currentTokenIndex=this._currentTokens.length-1,this._prev=this._current();break}},e.prototype._current=function(){return{token:i(this._map,this._currentTokens[this._currentTokenIndex]),lineNumber:this._currentLineNumber,startColumn:r(this._currentTokens[this._currentTokenIndex])+1,endColumn:this._currentTokenIndex+1<this._currentTokens.length?r(this._currentTokens[this._currentTokenIndex+1])+1:this._model.getLineContent(this._currentLineNumber).length+1}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=o}),define("vs/editor/core/model/textModelWithTokensHelpers",["require","exports","vs/editor/editor","vs/editor/modes/nullMode","vs/base/errors","vs/editor/core/range"],function(e,t,n,r,i,o){var s=n.LineTokensBinaryEncoding.getType,a=n.LineTokensBinaryEncoding.getBracket,l=n.LineTokensBinaryEncoding.getStartIndex,c=function(){function e(){}return e.massageWordDefinitionOf=function(e){var t=r.NullMode.DEFAULT_WORD_REGEXP;if(e.tokenTypeClassificationSupport){try{t=e.tokenTypeClassificationSupport.getWordDefinition()}catch(n){i.onUnexpectedError(n)}if(t instanceof RegExp){if(!t.global){var o="g";t.ignoreCase&&(o+="i"),t.multiline&&(o+="m"),t=new RegExp(t.source,o)}}else t=r.NullMode.DEFAULT_WORD_REGEXP}return t.lastIndex=0,t},e.getWords=function(t,n,r,i){if(void 0===i&&(i=!1),i&&!t._lineIsTokenized(n))return e._getWordsInText(t.getLineContent(n),e.massageWordDefinitionOf(t.getMode()));var o,a,c,u,d,p=[],h=t.getLineContent(n),m=t.getLineTokens(n,!1),f=m.getBinaryEncodedTokens(),v=m.getBinaryEncodedTokensMap(),g=t._getLineModeTransitions(n),b={};if(r&&(b=e._getNonWordTokenMap(t)),0!==h.length){var y=0,_=y+1<g.length?g[y+1].startIndex:Number.MAX_VALUE,w=e.massageWordDefinitionOf(g[y].mode);for(o=0,a=0,c=f.length;c>o;o++){if(d=o===c-1?h.length:l(f[o+1]),a>=_&&(y++,_=y+1<g.length?g[y+1].startIndex:Number.MAX_VALUE,w=e.massageWordDefinitionOf(g[y].mode)),!r||!b.hasOwnProperty(s(v,f[o]))){var E,S=h.substring(a,d),T=S.match(w)||[],k=0;for(u=0;u<T.length;u++){var C=T[u].trim();C.length>0&&(E=S.indexOf(C,k),k=E+C.length,p.push({start:a+E,end:a+k}))}}a=d}}return p},e._getWordsInText=function(e,t){var n,r,i,o,s,a,l=e.match(t)||[],c=[];for(n=0;n<l.length;n++)a=l[n].trim(),a.length>0&&(r=e.indexOf(a,i),i=r+a.length,o=r,s=i,c.push({start:o,end:s}));return c},e.getWordAtPosition=function(t,n,r,i){if(void 0===i&&(i=!1),i&&!t._lineIsTokenized(n.lineNumber))return e._getWordAtText(n.column,e.massageWordDefinitionOf(t.getMode()),t.getLineContent(n.lineNumber),0);var o=t.getLineTokens(n.lineNumber,!1),a=o.getBinaryEncodedTokens(),c=o.getBinaryEncodedTokensMap(),u=-1,d=-1;if(a.length>0&&(u=o.findIndexOfOffset(n.column-1),u>0&&l(a[u])===n.column-1&&(d=u-1)),r&&(-1!==u||-1!==d)){var p=e._getNonWordTokenMap(t);-1!==u&&p.hasOwnProperty(s(c,a[u]))&&(u=-1),-1!==d&&p.hasOwnProperty(s(c,a[d]))&&(d=-1)}var h,m=e.massageWordDefinitionOf(t.getModeAtPosition(n.lineNumber,n.column)),f=t.getLineContent(n.lineNumber),v=null;return v||-1===u||(h=f.substring(l(a[u]),u+1<a.length?l(a[u+1]):Number.MAX_VALUE),v=e._getWordAtText(n.column,m,h,l(a[u]))),v||-1===d||(h=f.substring(l(a[d]),d+1<a.length?l(a[d+1]):Number.MAX_VALUE),v=e._getWordAtText(n.column,m,h,l(a[d]))),v},e._getWordAtText=function(e,t,n,r){var i,o,s,a,l,c,u=n.match(t)||[];for(i=0;i<u.length;i++)if(c=u[i].trim(),c.length>0&&(o=n.indexOf(c,s),s=o+c.length,a=r+o+1,l=r+s+1,e>=a&&l>=e))return{word:c,startColumn:a,endColumn:l};return null},e._getNonWordTokenMap=function(e){var t,n,r=e._getNonWordTokenTypes(),i={};for(t=0,n=r.length;n>t;t++)i[r[t]]=!0;return i},e}();t.WordHelper=c;var u=function(){function e(){}return e._sign=function(e){return 0>e?-1:e>0?1:0},e._findMatchingBracketUp=function(t,n,r,i,c){var u,d,p,h=c;for(u=r;u>=1;u--){var m=t.getLineTokens(u,!1),f=m.getBinaryEncodedTokens(),v=m.getBinaryEncodedTokensMap(),g=t.getLineContent(u);for(p=(u===r?i:f.length)-1;p>=0;p--)if(s(v,f[p])===n&&(h+=e._sign(a(f[p])),0===h))return d=p===f.length-1?g.length:l(f[p+1]),new o.Range(u,l(f[p])+1,u,d+1)}return null},e._findMatchingBracketDown=function(t,n,r,i,c){var u,d,p,h,m,f=1;for(u=r,d=t.getLineCount();d>=u;u++){if(c&&!t._lineIsTokenized(u))return{range:null,isAccurate:!1};var v=t.getLineTokens(u,!1),g=v.getBinaryEncodedTokens(),b=v.getBinaryEncodedTokensMap(),y=t.getLineContent(u);for(h=u===r?i+1:0,m=g.length;m>h;h++)if(s(b,g[h])===n&&(f+=e._sign(a(g[h])),0===f))return p=h===g.length-1?y.length:l(g[h+1]),{range:new o.Range(u,l(g[h])+1,u,p+1),isAccurate:!0}}return{range:null,isAccurate:!0}},e.findMatchingBracketUp=function(t,n,r){var i,o,s,a=r.column-1,c=-1,u=t.getLineTokens(r.lineNumber,!1),d=u.getBinaryEncodedTokens(),p=t.getLineContent(r.lineNumber);for(i=0,o=d.length;-1===c&&o>i;i++)s=i===o-1?p.length:l(d[i+1]),l(d[i])<=a&&s>=a&&(c=i);return e._findMatchingBracketUp(t,n,r.lineNumber,c+1,0)},e.matchBracket=function(t,n,r){if(r&&!t._lineIsTokenized(n.lineNumber))return{brackets:null,isAccurate:!1};var i,c,u=t.getLineContent(n.lineNumber),d={brackets:null,isAccurate:!0};if(u.length>0){var p,h,m,f,v,g=n.column-1,b=t.getLineTokens(n.lineNumber,!1),y=b.getBinaryEncodedTokens(),_=b.getBinaryEncodedTokensMap();for(i=0,c=y.length;null===d.brackets&&c>i;i++)if(p=y[i],m=l(p),v=s(_,p),f=a(p),h=i===c-1?u.length:l(y[i+1]),g>=m&&h>=g){if(0>f){var w=e._findMatchingBracketUp(t,v,n.lineNumber,i,-1);w&&(d.brackets=[new o.Range(n.lineNumber,m+1,n.lineNumber,h+1),w])}if(null===d.brackets&&f>0){var E=e._findMatchingBracketDown(t,v,n.lineNumber,i,r);d.isAccurate=E.isAccurate,E.range&&(d.brackets=[new o.Range(n.lineNumber,m+1,n.lineNumber,h+1),E.range])}}}return d},e}();t.BracketsHelper=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithTokens",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/lifecycle","vs/editor/core/model/textModel","vs/editor/modes/nullMode","vs/base/errors","vs/editor/core/constants","vs/base/arrays","vs/editor/core/config/config","vs/editor/core/model/tokenIterator","vs/editor/core/model/textModelWithTokensHelpers","vs/base/time/schedulers","vs/base/performance/timer","vs/base/time/precision"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(){function e(){this._inflate=[""],this._deflate={"":0}}return e}();t.TokensInflatorMap=v;var g=function(){function e(e,t){var n=this;this._modePromise=e,this._externalModePromise=new r.TPromise(function(e,t){n._externalModePromise_c=e,n._externalModePromise_e=t}),this._model=t,this._isDisposed=!1,r.TPromise.timeout(0).then(function(){return n._modePromise}).then(function(e){if(n._isDisposed)return n._externalModePromise_c(!1),void 0;var t=n._model;n.dispose(),t.setMode(e),t._warmUpTokens(),n._externalModePromise_c(!0)}).done(null,function(e){n._externalModePromise_e(e),a.onUnexpectedError(e)})}return e.prototype.getModePromise=function(){return this._externalModePromise},e.prototype.dispose=function(){this._modePromise=null,this._model=null,this._isDisposed=!0},e}(),b=function(){function e(e,t){var n=this;this._retokenizePromise=e,this._model=t,this._isDisposed=!1,this.isFulfilled=!1,r.TPromise.timeout(0).then(function(){return n._retokenizePromise}).then(function(){n._isDisposed||(n.isFulfilled=!0,n._model.onRetokenizerFulfilled())}).done(null,a.onUnexpectedError)}return e.prototype.getRange=function(){return null},e.prototype.dispose=function(){this._retokenizePromise=null,this._model=null,this._isDisposed=!0},e}();t.FullModelRetokenizer=b;var y=function(){function e(e,t){this.modeTransitions=t.getModeTransitions().toArray(e),this._text=t.text,this._lineTokens=t.getTokens()}return e.prototype.getLineContent=function(){return this._text},e.prototype.getTokenCount=function(){return this._lineTokens.getTokenCount()},e.prototype.getTokenStartIndex=function(e){return this._lineTokens.getTokenStartIndex(e)},e.prototype.getTokenEndIndex=function(e){return this._lineTokens.getTokenEndIndex(e,this._text.length)},e.prototype.getTokenType=function(e){return this._lineTokens.getTokenType(e)},e.prototype.getTokenBracket=function(e){return this._lineTokens.getTokenBracket(e)},e.prototype.getTokenText=function(e){var t=this._lineTokens.getTokenStartIndex(e),n=this._lineTokens.getTokenEndIndex(e,this._text.length);return this._text.substring(t,n)},e.prototype.findIndexOfOffset=function(e){return this._lineTokens.findIndexOfOffset(e)},e}(),_=function(e){function t(n,i,o,a){var c=this;if(n.push(l.EventType.ModelTokensChanged),n.push(l.EventType.ModelModeChanged),n.push(l.EventType.ModelModeSupportChanged),e.call(this,n,i),this._shouldAutoTokenize=o,this._shouldSimplifyMode=i.length>t.MODEL_SYNC_LIMIT,this._shouldDenyMode=i.length>t.MODEL_TOKENIZATION_LIMIT,this._stopLineTokenizationAfter=u.Config.editor.stopLineTokenizationAfter,a)if(r.Promise.is(a)){var d=a;this._modeToModelBinder=new g(d,this),this._mode=new s.NullMode}else this._mode=this._massageMode(a),this._resetModeListener(this._mode);else this._mode=new s.NullMode;this._revalidateTokensTimeout=-1,this._scheduleRetokenizeNow=new h.RunOnceScheduler(function(){return c._retokenizeNow()},200),this._retokenizers=[],this._resetTokenizationState()}return __extends(t,e),t.prototype.dispose=function(){this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),this._resetModeListener(null),this._clearTimers(),this._mode=null,this._lastState=null,this._tokensInflatorMap=null,this._retokenizers=i.disposeAll(this._retokenizers),this._scheduleRetokenizeNow.dispose(),e.prototype.dispose.call(this)},t.prototype._massageMode=function(e){return this._shouldDenyMode?new s.NullMode:this._shouldSimplifyMode?new w(e):e},t.prototype.whenModeIsReady=function(){return this._modeToModelBinder?this._modeToModelBinder.getModePromise():r.Promise.as(this._mode)},t.prototype.onRetokenizerFulfilled=function(){this._scheduleRetokenizeNow.schedule()},t.prototype._retokenizeNow=function(){var e=this._retokenizers.filter(function(e){return e.isFulfilled});this._retokenizers=this._retokenizers.filter(function(e){return!e.isFulfilled});for(var t=!1,n=0;n<e.length;n++)e[n].getRange()||(t=!0);if(t){for(var n=0,r=this._lines.length;r>n;n++)this._lines[n].isInvalid=!0;this._invalidLineStartIndex=0}else{for(var i=Number.MAX_VALUE,n=0;n<e.length;n++){var o=e[n].getRange();i=Math.min(i,o.startLineNumber);for(var s=o.startLineNumber;s<=o.endLineNumber;s++)this._lines[s-1].isInvalid=!0}i-1<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=i-1)}this._beginBackgroundTokenization();for(var n=0;n<e.length;n++)e[n].dispose()},t.prototype._createRetokenizer=function(e){return new b(e,this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._resetTokenizationState()},t.prototype._resetMode=function(e,t){this._mode=t,this._resetModeListener(t),this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount())},t.prototype._resetModeListener=function(e){var t=this;this._modeListener&&(this._modeListener.dispose(),this._modeListener=null),e&&"function"==typeof e.addSupportChangedListener&&(this._modeListener=e.addSupportChangedListener(function(e){return t._onModeSupportChanged(e)}))},t.prototype._onModeSupportChanged=function(e){this._emitModelModeSupportChangedEvent(e),e.tokenizationSupport&&(this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount()))},t.prototype._resetTokenizationState=function(){this._retokenizers=i.disposeAll(this._retokenizers),this._scheduleRetokenizeNow.cancel(),this._clearTimers(),this._initializeTokenizationState(),this._tokenizationElapsedTime=0,this._tokenizationTotalCharacters=1},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype._initializeTokenizationState=function(){var e=null;if(this._mode.tokenizationSupport)try{e=this._mode.tokenizationSupport.getInitialState()}catch(n){n.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,a.onUnexpectedError(n),this._mode=new s.NullMode}e||(e=new s.NullState(this._mode,null)),this._lines[0].setState(e),this._lastState=null,this._tokensInflatorMap=new v,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype.setStopLineTokenizationAfter=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.setStopLineTokenizationAfter: Model is disposed");this._stopLineTokenizationAfter=e},t.prototype.getLineTokens=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithTokens.getLineTokens: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return t||this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.getLineContext=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.getLineContext: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),new y(this._mode,this._lines[e-1])},t.prototype._getInternalTokens=function(e){return this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.setValue=function(e,t){if(void 0===t&&(t=null),this._isDisposed)throw new Error("TextModelWithTokens.setValue: Model is disposed");if(null!==e||t){var n,i=this.getFullModelRange(),o=this.getValueLengthInRange(i),s=this.getLineCount(),a=this.getLineMaxColumn(s);if(null!==e&&(n=this._createContentChangedFlushEvent(),this._resetValue(n,e)),t)if(this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),r.Promise.is(t))this._modeToModelBinder=new g(t,this);else{var l=this._massageMode(t);if(this._mode!==l){var c={oldMode:this._mode,newMode:l};this._resetMode(c,l),this._emitModelModeChangedEvent(c)}}n&&(this._emitModelContentChangedFlushEvent(n),this._emitContentChanged2(1,1,s,a,o,this.getValue(),!1,!1))}},t.prototype.getMode=function(){if(this._isDisposed)throw new Error("TextModelWithTokens.getMode: Model is disposed");return this._mode},t.prototype.setMode=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.setMode: Model is disposed");e&&this.setValue(null,e)},t.prototype.getModeAtPosition=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.getModeAtPosition: Model is disposed");var n=this.validatePosition({lineNumber:e,column:t}),r=n.lineNumber,i=n.column;if(1===i)return this.getStateBeforeLine(r).getMode();if(i===this.getLineMaxColumn(r))return this.getStateAfterLine(r).getMode();var o=this._getLineModeTransitions(r),s=c.findIndexInSegmentsArray(o,i-1);return o[s].mode},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._updateLineTokens=function(e,t,n,r){this._lines[e].setTokens(t,r.tokens,n,r.modeTransitions)},t.prototype._beginBackgroundTokenization=function(){var e=this;
this._shouldAutoTokenize&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){if(this._isDisposed)throw new Error("TextModelWithTokens._warmUpTokens: Model is disposed");for(var e=Math.min(100,this.getLineCount()),t=e,n=1;e>=n;n++){var r=this._lines[n-1].text;if(r.length>=200){t=n-1;break}}this._revalidateTokensNow(t)},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._invalidLineStartIndex+1e6);var t=m.start(m.Topic.EDITOR,"backgroundTokenization");e=Math.min(this._lines.length,e);for(var n,r=20,i=this._invalidLineStartIndex+1,o=0,s=0,a=0,l=this._stopLineTokenizationAfter,c=f.createStopWatch(),u=i;e>=u;u++){if(n=c.elapsed(),n>r){e=u-1;break}if(s=this._lines[u-1].text.length,-1!==l&&s>l&&(s=l),o>0&&(a=n/o*s,n+a>r)){e=u-1;break}this._updateTokensUntilLine(u,!1),o+=s}n=c.elapsed();var d=m.start(m.Topic.EDITOR,"**speed: "+this._tokenizationTotalCharacters/this._tokenizationElapsedTime);d.stop(),e>=i&&this.emitModelTokensChangedEvent(i,e),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization(),t.stop()},t.prototype.getStateBeforeLine=function(e){return this._updateTokensUntilLine(e-1,!0),this._lines[e-1].getState()},t.prototype.getStateAfterLine=function(e){return this._updateTokensUntilLine(e,!0),e<this._lines.length?this._lines[e].getState():this._lastState},t.prototype._getLineModeTransitions=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens._getLineModeTransitions: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),this._lines[e-1].getModeTransitions().toArray(this._mode)},t.prototype._updateTokensUntilLine=function(e,n){var r=this._lines.length,i=e-1,o=this._stopLineTokenizationAfter;-1===o&&(o=1e9);for(var l=f.createStopWatch(),c=0,u=this._invalidLineStartIndex+1,d=e,p=this._invalidLineStartIndex;i>=p;p++){var h=p+1,m=null,v=this._lines[p].text;if(this._mode.tokenizationSupport){try{m=this._mode.tokenizationSupport.tokenize(this._lines[p].text,this._lines[p].getState(),0,o),c=m?m.actualStopOffset:this._lines[p].text.length}catch(g){g.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,a.onUnexpectedError(g)}m&&m.retokenize&&this._retokenizers.push(this._createRetokenizer(m.retokenize,p+1)),m&&m.tokens&&m.tokens.length>0&&(m.actualStopOffset=Math.max(m.actualStopOffset,m.tokens[m.tokens.length-1].startIndex+1)),m&&m.actualStopOffset<v.length&&(m.tokens.push({startIndex:m.actualStopOffset,type:"",bracket:0}),m.endState=this._lines[p].getState())}if(m||(m=s.nullTokenize(this._mode,v,this._lines[p].getState())),m.modeTransitions||(m.modeTransitions=[]),0===m.modeTransitions.length&&m.modeTransitions.push({startIndex:0,mode:this._mode}),this._updateLineTokens(p,this._tokensInflatorMap,this._mode,m),this._lines[p].isInvalid&&(this._lines[p].isInvalid=!1),r>h)if(null!==this._lines[h].getState()&&m.endState.equals(this._lines[h].getState())){for(var b=p+1;r>b&&!this._lines[b].isInvalid;){if(r>b+1){if(null===this._lines[b+1].getState())break}else if(null===this._lastState)break;b++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,b),p=b-1}else this._lines[h].setState(m.endState);else this._lastState=m.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,i+1),this._tokenizationElapsedTime+=l.elapsed(),this._tokenizationTotalCharacters+=c,n&&d>=u&&this.emitModelTokensChangedEvent(u,d)},t.prototype.emitModelTokensChangedEvent=function(e,t){var n={fromLineNumber:e,toLineNumber:t};this.emit(l.EventType.ModelTokensChanged,n)},t.prototype._emitModelModeChangedEvent=function(e){this.emit(l.EventType.ModelModeChanged,e)},t.prototype._emitModelModeSupportChangedEvent=function(e){this.emit(l.EventType.ModelModeSupportChanged,e)},t.prototype._lineIsTokenized=function(e){return this._invalidLineStartIndex>e-1},t.prototype._getNonWordTokenTypes=function(){var e=[];try{e=this._mode.tokenTypeClassificationSupport.getNonWordTokenTypes()}catch(t){a.onUnexpectedError(t)}return e},t.prototype._getWordDefinition=function(){return p.WordHelper.massageWordDefinitionOf(this._mode)},t.prototype.getWordAtPosition=function(e,t,n){if(void 0===n&&(n=!1),this._isDisposed)throw new Error("TextModelWithTokens.getWordAtPosition: Model is disposed");return p.WordHelper.getWordAtPosition(this,this.validatePosition(e),t,n)},t.prototype.getWordUntilPosition=function(e,t,n){if(void 0===n&&(n=!1),this._isDisposed)throw new Error("TextModelWithTokens.getWordUntilPosition: Model is disposed");var r=this.getWordAtPosition(e,t,n);return r?{word:r.word.substr(0,e.column-r.startColumn),startColumn:r.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.getWords=function(e,t,n){if(void 0===n&&(n=!1),this._isDisposed)throw new Error("TextModelWithTokens.getWords: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return p.WordHelper.getWords(this,this.validateLineNumber(e),t,n)},t.prototype.tokenIterator=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.tokenIterator: Model is disposed");var n=new d.TokenIterator(this,this.validatePosition(e)),r=t(n);return n._invalidate(),r},t.prototype.findMatchingBracketUp=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.findMatchingBracketUp: Model is disposed");return p.BracketsHelper.findMatchingBracketUp(this,e,this.validatePosition(t))},t.prototype.matchBracket=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithTokens.matchBracket: Model is disposed");return p.BracketsHelper.matchBracket(this,this.validatePosition(e),t)},t.MODE_TOKENIZATION_FAILED_MSG=n.localize("vs_editor_core_model_textModelWithTokens",0),t.MODEL_SYNC_LIMIT=5242880,t.MODEL_TOKENIZATION_LIMIT=52428800,t}(o.TextModel);t.TextModelWithTokens=_;var w=function(){function e(e){this._id="vs.editor.modes.simplifiedMode:"+e.getId(),this.tokenizationSupport=e.tokenizationSupport,this.electricCharacterSupport=e.electricCharacterSupport,this.commentsSupport=e.commentsSupport,this.characterPairSupport=e.characterPairSupport,this.tokenTypeClassificationSupport=e.tokenTypeClassificationSupport}return e.prototype.getId=function(){return this._id},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithMarkers",["require","exports","vs/editor/core/model/textModelWithTokens","vs/editor/core/position","vs/base/lifecycle"],function(e,t,n,r,i){var o=function(){function e(e,t,n){this.id=e,this.column=t,this.stickToPreviousCharacter=n,this.oldLineNumber=0,this.oldColumn=0,this.line=null}return e}(),s=0,a=function(e){function t(t,n,r){e.call(this,t,n,!0,r),this._markerIdGenerator=new i.IdGenerator(++s+";"),this._markerIdToMarker={}}return __extends(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._markerIdToMarker={}},t.prototype._addMarker=function(e,t,n){if(this._isDisposed)throw new Error("TextModelWithMarkers._addMarker: Model is disposed");var i=this.validatePosition(new r.Position(e,t)),s=new o(this._markerIdGenerator.generate(),i.column,n);return this._markerIdToMarker[s.id]=s,this._lines[i.lineNumber-1].addMarker(s),s.id},t.prototype._changeMarker=function(e,t,n){if(this._isDisposed)throw new Error("TextModelWithMarkers._changeMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var i=this._markerIdToMarker[e],o=this.validatePosition(new r.Position(t,n));o.lineNumber!==i.line.lineNumber&&(i.line.removeMarker(i),this._lines[o.lineNumber-1].addMarker(i)),i.column=o.column}},t.prototype._changeMarkerStickiness=function(e,t){if(this._isDisposed)throw new Error("TextModelWithMarkers._changeMarkerStickiness: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var n=this._markerIdToMarker[e];n.stickToPreviousCharacter!==t&&(n.stickToPreviousCharacter=t)}},t.prototype._getMarker=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];return new r.Position(t.line.lineNumber,t.column)}return null},t.prototype._getLineMarkers=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getLineMarkers: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getMarkers()},t.prototype._removeMarker=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._removeMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];t.line.removeMarker(t),delete this._markerIdToMarker[e]}},t.prototype._getMarkersInMap=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getMarkersInMap: Model is disposed");var t,n=[];for(t in e)e.hasOwnProperty(t)&&this._markerIdToMarker.hasOwnProperty(t)&&n.push(this._markerIdToMarker[t]);return n},t}(n.TextModelWithTokens);t.TextModelWithMarkers=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithTrackedRanges",["require","exports","vs/editor/editor","vs/editor/core/model/textModelWithMarkers","vs/editor/core/model/textModelWithTokens","vs/editor/core/range","vs/base/lifecycle"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,r,i){e.call(this,t,i),this.trackedRangeId=i.addTrackedRange({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:i.getLineMaxColumn(r)},n.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)}return __extends(t,e),t.prototype.getRange=function(){return this._model.getTrackedRange(this.trackedRangeId)},t.prototype.dispose=function(){var t=this._model;t.isValidTrackedRange(this.trackedRangeId)&&t.removeTrackedRange(this.trackedRangeId),e.prototype.dispose.call(this)},t}(i.FullModelRetokenizer),l=function(){function e(e,t,n){this.id=e,this.startMarkerId=t,this.endMarkerId=n}return e}(),c=0,u=function(e){function t(t,n,r){e.call(this,t,n,r),this._rangeIdGenerator=new s.IdGenerator(++c+";"),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}}return __extends(t,e),t.prototype._createRetokenizer=function(e,t){return new a(e,t,this)},t.prototype.dispose=function(){this._ranges=null,this._markerIdToRangeId=null,this._multiLineTrackedRanges=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}},t.prototype._setRangeIsMultiLine=function(e,t){var n=this._multiLineTrackedRanges.hasOwnProperty(e);!n&&t?this._multiLineTrackedRanges[e]=!0:n&&!t&&delete this._multiLineTrackedRanges[e]},t.prototype._shouldStartMarkerSticksToPreviousCharacter=function(e){return e===n.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||e===n.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore?!0:!1},t.prototype._shouldEndMarkerSticksToPreviousCharacter=function(e){return e===n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||e===n.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore?!0:!1},t.prototype.addTrackedRange=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.addTrackedRange: Model is disposed");e=this.validateRange(e);var n=this._shouldStartMarkerSticksToPreviousCharacter(t),r=this._shouldEndMarkerSticksToPreviousCharacter(t),i=this._addMarker(e.startLineNumber,e.startColumn,n),o=this._addMarker(e.endLineNumber,e.endColumn,r),s=new l(this._rangeIdGenerator.generate(),i,o);return this._ranges[s.id]=s,this._markerIdToRangeId[i]=s.id,this._markerIdToRangeId[o]=s.id,this._setRangeIsMultiLine(s.id,e.startLineNumber!==e.endLineNumber),s.id},t.prototype.changeTrackedRange=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.changeTrackedRange: Model is disposed");if(this._ranges.hasOwnProperty(e)){t=this.validateRange(t);var n=this._ranges[e];this._changeMarker(n.startMarkerId,t.startLineNumber,t.startColumn),this._changeMarker(n.endMarkerId,t.endLineNumber,t.endColumn),this._setRangeIsMultiLine(n.id,t.startLineNumber!==t.endLineNumber)}},t.prototype.changeTrackedRangeStickiness=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.changeTrackedRangeStickiness: Model is disposed");if(this._ranges.hasOwnProperty(e)){var n=this._ranges[e];this._changeMarkerStickiness(n.startMarkerId,this._shouldStartMarkerSticksToPreviousCharacter(t)),this._changeMarkerStickiness(n.endMarkerId,this._shouldEndMarkerSticksToPreviousCharacter(t))}},t.prototype.isValidTrackedRange=function(e){return this._isDisposed||!this._ranges?!1:this._ranges.hasOwnProperty(e)},t.prototype.removeTrackedRange=function(e){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.removeTrackedRange: Model is disposed");if(this._ranges.hasOwnProperty(e)){var t=this._ranges[e];this._removeMarker(t.startMarkerId),this._removeMarker(t.endMarkerId),this._setRangeIsMultiLine(t.id,!1),delete this._ranges[t.id],delete this._markerIdToRangeId[t.startMarkerId],delete this._markerIdToRangeId[t.endMarkerId]}},t.prototype._newEditorRange=function(e,t){return t.isBefore(e)?new o.Range(e.lineNumber,e.column,e.lineNumber,e.column):new o.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.getTrackedRange=function(e){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.getTrackedRange: Model is disposed");var t=this._ranges[e],n=this._getMarker(t.startMarkerId),r=this._getMarker(t.endMarkerId);return this._newEditorRange(n,r)},t.prototype._getMultiLineTrackedRanges=function(e,t){var n,r,i,o,s=[];for(n in this._multiLineTrackedRanges)if(this._multiLineTrackedRanges.hasOwnProperty(n)){if(r=this._ranges[n],i=this._getMarker(r.startMarkerId),i.lineNumber>t)continue;if(o=this._getMarker(r.endMarkerId),o.lineNumber<e)continue;s.push({id:r.id,range:this._newEditorRange(i,o)})}return s},t.prototype.getLinesTrackedRanges=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.getLinesTrackedRanges: Model is disposed");var n,r,i,o,s,a,l,c,u=this._getMultiLineTrackedRanges(e,t),d={};for(o=0,s=u.length;s>o;o++)d[u[o].id]=!0;for(a=e;t>=a;a++)for(n=this._getLineMarkers(a),o=0,s=n.length;s>o;o++)r=n[o],this._markerIdToRangeId.hasOwnProperty(r.id)&&(i=this._markerIdToRangeId[r.id],d.hasOwnProperty(i)||(l=this._getMarker(this._ranges[i].startMarkerId),c=this._getMarker(this._ranges[i].endMarkerId),u.push({id:i,range:this._newEditorRange(l,c)}),d[i]=!0));return u},t.prototype._onChangedMarkers=function(e){var t,n,r,i,o,s,a={};for(o=0,s=e.length;s>o;o++)i=e[o],this._markerIdToRangeId.hasOwnProperty(i.id)&&(r=this._markerIdToRangeId[i.id],n=this._ranges[r],a.hasOwnProperty(n.id)?t=a[n.id]:(t={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},a[n.id]=t),i.id===n.startMarkerId?(t.startLineNumber=i.oldLineNumber,t.startColumn=i.oldColumn):(t.endLineNumber=i.oldLineNumber,t.endColumn=i.oldColumn),this._setRangeIsMultiLine(n.id,this._getMarker(n.startMarkerId).lineNumber!==this._getMarker(n.endMarkerId).lineNumber));return a},t}(r.TextModelWithMarkers);t.TextModelWithTrackedRanges=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithDecorations",["require","exports","vs/editor/editor","vs/editor/core/model/textModelWithTrackedRanges","vs/editor/core/constants","vs/base/strings","vs/base/lifecycle","vs/base/errors"],function(e,t,n,r,i,o,s,a){function l(e){return e.replace(/[^a-z0-9\-]/gi," ")}function c(e){return new g(e)}function u(e,t){return void 0===t&&(t=null),new b(e,t)}function d(e,t){var n=[t.stickiness,e.startLineNumber.toString(),e.startColumn.toString(),e.endLineNumber.toString(),e.endColumn.toString(),t.className,t.hoverMessage,t.htmlMessage.reduce(function(e,t){return e+p(t)},""),t.isWholeLine+"",t.overviewRuler.color,t.overviewRuler.position,t.glyphMarginClassName,t.linesDecorationsClassName,t.inlineClassName];return n.join("-")}function p(e){var t=[e.tagName,e.text,e.className];return e.children&&e.children.forEach(function(e,n){t.push("child"+n+"-"+p(e))}),t.join("-")}var h=function(){function e(){this.changedMarkers={},this.oldDecorationRange={},this.oldDecorationOptions={},this.newOrChangedDecorations={},this.removedDecorations={}}return e.prototype.addNewDecoration=function(e){this.newOrChangedDecorations[e]=!0},e.prototype.addRemovedDecoration=function(e,t,n,r){this.newOrChangedDecorations.hasOwnProperty(e)&&delete this.newOrChangedDecorations[e],this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=n),this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=r),this.removedDecorations[e]=!0},e.prototype.addMovedDecoration=function(e,t){this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=t),this.newOrChangedDecorations[e]=!0},e.prototype.addUpdatedDecoration=function(e,t){this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=t),this.newOrChangedDecorations[e]=!0},e}();t.DeferredEventsBuilder=h;var m=0,f=function(e){function t(t,n,r){t.push(i.EventType.ModelDecorationsChanged),e.call(this,t,n,r),this._decorationIdGenerator=new s.IdGenerator(++m+";"),this.decorations={},this.rangeIdToDecorationId={},this._currentDeferredEvents=null}return __extends(t,e),t.prototype.dispose=function(){this.decorations=null,this.rangeIdToDecorationId=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this.decorations={},this.rangeIdToDecorationId={}},t.prototype.changeDecorations=function(e,t){var n=this;if(void 0===t&&(t=0),this._isDisposed)throw new Error("TextModelWithDecorations.changeDecorations: Model is disposed");return this._withDeferredEvents(function(r){var i={addDecoration:function(e,i){return n._addDecorationImpl(r,t,e,i)},changeDecoration:function(e,t){n._changeDecorationImpl(r,e,t)},changeDecorationOptions:function(e,t){n._changeDecorationOptionsImpl(r,e,t)},removeDecoration:function(e){n._removeDecorationImpl(r,e)},deltaDecorations:function(e,i){return n._deltaDecorationsImpl(r,t,e,i)}},o=null;try{o=e(i)}catch(s){a.onUnexpectedError(s)}return i.addDecoration=null,i.changeDecoration=null,i.removeDecoration=null,i.deltaDecorations=null,o})},t.prototype.deltaDecorations=function(e,t,n){if(void 0===n&&(n=0),this._isDisposed)throw new Error("TextModelWithDecorations.deltaDecorations: Model is disposed");return e||(e=[]),this.changeDecorations(function(n){return n.deltaDecorations(e,t)},n)},t.prototype.removeAllDecorationsWithOwnerId=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.removeAllDecorationsWithOwnerId: Model is disposed");var t,n,r=[];for(t in this.decorations)this.decorations.hasOwnProperty(t)&&(n=this.decorations[t],n.ownerId===e&&r.push(n.id));for(var i=0;i<r.length;i++)this._removeDecorationImpl(null,r[i])},t.prototype.getDecorationOptions=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationOptions: Model is disposed");return this.decorations.hasOwnProperty(e)?this.decorations[e].options:null},t.prototype.getDecorationRange=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationRange: Model is disposed");if(this.decorations.hasOwnProperty(e)){var t=this.decorations[e];return this.getTrackedRange(t.rangeId)}return null},t.prototype.getLineDecorations=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getLineDecorations: Model is disposed");return 1>e||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype._getDecorationsInRange=function(e,t,n,r,o,s){var a,l,c,u,d=[],p=this.getLinesTrackedRanges(e,n);for(l=0,u=p.length;u>l;l++)if(c=p[l],this.rangeIdToDecorationId.hasOwnProperty(c.id)){if(a=this.decorations[this.rangeIdToDecorationId[c.id]],o&&a.ownerId&&a.ownerId!==o)continue;if(s&&(a.options.className===i.ClassName.EditorErrorDecoration||a.options.className===i.ClassName.EditorWarningDecoration))continue;if(c.range.startLineNumber===e&&c.range.endColumn<t)continue;if(c.range.endLineNumber===n&&c.range.startColumn>r)continue;d.push({id:a.id,ownerId:a.ownerId,range:c.range,options:a.options})}return d},t.prototype.getLinesDecorations=function(e,t,n,r){if(void 0===n&&(n=0),void 0===r&&(r=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getLinesDecorations: Model is disposed");var i=this.getLineCount();return e=Math.min(i,Math.max(1,e)),t=Math.min(i,Math.max(1,t)),this._getDecorationsInRange(e,1,t,Number.MAX_VALUE,n,r)},t.prototype.getDecorationsInRange=function(e,t,n){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationsInRange: Model is disposed");var r=this.validateRange(e);return this._getDecorationsInRange(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn,t,n)},t.prototype.getAllDecorations=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getAllDecorations: Model is disposed");var n,r,o=[];for(n in this.decorations)if(this.decorations.hasOwnProperty(n)){if(r=this.decorations[n],e&&r.ownerId&&r.ownerId!==e)continue;if(t&&(r.options.className===i.ClassName.EditorErrorDecoration||r.options.className===i.ClassName.EditorWarningDecoration))continue;o.push({id:r.id,ownerId:r.ownerId,range:this.getTrackedRange(r.rangeId),options:r.options})}return o},t.prototype._withDeferredEvents=function(e){var t=this;return this.deferredEmit(function(){var n=t._currentDeferredEvents?!1:!0;n&&(t._currentDeferredEvents=new h);try{var r=e(t._currentDeferredEvents);n&&t._handleCollectedEvents(t._currentDeferredEvents)}finally{n&&(t._currentDeferredEvents=null)}return r})},t.prototype._handleCollectedEvents=function(e){var t=this._getMarkersInMap(e.changedMarkers),n=this._onChangedMarkers(t);this._onChangedRanges(e,n),this._handleCollectedDecorationsEvents(e);for(var r=0,i=t.length;i>r;r++)t[r].oldLineNumber=0,t[r].oldColumn=0},t.prototype._onChangedRanges=function(e,t){var n,r;for(n in t)t.hasOwnProperty(n)&&this.rangeIdToDecorationId.hasOwnProperty(n)&&(r=this.rangeIdToDecorationId[n],e.addMovedDecoration(r,t[n]))},t.prototype._handleCollectedDecorationsEvents=function(e){var t,n,r,o=[],s=[],a=[];for(t in e.newOrChangedDecorations)e.newOrChangedDecorations.hasOwnProperty(t)&&(a.push(t),n=this._getDecorationData(t),n.isForValidation=n.options.className===i.ClassName.EditorErrorDecoration||n.options.className===i.ClassName.EditorWarningDecoration,o.push(n),e.oldDecorationRange.hasOwnProperty(t)&&(r=e.oldDecorationRange[t],r.startLineNumber=r.startLineNumber||n.range.startLineNumber,r.startColumn=r.startColumn||n.range.startColumn,r.endLineNumber=r.endLineNumber||n.range.endLineNumber,r.endColumn=r.endColumn||n.range.endColumn));for(t in e.removedDecorations)e.removedDecorations.hasOwnProperty(t)&&(a.push(t),s.push(t));if(a.length>0){var l={ids:a,addedOrChangedDecorations:o,removedDecorations:s,oldOptions:e.oldDecorationOptions,oldRanges:e.oldDecorationRange};this.emitModelDecorationsChangedEvent(l)}},t.prototype._getDecorationData=function(e){var t=this.decorations[e];return{id:t.id,ownerId:t.ownerId,range:this.getTrackedRange(t.rangeId),isForValidation:!1,options:t.options}},t.prototype.emitModelDecorationsChangedEvent=function(e){this.emit(i.EventType.ModelDecorationsChanged,e)},t.prototype._addDecorationImpl=function(e,t,n,r){r=c(r);var i=this.addTrackedRange(n,r.stickiness),o=new v(this._decorationIdGenerator.generate(),t,i,r);return this.decorations[o.id]=o,this.rangeIdToDecorationId[i]=o.id,e.addNewDecoration(o.id),o.id},t.prototype._changeDecorationImpl=function(e,t,n){if(this.decorations.hasOwnProperty(t)){var r=this.decorations[t],i=this.getTrackedRange(r.rangeId);this.changeTrackedRange(r.rangeId,n),e.addMovedDecoration(t,i)}},t.prototype._changeDecorationOptionsImpl=function(e,t,n){if(n=c(n),this.decorations.hasOwnProperty(t)){var r=this.decorations[t],i=r.options;i.stickiness!==n.stickiness&&this.changeTrackedRangeStickiness(r.rangeId,n.stickiness),r.options=n,e.addUpdatedDecoration(t,i)}},t.prototype._removeDecorationImpl=function(e,t){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],r=null;e&&(r=this.getTrackedRange(n.rangeId)),this.removeTrackedRange(n.rangeId),delete this.rangeIdToDecorationId[n.rangeId],delete this.decorations[t],e&&e.addRemovedDecoration(t,n.ownerId,r,n.options)}},t.prototype._deltaDecorationsImpl=function(e,t,n,r){var i,o,s=[],a=[];for(i=0,o=r.length;o>i;i++)s[i]=c(r[i].options),a[i]=this.validateRange(r[i].range);return this._deltaImpl(e,t,n,o,a,s)},t.prototype._deltaImpl=function(e,t,n,r,i,o){var s,a,l,c,u={};for(s=0,a=n.length;a>s;s++)this.decorations.hasOwnProperty(n[s])&&(c=this.decorations[n[s]],l=d(this.getTrackedRange(c.rangeId),c.options),u[l]=u[l]||[],u[l].push(n[s]));var p,h,m,f,v=[],g={};for(s=0;r>s;s++){if(l=d(i[s],o[s]),f=!1,u.hasOwnProperty(l))for(m=u[l],p=0,h=m.length;h>p;p++)if(!g.hasOwnProperty(m[p])){f=!0,g[m[p]]=!0,v.push(m[p]);break}f||v.push(this._addDecorationImpl(e,t,i[s],o[s]))}for(s=0,a=n.length;a>s;s++)g.hasOwnProperty(n[s])||this._removeDecorationImpl(e,n[s]);return v},t}(r.TextModelWithTrackedRanges);t.TextModelWithDecorations=f;var v=function(){function e(e,t,n,r){this.id=e,this.ownerId=t,this.rangeId=n,this.options=r}return e}(),g=function(){function e(e){this.stickiness=e.stickiness||n.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=l(e.className||o.empty),this.hoverMessage=e.hoverMessage||o.empty,this.htmlMessage=e.htmlMessage||[],this.isWholeLine=e.isWholeLine||!1,this.overviewRuler=u(e.overviewRuler,e.showInOverviewRuler),this.glyphMarginClassName=l(e.glyphMarginClassName||o.empty),this.linesDecorationsClassName=l(e.linesDecorationsClassName||o.empty),this.inlineClassName=l(e.inlineClassName||o.empty)}return e}(),b=function(){function e(e,t){this.color=o.empty,this.position=n.OverviewRulerLane.Center,t&&(this.color=t),e&&e.color&&(this.color=e.color),e&&e.hasOwnProperty("position")&&(this.position=e.position)}return e}()}),define("vs/editor/core/model/modelEditOperation",["require","exports","vs/editor/core/range"],function(e,t,n){var r=function(){function e(){}return e.execute=function(t,n){var r=t.change(function(r){return e._apply(t,r,n.operations)});return{operations:r}},e._apply=function(t,n,r){r.sort(e._compareOperations);for(var i=1;i<r.length;i++)if(r[i-1].range.getStartPosition().isBeforeOrEqual(r[i].range.getEndPosition()))throw new Error("Overlapping ranges are not allowed!");var o=t.getEditableRange(),s=o.getStartPosition(),a=o.getEndPosition();for(i=0;i<r.length;i++){var l=r[i].range;if(!s.isBeforeOrEqual(l.getStartPosition())||!l.getEndPosition().isBeforeOrEqual(a))throw new Error("Editing outside of editable range not allowed!")}var c=e._applyWithMarkers(t,n,r),u=e._squashMarkers(t,c);for(u.sort(e._compareOperations),i=1;i<u.length;i++)if(u[i-1].range.getStartPosition().isBeforeOrEqual(u[i].range.getEndPosition()))throw new Error("Inverse edit operations: Overlapping ranges are not allowed!");return u},e._squashMarkers=function(e,t){var r,i,o,s,a,l,c,u,d=[];for(r=0,i=t.length;i>r;r++)u=t[r].identifier,a=t[r].text,o=t[r].selectionStartMarkerId,s=t[r].positionMarkerId,l=e._getMarker(o),c=e._getMarker(s),d.push({identifier:u,range:new n.Range(l.lineNumber,l.column,c.lineNumber,c.column),text:a}),e._removeMarker(o),e._removeMarker(s);return d},e._applyWithMarkers=function(e,t,n){var r,i,o,s,a,l,c,u,d,p,h=[];for(r=0,i=n.length;i>r;r++)p=n[r].identifier,s=n[r].range,o=n[r].text,s.isEmpty()&&!o?(d={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},u=""):(s.isEmpty()?(u="",a={lineNumber:s.startLineNumber,column:s.startColumn}):(c=t.deleteText(s),u=c.deletedText,a=c.position),o?(l=t.insertText(a,o),d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:l.lineNumber,endColumn:l.column}):d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column}),h.push({identifier:p,text:u,selectionStartMarkerId:e._addMarker(d.startLineNumber,d.startColumn,!0),positionMarkerId:e._addMarker(d.endLineNumber,d.endColumn,!1)});return h},e._compareOperations=function(e,t){return-n.compareRangesUsingEnds(e.range,t.range)},e}();t.ModelEditOperation=r}),define("vs/editor/core/model/editStack",["require","exports","vs/editor/core/model/modelEditOperation","vs/base/errors"],function(e,t,n,r){var i=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,i){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1});var o=n.ModelEditOperation.execute(this.model,{operations:t});this.currentOpenStackElement.editOperations.push(o);try{this.currentOpenStackElement.afterCursorState=i?i(o.operations):null}catch(s){r.onUnexpectedError(s),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t])}catch(r){return this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t])}catch(r){return this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e}();t.EditStack=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/editableTextModel",["require","exports","vs/editor/core/model/textModelWithDecorations","vs/editor/core/model/editStack","vs/editor/editor","vs/editor/core/model/modelLine","vs/editor/core/position","vs/editor/core/constants","vs/base/errors"],function(e,t,n,r,i,o,s,a,l){var c=function(e){function t(t,n,i){t.push(a.EventType.ModelContentChanged),t.push(a.EventType.ModelContentChanged2),e.call(this,t,n,i),this._commandManager=new r.EditStack(this),this._isUndoing=!1,this._isRedoing=!1,this._hasEditableRange=!1,this._editableRangeId=null}return __extends(t,e),t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._commandManager=new r.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("EditableTextModel.change: Model is disposed");return this._withDeferredEvents(function(n){var r={insertText:function(e,r,i){return void 0===i&&(i=!1),t._insertText(n.changedMarkers,e,r,i)
},deleteText:function(e){return t._deleteText(n.changedMarkers,e)}},i=null;try{i=e(r)}catch(o){l.onUnexpectedError(o)}return r.insertText=null,r.deleteText=null,i})},t.prototype.pushStackElement=function(){if(this._isDisposed)throw new Error("EditableTextModel.pushStackElement: Model is disposed");this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){if(this._isDisposed)throw new Error("EditableTextModel.pushEditOperations: Model is disposed");return this._commandManager.pushEditOperation(e,t,n)},t.prototype.undo=function(){var e=this;if(this._isDisposed)throw new Error("EditableTextModel.undo: Model is disposed");return this._withDeferredEvents(function(){e._isUndoing=!0;var t=e._commandManager.undo();return e._isUndoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.redo=function(){var e=this;if(this._isDisposed)throw new Error("EditableTextModel.redo: Model is disposed");return this._withDeferredEvents(function(){e._isRedoing=!0;var t=e._commandManager.redo();return e._isRedoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.setEditableRange=function(e){if(this._isDisposed)throw new Error("EditableTextModel.setEditableRange: Model is disposed");this._commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),e&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(e,i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges))},t.prototype.hasEditableRange=function(){if(this._isDisposed)throw new Error("EditableTextModel.hasEditableRange: Model is disposed");return this._hasEditableRange},t.prototype.getEditableRange=function(){if(this._isDisposed)throw new Error("EditableTextModel.getEditableRange: Model is disposed");return this._hasEditableRange?this.getTrackedRange(this._editableRangeId):this.getFullModelRange()},t.prototype.callInsertTextOnLine=function(e,t,n,r,i,o){this._lines[t].insertText(e,n,r,i),o&&(this._invalidateLine(t),this.emitModelContentChangedLineChangedEvent(t+1))},t.prototype.callDeleteTextOnLine=function(e,t,n,r,i,o,s){var a=this._lines[t].removeText(e,n,r,i,o);return s&&(this._invalidateLine(t),this.emitModelContentChangedLineChangedEvent(t+1)),a},t.prototype._updateLineNumbers=function(e,t){var n,r,i=this._lines;for(n=t-1,r=i.length;r>n;n++)i[n].updateLineNumber(e,n+1)},t.prototype._insertText=function(e,t,n,r){var i=this.validatePosition(t);if(0===n.length)return i;var o,s=n.split(/\r\n|\r|\n/);return o=1===s.length?this._insertTextOneLine(e,i,s[0],r):this._insertTextMultiline(e,i,s,r),this._emitContentChanged2(i.lineNumber,i.column,i.lineNumber,i.column,0,s.join(this.getEOL()),!1,!1),o},t.prototype._insertTextOneLine=function(e,t,n,r){return this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:n,markers:null},r,!0),new s.Position(t.lineNumber,t.column+n.length)},t.prototype._insertTextMultiline=function(e,t,n,r){var i,a,l=this.callDeleteTextOnLine(e,t.lineNumber-1,t.column,Number.MAX_VALUE,!0,r,!1);this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:n[0],markers:null},r,!0);var c="";for(i=1,a=n.length-1;a>i;i++)c+=n[i]+"\n",this._lines.splice(t.lineNumber+i-1,0,new o.ModelLine(t.lineNumber+i,n[i]));var u=t.lineNumber-1+n.length-1;return this._lines.splice(u,0,new o.ModelLine(u+1,n[n.length-1])),this.callInsertTextOnLine(e,u,Number.MAX_VALUE,l,r,!1),this._updateLineNumbers(e,u+2),this.emitModelContentChangedLinesInsertedEvent(t.lineNumber-1+2,u+1,c+this._lines[u].text),new s.Position(u+1,1+n[n.length-1].length)},t.prototype._deleteText=function(e,t){var n=this.validateRange(t);if(n.isEmpty())return{position:new s.Position(n.startLineNumber,n.startColumn),deletedText:""};var r,i=this.getValueLengthInRange(n);return r=n.startLineNumber===n.endLineNumber?this._deleteTextOneLine(e,n):this._deleteTextMultiline(e,n),this._emitContentChanged2(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn,i,"",!1,!1),r},t.prototype._deleteTextOneLine=function(e,t){var n=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,t.endColumn,!1,!1,!0);return{position:new s.Position(t.startLineNumber,t.startColumn),deletedText:n.text}},t.prototype._deleteWholeLines=function(e,t,n,r){var i,o=[],s=[];for(i=n;r>=i;i++)o.push(this._lines[i].text),s=s.concat(this._lines[i].deleteLine(e,t,i+1));return this._lines.splice(n,r-n+1),{deletedText:o.join("\n"),deletedMarkers:s}},t.prototype._deleteTextMultiline=function(e,t){if(1===t.startColumn){var n=this._lines[t.startLineNumber-1].getState(),r=this._deleteWholeLines(e,t.startColumn,t.startLineNumber-1,t.endLineNumber-2);this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber,t.endLineNumber-1);var i=this.callDeleteTextOnLine(e,t.startLineNumber-1,1,t.endColumn,!1,!1,!0).text;this._lines[t.startLineNumber-1].addMarkers(r.deletedMarkers),this._lines[t.startLineNumber-1].setState(n),this._updateLineNumbers(e,t.startLineNumber);var o=r.deletedText+"\n"+i}else{var a=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,Number.MAX_VALUE,!1,!1,!1).text,l=this.callDeleteTextOnLine(e,t.endLineNumber-1,t.endColumn,Number.MAX_VALUE,!0,!1,!1),r=this._deleteWholeLines(e,t.startColumn,t.startLineNumber,t.endLineNumber-1);this._lines[t.startLineNumber-1].addMarkers(r.deletedMarkers),this.callInsertTextOnLine(e,t.startLineNumber-1,Number.MAX_VALUE,l,!1,!0),this._updateLineNumbers(e,t.startLineNumber+1),this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber+1,t.endLineNumber);var o=a+"\n"+r.deletedText}return{position:new s.Position(t.startLineNumber,t.startColumn),deletedText:o}},t.prototype.emitModelContentChangedLineChangedEvent=function(e){this._increaseVersionId();var t={changeType:a.EventType.ModelContentChangedLineChanged,lineNumber:e,detail:this._lines[e-1].text,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,t)},t.prototype.emitModelContentChangedLinesDeletedEvent=function(e,t){this._increaseVersionId();var n={changeType:a.EventType.ModelContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,n)},t.prototype.emitModelContentChangedLinesInsertedEvent=function(e,t,n){this._increaseVersionId();var r={changeType:a.EventType.ModelContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:n,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,r)},t}(n.TextModelWithDecorations);t.EditableTextModel=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/model",["require","exports","vs/editor/core/model/textModel","vs/base/objects","vs/base/network","vs/editor/core/constants","vs/editor/core/model/editableTextModel","vs/editor/core/editorPluginHost","vs/editor/editor2"],function(e,t,n,r,i,o,s,a,l){var c=0,u=function(e){function t(t,r,s){void 0===s&&(s=null),e.call(this,[o.EventType.ModelPropertiesChanged,o.EventType.ModelDispose],n.TextModel.toRawText(t),r),this._facade=new d(this),c++,this.id="$model"+c,("undefined"==typeof s||null===s)&&(s=new i.URL("inmemory://model/"+c)),this._associatedResource=s,this._bindToMode(),this._extraProperties={},a.EditorPluginHost.INSTANCE.registerModel(this),this._attachedEditorCount=0}return __extends(t,e),t.prototype.getFacade=function(){return this._facade},t.prototype.getURL=function(){return this._associatedResource},t.prototype.getModeId=function(){return this.getMode().getId()},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){a.EditorPluginHost.INSTANCE.deregisterModel(this),this.emit(o.EventType.ModelDispose),this._unbindFromMode(),e.prototype.dispose.call(this)},t.prototype._resetMode=function(t,n){e.prototype._resetMode.call(this,t,n),t.oldMode.modelSyncSupport&&t.oldMode.modelSyncSupport.unbindModel(this),t.newMode.modelSyncSupport&&t.newMode.modelSyncSupport.bindModel(this)},t.prototype._bindToMode=function(){var e=this.getMode().modelSyncSupport;e&&e.bindModel(this)},t.prototype._unbindFromMode=function(){if(this.getMode()){var e=this.getMode().modelSyncSupport;e&&e.unbindModel(this)}},t.prototype.onBeforeAttached=function(){if(this._isDisposed)throw new Error("Model.onBeforeAttached: Model is disposed");this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){if(this._isDisposed)throw new Error("Model.onBeforeDetached: Model is disposed");this._attachedEditorCount--},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},t.prototype.getAssociatedResource=function(){if(this._isDisposed)throw new Error("Model.getAssociatedResource: Model is disposed");return this._associatedResource},t.prototype.setProperty=function(e,t){if(this._isDisposed)throw new Error("Model.setProperty: Model is disposed");this._extraProperties[e]=t,this.emitModelPropertiesChangedEvent()},t.prototype.getProperty=function(e){if(this._isDisposed)throw new Error("Model.getProperty: Model is disposed");return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype.getProperties=function(){if(this._isDisposed)throw new Error("Model.getProperties: Model is disposed");return r.clone(this._extraProperties)},t.prototype.emitModelPropertiesChangedEvent=function(){var e={properties:this._extraProperties};this.emit(o.EventType.ModelPropertiesChanged,e)},t}(s.EditableTextModel);t.Model=u;var d=function(){function e(e){var t=this;this._model=e,this.events=new l.ModelEventsFacade,this._toDispose=[],this._toDispose.push(this._model.addBulkListener2(function(e){var n=e.map(function(e){return{type:e.getType(),data:e.getData()}});t.events.invoke(n)}))}return e.prototype.getValueInRange=function(e,t){return this._model.getValueInRange(e,t)},e.prototype.getLineMaxColumn=function(e){return this._model.getLineMaxColumn(e)},e.prototype.getEditableRange=function(){return this._model.getEditableRange()},e.prototype.getFullModelRange=function(){return this._model.getFullModelRange()},e.prototype.findMatches=function(e,t,n,r,i){return this._model.findMatches(e,t,n,r,i)},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/uuid",["require","exports"],function(e,t){function n(e,t){return"function"==typeof e[t]&&0===e[t].length}function r(e){return e instanceof a||e instanceof l||n(e,"asHex",0)&&n(e,"equals",1)}function i(){return new l}function o(e){if(!c.test(e))throw new Error("invalid uuid");return new a(e)}function s(){return i().asHex()}t.isUUID=r;var a=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),l=function(e){function t(){e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}return __extends(t,e),t._oneOf=function(e){var t=Math.floor(e.length*Math.random());return e[t]},t._randomHex=function(){return t._oneOf(t._chars)},t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],t}(a);t.empty=new a("00000000-0000-0000-0000-000000000000"),t.v4=i;var c=/^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$/;t.parse=o,t.generateUuid=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearchModel",["require","exports","vs/base/collections","vs/base/strings","vs/base/uuid","vs/base/hash","vs/base/eventEmitter","vs/base/lib/winjs.base","vs/editor/core/range"],function(e,t,n,r,i,o,s,a,l){var c;!function(e){e.OnReferenceRangeChanged="refrence.rangeChanged",e.CurrentReferenceChanged="reference.currentChanged"}(c=t.EventType||(t.EventType={}));var u=function(){function e(e,t){this._parent=e,this._id=i.generateUuid(),this._range=t.range}return e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?l.equalsRange(t.range,this.range)?!0:!1:!1:!1},e.prototype.hashCode=function(){return this.resource.hashCode()+l.hashCode(this.range)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._parent.resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this.parent.parent.emit(c.OnReferenceRangeChanged,this)},enumerable:!0,configurable:!0}),e}();t.OneReference=u;var d=function(){function e(e){this._value=e,this._lineStarts=r.computeLineStarts(e)}return e.prototype._getOffsetFromPosition=function(e,t){return this._lineStarts[e-1]+t-1},e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._lineStarts[e.startLineNumber-1],i=n+e.startColumn-1,o=this._lineStarts[e.endLineNumber-1]+e.endColumn-1,s=e.endLineNumber>=this._lineStarts.length?this._value.length:this._lineStarts[e.endLineNumber],a={before:this._value.substring(n,i).replace(/^\s+/,r.empty),inside:this._value.substring(i,o),after:this._value.substring(o,s).replace(/\s+$/,r.empty)};return a.before=r.lcut(a.before,t),a},e}();t.FilePreview=d;var p=function(){function e(e,t,n){this._parent=e,this._resource=t,this._path=n,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._resource.toString()},enumerable:!0,configurable:!0}),e.prototype.hashCode=function(){return o.computeMurmur2StringHashCode(this._resource.toString())},e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?!0:!1:!1},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._path.substring(this._path.lastIndexOf("/")+1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){var e=this._path.lastIndexOf("/");return e>0?this._path.substring(0,e):"/"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?a.TPromise.as(this):e.resolveEditorModel({resource:this._resource}).then(function(e){return t._preview=new d(e.textEditorModel.getValue()),t._resolved=!0,t})},e}();t.FileReferences=p;var h=function(e){function t(t,i){var o=this;e.call(this,[c.CurrentReferenceChanged,c.OnReferenceRangeChanged]),this._requestService=i;var s=n.createStringDictionary();t.forEach(function(e){var t=e.resourceUrl,r=new p(o,t,o._requestService.getPath("root",t)||t.getPath());r=n.lookupOrInsert(s,r.id,r),r.children.push(new u(r,e))}),this._references=n.values(s),this._references.sort(function(e,t){return r.localeCompare(e.directory,t.directory)||r.localeCompare(e.name,t.name)})}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReference",{get:function(){return this._currentReference},set:function(e){this._currentReference=e,this.emit(c.CurrentReferenceChanged,this)},enumerable:!0,configurable:!0}),t.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),n=e.parent.children.length,r=e.parent.parent.children.length;return n>t+1||1===r?e.parent.children[(t+1)%n]:(t=e.parent.parent.children.indexOf(e.parent),t=(t+1)%r,e.parent.parent.children[t].children[0])},t.prototype.findReference=function(e,t){for(var n=0,r=this._references.length;r>n;n++){var i=this._references[n];if(i.resource.equals(e)){var o;if(i.children.some(function(e){return l.containsPosition(e.range,t)?(o=e,!0):!1}),o)return o}}return this._references.length>0?this._references[0].children[0]:null},t}(s.EventEmitter);t.Model=h}),define("vs/css!vs/editor/contrib/referenceSearch/referenceSearchWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearchWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/collections","vs/base/lifecycle","vs/base/dom/dom","vs/base/lib/winjs.base","vs/base/strings","vs/base/network","vs/base/ui/widgets/fileLabel","vs/base/errors","vs/base/dom/builder","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/leftRightWidget/leftRightWidget","vs/base/ui/widgets/countBadge/countBadge","vs/editor/core/range","vs/editor/editor","vs/editor/core/config/config","vs/editor/core/constants","vs/editor/core/embeddedCodeEditorWidget","vs/editor/core/model/model","vs/editor/contrib/zoneWidget/peekViewWidget","./referenceSearchModel","vs/css!./referenceSearchWidget"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S){var T=function(){function e(e,t){var n=this;this.editor=e,this.model=t,this._decorationSet=r.createStringDictionary(),this._decorationIgnoreSet=r.createStringDictionary(),this.callOnDispose=[],this.callOnModelChange=[],this.callOnDispose.push(this.editor.addListener(y.EventType.ModelChanged,function(){return n.onModelChanged()})),this.onModelChanged()}return e.prototype.dispose=function(){this.callOnModelChange=i.cAll(this.callOnModelChange),this.callOnDispose=i.cAll(this.callOnDispose),this.removeDecorations()},e.prototype.onModelChanged=function(){this.removeDecorations(),this.callOnModelChange=i.cAll(this.callOnModelChange);var e=this.editor.getModel();if(e)for(var t=0,n=this.model.children.length;n>t;t++)if(this.model.children[t].resource.equals(e.getAssociatedResource()))return this.addDecorations(this.model.children[t]),void 0},e.prototype.addDecorations=function(t){var n=this;this.callOnModelChange.push(this.editor.getModel().addListener(y.EventType.ModelDecorationsChanged,function(e){return n.onDecorationChanged(e)})),this.editor.getModel().changeDecorations(function(r){for(var i=0,o=t.children.length;o>i;i++){var s=t.children[i];if(!n._decorationIgnoreSet[s.id]){var a=r.addDecoration(s.range,e.DecorationOptions);n._decorationSet[a]=s}}})},e.prototype.onDecorationChanged=function(e){for(var t=this,n=e.addedOrChangedDecorations,i=[],o=0,s=n.length;s>o;o++){var a=r.lookup(this._decorationSet,n[o].id);if(a){var l=n[o].range,c=!1;if(!v.equalsRange(l,a.range)){if(v.spansMultipleLines(l))c=!0;else{var u=a.range.endColumn-a.range.startColumn,d=l.endColumn-l.startColumn;u!==d&&(c=!0)}c?(this._decorationIgnoreSet[a.id]=a,i.push(n[o].id)):a.range=l}}}this.editor.changeDecorations(function(e){for(;i.length>0;){var n=i.pop();e.removeDecoration(n),delete t._decorationSet[n]}})},e.prototype.removeDecorations=function(){var e=Object.keys(this._decorationSet);e.length>0&&this.editor.changeDecorations(function(t){for(;e.length>0;)t.removeDecoration(e.pop())}),this._decorationSet={}},e.DecorationOptions={stickiness:g.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"},e}(),k=function(){function e(e){this._editorService=e.editorService}return e.prototype.getId=function(e,t){return t instanceof S.Model?"root":t instanceof S.FileReferences?t.id:t instanceof S.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof S.FileReferences||t instanceof S.Model},e.prototype.getChildren=function(e,t){return t instanceof S.Model?s.TPromise.as(t.children):t instanceof S.FileReferences?t.resolve(this._editorService).then(function(e){return e.children}):s.Promise.as([])},e.prototype.getParent=function(e,t){var n=null;return t instanceof S.FileReferences?n=t.parent:t instanceof S.OneReference&&(n=t.parent),s.Promise.as(n)},e}(),C=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onMouseDown=function(n,r,i){if(i.leftButton){if(r instanceof S.FileReferences)return i.preventDefault(),i.stopPropagation(),this.expandCollapse(n,r);var o=e.prototype.onClick.call(this,n,r,i);return i.ctrlKey||i.metaKey?n.emit(t.Events.OPEN_TO_SIDE,r):2===i.detail?n.emit(t.Events.SELECTED,r):n.emit(t.Events.FOCUSED,r),o}return!1},t.prototype.onClick=function(t,n,r){return r.leftButton?!1:e.prototype.onClick.call(this,t,n,r)},t.prototype.expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,u.onUnexpectedError):e.expand(t).done(null,u.onUnexpectedError),!0},t.prototype.onEscape=function(){return!1},t.prototype.onEnter=function(n,r){var i=n.getFocus();if(i instanceof S.FileReferences)return this.expandCollapse(n,i);var o=e.prototype.onEnter.call(this,n,r);return r.ctrlKey||r.metaKey?n.emit(t.Events.OPEN_TO_SIDE,i):n.emit(t.Events.SELECTED,i),o},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onLeft=function(t,n){return e.prototype.onLeft.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onRight=function(t,n){return e.prototype.onRight.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.fakeFocus=function(e){var n=e.getFocus();e.setSelection([n]),e.emit(t.Events.FOCUSED,n)},t.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},t}(h.DefaultController),x=function(){function e(e,t){this.editor=t,this._contextService=e.contextService}return e.prototype.getHeight=function(){return 1.2*this.editor.getConfiguration().lineHeight},e.prototype.render=function(e,t,r){var i=this;if(o.clearNode(r),t instanceof S.FileReferences){var s=t,l=d.$(".reference-file");new m.LeftRightWidget(l,function(e){var t=s.resource;return new c.FileLabel(e,t,i._contextService),null},function(e){var t=s.children.length;return new f.CountBadge(e,t,t>1?n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",0,t):n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",1,t))}),l.appendTo(r)}else if(t instanceof S.OneReference){var u=t,p=d.$(".reference"),h=u.parent.preview.preview(u.range);p.innerHtml(a.format('<span>{0}</span><span class="referenceMatch">{1}</span><span>{2}</span>',h.before,h.inside,h.after)).appendTo(r)}return null},e}(),A=function(e){function t(t,n,r,i,o){e.call(this,o,n,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.editorService=t,this.requestService=r,this.instantiationService=i.createChild({peekViewService:this}),this.callOnModel=[],this.tree=null,this.treeContainer=null,this.preview=null,this.previewContainer=null,this.previewDecorations=[],this.lastHeight=null,this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.preview&&this.preview.getModel()){var n=this.preview.getModel(),r=this.preview.getPosition().lineNumber,i=new v.Range(r,1,r,n.getLineMaxColumn(r));this.emit(t.Events.EditorDoubleClick,{reference:this.getFocusedReference(),range:i,originalEvent:e})}},t.prototype._fillBody=function(e){var t=this,r=d.$(e);r.addClass("reference-zone-widget"),r.div({class:"messages"},function(e){t.messageContainer=e.hide()}),r.div({class:"preview inline"},function(e){var r={scrollBeyondLastLine:!1,scrollbar:b.Config.editor.scrollbar,overviewRulerLanes:2};t.preview=t.instantiationService.createInstance(_.EmbeddedCodeEditorWidget,e.getHTMLElement(),r,t.editor),t.previewContainer=e.hide(),t.previewNotAvailableMessage=new w.Model(n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",2),null)}),r.div({class:"tree inline"},function(e){var n={dataSource:t.instantiationService.createInstance(k),renderer:t.instantiationService.createInstance(x,t.editor),controller:new C},r={allowHorizontalScroll:!1,twistiePixels:20};t.tree=new p.Tree(e.getHTMLElement(),n,r),t.treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t){e.prototype._doLayoutBody.call(this,t);var n=t+"px";n!==this.lastHeight&&(this.treeContainer.style({height:n}),this.previewContainer.style({height:n}),this.tree.layout(t),this.preview.layout(),this.lastHeight=n)},t.prototype.onWidth=function(){this.preview.layout()},t.prototype.setModel=function(e){this.callOnModel=i.disposeAll(this.callOnModel),this.model=e,this.model&&this._onNewModel()},t.prototype.showMessage=function(e){this.setTitle(""),this.messageContainer.innerHtml(e).show()},t.prototype._onNewModel=function(){var e=this;this.messageContainer.hide(),this.decorationsManager=new T(this.preview,this.model),this.callOnModel.push(this.decorationsManager),this.callOnModel.push(this.model.addListener2(S.EventType.OnReferenceRangeChanged,function(t){e.tree.refresh(t)})),this.callOnModel.push(this.tree.addListener2(C.Events.FOCUSED,function(t){t instanceof S.OneReference&&e.showReferencePreview(t)})),this.callOnModel.push(this.tree.addListener2(C.Events.SELECTED,function(t){t instanceof S.OneReference&&(e.showReferencePreview(t),e.model.currentReference=t)})),this.callOnModel.push(this.tree.addListener2(C.Events.OPEN_TO_SIDE,function(t){t instanceof S.OneReference&&e.editorService.openEditor({resource:t.resource,options:{selection:t.range}},!0)}));var n=1===this.model.children.length?this.model.children[0]:this.model;this.tree.setInput(n).then(function(){e.tree.setSelection([e.model.currentReference])}).done(null,u.onUnexpectedError),this.callOnModel.push(this.preview.addListener2(y.EventType.MouseDown,function(n){2===n.event.detail&&e.emit(t.Events.EditorDoubleClick,{reference:e.getFocusedReference(),range:n.target.range,originalEvent:n.event})})),o.addClass(this.container,"results-loaded"),this.treeContainer.show(),this.previewContainer.show(),this.preview.layout(),this.tree.layout(),this.focus(),this.showReferencePreview(this.model.nextReference(this.model.currentReference))},t.prototype.getFocusedReference=function(){var e=this.tree.getFocus();if(e instanceof S.OneReference)return e.resource;if(e instanceof S.FileReferences){var t=e;if(t.children.length>0)return t.children[0].resource}return null},t.prototype.focus=function(){this.tree.DOMFocus()},t.prototype.showReferencePreview=function(e){var t=this;this.editorService.resolveEditorModel({resource:e.resource}).done(function(r){if(r){t.preview.setModel(r.textEditorModel);var i=v.create(e.range).collapseToStart();t.preview.setSelection(i),t.preview.revealRangeInCenter(i)}else t.preview.setModel(t.previewNotAvailableMessage);e.resource.getScheme()!==l.schemas.inMemory?t.setTitle(e.name,e.directory):t.setTitle(n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",3))},u.onUnexpectedError),this.tree.reveal(e),this.tree.setSelection([e]),this.tree.setFocus(e)},t.prototype.dispose=function(){this.setModel(null),i.disposeAll([this.preview,this.previewNotAvailableMessage,this.tree]),e.prototype.dispose.call(this)},t.Events={EditorDoubleClick:"editorDoubleClick"},t}(E.PeekViewWidget);t.ReferenceWidget=A});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearch",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/arrays","vs/base/lib/winjs.base","vs/base/severity","vs/base/lifecycle","vs/base/errors","vs/editor/core/constants","vs/editor/editorExtensions","./referenceSearchWidget","./referenceSearchModel","vs/editor/contrib/zoneWidget/peekViewWidget"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(e,t){this._startTime=-1,this.requestIdPool=0,this.callOnClear=[],this.editorService=e.editorService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.messageService=e.messageService,this.instantiationService=e.instantiationService,this.peekViewService=e.peekViewService,this.keybindingService=e.keybindingService,this.modelRevealing=!1,this.editor=t,this._referenceSearchVisible=e.keybindingService.createKey(f,!1)}return e.getController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widget&&(this.widget.dispose(),this.widget=null),this.editor=null},e.prototype.isInPeekView=function(){return this.peekViewService&&this.peekViewService.isActive},e.prototype.closeReferenceSearch=function(){this.clear()},e.prototype.processRequest=function(e,t){var i=this,s=this.widget?this.widget.position:null,c=this.clear();if(c&&s&&e.containsPosition(s))return null;this._referenceSearchVisible.set(!0),this.callOnClear.push(this.editor.addListener(l.EventType.ModelModeChanged,function(){i.clear()})),this.callOnClear.push(this.editor.addListener(l.EventType.ModelChanged,function(){i.modelRevealing||i.clear()})),this.widget=new u.ReferenceWidget(this.editorService,this.keybindingService,this.requestService,this.instantiationService,this.editor),this.widget.setTitle(n.localize("vs_editor_contrib_referenceSearch_referenceSearch",0)),this.widget.show(e,18),this.callOnClear.push(this.widget.addListener(p.Events.Closed,function(){i.widget=null,i.clear()})),this.callOnClear.push(this.widget.addListener(u.ReferenceWidget.Events.EditorDoubleClick,function(e){e.reference&&(i.editorService.openEditor({resource:e.reference,options:{selection:e.range}},e.originalEvent.ctrlKey||e.originalEvent.metaKey).done(null,a.onUnexpectedError),e.originalEvent.ctrlKey||e.originalEvent.metaKey||i.clear())}));var h=++this.requestIdPool,m=this.editor.getModel(),f=this.telemetryService.start("findReferences",{mode:m.getMode().getId()});return t.then(function(t){if(h!==i.requestIdPool)return f.stop(),void 0;if(r.isFalsyOrEmpty(t))return i.widget.showMessage(n.localize("vs_editor_contrib_referenceSearch_referenceSearch",1)),f.stop(),void 0;i.model=new d.Model(t,i.requestService),i.model.currentReference=i.model.findReference(m.getAssociatedResource(),e.getStartPosition());var o=i.model.addListener(d.EventType.CurrentReferenceChanged,function(){i.modelRevealing=!0,i.editorService.openEditor({resource:i.model.currentReference.resource,options:{selection:i.model.currentReference.range}}).done(function(e){return e&&e.getControl()===i.editor?(i.modelRevealing=!1,i.widget.show(i.model.currentReference.range,18),i.widget.focus(),void 0):(i.clear(),void 0)
},function(e){i.modelRevealing=!1,a.onUnexpectedError(e)})});i.callOnClear.push(o),i._startTime=Date.now(),i.widget&&i.widget.setModel(i.model),f.stop()},function(e){i.messageService.show(o.Error,e),f.stop()}),this.widget},e.prototype.clear=function(){-1!==this._startTime&&(this.telemetryService.log("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-this._startTime}),this._startTime=-1),this._referenceSearchVisible.reset(),s.cAll(this.callOnClear),this.model=null;var e=!1;return this.widget&&(this.widget.dispose(),this.widget=null,e=!0),this.editor.focus(),this.requestIdPool+=1,e},e.ID="editor.contrib.findReferencesController",e}();t.FindReferencesController=h;var m=function(e){function t(t,r,i){e.call(this,t,r,i,c.Behaviour.WidgetFocus|c.Behaviour.ShowInContextMenu|c.Behaviour.UpdateOnCursorPositionChange),this.label=n.localize("vs_editor_contrib_referenceSearch_referenceSearch",2),this.peekViewService=t.peekViewService,this.peekViewService&&t.keybindingService.setContext(p.CONTEXT_IN_INNER_EDITOR,!0)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/4_references"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.referenceSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().referenceSupport.canFindReferences(e.getLineContext(t.lineNumber),t.column-1)},t.prototype.run=function(){var e=this.editor.getSelection(),t=this.editor.getModel(),n=t.getMode().referenceSupport,r=n.findReferences(t.getAssociatedResource(),e.getStartPosition(),!0),o=h.getController(this.editor);return i.TPromise.as(o.processRequest(e,r))},t.ID="editor.action.referenceSearch.trigger",t}(c.EditorAction);t.ReferenceAction=m;var f="referenceSearchVisible";c.registerEditorContribution(h),c.registerEditorActionContribution(m,m.ID,n.localize("vs_editor_contrib_referenceSearch_referenceSearch",3),!0,{shift:!0,key:"F12"}),c.registerEditorCommand("closeReferenceSearch",c.weight(50),{key:"Escape"},!1,f,function(e,t,n){var r=p.getOuterEditor(e,n);if(r){var i=h.getController(r);i.closeReferenceSearch()}}),c.registerEditorCommand("closeReferenceSearchEditor",c.weight(-101),{key:"Escape"},!1,p.CONTEXT_IN_INNER_EDITOR,function(e,t,n){var r=p.getOuterEditor(e,n);if(r){var i=h.getController(r);i.closeReferenceSearch()}})}),define("vs/css!vs/editor/contrib/links/links",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/links/links",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/env","vs/base/errors","vs/editor/core/constants","vs/base/network","vs/editor/editorExtensions","vs/editor/editor","vs/css!./links"],function(e,t,n,r,i,o,s,a,l,c){var u=function(){function e(e,t,n){this.resourcePrefix=e,this.link=t,this.decorationId=n.addDecoration({startLineNumber:this.link.range.startLineNumber,startColumn:this.link.range.startColumn,endLineNumber:this.link.range.startLineNumber,endColumn:this.link.range.endColumn},this.getOptions(!1))}return e.prototype._linkHoverMessage=function(){if(!this.resourcePrefix||0===this.resourcePrefix.indexOf(a.schemas.inMemory))return d.HOVER_MESSAGE_GENERAL;var e=new a.URL(this.link.url).getScheme();return e!==a.schemas.http&&e!==a.schemas.https||0===this.link.url.indexOf(this.resourcePrefix)?d.HOVER_MESSAGE_EDITOR:d.HOVER_MESSAGE_GENERAL},e.prototype.dispose=function(e){e.removeDecoration(this.decorationId)},e.prototype.getOptions=function(e){var t="";return this.link.extraInlineClassName&&(t=this.link.extraInlineClassName+" "),t+=e?d.CLASS_NAME_ACTIVE:d.CLASS_NAME,{stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:t,hoverMessage:this._linkHoverMessage()}},e.prototype.activate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!0))},e.prototype.deactivate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!1))},e}(),d=function(){function e(e,t,n){var r=this;this.editor=e,this.editorService=t,this.requestService=n,this.listenersToRemove=[],this.listenersToRemove.push(e.addListener("change",function(){return r.onChange()})),this.listenersToRemove.push(e.addListener(s.EventType.ModelChanged,function(){return r.onModelChanged()})),this.listenersToRemove.push(e.addListener(s.EventType.ModelModeChanged,function(){return r.onModelModeChanged()})),this.listenersToRemove.push(e.addListener(s.EventType.ModelModeSupportChanged,function(e){e.linkSupport&&r.onModelModeChanged()})),this.listenersToRemove.push(this.editor.addListener(s.EventType.MouseUp,function(e){return r.onEditorMouseUp(e)})),this.listenersToRemove.push(this.editor.addListener(s.EventType.MouseMove,function(e){return r.onEditorMouseMove(e)})),this.listenersToRemove.push(this.editor.addListener(s.EventType.KeyDown,function(e){return r.onEditorKeyDown(e)})),this.listenersToRemove.push(this.editor.addListener(s.EventType.KeyUp,function(e){return r.onEditorKeyUp(e)})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.prototype.isComputing=function(){return r.Promise.is(this.computePromise)},e.prototype.onModelChanged=function(){this.lastMouseEvent=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=r.TPromise.timeout(e.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},e.prototype.beginCompute=function(){var e=this;if(this.editor.getModel()){var t=this.editor.getModel().getMode();t.linkSupport&&(this.computePromise=t.linkSupport.computeLinks(this.editor.getModel().getAssociatedResource()),this.computePromise.then(function(t){e.updateDecorations(t),e.computePromise=null}))}},e.prototype.updateDecorations=function(e){var t=this;this.editor.changeDecorations(function(n){for(var r in t.currentOccurences)if(t.currentOccurences.hasOwnProperty(r)){var i=t.currentOccurences[r];i.dispose(n)}if(t.currentOccurences={},t.activeLinkDecorationId=null,e)for(var o=0;o<e.length;o++){var i=new u(t.requestService.getRequestUrl("root","",!0),e[o],n);t.currentOccurences[i.decorationId]=i}})},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.cleanUpActiveLinkDecoration()},e.prototype.onEditorMouseMove=function(e,t){var n=this;if(this.lastMouseEvent=e,this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var r=this.getLinkOccurence(e.target.position);r&&this.editor.changeDecorations(function(e){r.activate(e),n.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){if(this.activeLinkDecorationId){var e=this.currentOccurences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurence(e.target.position);t&&this.openLinkOccurence(t,e.event.altKey)}},e.prototype.openLinkOccurence=function(e,t){if(this.editorService){var n=e.link,r=n.url,i=r.indexOf("#"),s=-1,l=-1;if(i>=0){var c=r.substr(i+1),u=c.split(",");u.length>0&&(s=Number(u[0])),u.length>1&&(l=Number(u[1])),(s>=0||l>=0)&&(r=r.substr(0,i))}var d={resource:new a.URL(r)};s>=0&&(d.options={selection:{startLineNumber:s,startColumn:l}}),this.editorService.openEditor(d,t).done(null,o.onUnexpectedError)}},e.prototype.getLinkOccurence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},null,!0),n=0;n<t.length;n++){var r=t[n],i=this.currentOccurences[r.id];if(i)return i}return null},e.prototype.isEnabled=function(t,n){return t.target.type===c.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().linkSupport},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.stop()},e.RECOMPUTE_TIME=1e3,e.TRIGGER_KEY_VALUE=i.isMacintosh?"Meta":"Ctrl",e.TRIGGER_MODIFIER=i.isMacintosh?"metaKey":"ctrlKey",e.HOVER_MESSAGE_GENERAL=i.isMacintosh?n.localize("vs_editor_contrib_links_links",0):n.localize("vs_editor_contrib_links_links",1),e.HOVER_MESSAGE_EDITOR=i.isMacintosh?n.localize("vs_editor_contrib_links_links",2):n.localize("vs_editor_contrib_links_links",3),e.CLASS_NAME="detected-link",e.CLASS_NAME_ACTIVE="detected-link-active",e}(),p=function(e){function t(t,n,r){e.call(this,t,n,r,l.Behaviour.WidgetFocus|l.Behaviour.UpdateOnCursorPositionChange),this._linkDetector=new d(r,t.editorService,t.requestService)}return __extends(t,e),t.prototype.dispose=function(){this._linkDetector.dispose(),e.prototype.dispose.call(this)},t.prototype.getEnablementState=function(){return this._linkDetector.isComputing()?!0:!!this._linkDetector.getLinkOccurence(this.editor.getPosition())},t.prototype.run=function(){var e=this._linkDetector.getLinkOccurence(this.editor.getPosition());return e&&this._linkDetector.openLinkOccurence(e,!1),r.TPromise.as(null)},t.ID="editor.action.openLink",t}(l.EditorAction);l.registerEditorActionContribution(p,p.ID,n.localize("vs_editor_contrib_links_links",4))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,r,i){var o=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.getConfiguration().tabFocusMode?this.editor.updateOptions({tabFocusMode:!1}):this.editor.updateOptions({tabFocusMode:!0}),r.TPromise.as(!0)},t.ID="editor.action.toggleTabFocusMode",t}(i.EditorAction);i.registerEditorActionContribution(o,o.ID,n.localize("vs_editor_contrib_toggleTabFocusMode_toggleTabFocusMode",0),!0,{ctrlCmd:!0,key:"M"})}),define("vs/editor/contrib/wordHighlighter/wordHighlighter",["require","exports","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions","vs/editor/editor"],function(e,t,n,r,i,o){var s=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.addListener(n.EventType.CursorPositionChanged,function(e){t._onPositionChanged(e)})),this.toUnhook.push(e.addListener(n.EventType.ModelChanged,function(){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.addListener("change",function(){t._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if("explicit"!==e.reason)return this._stopAll(),void 0;if(!this.model.getMode().occurrencesSupport)return this._stopAll(),void 0;var n=this.editor.getSelection();if(n.startLineNumber!==n.endLineNumber)return this._stopAll(),void 0;var i=n.startLineNumber,o=n.startColumn,s=n.endColumn,a=this.model.getWordAtPosition({lineNumber:i,column:o},!0,!0);if(!a||a.startColumn>o||a.endColumn<s)return this._stopAll(),void 0;for(var l=new r.Range(i,a.startColumn,i,a.endColumn),c=this._lastWordRange&&this._lastWordRange.equalsRange(l),u=0,d=this._decorationIds.length;!c&&d>u;u++){var p=this.model.getDecorationRange(this._decorationIds[u]);p&&p.startLineNumber===i&&p.startColumn<=o&&p.endColumn>=s&&(c=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),c)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var h=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=this.model.getMode().occurrencesSupport.findOccurrences(this.model.getAssociatedResource(),this.editor.getPosition()),this.workerRequest.then(function(e){h===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e||[],t._beginRenderDecorations())}).done()}this._lastWordRange=l},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=window.setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,n=this.workerRequestValue.length;n>t;t++){var r=this.workerRequestValue[t],i="wordHighlight",s="#A0A0A0";r.kind&&"write"===r.kind&&(i+="Strong"),e.push({range:r.range,options:{stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:i,overviewRuler:{color:s,position:o.OverviewRulerLane.Center}}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},e.prototype.destroy=function(){for(this._stopAll();this.toUnhook.length>0;)this.toUnhook.pop()()},e}(),a=function(){function e(e,t){this.wordHighligher=new s(t)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.wordHighligher.destroy()},e.ID="editor.contrib.wordHighlighter",e}();i.registerEditorContribution(a)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/selectionHighlighter/selectionHighlighter",["require","exports","vs/editor/core/constants","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor"],function(e,t,n,r,i,o){var s=function(){function e(e,t){var r=this;this.editor=t,this.model=this.editor.getModel(),this.decorations=[],this.ranges=[],this.toUnhook=[],this.toUnhook.push(t.addListener(n.EventType.CursorPositionChanged,function(e){return r.onPositionChanged(e)})),this.toUnhook.push(t.addListener(n.EventType.ModelChanged,function(){r.removeDecorations(),r.model=r.editor.getModel()}))}return e.prototype.getId=function(){return e.ID},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]),this.ranges=[])},e.prototype.onPositionChanged=function(e){if(this.editor.getConfiguration().selectionHighlight){if("explicit"!==e.reason)return this.removeDecorations(),void 0;if(this.editor.getSelections().length>1)return this.removeDecorations(),void 0;var t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber)return this.removeDecorations(),void 0;var n=t.endColumn-t.startColumn;if(0===n||n>50)return this.removeDecorations(),void 0;var r=this.model.getValueInRange(t);if(/^\s+$/.test(r))return this.removeDecorations(),void 0;var i=this.model.findMatches(r,!1,!1,!0,!1);this.ranges=i;var s=i.filter(function(e){return!e.equalsRange(t)}).map(function(e){return{range:e,options:{stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:"selectionHighlight"}}});this.decorations=this.editor.deltaDecorations(this.decorations,s)}},e.prototype.selectHighlights=function(){if(0===this.decorations.length)return!1;var e=[this.editor.getSelection()];return e.push.apply(e,this.ranges.map(function(e){return{selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn}})),this.editor.setSelections(e),!0},e.prototype.dispose=function(){for(this.removeDecorations();this.toUnhook.length>0;)this.toUnhook.pop()()},e.ID="editor.contrib.selectionHighlighter",e}(),a=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getContribution(s.ID);return r.TPromise.as(e.selectHighlights())},t.ID="editor.action.selectHighlights",t}(i.EditorAction);t.SelectHighlightsAction=a,i.registerEditorActionContribution(a,a.ID,"",!0,{ctrlCmd:!0,shift:!0,key:"L"}),i.registerEditorContribution(s)}),define("vs/base/sortedList",["require","exports","vs/base/arrays"],function(e,t,n){var r=function(){function e(t){this.keys=[],this.values=[],this.comparator=t||e.DEFAULT_COMPARATOR}return Object.defineProperty(e.prototype,"count",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),e.prototype.getValueByIndex=function(e){return e>=0&&e<this.values.length?this.values[e]:null},e.prototype.getKey=function(e){return e>=0&&e<this.keys.length?this.keys[e]:null},e.prototype.getKeys=function(){return new o(this.keys)},e.prototype.getValue=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0?this.values[t]:null},e.prototype.getValues=function(){return new o(this.values)},e.prototype.indexOfKey=function(e){if(!e)throw new Error("Key must be defined.");return n.binarySearch(this.keys,e,this.comparator)},e.prototype.add=function(e,t){if(!e||!t)throw new Error("Key and value must be defined.");for(var n=0;n<this.keys.length&&this.comparator(e,this.keys[n])>0;)n++;this.keys.splice(n,0,e),this.values.splice(n,0,t)},e.prototype.remove=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0&&(this.values.splice(t,1),this.keys.splice(t,1)),t>=0},e.prototype.getIterator=function(){return new i(this.keys,this.values)},e.DEFAULT_COMPARATOR=function(e,t){return t>e?-1:e>t?1:0},e}();t.SortedList=r;var i=function(){function e(e,t){this.keys=e,this.values=t,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.keys.length<this.index?null:{key:this.keys[this.index],value:this.values[this.index]}},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.keys.length},e.prototype.hasNext=function(){return this.index+1<this.keys.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.keys=null,this.values=null},e}(),o=function(){function e(e){this.values=e,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.values.length<this.index?null:this.values[this.index]},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.values.length},e.prototype.hasNext=function(){return this.index+1<this.values.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.values=null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/contextmenu/contextmenu",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/dom","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor","vs/base/ui/widgets/actionbar","vs/base/lifecycle","vs/base/types","vs/editor/core/constants","vs/base/sortedList","vs/platform/configuration/keybindings"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(e,t){var n=this;this.contextMenuService=e.contextMenuService,this.contextViewService=e.contextViewService,this.keybindingService=e.keybindingService,this._editor=t,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._toDispose.push(this._editor.addListener2(u.EventType.ContextMenu,function(e){return n._onContextMenu(e)})),this._toDispose.push(this._editor.addListener2(u.EventType.KeyDown,function(e){"ContextMenu"===e.key&&(e.preventDefault(),e.stopPropagation(),n.showContextMenu())}))}return e.prototype._onContextMenu=function(e){if(this._editor.getConfiguration().contextmenu&&e.target.type!==s.MouseTargetType.OVERLAY_WIDGET&&(e.event.preventDefault(),e.target.type===s.MouseTargetType.CONTENT_TEXT||e.target.type===s.MouseTargetType.CONTENT_EMPTY||e.target.type===s.MouseTargetType.TEXTAREA)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;e.target.type!==s.MouseTargetType.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this.contextMenuService){var t=this._editor.getPosition(),n=this._editor.getModel();if(t&&n){this._editor.revealPosition(t);var r=this._getMenuActions();r.length>0&&this._doShowContextMenu(r,e)}}},e.prototype._getMenuActions=function(){var e=this._editor.getModel();if(!e)return[];var t=this._editor.getActions(),n=t.filter(function(e){return c.isFunction(e.shouldShowInContextMenu)&&e.shouldShowInContextMenu()&&e.isSupported()});return this._prepareActions(n)},e.prototype._prepareActions=function(e){var t=new d.SortedList;e.forEach(function(e){var n=e.getGroupId().split("/"),r=t.getValue(n[0]);r||(r=new d.SortedList,t.add(n[0],r)),r.add(n[1]||n[0],e)});for(var n=[],r=t.getIterator();r.moveNext();){for(var i=r.current.value,o=i.getIterator();o.moveNext();){var s=o.current.value;n.push(s)}r.hasNext()&&n.push(new a.Separator)}return n},e.prototype._doShowContextMenu=function(e,t){var n=this;this._editor.beginForcedWidgetFocus();var o=this._editor.getConfiguration().hover;this._editor.updateOptions({hover:!1});var s=t;if(!s||c.isUndefinedOrNull(s.x)||c.isUndefinedOrNull(s.y)){var l=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=r.getDomNodePosition(this._editor.getDomNode()),d=u.left+l.left,h=u.top+l.top+l.height;s={x:s&&!c.isUndefinedOrNull(s.x)?s.x:d,y:s&&!c.isUndefinedOrNull(s.y)?s.y:h}}this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return i.TPromise.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t)return new a.ActionItem(e,e,{label:!0,keybinding:p.toLabel(t)});var r=e;return c.isFunction(r.getActionItem)?r.getActionItem():null},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.endForcedWidgetFocus(),n._editor.updateOptions({hover:o})}})},e.prototype._keybindingFor=function(e){var t=p.lookupKeyBindings(this.keybindingService,e.id);return t.length>0?t[0]:null},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this.contextViewService.hideContextView(),this._toDispose=l.disposeAll(this._toDispose)},e.ID="editor.contrib.contextmenu",e}(),m=function(e){function t(t,n,r){e.call(this,t,n,r,o.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getContribution(h.ID);return e?(e.showContextMenu(),i.Promise.as(null)):i.Promise.as(null)},t.ID="editor.action.showContextMenu",t}(o.EditorAction);o.registerEditorContribution(h),o.registerEditorActionContribution(m,m.ID,n.localize("vs_editor_contrib_contextmenu_contextmenu",0),!0,{shift:!0,key:"F10"})}),define("vs/css!vs/editor/contrib/clipboard/clipboard",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/clipboard/clipboard",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor","vs/base/env","vs/editor/core/range","vs/editor/core/constants","vs/editor/core/config/config","vs/css!./clipboard"],function(e,t,n,r,i,o,s,a,l,c){function u(e){var t=e.getModel();if(!t)return!1;var n=t.hasEditableRange();if(!n)return!0;var r=t.getEditableRange(),i=e.getPosition();return r.containsPosition(i)}function d(e,t){return(s.browser.isIE11orEarlier||s.isNative)&&document.queryCommandSupported(t)&&e?e:null}function p(e,t,n,r,o,s){var a=d(e,t);a&&i.registerEditorActionContributionWithHandler(a,n,r,o,s)}function h(e,t,n,r){if(r.context[o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS]){var i=c.findFocusedEditor(e,n,r,!1);if(i)return i.trigger("keyboard",e,r),void 0}document.execCommand(t)}var m=function(e){function t(t,n,r,i){var o=this;e.call(this,t,n,r,i),this.toUnhook.push(this.editor.addListener(l.EventType.CursorSelectionChanged,function(){o.resetEnablementState()}))}return __extends(t,e),t.prototype.getEnablementState=function(){return s.enableEmptySelectionClipboard?!0:!this.editor.getSelection().isEmpty()},t.prototype._getPlainTextToCopy=function(){var e=s.isWindows?"\r\n":"\n",t=s.isWindows?o.EndOfLinePreference.CRLF:o.EndOfLinePreference.LF,n=this.editor.getSelections();n=n.slice(0).sort(a.compareRangesUsingStarts);for(var r=[],i=0;i<n.length;i++)r.push(this.editor.getModel().getValueInRange(n[i],t));return r.join(e)},t}(i.EditorAction),f=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.Writeable|i.Behaviour.WidgetFocus|i.Behaviour.ShowInContextMenu|i.Behaviour.UpdateOnCursorPositionChange)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/2_cut"},t.prototype.getEnablementState=function(){return e.prototype.getEnablementState.call(this)&&u(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("cut"),r.TPromise.as(!0)},t}(m),v=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.WidgetFocus|i.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/1_copy"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("copy"),r.TPromise.as(!0)},t}(m),g=function(e){function t(t,n,r){e.call(this,t,n,r,i.Behaviour.Writeable|i.Behaviour.WidgetFocus|i.Behaviour.ShowInContextMenu|i.Behaviour.UpdateOnCursorPositionChange)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/3_paste"},t.prototype.getEnablementState=function(){return u(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("paste"),null},t}(i.EditorAction),b="editor.action.clipboardCutAction",y="editor.action.clipboardCopyAction",_="editor.action.clipboardPasteAction";p(f,"cut",b,n.localize("vs_editor_contrib_clipboard_clipboard",0),h.bind(null,b,"cut"),{ctrlCmd:!0,key:"X"}),p(v,"copy",y,n.localize("vs_editor_contrib_clipboard_clipboard",1),h.bind(null,y,"copy"),{ctrlCmd:!0,key:"C"}),p(g,"paste",_,n.localize("vs_editor_contrib_clipboard_clipboard",2),h.bind(null,_,"paste"),{ctrlCmd:!0,key:"V"})}),define("vs/css!vs/editor/contrib/iPadShowKeyboard/iPadShowKeyboard",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/iPadShowKeyboard/iPadShowKeyboard",["require","exports","vs/base/env","vs/editor/editorExtensions","vs/base/dom/dom","vs/editor/editor","vs/base/lifecycle","vs/editor/core/constants","vs/css!./iPadShowKeyboard"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e,t){var r=this;this.editor=t,this.toDispose=[],n.browser.isIPad&&(this.toDispose.push(t.addListener2(a.EventType.ConfigurationChanged,function(){return r.update()})),this.update())}return e.prototype.update=function(){var e=!!this.widget,t=!this.editor.getConfiguration().readOnly;!e&&t?this.widget=new c(this.editor):e&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=s.disposeAll(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}();t.iPadShowKeyboard=l;var c=function(){function e(e){var t=this;this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(i.addDisposableListener(this._domNode,"touchstart",function(){t.editor.focus()})),this._toDispose.push(i.addDisposableListener(this._domNode,"focus",function(){t.editor.focus()})),this.editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=s.disposeAll(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:o.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},e.ID="editor.contrib.ShowKeyboardWidget",e}();r.registerEditorContribution(l)}),define("vs/css!vs/editor/contrib/codelens/codelens",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/codelens/codelens",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lifecycle","vs/base/time/schedulers","vs/base/dom/dom","vs/base/errors","vs/editor/editor","vs/editor/core/range","vs/editor/core/constants","vs/editor/editorExtensions","vs/css!./codelens"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e,t){for(var n=1,r=e.getModels().filter(function(e){return e.getMode().getId()===t}).map(function(e){return{url:e.getAssociatedResource().toString(),versionId:e.getVersionId()}}).sort(function(e,t){return e.url<t.url?-1:e.url>t.url?1:0}),i=0;i<r.length;i++)n=(31*n|0)+r[i].versionId|0;return n}var h=function(){function e(e){this.afterLineNumber=e,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.setAfterLineNumber=function(e){this.afterLineNumber=e},e}(),m=function(){function e(t,n){this._id="codeLensWidget"+ ++e.ID,this._editor=t,this._findReferencesController=t.getContribution("editor.contrib.findReferencesController"),this.setSymbolRange(n),this._domNode=document.createElement("div"),this._domNode.style.width="100px",s.addClass(this._domNode,"codelens-decoration"),s.addClass(this._domNode,"invisible"),s.addClass(this._domNode,"disabled"),this._linkNode=document.createElement("a"),s.addClass(this._linkNode,"codelenselabel"),s.addListener(this._linkNode,"click",this.onCodeLensInvoked.bind(this)),this._textNode=document.createElement("span"),s.addClass(this._textNode,"codelenselabel"),this.withReferences(null),this._domNode.appendChild(this._linkNode),this._domNode.appendChild(this._textNode),this.updateVisibility()}return e.prototype.onCodeLensInvoked=function(){null!==this._references&&this._references.length&&null!==this._symbolRange&&this._findReferencesController&&!this._findReferencesController.isInPeekView()&&this._findReferencesController.processRequest(this._symbolRange,n.TPromise.as(this._references))},e.prototype.updateVisibility=function(){this.isVisible()&&(s.removeClass(this._domNode,"invisible"),s.addClass(this._domNode,"fadein"))},e.prototype.withReferences=function(e){this._references=e;var t,n=!0;null!==this._references?(t=1===e.length?r.localize("vs_editor_contrib_codelens_codelens",0):r.localize("vs_editor_contrib_codelens_codelens",1,e.length),n=0===e.length):t=r.localize("vs_editor_contrib_codelens_codelens",2),this._linkNode.innerHTML=t,this._textNode.innerHTML=t,this._findReferencesController&&this._findReferencesController.isInPeekView()&&(n=!0),s.toggleClass(this._domNode,"disabled",n)
},e.prototype.dispose=function(){this._references=null,this._symbolRange=null},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){this._symbolRange=e;var t=e.startLineNumber,n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[l.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e.ID=0,e}(),f=function(){function e(e,t,n,r){var i=c.create(e);this._editor=t,this._decId=n.addDecoration(i,{}),this._viewZone=new h(i.startLineNumber-1),this._contentWidget=new m(t,i),this._viewZoneId=r.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget),this._lastUpdateModelsVersionId=-1}return e.prototype.dispose=function(e,t){e&&e.removeDecoration(this._decId),t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this._editor.getModel().getDecorationRange(this._decId);return e&&!e.isEmpty()},e.prototype.computeIfNecessary=function(e,t){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;if(this._lastUpdateModelsVersionId===e)return null;var n=t.getDecorationRange(this._decId);return{position:n.getStartPosition(),languageModeStateId:this._lastUpdateStateId}},e.prototype.updateReferences=function(e,t,n){this._contentWidget.withReferences(e),this._lastUpdateModelsVersionId=t,this._lastUpdateStateId=n},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decId);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decId);this._viewZone.setAfterLineNumber(t.startLineNumber-1),e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}(),v=function(){function e(t,n){var r=this;this._instanceCount=++e.INSTANCE_COUNT,this._editor=n,this._modelService=t.modelService,this._configurationService=t.configurationService,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._codeLenseDisabledByMode=!0,this._globalToDispose.push(this._editor.addListener2(u.EventType.ModelChanged,function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(u.EventType.ModelModeChanged,function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(u.EventType.ModelModeSupportChanged,function(e){e.codeLensSupport&&r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(u.EventType.ConfigurationChanged,function(e){e.referenceInfos&&r.onModelChange()})),this.onModelChange()}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=i.disposeAll(this._globalToDispose)},e.prototype.localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=i.disposeAll(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;this.localDispose();var t=this._editor.getModel();if(t&&this._editor.getConfiguration().referenceInfos){var n=t.getMode().codeLensSupport;if(n&&n.enableCodeLens()){var r=new o.RunOnceScheduler(function(){e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=n.findCodeLensSymbols(t.getAssociatedResource());var r=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise.then(function(t){r===e._modelChangeCounter&&(e.renderCodeLensSymbols(t),i.schedule())},function(e){a.onUnexpectedError(e)})},250),i=new o.RunOnceScheduler(function(){e._onViewportChanged(t.getMode().getId())},500);this._localToDispose.push(r),this._localToDispose.push(i),this._localToDispose.push(t.addBulkListener2(function(t){for(var n=!1,o=0;o<t.length;o++){var s=t[o].getType();if(s===u.EventType.ModelContentChanged){n=!0;break}}n&&(e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){var r=[];e._lenses.forEach(function(e){e.isValid()?e.update(n):r.push(e)}),r.forEach(function(r){r.dispose(t,n),e._lenses.splice(e._lenses.indexOf(r),1)})})}),i.schedule(),r.schedule())})),this._localToDispose.push(this._editor.addListener2("scroll",function(){i.schedule()})),this._localToDispose.push({dispose:function(){e._editor.getModel()?e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){e._disposeAllLenses(t,n)})}):e._disposeAllLenses(null,null)}}),r.schedule()}}},e.prototype._disposeAllLenses=function(e,t){this._lenses.forEach(function(n){return n.dispose(e,t)}),this._lenses=[]},e.prototype.renderCodeLensSymbols=function(e){var t=this;e||(e=[]),e.sort(function(e,t){return e.range.startLineNumber-t.range.startLineNumber});var n=this._editor.getCenteredRangeInViewport(),r=e.length!==this._lenses.length;this._editor.changeDecorations(function(n){t._editor.changeViewZones(function(r){for(var i=0,o=0;o<e.length&&i<t._lenses.length;){var s=e[o].range.startLineNumber,a=t._lenses[i].getLineNumber();s>a?(t._lenses[i].dispose(n,r),t._lenses.splice(i,1)):a===s?(o++,i++):(t._lenses.splice(i,0,new f(e[o].range,t._editor,n,r)),i++,o++)}for(;i<t._lenses.length;)t._lenses[i].dispose(n,r),t._lenses.splice(i,1);for(;o<e.length;)t._lenses.push(new f(e[o].range,t._editor,n,r)),o++})}),r&&this._editor.revealRangeInCenter(n)},e.prototype._onViewportChanged=function(e){var t=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var n=this._editor.getModel();if(n){var r=p(this._modelService,e),i=[],o=[];this._lenses.forEach(function(e){var t=e.computeIfNecessary(r,n);t&&(i.push(t),o.push(e))}),i.length>0&&(this._currentFindOccPromise=n.getMode().codeLensSupport.findCodeLensReferences(n.getAssociatedResource(),i).then(function(e){if(e){t._currentFindOccPromise=null;for(var n=0;n<e.references.length;n++){var i=e.references[n];null!==i&&o[n].updateReferences(i,r,e.languageModeStateId)}}}))}},e.ID="css.editor.codeLens",e.INSTANCE_COUNT=0,e}();t.CodeLensContribution=v,d.registerEditorContribution(v)}),define("vs/css!vs/editor/contrib/workerStatusReporter/workerStatusReporter",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/workerStatusReporter/workerStatusReporter",["require","exports","vs/editor/editor","vs/base/env","vs/base/lifecycle","vs/editor/editorExtensions","vs/css!./workerStatusReporter"],function(e,t,n,r,i,o){function s(e,t,n){e.setAttribute(t,n)}var a=function(){function e(e,t){this._threadService=e.threadService,this._threadService.addStatusListener(this),this._editor=t,this._toDispose=[],this._domNodes=[],this._domNode=document.createElement("div"),this._domNode.className="monaco-worker-status",r.browser.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._editor.addOverlayWidget(this)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._threadService.removeStatusListener(this),this._toDispose=i.disposeAll(this._toDispose)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:n.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},e.prototype._ensureDomNodes=function(e){for(var t=this._domNodes.length-1;t>=e;t++)this._domNode.removeChild(this._domNodes[t]),this._domNodes.splice(t,1);for(var t=this._domNodes.length;e>t;t++)this._domNodes[t]=document.createElement("div"),this._domNodes[t].className="worker",this._domNode.appendChild(this._domNodes[t])},e.prototype.onThreadServiceStatus=function(e){this._ensureDomNodes(e.workers.length);for(var t=0;t<e.workers.length;t++){var n=e.workers[t].queueSize,r="idle";n>5?r="flooded":n>0&&(r="busy"),s(this._domNodes[t],"status",r)}},e.ID="editor.contrib.workerStatusReporter",e}();r.enableEditorLanguageServiceIndicator&&o.registerEditorContribution(a)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/multicursor/multicursor",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/editorExtensions","vs/editor/core/constants","vs/base/env"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r){e.call(this,t,n,r,i.InternalHandlers.AddCursorUp)}return __extends(t,e),t.ID="editor.action.insertCursorAbove",t}(r.HandlerEditorAction),a=function(e){function t(t,n,r){e.call(this,t,n,r,i.InternalHandlers.AddCursorDown)}return __extends(t,e),t.ID="editor.action.insertCursorBelow",t}(r.HandlerEditorAction);r.registerEditorActionContribution(s,s.ID,n.localize("vs_editor_contrib_multicursor_multicursor",0),!0,{ctrlCmd:!0,winCtrl:o.isLinux,alt:!o.isLinux,key:"UpArrow"}),r.registerEditorActionContribution(a,a.ID,n.localize("vs_editor_contrib_multicursor_multicursor",1),!0,{ctrlCmd:!0,winCtrl:o.isLinux,alt:!o.isLinux,key:"DownArrow"})}),define("vs/css!vs/editor/contrib/outlineMarker/outlineMarker",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/editor/contrib/outlineMarker/outlineMarker",["require","exports","vs/base/lifecycle","vs/base/time/schedulers","vs/base/errors","vs/editor/core/range","vs/editor/core/constants","vs/editor/editorExtensions","vs/css!./outlineMarker"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e,t){this.afterLineNumber=e.startLineNumber-1,this.heightInPx=4,this.suppressMouseDown=!0,this.domNode=document.createElement("div");var n=document.createElement("hr");n.className="outlineRule "+t,this.domNode.appendChild(n)}return e}(),c=function(){function e(e,t,n,r,i){this._editor=n,this._viewZone=new l(e,t),this._viewZoneId=i.addZone(this._viewZone),this._decorationId=r.addDecoration(e,{})}return e.prototype.dispose=function(e){e.removeZone(this._viewZoneId)},e.prototype.getLine=function(){return this._viewZone.afterLineNumber},e.prototype.update=function(e){var t=this._editor.getModel().getDecorationRange(this._decorationId);this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId)},e}(),u=function(){function e(e,t){var n=this;this._editor=t,this._globalToDispose=[],this._localToDispose=[],this._markers=[],this._currentOutlinePromise=null,this._globalToDispose.push(this._editor.addListener2(s.EventType.ModelChanged,function(){return n.onChange(!0)})),this._globalToDispose.push(this._editor.addListener2(s.EventType.ModelModeChanged,function(){return n.onChange(!1)})),this._globalToDispose.push(this._editor.addListener2(s.EventType.ModelModeSupportChanged,function(e){e.outlineSupport&&n.onChange(!1)})),this._globalToDispose.push(this._editor.addListener2(s.EventType.ConfigurationChanged,function(e){e.outlineMarkers&&n.onChange(!1)})),this.onChange(!1)}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=n.disposeAll(this._globalToDispose)},e.prototype.localDispose=function(){this._currentOutlinePromise&&this._currentOutlinePromise.cancel(),this._localToDispose=n.disposeAll(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onChange=function(e){var t=this;if(e&&(this._markers=[]),this.localDispose(),this._editor.getConfiguration().outlineMarkers){var n=this._editor.getModel();if(n){var o=n.getMode();if(o.outlineSupport){var s=new r.RunOnceScheduler(function(){t._currentOutlinePromise&&t._currentOutlinePromise.cancel(),t._currentOutlinePromise=o.outlineSupport.getOutline(n.getAssociatedResource()),t._currentOutlinePromise.then(function(e){t.renderOutlines(e)},function(e){i.onUnexpectedError(e)})},250);this._localToDispose.push(s),this._localToDispose.push(this._editor.addListener2("change",function(){t._editor.changeViewZones(function(e){t._markers.forEach(function(t){t.update(e)})}),s.schedule()})),this._localToDispose.push({dispose:function(){t._markers.length>0&&t._editor.changeViewZones(function(e){t._markers.forEach(function(t){return t.dispose(e)}),t._markers=[]})}}),s.schedule()}}}},e.prototype.renderOutlines=function(e){var t=this,n=this._editor.getCenteredRangeInViewport(),r=this._markers.length;this._editor.changeDecorations(function(n){t._editor.changeViewZones(function(r){t._markers.forEach(function(e){return e.dispose(r)}),t._markers=[],t.renderOutlinesRecursive(e,n,r)})});var i=this._markers.length;Math.abs(r-i)>1&&this._editor.revealRangeInCenter(n)},e.prototype.renderOutlinesRecursive=function(e,t,n){var r=this;e&&e.forEach(function(e){if("class"===e.type||"method"===e.type||"function"===e.type){var i=o.create(e.range);if(!r.alreadyHasMarkerAtRange(i)){var s=new c(i,e.type,r._editor,t,n);r._markers.push(s)}}r.renderOutlinesRecursive(e.children,t,n)})},e.prototype.alreadyHasMarkerAtRange=function(e){for(var t=0;t<this._markers.length;++t)if(this._markers[t].getLine()===e.startLineNumber-1)return!0;return!1},e.ID="editor.outlineMarker",e}();t.OutlineMarkerContribution=u,a.registerEditorContribution(u)}),define("vs/css!vs/editor/contrib/quickFix/quickFix",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickFix/quickFixSelectionWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/errors","vs/base/dom/builder","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/tree/treeDefaults","vs/editor/core/constants","vs/editor/editor","vs/css!./quickFix"],function(e,t,n,r,i,o,s,a,l,c){function u(e){return e&&e.id&&e.label}function d(e,t){var n=t;return t instanceof h||!n.documentation||!e.isFocused(n)?19:35}var p=o.$,h=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=h;var m=function(){function e(e){this.child=new h(this,e)}return e}();t.MessageRoot=m;var f=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof m?!0:e instanceof h?!1:Array.isArray(e)?(this.root=e,!0):!1},e.prototype.getId=function(e,t){if(t instanceof m)return"messageroot";if(t instanceof h)return"message"+t.message;if(Array.isArray(t))return"root";if(u(t))return t.id;throw i.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof m?r.Promise.as(null):t instanceof h?r.Promise.as(t.parent):r.Promise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof m?r.Promise.as([t.child]):t instanceof h?r.Promise.as([]):r.Promise.as(this.isRoot(t)?t:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e}(),v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n){return n.preventDefault(),n.stopPropagation(),t instanceof h||e.setSelection([t],{origin:"mouse"}),!0},t}(a.DefaultController),g=function(){function e(e){this.editor=e}return e.prototype.getHeight=function(e,t){return d(e,t)},e.prototype.render=function(e,t,n){var r=p(n);if(t instanceof h)return r.empty().span({style:{opacity:.7,"padding-left":"12px"},text:t.message}),null;var i=t,o=r.getBinding(),s=r.clone();if(!o){o={};var a=p(".text").appendTo(s);o.main=p(".main").appendTo(a),o.documentation=p(".docs").appendTo(a),o.documentationLabel=p("span.docs-label").appendTo(o.documentation),r.bind(o)}return o.main.text(i.label),o.documentationLabel.text(i.documentation||""),null},e}(),b=function(){function e(t,n,r,o){var a=this;this.allowEditorOverflow=!0,this.editor=t,this._onShown=r,this._onHidden=o,this.shouldShowEmptyList=!0,this.isActive=!1,this.isLoading=!1,this.isAuto=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=null,this.telemetryService=n,this.listenersToRemove=[],this.builder=p(".editor-widget.quickfix-widget.monaco-editor-background").style({width:e.WIDTH+"px"}),this.builder.addClass("no-icons");var c=new f;this.renderer=new g(this.editor),this.tree=new s.Tree(this.builder.getHTMLElement(),{dataSource:c,renderer:this.renderer,controller:new v},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible",useShadows:!1}),this.listenersToRemove.push(this.tree.addListener("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];!u(t)||t instanceof m||t instanceof h||(a.telemetryData.selectedIndex=a.tree.getInput().indexOf(t),a.telemetryData.wasCancelled=!1,a.submitTelemetryData(),a.model.accept(t,a.range),a.editor.focus())}}));var d=null;this.listenersToRemove.push(this.tree.addListener("focus",function(e){var t=e.focus,n=e.payload;if(t!==d){var r=[];d&&r.push(d),t&&r.push(t),d=t,a.tree.refreshAll(r).done(function(){a.updateWidgetHeight(),t&&a.tree.reveal(t,n&&n.firstSuggestion?0:null)},i.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(l.EventType.CursorSelectionChanged,function(){a.isActive&&a.editor.layoutContentWidget(a)})),this.hide()}return e.prototype.setModel=function(t){var n=this;this.releaseModel(),this.model=t;var r,o=null;this.modelListenersToRemove.push(this.model.addListener("loading",function(t){n.isActive||(o=n.telemetryService.start("QuickFixSelectionWidgetLoadingTime"),n.isLoading=!0,n.isAuto=!!t.auto,n.isAuto||(r=setTimeout(function(){n.builder.removeClass("empty"),n.tree.setInput(e.LOADING_MESSAGE).done(null,i.onUnexpectedError),n.updateWidgetHeight(),n.show()},50)),t.retrigger||(n.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){n.isLoading=!1,"undefined"!=typeof r&&(clearTimeout(r),r=void 0);for(var t=e.fixes,s=-1,a=t[0],l=-1,c=0,u=t.length;u>c;c++){var d=t[c],p=d.score;p>l&&(l=p,a=d,s=c)}n.builder.removeClass("empty"),n.tree.setInput(t).done(null,i.onUnexpectedError),n.tree.setFocus(a,{firstSuggestion:!0}),n.updateWidgetHeight(),n.range=e.range,n.show(),n.telemetryData=n.telemetryData||{},n.telemetryData.suggestionCount=t.length,n.telemetryData.suggestedIndex=s,o&&(o.data={reason:"results"},o.stop(),o=null)})),this.modelListenersToRemove.push(this.model.addListener("empty",function(t){var s=n.isLoading;n.isLoading=!1,"undefined"!=typeof r&&(clearTimeout(r),r=void 0),t.auto?n.hide():s?n.shouldShowEmptyList?(n.builder.removeClass("empty"),n.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,i.onUnexpectedError),n.updateWidgetHeight(),n.show()):n.hide():n.builder.addClass("empty"),o&&(o.data={reason:"empty"},o.stop(),o=null)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(e){n.isLoading=!1,"undefined"!=typeof r&&(clearTimeout(r),r=void 0),e.retrigger||(n.hide(),n.telemetryData&&(n.telemetryData.selectedIndex=-1,n.telemetryData.wasCancelled=!0,n.submitTelemetryData())),o&&(o.data={reason:"cancel"},o.stop(),o=null)}))},e.prototype.selectNextPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusNextPage(),!0):!1},e.prototype.selectNext=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusPreviousPage(),!0):!1},e.prototype.selectPrevious=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancelDialog(),!0}return!1},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){this.isActive=!0,this.tree.layout(),this.editor.layoutContentWidget(this),this._onShown()},e.prototype.hide=function(){this._onHidden(),this.isActive=!1,this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.BELOW,c.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.getDomNode=function(){return this.builder.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("QuickFixSelectionWidget",this.telemetryData),this.telemetryData=null},e.prototype.updateWidgetHeight=function(){var t,n=this.tree.getInput();if(n===e.LOADING_MESSAGE||n===e.NO_SUGGESTIONS_MESSAGE)t=19;else{var r=n;t=19*Math.min(r.length-1,11);var i=this.tree.getFocus();t+=i?d(this.tree,i):19}this.builder.style({height:t+"px"}),this.tree.layout(t),this.editor.layoutContentWidget(this)},e.prototype.destroy=function(){this.releaseModel(),this.builder.destroy(),this.tree.dispose(),this.tree=null,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null},e.ID="editor.widget.QuickFixSelectionWidget",e.WIDTH=360,e.LOADING_MESSAGE=new m(n.localize("vs_editor_contrib_quickFix_quickFixSelectionWidget",0)),e.NO_SUGGESTIONS_MESSAGE=new m(n.localize("vs_editor_contrib_quickFix_quickFixSelectionWidget",1)),e}();t.QuickFixSelectionWidget=b}),define("vs/editor/contrib/quickFix/lightBulpWidget",["require","exports","vs/editor/editor","vs/base/dom/dom"],function(e,t,n,r){var i=function(){function e(e,t,n){this.allowEditorOverflow=!0,this.editor=t,this.onclick=n,this.listenersToRemove=[],this.editor.addContentWidget(this)}return e.prototype.dispose=function(){this.editor.removeContentWidget(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype.getId=function(){return"__lightBulpWidget"},e.prototype.getDomNode=function(){var e=this;return this.domNode||(this.domNode=document.createElement("div"),this.domNode.style.width="20px",this.domNode.style.height="20px",this.domNode.className="lightbulp-glyph",this.listenersToRemove.push(r.addListener(this.domNode,"click",function(){e.editor.focus(),e.onclick(e.position)}))),this.domNode},e.prototype.getPosition=function(){return this.visible?{position:this.position,preference:[n.ContentWidgetPositionPreference.BELOW,n.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.show=function(e){this.position=e,this.visible=!0,this.editor.layoutContentWidget(this)},e.prototype.hide=function(){this.visible=!1,this.editor.layoutContentWidget(this)},e}();return i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickFix/quickFixModel",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/performance/timer","vs/editor/core/constants","vs/base/lifecycle","vs/editor/core/range","vs/base/arrays","vs/base/time/schedulers","vs/base/errors","./lightBulpWidget"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(p||(p={}));var h=function(e){function t(t,n,r){var i=this;e.call(this),this.editor=n,this.markerService=t.markerService,this.onAccept=r,this.quickFixRequestPromise=null,this.lightBulpDecoration=[],this.toDispose=[],this.toLocalDispose=[],this.lightBulp=new d(t,n,function(e){i.onLightBulpClicked(e)}),this.enableAutoQuckFix=!1,this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=300),this.toDispose.push(this.editor.addListener2(o.EventType.ModelChanged,function(){return i.onModelChanged()})),this.toDispose.push(this.editor.addListener2(o.EventType.ModelModeChanged,function(){return i.onModelChanged()})),this.toDispose.push(this.editor.addListener2(o.EventType.ModelModeSupportChanged,function(e){e.quickFixSupport&&i.onModelChanged()}))}return __extends(t,e),t.prototype.onModelChanged=function(){var e=this;this.cancelDialog(),this.localDispose(),this.lastMarker=null,this.lightBulpPosition=null,this.markers=null,this.updateScheduler=null;var t=this.editor.getModel();return t&&t.getMode().quickFixSupport&&!this.editor.getConfiguration().readOnly?(this.markerService.onMarkerChanged.add(this.onMarkerChanged,this,this.toLocalDispose),this.toLocalDispose.push(this.editor.addListener2(o.EventType.CursorPositionChanged,function(){e.onCursorPositionChanged()})),void 0):(this.setDecoration(null),void 0)},t.prototype.onLightBulpClicked=function(e){this.triggerDialog(!0,e)},t.prototype.isSimilarMarker=function(e,t){return e?t&&e.owner===t.owner&&e.code===t.code:!t},t.prototype.onMarkerChanged=function(e){var t=this.editor.getModel();if(t){var n=t.getAssociatedResource();if(e.some(function(e){return n.equals(e)})){var r=this.lastMarker;this.markers=null,this.lastMarker=null;var i=this.findMarker(this.editor.getPosition(),!1);this.isSimilarMarker(i,r)?this.lastMarker=i:this.onCursorPositionChanged()}}},t.prototype.setDecoration=function(e){this.lightBulpPosition=e,this.updateDecoration()},t.prototype.updateDecoration=function(){this.lightBulpPosition&&this.state===p.NOT_ACTIVE?this.lightBulp.show(this.lightBulpPosition):this.lightBulp.hide()},t.prototype.onCursorPositionChanged=function(){var e=this;this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.cancelDialog(),this.updateScheduler||(this.updateScheduler=new c.RunOnceScheduler(function(){var t=e.lastMarker,n=e.editor.getPosition();if(t&&a.containsPosition(t,n))return e.lightBulpPosition&&e.setDecoration(n),void 0;if(e.lastMarker=t=e.findMarker(n,!1),!t)return e.setDecoration(null),void 0;var r=i.start(i.Topic.EDITOR,"quickfix/lighbulp"),o=e.computeFixes(t);o.done(function(i){e.setDecoration(l.isFalsyOrEmpty(i)?null:n),e.triggerAutoSuggest(t),r.stop()},function(t){u.onUnexpectedError(t),e.setDecoration(null),r.stop()})},250),this.toLocalDispose.push(this.updateScheduler)),this.updateScheduler.schedule()},t.prototype.computeFixes=function(e){var t=this.editor.getModel();return t&&t.getMode().quickFixSupport?this.quickFixRequestPromise&&e===this.quickFixRequestPromiseRange?this.quickFixRequestPromise:(this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null),this.quickFixRequestPromiseRange=e,this.quickFixRequestPromise=t.getMode().quickFixSupport.getQuickFixes(t.getAssociatedResource(),e),this.quickFixRequestPromise):n.TPromise.as(null)},t.prototype.getMarkers=function(){if(null!==this.markers)return this.markers;var e=this.editor.getModel();if(e)return this.markers=this.markerService.read({resource:e.getAssociatedResource()}).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.markers},t.prototype.findMarker=function(e,t){if(this.lastMarker&&a.containsPosition(this.lastMarker,e))return this.lastMarker;for(var n=this.getMarkers(),r=null,i=0,o=e.lineNumber,s=l.findFirst(n,function(e){return e.startLineNumber>=o});s<n.length&&n[s].startLineNumber===o;){var c=n[s];if(c.startColumn<=e.column&&c.endColumn>=e.column)return c;if(t){var u=e.column<c.startColumn?c.startColumn-e.column:e.column-c.endColumn;(!r||i>u)&&(r=c,i=u)}s++}return r},t.prototype.cancelDialog=function(e){return void 0===e&&(e=!1),this.state!==p.NOT_ACTIVE?(this.state=p.NOT_ACTIVE,e||this.emit("cancel"),this.updateDecoration(),!0):!1},t.prototype.isAutoSuggest=function(){return this.state===p.AUTO_TRIGGER},t.prototype.triggerAutoSuggest=function(e){var t=this;this.enableAutoQuckFix&&this.state===p.NOT_ACTIVE&&(this.triggerAutoSuggestPromise=n.Promise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){t.triggerAutoSuggestPromise=null,e===t.lastMarker&&t.triggerDialog(!0,t.editor.getPosition())}))},t.prototype.triggerDialog=function(e,t){var n=this;this.cancelDialog(!1);var r;if(e){if(r=this.findMarker(t,!0),!r)return}else r=this.findMarker(t,!0),r||(r=this.editor.getSelection()),a.containsPosition(r,t)||this.editor.setPosition({lineNumber:r.startLineNumber,column:r.startColumn});var o=i.start(i.Topic.EDITOR,"quickfix/triggerdialog");this.state=e?p.AUTO_TRIGGER:p.MANUAL_TRIGGER,this.updateDecoration(),this.emit("loading",{auto:this.isAutoSuggest()}),this.computeFixes(r).done(function(e){e&&e.length>0?(e.sort(function(e,t){return t.score-e.score}),n.emit("suggest",{fixes:e,range:r,auto:n.isAutoSuggest()})):n.emit("empty",{auto:n.isAutoSuggest()}),o.stop()},function(e){u.onUnexpectedError(e),n.emit("empty",{auto:n.isAutoSuggest()}),o.stop()})},t.prototype.accept=function(e,t){return this.cancelDialog(),e?(this.onAccept(e,t),!0):!1},t.prototype.localDispose=function(){this.toLocalDispose=s.disposeAll(this.toLocalDispose),this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null)},t.prototype.dispose=function(){this.localDispose(),this.toDispose=s.disposeAll(this.toDispose),this.emit("destroy",null)},t}(r.EventEmitter);t.QuickFixModel=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickFix/quickFix",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","./quickFixSelectionWidget","./quickFixModel","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor2","vs/editor/core/codeEditorWidget"],function(e,t,n,r,i,o,s,a,l){var c=function(e){function t(t,n,o){var a=this;e.call(this,t,n,o,s.defaultPrecondition),this.model=new i.QuickFixModel(t,this.editor,this.onAccept),this.quickFixWidgetVisible=t.keybindingService.createKey(u,!1),this.suggestWidget=new r.QuickFixSelectionWidget(this.editor,t.telemetryService,function(){a.quickFixWidgetVisible.set(!0)},function(){a.quickFixWidgetVisible.reset()}),this.suggestWidget.setModel(this.model)}return __extends(t,e),t.prototype.onAccept=function(e,t){var n=this,r=this.editor.getModel();r&&r.getMode().quickFixSupport.runQuickFixAction(this.editor.getModel().getAssociatedResource(),t,e.id).then(function(e){var r=new l.CommandRunner(e.editOperations,a.EditCursorState.EndOfLastEditOperation);n.editor.executeCommand("quickfix",r),1===e.editOperations.length&&e.editOperations[0].range.endLineNumber===n.editor.getModel().getLineCount()&&n.editor.revealPositionInCenter({column:t.startColumn,lineNumber:t.startLineNumber})})},t.prototype.isSupported=function(){var e=this.editor.getModel();return e&&!!e.getMode().quickFixSupport&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){return this.model.triggerDialog(!1,this.editor.getPosition()),this.editor.focus(),o.TPromise.as(!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.dispose(),this.model=null)},t.prototype.acceptSelectedSuggestion=function(){this.suggestWidget&&this.suggestWidget.acceptSelectedSuggestion()},t.prototype.closeWidget=function(){this.model&&this.model.cancelDialog()},t.prototype.selectNextSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNext()},t.prototype.selectNextPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNextPage()},t.prototype.selectPrevSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPrevious()},t.prototype.selectPrevPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPreviousPage()
},t.ID="editor.action.quickFix",t}(s.EditorAction);t.QuickFixAction=c;var u="quickFixWidgetVisible",d=s.weight(80);s.registerEditorActionContribution(c,c.ID,n.localize("vs_editor_contrib_quickFix_quickFix",0),!0,{ctrlCmd:!0,key:"."}),s.registerEditorCommand("acceptQuickFixSuggestion",d,[{key:"Enter"},{key:"Tab"}],!1,u,function(e,t){var n=t.getAction(c.ID);n.acceptSelectedSuggestion()}),s.registerEditorCommand("closeQuickFixWidget",d,{key:"Escape"},!1,u,function(e,t){var n=t.getAction(c.ID);n.closeWidget()}),s.registerEditorCommand("selectNextQuickFix",d,{key:"DownArrow"},!1,u,function(e,t){var n=t.getAction(c.ID);n.selectNextSuggestion()}),s.registerEditorCommand("selectNextPageQuickFix",d,{key:"PageDown"},!1,u,function(e,t){var n=t.getAction(c.ID);n.selectNextPageSuggestion()}),s.registerEditorCommand("selectPrevQuickFix",d,{key:"UpArrow"},!1,u,function(e,t){var n=t.getAction(c.ID);n.selectPrevSuggestion()}),s.registerEditorCommand("selectPrevPageQuickFix",d,{key:"PageUp"},!1,u,function(e,t){var n=t.getAction(c.ID);n.selectPrevPageSuggestion()})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/plaintext/plaintext",["require","exports","vs/editor/modes/supports","vs/editor/modes/modesExtensions"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.makeClone=function(){return this},t.prototype.equals=function(n){return n instanceof t?e.prototype.equals.call(this,n):!1},t.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},t}(r.AbstractState),o=function(e){function t(t,r){var o=this;e.call(this,t,r),this.tokenizationSupport=new n.TokenizationSupport(this,{getInitialState:function(){return new i(o)}},!1)}return __extends(t,e),t}(r.AbstractMode);t.Mode=o}),define("vs/editor/modes/monarch/monarchTypes",["require","exports"],function(){}),define("vs/editor/modes/monarch/monarchCommon",["require","exports"],function(e,t){function n(){return"0.96  (2013.01.22)"}function r(e){return e?!1:!0}function i(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function o(e){return e.replace(h,function(e){var t=p[e];return t?t:""})}function s(e){return e.replace(/[&<>'"]/g,"_")}function a(e,t){console.log(t)}function l(e,t){throw new Error(t)}function c(e,t,n,o,s){var a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,l=null;return t.replace(a,function(t,a,c,u,d,p,h){return r(c)?r(u)?!r(d)&&d<o.length?i(e,o[d]):!r(h)&&e&&"string"==typeof e[h]?e[h]:(null===l&&(l=s.split("."),l.unshift(s)),!r(p)&&p<l.length?i(e,l[p]):""):i(e,n):"$"})}function u(e,t){for(;t&&t.length>0;){var n=e.tokenizer[t];if(n)return n;var r=t.lastIndexOf(".");t=0>r?null:t.substr(0,r)}return null}function d(e,t){for(;t&&t.length>0;){var n=e.stateNames[t];if(n)return!0;var r=t.lastIndexOf(".");t=0>r?null:t.substr(0,r)}return!1}t.monarchPath="vs/editor/modes/monarch/monarch",t.version=n,t.empty=r,t.fixCase=i;var p={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},h=new RegExp("["+Object.keys(p).join("")+"]","g");t.htmlEscape=o,t.sanitize=s,t.log=a,t.throwError=l,t.substituteMatches=c,t.findRules=u,t.stateExists=d}),define("vs/editor/modes/monarch/monarchCompile",["require","exports","vs/base/objects","vs/editor/modes/modes","vs/editor/modes/monarch/monarchCommon"],function(e,t,n,r,i){function o(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;var n;for(n in t)if(t.hasOwnProperty(n)&&!e(t[n]))return!1;return!0}function s(e,t,n){return"boolean"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function a(e,t,n){return"string"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function l(e,t,n){return o(function(e){return"string"==typeof e},e)?e.slice(0):"string"==typeof e?[e]:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function c(e,t){if("string"!=typeof t)return null;for(var n=0;t.indexOf("@")>=0&&5>n;)n++,t=t.replace(/@(\w+)/g,function(n,r){var o="";return"string"==typeof e[r]?o=e[r]:e[r]&&e[r]instanceof RegExp?o=e[r].source:void 0===e[r]?i.throwError(e,"language definition does not contain attribute '"+r+"', used at: "+t):i.throwError(e,"attribute reference '"+r+"' must be a string, used at: "+t),i.empty(o)?"":"(?:"+o+")"});return new RegExp(t,e.ignoreCase?"i":"")}function u(e,t,n,r){if(0>r)return e;if(r<t.length)return t[r];if(r>=100){r-=100;var i=n.split(".");if(i.unshift(n),r<i.length)return i[r]}return null}function d(e,t,r,s){var a=-1,l=r,d=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(a=parseInt(d[3]),d[2]&&(a+=100)),l=d[4]);var p="~",h=l;l&&0!==l.length?/^\w*$/.test(h)?p="==":(d=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(p=d[1],h=d[2])):(p="!=",h="");var m;if("~"!==p&&"!~"!==p||!/^(\w|\|)*$/.test(h))if("@"===p||"!@"===p){var f=e[h];f||i.throwError(e,"the @ match target '"+h+"' is not defined, in rule: "+t),o(function(e){return"string"==typeof e},f)||i.throwError(e,"the @ match target '"+h+"' must be an array of strings, in rule: "+t);var v=n.createKeywordMatcher(f,e.ignoreCase);m=function(e){return"@"===p?v(e):!v(e)}}else if("~"===p||"!~"===p)if(h.indexOf("$")<0){var g=c(e,"^"+h+"$");m=function(e){return"~"===p?g.test(e):!g.test(e)}}else m=function(t,n,r,o){var s=c(e,"^"+i.substituteMatches(e,h,n,r,o)+"$");return s.test(t)};else if(h.indexOf("$")<0){var b=i.fixCase(e,h);m=function(e){return"=="===p?e===b:e!==b}}else{var b=i.fixCase(e,h);m=function(t,n,r,o){var s=i.substituteMatches(e,b,n,r,o);return"=="===p?t===s:t!==s}}else{var v=n.createKeywordMatcher(h.split("|"),e.ignoreCase);m=function(e){return"~"===p?v(e):!v(e)}}return-1===a?{name:r,value:s,test:function(e,t,n,r){return m(e,e,t,n,r)}}:{name:r,value:s,test:function(e,t,n,r){var i=u(e,t,n,a);return m(i?i:"",e,t,n,r)}}}function p(e,t,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)return i.throwError(e,"a 'token' attribute must be of type string, in rule: "+t),{token:""};var o={token:n.token};if(n.token.indexOf("$")>=0&&(o.tokenSubst=!0),"string"==typeof n.bracket&&("@open"===n.bracket?o.bracket=r.Bracket.Open:"@close"===n.bracket?o.bracket=r.Bracket.Close:i.throwError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t)),n.next)if("string"!=typeof n.next)i.throwError(e,"the next state must be a string value in rule: "+t);else{var s=n.next;/^(@pop|@push|@popall)$/.test(s)||("@"===s[0]&&(s=s.substr(1)),s.indexOf("$")<0&&(i.stateExists(e,i.substituteMatches(e,s,"",[],""))||i.throwError(e,"the next state '"+n.next+"' is not defined in rule: "+t))),o.next=s}return"number"==typeof n.goBack&&(o.goBack=n.goBack),"string"==typeof n.switchTo&&(o.switchTo=n.switchTo),"string"==typeof n.log&&(o.log=n.log),"string"==typeof n.nextEmbedded&&(o.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),o}if(Array.isArray(n)){var a,l=[];for(a in n)n.hasOwnProperty(a)&&(l[a]=p(e,t,n[a]));return{group:l}}if(n.cases){var c,u=[];for(c in n.cases)if(n.cases.hasOwnProperty(c)){var h=p(e,t,n.cases[c]);"@default"===c||"@"===c||""===c?u.push({test:null,value:h,name:c}):"@eos"===c?u.push({test:function(e,t,n,r){return r},value:h,name:c}):u.push(d(e,t,c,h))}var m=e.defaultToken;return{test:function(e,t,n,r){var i;for(i in u)if(u.hasOwnProperty(i)){var o=!u[i].test||u[i].test(e,t,n,r);if(o)return u[i].value}return m}}}return i.throwError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t),""}return{token:""}}function h(e){function t(r,o,l){var c;for(c in l)if(l.hasOwnProperty(c)){var u=l[c],p=u.include;if(p)"string"!=typeof p&&i.throwError(n,"an 'include' attribute must be a string at: "+r),"@"===p[0]&&(p=p.substr(1)),e.tokenizer[p]||i.throwError(n,"include target '"+p+"' is not defined at: "+r),t(r+"."+p,o,e.tokenizer[p]);else{var h=new m(r);if(Array.isArray(u)&&u.length>=1&&u.length<=3)if(h.setRegex(d,u[0]),u.length>=3)if("string"==typeof u[1])h.setAction(d,{token:u[1],next:u[2]});else if("object"==typeof u[1]){var f=u[1];f.next=u[2],h.setAction(d,f)}else i.throwError(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else h.setAction(d,u[1]);else u.regex||i.throwError(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r),u.name&&(h.name=a(u.name)),u.matchOnlyAtStart&&(h.matchOnlyAtLineStart=s(u.matchOnlyAtLineStart)),h.setRegex(d,u.regex),h.setAction(d,u.action);o.push(h)}}}if(!e||"object"!=typeof e)throw new Error("Monarch: expecting a language definition object");if("string"!=typeof e.name)throw new Error("Monarch: a language definition must include a string 'name' attribute");var n={};if(n.name=e.name,n.displayName=a(e.displayName,n.name),n.logConsole=a(e.logConsole),n.noThrow=!1,n.maxStack=100,n.mimeTypes=l(e.mimeTypes,void 0,function(){i.throwError(n,"the attribute 'mimeTypes' must be defined as an array of strings")}),n.start=a(e.start),n.fileExtensions=l(e.fileExtensions),n.ignoreCase=s(e.ignoreCase,!1),n.lineComment=a(e.lineComment,"//"),n.blockCommentStart=a(e.blockCommentStart,"/*"),n.blockCommentEnd=a(e.blockCommentEnd,"*/"),n.tokenPostfix=a(e.tokenPostfix,"."+n.name),n.defaultToken=a(e.defaultToken,"source",function(){i.throwError(n,"the 'defaultToken' must be a string")}),n.editorOptions=e.editorOptions?e.editorOptions:null,n.workerDescriptor=e.workerDescriptor,n.usesEmbedded=!1,n.wordDefinition=e.wordDefinition||void 0,!n.lineComment&&e.lineComments&&("string"==typeof e.lineComments?n.lineComment=e.lineComments:"string"==typeof e.lineComments[0]&&(n.lineComment=e.lineComments[0])),n.suggestSupport={textualCompletions:!0,triggerCharacters:[],snippets:[]},"undefined"!=typeof e.suggestSupport){var r=e.suggestSupport;if(Array.isArray(r.snippets))for(var o=r.snippets,c=0,u=o.length;u>c;c++)"string"==typeof o[c]?n.suggestSupport.snippets.push({type:"snippet",label:o[c],codeSnippet:o[c]}):n.suggestSupport.snippets.push(o[c]);Array.isArray(r.triggerCharacters)&&(n.suggestSupport.triggerCharacters=r.triggerCharacters),"undefined"!=typeof r.textualCompletions&&(n.suggestSupport.textualCompletions=r.textualCompletions)}var d=e;d.name=n.name,d.displayName=n.displayName,d.ignoreCase=n.ignoreCase,d.noThrow=n.noThrow,d.usesEmbedded=n.usesEmbedded,d.stateNames=e.tokenizer,d.logConsole=n.logConsole,d.defaultToken=n.defaultToken,e.tokenizer&&"object"==typeof e.tokenizer||i.throwError(n,"a language definition must define the 'tokenizer' attribute as an object"),n.tokenizer=[];var p;for(p in e.tokenizer)if(e.tokenizer.hasOwnProperty(p)){n.start||(n.start=p);var h=e.tokenizer[p];n.tokenizer[p]=new Array,t("tokenizer."+p,n.tokenizer[p],h)}n.usesEmbedded=d.usesEmbedded,n.nonWordTokens=l(e.nonWordTokens,["delimiter","delimiter.parenthesis","delimiter.curly","delimiter.square","delimiter.angle"],function(){i.throwError(n,"the 'nonWordTokens' attribute must be an array of strings")});var f;for(f in n.nonWordTokens)n.nonWordTokens.hasOwnProperty(f)&&(n.nonWordTokens[f]+=n.tokenPostfix);e.brackets?Array.isArray(e.brackets)||i.throwError(n,"the 'brackets' attribute must be defined as an array"):e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var v=[];for(var g in e.brackets)if(e.brackets.hasOwnProperty(g)){var b=e.brackets[g];b&&Array.isArray(b)&&3===b.length&&(b={token:b[2],open:b[0],close:b[1]}),b.open===b.close&&i.throwError(n,"open and close brackets in a 'brackets' attribute must be different: "+b.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"==typeof b.open&&"string"==typeof b.token?v.push({token:a(b.token)+n.tokenPostfix,open:i.fixCase(n,a(b.open)),close:i.fixCase(n,a(b.close))}):i.throwError(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}n.brackets=v;var y;if(e.autoClosingPairs?(Array.isArray(e.autoClosingPairs)||i.throwError(n,"the 'autoClosingPairs' attribute must be an array of string pairs (as arrays)"),y=e.autoClosingPairs.slice(0)):y=[['"','"'],["'","'"],["@brackets"]],n.autoClosingPairs=[],y)for(var _ in y)if(y.hasOwnProperty(_)){var w,E=y[_];if("@brackets"===E||"@brackets"===E[0]){var S;for(S in v)v.hasOwnProperty(S)&&v[S].open&&1===v[S].open.length&&v[S].close&&1===v[S].close.length&&(w={open:v[S].open,close:v[S].close,notIn:["string","comment"]},n.autoClosingPairs.push(w))}else Array.isArray(E)&&2===E.length&&"string"==typeof E[0]&&1===E[0].length&&"string"==typeof E[1]&&1===E[1].length?(w={open:i.fixCase(n,E[0]),close:i.fixCase(n,E[1]),notIn:["string","comment"]},n.autoClosingPairs.push(w)):"string"==typeof E.open&&1===E.open.length&&"string"==typeof E.close&&1===E.close.length?(w={open:i.fixCase(n,E.open[0]),close:i.fixCase(n,E.close[0]),notIn:["string","comment"]},n.autoClosingPairs.push(w)):i.throwError(n,"every element in an 'autoClosingPairs' array must be a pair of 1 character strings, or a '@brackets' directive")}var T=[];if(e.enhancedBrackets){Array.isArray(e.enhancedBrackets)||i.throwError(n,"the 'enhancedBrackets' attribute must be defined as an array");for(var g in e.enhancedBrackets)if(e.enhancedBrackets.hasOwnProperty(g)){var b=e.enhancedBrackets[g];b.hasOwnProperty("openTrigger")&&"string"!=typeof b.openTrigger&&i.throwError(n,"openTrigger in the 'enhancedBrackets' array must be a string"),!b.hasOwnProperty("open")||b.open instanceof RegExp||i.throwError(n,"open in the 'enhancedBrackets' array must be a regex"),b.hasOwnProperty("closeComplete")&&"string"!=typeof b.closeComplete&&i.throwError(n,"closeComplete in the 'enhancedBrackets' array must be a string"),b.hasOwnProperty("matchCase")&&"boolean"!=typeof b.matchCase&&i.throwError(n,"matchCase in the 'enhancedBrackets' array must be a boolean"),b.hasOwnProperty("closeTrigger")&&"string"!=typeof b.closeTrigger&&i.throwError(n,"closeTrigger in the 'enhancedBrackets' array must be a string"),!b.hasOwnProperty("close")||b.close instanceof RegExp||i.throwError(n,"close in the 'enhancedBrackets' array must be a regex"),b.hasOwnProperty("tokenType")&&("string"!=typeof b.tokenType?i.throwError(n,"tokenType in the 'enhancedBrackets' array must be a string"):b.tokenType+=n.tokenPostfix),T.push(b)}}n.enhancedBrackets=T;var k=null;e.docComment&&(k=e.docComment,k.hasOwnProperty("scope")&&"string"==typeof k.scope||i.throwError(n,"'docComment' must have a property 'scope' of type string"),k.hasOwnProperty("open")&&"string"==typeof k.open||i.throwError(n,"'docComment' must have a property 'open' of type string"),k.hasOwnProperty("lineStart")&&"string"==typeof k.lineStart||i.throwError(n,"'docComment' must have a property 'lineStart' of type string"),k.hasOwnProperty("close")&&"string"!=typeof k.close&&i.throwError(n,"'close' in 'docComment' must be a string")),n.docComment=k;for(var C=[],c=0;c<v.length;++c)C.push({tokenType:v[c].token,open:v[c].open,close:v[c].close,isElectric:!0});return n.standardBrackets=C,n.canHaveTextAfterStandardBracket=e.canHaveTextAfterStandardBracket===!0,n.outdentTriggers=a(e.outdentTriggers,""),n.logConsole||(n.logConsole="monarchConsole"),n.noThrow=!0,n}var m=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var n;"string"==typeof t?n=t:t instanceof RegExp?n=t.source:i.throwError(e,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=c(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")},e.prototype.setAction=function(e,t){this.action=p(e,this.name,t)},e}();t.compile=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/modes/monarch/monarch",["require","exports","vs/platform/platform","vs/platform/services","vs/editor/modes/stream","vs/editor/modes/modes","vs/editor/modes/modesExtensions","vs/editor/modes/supports","vs/editor/modes/monarch/monarchCommon","vs/editor/modes/monarch/monarchCompile","vs/base/lib/winjs.base","vs/platform/thread/attribute","vs/base/objects"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){function h(e,t){if(!t)return null;t=l.fixCase(e,t);for(var n=e.brackets,r=0;r<n.length;r++){var i=n[r];if(i.open===t)return{token:i.token,bracketType:o.Bracket.Open};if(i.close===t)return{token:i.token,bracketType:o.Bracket.Close}}return null}function m(e,t){E.registerMonarchDefinition(e,t)}function f(e,t){var r=n.Registry?n.Registry.as(s.Extensions.EditorModes):null;return new a.TokenizationSupport(e,{getInitialState:function(){return new w(e,t)},enterNestedMode:function(e){return e instanceof w?e.embeddedEntered:!1},getNestedMode:function(e){var t=null;if(e instanceof w){var n=e.embeddedMode;if(r.isRegisteredMode(n)){var i=_(r,n);if(i)return{mode:i,missingModePromise:t};t=r.getOrCreateMode(n)}}return{mode:_(r,"text/plain"),missingModePromise:t}},getLeavingNestedModeData:function(e,t){for(var n=t.clone(),r=new i.LineStream(e);!r.eos()&&n.embeddedMode;)n.tokenize(r,!0);if(n.embeddedMode)return null;var o=r.pos();return{nestedModeBuffer:e.substring(0,o),bufferAfterNestedMode:e.substring(o),stateAfterNestedMode:n}}},t.usesEmbedded)}function v(e){return{commentsConfiguration:{lineCommentTokens:[e.lineComment],blockCommentStartToken:e.blockCommentStart,blockCommentEndToken:e.blockCommentEnd}}}function g(e){return{brackets:e.standardBrackets,regexBrackets:e.enhancedBrackets,docComment:e.docComment,caseInsensitive:e.ignoreCase,textAfterBrackets:e.canHaveTextAfterStandardBracket,embeddedElectricCharacters:e.outdentTriggers.split("")}}function b(e){return{nonWordTokenTypes:e.nonWordTokens,wordDefinition:e.wordDefinition}}function y(e){return{autoClosingPairs:e.autoClosingPairs}}function _(e,t){if(!e||void 0===e.getMode)return null;var n=e.getMode(t);if(n)return n;if(e.getOrCreateMode){var r=e.getOrCreateMode(t);return r&&r.value?r.value:null}}var w=function(e){function t(n,r,i,o){e.call(this,n),this.id=t.ID++,this.lexer=r,this.stack=i?i:[r.start],this.embeddedMode=o?o:null,this.embeddedEntered=!1,this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null}return __extends(t,e),t.prototype.makeClone=function(){return new t(this.getMode(),this.lexer,this.stack.slice(0),this.embeddedMode)},t.prototype.equals=function(n){if(!e.prototype.equals.call(this,n))return!1;if(!(n instanceof t))return!1;var r=n;if(this.stack.length!==r.stack.length||this.lexer.name!==r.lexer.name||this.embeddedMode!==r.embeddedMode)return!1;var i;for(i in this.stack)if(this.stack.hasOwnProperty(i)&&this.stack[i]!==r.stack[i])return!1;return!0},t.prototype.tokenize=function(e,t){var n=this.stack.length,r=0,i=this.stack[0];this.embeddedEntered=!1;var a=null,c=null,u=null,d=null,p=null;if(this.groupActions)r=this.groupActions.length,a=this.groupMatches,c=this.groupMatched.shift(),u=this.groupActions.shift(),p=this.groupRule,0===this.groupActions.length&&(this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null);else{if(e.eos())return{type:""};var m=e.advanceToEOS();e.goBack(m.length);var f=this.lexer.tokenizer[i];if(f||(f=l.findRules(this.lexer,i)),f){p=null;var v,g=e.pos();for(v in f)if(f.hasOwnProperty(v)&&(p=f[v],(0===g||!p.matchOnlyAtLineStart)&&(a=m.match(p.regex)))){c=a[0],u=p.action;break}}else l.throwError(this.lexer,"tokenizer state is not defined: "+i)}for(a||(a=[""],c=""),u||(e.eos()||(a=[e.peek()],c=a[0]),u=this.lexer.defaultToken),e.advance(c.length);u.test;){var b=u.test(c,a,i,e.eos());u=b}var y=null;if("string"==typeof u||Array.isArray(u))y=u;else if(u.group)y=u.group;else if(null!==u.token&&void 0!==u.token){if(y=u.token,u.tokenSubst&&(y=l.substituteMatches(this.lexer,y,c,a,i)),u.nextEmbedded)if("@pop"===u.nextEmbedded)this.embeddedMode||l.throwError(this.lexer,"cannot pop embedded mode if not inside one"),this.embeddedMode=null;else if(this.embeddedMode)l.throwError(this.lexer,"cannot enter embedded mode from within an embedded mode");else{this.embeddedMode=l.substituteMatches(this.lexer,u.nextEmbedded,c,a,i);var _=s.languageAliasToMime(this.embeddedMode);this.embeddedMode&&_&&(this.embeddedMode=_),this.embeddedEntered=!0}if(u.goBack&&e.goBack(u.goBack),u.switchTo&&"string"==typeof u.switchTo){var w=l.substituteMatches(this.lexer,u.switchTo,c,a,i);"@"===w[0]&&(w=w.substr(1)),l.findRules(this.lexer,w)?this.stack[0]=w:l.throwError(this.lexer,"trying to switch to a state '"+w+"' that is undefined in rule: "+p.name),d=null}else if(u.transform&&"function"==typeof u.transform)this.stack=u.transform(this.stack),d=null;else if(u.next)if("@push"===u.next)this.stack.length>=this.lexer.maxStack?l.throwError(this.lexer,"maximum tokenizer stack size reached: ["+this.stack[0]+","+this.stack[1]+",...,"+this.stack[this.stack.length-2]+","+this.stack[this.stack.length-1]+"]"):this.stack.unshift(i);else if("@pop"===u.next)this.stack.length<=1?l.throwError(this.lexer,"trying to pop an empty stack in rule: "+p.name):this.stack.shift();else if("@popall"===u.next)this.stack.length>1&&(this.stack=[this.stack[this.stack.length-1]]);else{var w=l.substituteMatches(this.lexer,u.next,c,a,i);"@"===w[0]&&(w=w.substr(1)),l.findRules(this.lexer,w)?this.stack.unshift(w):l.throwError(this.lexer,"trying to set a next state '"+w+"' that is undefined in rule: "+p.name)}u.log&&"string"==typeof u.log&&l.log(this.lexer,this.lexer.displayName+": "+l.substituteMatches(this.lexer,u.log,c,a,i))}if(null===y&&(l.throwError(this.lexer,"lexer rule has no well-defined action in rule: "+p.name),y=this.lexer.defaultToken),Array.isArray(y)){this.groupActions&&this.groupActions.length>0&&l.throwError(this.lexer,"groups cannot be nested: "+p.name),a.length!==y.length+1&&l.throwError(this.lexer,"matched number of groups does not match the number of actions in rule: "+p.name);for(var E=0,S=1;S<a.length;S++)E+=a[S].length;return E!==c.length&&l.throwError(this.lexer,"with groups, all characters should be matched in consecutive groups in rule: "+p.name),this.groupMatches=a,this.groupMatched=a.slice(1),this.groupActions=y.slice(0),this.groupRule=p,e.goBack(c.length),this.tokenize(e)}if("@rematch"===y&&(e.goBack(c.length),c="",a=null,y=""),0===c.length)if(n!==this.stack.length||i!==this.stack[0]||(this.groupActions?this.groupActions.length:0)!==r){if(!t)return this.tokenize(e)}else l.throwError(this.lexer,"no progress in tokenizer in rule: "+p.name),e.advanceToEOS();if(0===y.indexOf("@brackets")){var T=y.substr("@brackets".length),k=h(this.lexer,c);return k||(l.throwError(this.lexer,"@brackets token returned but no bracket defined as: "+c),k={token:"",bracketType:o.Bracket.None}),{type:l.sanitize(k.token+T),bracket:k.bracketType}}var C=""===y?"":y+this.lexer.tokenPostfix;return{type:l.sanitize(C),bracket:u.bracket}},t.ID=0,t}(s.AbstractState);t.MonarchLexer=w,t.registerMonarchDefinition=m;var E=function(){function e(){}return e.register=function(t){e.INSTANCE_REGISTERED||(e.INSTANCE_REGISTERED=!0,t.registerInstance(e.INSTANCE))},e.registerMonarchDefinition=function(t,n){e.INSTANCE._registerMonarchDefinition(t,n)},e.prototype.getId=function(){return"vs.editor.modes.monarchDefinitionForwarder"},e.prototype._registerMonarchDefinition=function(e,t){var n=c.compile(p.clone(t));s.registerTokenizationSupport(e,function(e){return f(e,n)}),s.registerDeclarativeCommentsSupport(e,v(n)),s.registerDeclarativeElectricCharacterSupport(e,g(n)),s.registerDeclarativeTokenTypeClassificationSupport(e,b(n)),s.registerDeclarativeCharacterPairSupport(e,y(n))},e.INSTANCE=new e,e.INSTANCE_REGISTERED=!1,e.$_registerMonarchDefinition=d.Everywhere(e,e.prototype._registerMonarchDefinition),e}();s.registerThreadServiceListener(E.register),t.createTokenizationSupport=f,t.createTokenTypeClassificationSupportContribution=b;var S=function(e){function t(n,i,o){!o.name&&o.lexer&&(o=o.lexer),i||(i={id:o.name,workerParticipants:[]}),e.call(this,n,i,o.workerDescriptor?r.AsyncDescriptor.create(o.workerDescriptor.moduleName,o.workerDescriptor.ctorName):t.WorkerDescriptor),this.lexer=o,this.tokenizationSupport=f(this,o),this.electricCharacterSupport=new a.BracketElectricCharacterSupport(this,g(o)),this.commentsSupport=new a.CommentsSupport(v(o)),this.tokenTypeClassificationSupport=new a.TokenTypeClassificationSupport(b(o)),this.characterPairSupport=new a.CharacterPairSupport(this,y(o))}return __extends(t,e),t.prototype.getTriggerCharacters=function(){return this.lexer.suggestSupport.triggerCharacters},t.prototype.suggest=function(t,n){var r=this;return this._threadService.isInMainThread?this.lexer.suggestSupport.textualCompletions?e.prototype.suggest.call(this,t,n).then(function(e){return r._addSnippets(t,n,e)}):u.TPromise.as(this._addSnippets(t,n,null)):e.prototype.suggest.call(this,t,n)},t.prototype._addSnippets=function(e,t,n){var r=this.lexer.suggestSupport.snippets;if(!r||0===r.length)return n;n||(n=[]);var i=this._modelService.getModel(e);return n.push({currentWord:i.getWordUntilPosition(t,!0,!0).word,suggestions:r.slice(0)}),n},t.prototype.shouldAutotriggerSuggest=function(e,t,n){return this.lexer.suggestSupport.triggerCharacters.indexOf(n)>=0},t.WorkerDescriptor=r.AsyncDescriptor.create(l.monarchPath+"Worker","MonarchNullWorker"),t}(s.AbstractMode);t.MonarchMode=S;var T=function(e){function t(t,n,r){e.call(this,t,r,c.compile(p.clone(n)))}return __extends(t,e),t}(S);t.DynamicMonarchMode=T}),define("vs/base/json",["require","exports"],function(e,t){function n(e,t){function n(t,n){for(var r=0,i=0;t>r||!n;){var o=e.charCodeAt(m);if(o>=u._0&&o<=u._9)i=16*i+o-u._0;else if(o>=u.A&&o<=u.F)i=16*i+o-u.A+10;else{if(!(o>=u.a&&o<=u.f))break;i=16*i+o-u.a+10}m++,r++}return t>r&&(i=-1),i}function a(){var t=m;if(e.charCodeAt(m)===u._0)m++;else for(m++;m<e.length&&o(e.charCodeAt(m));)m++;if(m<e.length&&e.charCodeAt(m)===u.dot){if(m++,!(m<e.length&&o(e.charCodeAt(m))))return y=l.UnexpectedEndOfNumber,e.substring(t,n);for(m++;m<e.length&&o(e.charCodeAt(m));)m++}var n=m;if(m<e.length&&(e.charCodeAt(m)===u.E||e.charCodeAt(m)===u.e))if(m++,(m<e.length&&e.charCodeAt(m)===u.plus||e.charCodeAt(m)===u.minus)&&m++,m<e.length&&o(e.charCodeAt(m))){for(m++;m<e.length&&o(e.charCodeAt(m));)m++;n=m}else y=l.UnexpectedEndOfNumber;return e.substring(t,n)}function d(){for(var t="",r=m;;){if(m>=f){t+=e.substring(r,m),y=l.UnexpectedEndOfString;break}var o=e.charCodeAt(m);if(o===u.doubleQuote){t+=e.substring(r,m),m++;break}if(o!==u.backslash){if(i(o)){t+=e.substring(r,m),y=l.UnexpectedEndOfString;break}m++}else{if(t+=e.substring(r,m),m++,m>=f){y=l.UnexpectedEndOfString;break}switch(o=e.charCodeAt(m++)){case u.doubleQuote:t+='"';break;case u.backslash:t+="\\";break;case u.slash:t+="/";break;case u.b:t+="\b";break;case u.f:t+="\f";break;case u.n:t+="\n";break;case u.r:t+="\r";break;case u.t:t+="	";break;case u.u:var o=n(4,!0);o>=0?t+=String.fromCharCode(o):y=l.InvalidUnicode;break;default:y=l.InvalidEscapeCharacter}r=m}}return t}function p(){if(v="",y=l.None,g=m,m>=f)return g=f,b=c.EOF;var t=e.charCodeAt(m);if(r(t)||i(t)){do m++,v+=String.fromCharCode(t),t=e.charCodeAt(m);while(r(t)||i(t));return b=c.Trivia}switch(t){case u.openBrace:return m++,b=c.OpenBraceToken;case u.closeBrace:return m++,b=c.CloseBraceToken;case u.openBracket:return m++,b=c.OpenBracketToken;case u.closeBracket:return m++,b=c.CloseBracketToken;case u.colon:return m++,b=c.ColonToken;case u.comma:return m++,b=c.CommaToken;case u.doubleQuote:return m++,v=d(),b=c.StringLiteral;case u.slash:var n=m-1;if(e.charCodeAt(m+1)===u.slash){for(m+=2;f>m&&!i(e.charCodeAt(m));)m++;return v=e.substring(n,m),b=c.LineCommentTrivia}if(e.charCodeAt(m+1)===u.asterisk){m+=2;for(var p=f-1,h=!1;p>m;){var _=e.charCodeAt(m);if(_===u.asterisk&&e.charCodeAt(m+1)===u.slash){m+=2,h=!0;break}m++}return h||(m++,y=l.UnexpectedEndOfComment),v=e.substring(n,m),b=c.BlockCommentTrivia}return v+=String.fromCharCode(t),m++,b=c.Unknown;case u.minus:if(v+=String.fromCharCode(t),m++,m===f||!o(e.charCodeAt(m)))return b=c.Unknown;case u._0:case u._1:case u._2:case u._3:case u._4:case u._5:case u._6:case u._7:case u._8:case u._9:return v+=a(),b=c.NumericLiteral;default:for(;f>m&&s(t);)m++,t=e.charCodeAt(m);if(g!==m){switch(v=e.substring(g,m)){case"true":return b=c.TrueKeyword;case"false":return b=c.FalseKeyword;case"null":return b=c.NullKeyword}return b=c.Unknown}return v+=String.fromCharCode(t),m++,b=c.Unknown}}function h(){var e;do e=p();while(e===c.Trivia||e===c.LineCommentTrivia||e===c.BlockCommentTrivia);return e}void 0===t&&(t=!1);var m=0,f=e.length,v="",g=0,b=c.Unknown,y=l.None;return{getPosition:function(){return m},scan:t?h:p,getToken:function(){return b},getTokenValue:function(){return v},getTokenOffset:function(){return g},getTokenLength:function(){return m-g},getTokenError:function(){return y}}}function r(e){return e===u.space||e===u.tab||e===u.verticalTab||e===u.formFeed||e===u.nonBreakingSpace||e===u.ogham||e>=u.enQuad&&e<=u.zeroWidthSpace||e===u.narrowNoBreakSpace||e===u.mathematicalSpace||e===u.ideographicSpace||e===u.byteOrderMark}function i(e){return e===u.lineFeed||e===u.carriageReturn||e===u.lineSeparator||e===u.paragraphSeparator}function o(e){return e>=u._0&&e<=u._9}function s(e){return e>=u.a&&e<=u.z||e>=u.A&&e<=u.Z}function a(e,t){var r,i,o=n(e),s=[],a=0;do switch(i=o.getPosition(),r=o.scan()){case c.LineCommentTrivia:case c.BlockCommentTrivia:case c.EOF:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}while(r!==c.EOF);return s.join("")}!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter"}(t.ScanError||(t.ScanError={}));var l=t.ScanError;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.Trivia=14]="Trivia",e[e.EOF=15]="EOF"}(t.SyntaxKind||(t.SyntaxKind={}));var c=t.SyntaxKind;t.createScanner=n,t.isLetter=s;var u;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"
}(u||(u={})),t.stripComments=a}),require.config({ignoreDuplicateModules:["vs/languages/typescript/features/tokenization","vs/languages/typescript/features/quickFixMainActions","vs/languages/typescript/typescript","vs/languages/typescript/typescriptMode","vs/languages/typescript/typescript.configuration","vs/languages/javascript/javascript.configuration","vs/languages/javascript/javascript.extensions","vs/base/severity","vs/base/paths","vs/base/uuid","vs/base/trie","vs/base/callbackList","vs/base/eventSource","vs/languages/csharp/features/tokenization","vs/languages/lib/htmlLib","vs/languages/lib/beautify-html","vs/platform/configuration/configurationRegistry","vs/languages/csharp/csharp.extensions","vs/base/lifecycle"]}),define("vs/editor/languages.common",["./modes/modesExtensions","vs/languages/plaintext/plaintext","./modes/autoIndentation/autoIndentation","vs/editor/core/constants","./modes/monarch/monarchTypes","./modes/monarch/monarchCommon","./modes/monarch/monarchCompile","./modes/monarch/monarch","vs/base/json"],function(){}),define("vs/editor/editor.all",["./core/codeEditorWidget","./diff/diffEditorWidget","./contrib/find/find","./contrib/format/format","./contrib/hover/hover","./contrib/rename/rename","./contrib/rename/rename2","./contrib/snippet/snippet","./contrib/comment/comment","./contrib/linesOperations/linesOperations","./contrib/goToDeclaration/goToDeclaration","./contrib/gotoError/gotoError","./contrib/inPlaceReplace/inPlaceReplace","./contrib/suggest/suggest","./contrib/parameterHints/parameterHints","./contrib/diffNavigator/diffNavigator","./contrib/smartSelect/smartSelect","./contrib/smartSelect/jumpToBracket","./contrib/color/color","./contrib/referenceSearch/referenceSearch","./contrib/links/links","./contrib/toggleTabFocusMode/toggleTabFocusMode","./contrib/wordHighlighter/wordHighlighter","./contrib/selectionHighlighter/selectionHighlighter","./contrib/contextmenu/contextmenu","./contrib/clipboard/clipboard","./contrib/iPadShowKeyboard/iPadShowKeyboard","./contrib/codelens/codelens","./contrib/workerStatusReporter/workerStatusReporter","./contrib/multicursor/multicursor","./contrib/outlineMarker/outlineMarker","./contrib/quickFix/quickFix","./languages.common"],function(){}),define("vs/languages/annotatedLanguage/annotatedLanguage.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("annotatedcsharp",null,["text/x-annotated-csharp"],"vs/languages/annotatedLanguage/annotatedLanguage","ALMode")}),define("vs/languages/css/level",["require","exports"],function(e,t){function n(e){switch(e){case"ignore":return r.Ignore;case"warning":return r.Warning;case"error":return r.Error}return null}!function(e){e[e.Ignore=1]="Ignore",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(t.Level||(t.Level={}));var r=t.Level;t.toLevel=n}),define("vs/languages/css/services/lintRules",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/languages/css/level"],function(e,t,n,r){function i(e){var n={};for(var r in t.Rules){var i=t.Rules[r];n[e+"."+i.id]=i.getConfiguration()}return n}function o(e){var n={};for(var i in t.Rules){var o=t.Rules[i],s=r.toLevel(e[o.id]);s&&(n[o.id]=s)}return n}var s="warning",a="error",l="ignore",c=function(){function e(e,t,n){this.id=e,this.message=t,this.defaultValue=n}return e.prototype.getConfiguration=function(){return{type:"string",enum:[l,s,a],default:this.defaultValue,description:this.message}},e}();t.Rule=c,t.Rules={AllVendorPrefixes:new c("compatibleVendorPrefixes",n.localize("vs_languages_css_services_lintRules",0),l),IncludeStandardPropertyWhenUsingVendorPrefix:new c("vendorPrefix",n.localize("vs_languages_css_services_lintRules",1),s),DuplicateDeclarations:new c("duplicateProperties",n.localize("vs_languages_css_services_lintRules",2),l),EmptyRuleSet:new c("emptyRules",n.localize("vs_languages_css_services_lintRules",3),s),ImportStatemement:new c("importStatement",n.localize("vs_languages_css_services_lintRules",4),l),NoWidthOrHeightWhenPaddingOrBorder:new c("boxModel",n.localize("vs_languages_css_services_lintRules",5),l),UniversalSelector:new c("universalSelector",n.localize("vs_languages_css_services_lintRules",6),l),ZeroWithUnit:new c("zeroUnits",n.localize("vs_languages_css_services_lintRules",7),l),RequiredPropertiesForFontFace:new c("fontFaceProperties",n.localize("vs_languages_css_services_lintRules",8),s),HexColorLength:new c("hexColorLength",n.localize("vs_languages_css_services_lintRules",9),a),ArgsInColorFunction:new c("argumentsInColorFunction",n.localize("vs_languages_css_services_lintRules",10),a),UnknownProperty:new c("unknownProperties",n.localize("vs_languages_css_services_lintRules",11),s),IEStarHack:new c("ieHack",n.localize("vs_languages_css_services_lintRules",12),l),UnknownVendorSpecificProperty:new c("unknownVendorSpecificProperties",n.localize("vs_languages_css_services_lintRules",13),l),PropertyIgnoredDueToDisplay:new c("propertyIgnoredDueToDisplay",n.localize("vs_languages_css_services_lintRules",14),s),AvoidImportant:new c("important",n.localize("vs_languages_css_services_lintRules",15),l),AvoidFloat:new c("float",n.localize("vs_languages_css_services_lintRules",16),l),AvoidIdSelector:new c("idSelector",n.localize("vs_languages_css_services_lintRules",17),l)},t.getConfigurationProperties=i,t.sanitize=o}),define("vs/css!vs/languages/css/css-hover",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/languages/css/css.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/base/env","vs/languages/css/services/lintRules","vs/css!vs/languages/css/css-hover"],function(e,t,n,r,i,o,s,a){i.registerMode("css","CSS",["text/css"],"vs/languages/css/css","CSSMode"),s.enableGlobalCSSRuleChecker&&i.registerWorkerParticipant("css","vs/languages/css/monacoParticipant","WorkerParticipant");var l=r.Registry.as(o.Extensions.Configuration);l.registerConfiguration({id:"css",order:20,title:n.localize("vs_languages_css_css.contribution",0),anyOf:[{title:n.localize("vs_languages_css_css.contribution",1),properties:a.getConfigurationProperties("css.lint")}]})}),define("vs/languages/handlebars/handlebars.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("handlebars","Handlebars",["text/x-handlebars-template"],"vs/languages/handlebars/handlebars","HandlebarsMode")}),define("vs/languages/html/html.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("html","HTML",["text/html","text/x-jshtm","text/template"],"vs/languages/html/html","HTMLMode")}),define("vs/languages/javascript/javascript.extensions",["require","exports","vs/platform/platform"],function(e,t,n){var r;!function(e){function t(e){i=e}function r(){return i}e.Identifier="javascript",n.Registry.add(e.Identifier,e);var i;e.setProjectResolver=t,e.getProjectResolver=r}(r=t.Extensions||(t.Extensions={}))}),define("vs/languages/javascript/javascript.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/platform/services","vs/platform/platform","vs/platform/configuration/configurationRegistry","vs/editor/modes/modesExtensions","vs/languages/javascript/javascript.extensions"],function(e,t,n,r,i,o,s,a,l){a.registerMode("javascript","JavaScript",["text/javascript"],"vs/languages/javascript/javascript","JSMode"),a.registerWorkerParticipant("javascript","vs/languages/typescript/participants/filenameSuggestions","FilenameSuggestions"),r.enableJavaScriptRewriting&&(a.registerWorkerParticipant("javascript","vs/languages/typescript/js/importAndExportRewriter","ImportsAndExportsCollector"),a.registerWorkerParticipant("javascript","vs/languages/typescript/js/globalVariableRewriter","GlobalVariableCollector"),a.registerWorkerParticipant("javascript","vs/languages/typescript/js/angularServiceRewriter","AngularServiceRewriter")),l.Extensions.setProjectResolver(new i.AsyncDescriptor("vs/languages/typescript/project/projectResolver","ProjectResolver",{modeId:"javascript",pattern:"{**/*.d.ts,**/*.js,**/_references.ts}"}));var c=o.Registry.as(s.Extensions.Configuration);c.registerConfiguration({id:"javascript",order:20,type:"object",title:n.localize("vs_languages_javascript_javascript.contribution",0),anyOf:[{type:"object",title:n.localize("vs_languages_javascript_javascript.contribution",1),properties:{"javascript.suggest.alwaysAllWords":{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",2)},"javascript.suggest.useCodeSnippetsOnMethodSuggest":{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",3)}}},{title:n.localize("vs_languages_javascript_javascript.contribution",4),type:"object",properties:{"javascript.validate.scope":{type:"string",default:"/",description:n.localize("vs_languages_javascript_javascript.contribution",5)},"javascript.validate.baseUrl":{type:"string",default:"",description:n.localize("vs_languages_javascript_javascript.contribution",6)},"javascript.validate.target":{enum:["ES5","ES3"],default:"ES5",description:n.localize("vs_languages_javascript_javascript.contribution",7)},"javascript.validate.module":{enum:["commonjs","amd",""],default:"",description:n.localize("vs_languages_javascript_javascript.contribution",8)},"javascript.validate.noLib":{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",9)}}},{type:"object",title:n.localize("vs_languages_javascript_javascript.contribution",10),properties:{"javascript.validate.lint.curlyBracketsMustNotBeOmitted":{enum:["ignore","warning","error"],default:"ignore",description:n.localize("vs_languages_javascript_javascript.contribution",11)},"javascript.validate.lint.emptyBlocksWithoutComment":{enum:["ignore","warning","error"],default:"ignore",description:n.localize("vs_languages_javascript_javascript.contribution",12)},"javascript.validate.lint.comparisonOperatorsNotStrict":{enum:["ignore","warning","error"],default:"ignore",description:n.localize("vs_languages_javascript_javascript.contribution",13)},"javascript.validate.lint.missingSemicolon":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",14)},"javascript.validate.lint.reservedKeywords":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",15)},"javascript.validate.lint.typeScriptSpecifics":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",16)},"javascript.validate.lint.unknownTypeOfResults":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",17)},"javascript.validate.lint.semicolonsInsteadOfBlocks":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",18)},"javascript.validate.lint.functionsInsideLoops":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",19)},"javascript.validate.lint.newOnLowercaseFunctions":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",20)},"javascript.validate.lint.tripleSlashReferenceAlike":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",21)},"javascript.validate.lint.unusedVariables":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",22)},"javascript.validate.lint.unusedFunctions":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",23)},"javascript.validate.lint.newOnReturningFunctions":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",24)},"javascript.validate.lint.redeclaredVariables":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",25)},"javascript.validate.lint.undeclaredVariables":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",26)},"javascript.validate.lint.unknownProperty":{enum:["ignore","warning","error"],default:"ignore",description:n.localize("vs_languages_javascript_javascript.contribution",27)},"javascript.validate.lint.primitivesInInstanceOf":{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_javascript_javascript.contribution",28)},"javascript.validate.lint.mixedTypesArithmetics":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",29)},"javascript.validate.lint.forcedTypeConversion":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",30)}}}]})}),define("vs/languages/json/json.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/configuration/configurationRegistry","vs/platform/platform","vs/editor/modes/modesExtensions"],function(e,t,n,r,i,o){o.registerMode("json","JSON",["application/json"],"vs/languages/json/json","JSONMode");var s=i.Registry.as(r.Extensions.Configuration);s.registerConfiguration({id:"json",order:20,type:"object",title:n.localize("vs_languages_json_json.contribution",0),properties:{"json.schemas":{type:"array",description:n.localize("vs_languages_json_json.contribution",1),items:{type:"object",properties:{url:{type:"string",default:"/user.schema.json",description:n.localize("vs_languages_json_json.contribution",2)},fileMatch:{type:"array",items:{type:"string",default:"MyFile.json",description:n.localize("vs_languages_json_json.contribution",3)},minItems:1,description:n.localize("vs_languages_json_json.contribution",4)},schema:{type:"object",description:n.localize("vs_languages_json_json.contribution",5)}}},default:[{fileMatch:["/bower.json","/.bower.json"],url:"http://json.schemastore.org/bower"},{fileMatch:["/package.json"],url:"http://json.schemastore.org/package"},{fileMatch:["/project.json"],url:"http://json.schemastore.org/project"},{fileMatch:["*.schema.json"],url:"http://json-schema.org/draft-04/schema#"},{fileMatch:["/global.json"],url:"http://json.schemastore.org/global"},{fileMatch:["/ticino.plugin.json"],url:"http://opentools.azurewebsites.net/ticino.plugin.json"},{fileMatch:["/tsconfig.json"],url:"http://json.schemastore.org/tsconfig"},{fileMatch:["/.bowerrc"],url:"http://json.schemastore.org/bowerrc"},{fileMatch:["/.jshintrc"],url:"http://json.schemastore.org/jshintrc"},{fileMatch:["/.jscsrc"],url:"http://json.schemastore.org/jscsrc"}]}}})}),define("vs/languages/markdown/markdown.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/platform/platform"],function(e,t,n,r,i,o){r.registerMode("markdown","Markdown",["text/x-web-markdown"],"vs/languages/markdown/markdown","MarkdownMode");var s=o.Registry.as(i.Extensions.Configuration);s.registerConfiguration({id:"markdown",order:20,type:"object",title:n.localize("vs_languages_markdown_markdown.contribution",0),properties:{"markdown.styles":{type:"array",description:n.localize("vs_languages_markdown_markdown.contribution",1),items:{type:"string"}}}})}),define("vs/languages/php/php.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("php","PHP",["application/x-php"],"vs/languages/php/php","PHPMode")}),define("vs/languages/plaintext/plaintext.contribution",["require","exports","vs/editor/modes/modesExtensions","vs/languages/plaintext/plaintext"],function(e,t,n){n.registerMode("plainText","Plain Text",["text/plain"],"vs/languages/plaintext/plaintext","Mode")}),define("vs/languages/razor/razor.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("razor","Razor",["text/x-cshtml"],"vs/languages/razor/razor","RAZORMode")}),define("vs/languages/typescript/typescript",["require","exports","vs/platform/platform"],function(e,t,n){var r;!function(e){e.ResourceSetChanged="typescript.resourceSetChanged"}(r=t.Events||(t.Events={}));var i;!function(e){function t(e){i=e}function r(){return i}e.Identifier="typescript",n.Registry.add(e.Identifier,e);var i;e.setProjectResolver=t,e.getProjectResolver=r}(i=t.Extensions||(t.Extensions={}))}),define("vs/css!vs/languages/typescript/typescript",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/languages/typescript/typescript.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/platform/services","vs/platform/platform","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/languages/typescript/typescript","vs/platform/plugins","vs/platform/configuration/keybindings","vs/editor/contrib/suggest/suggest","vs/editor/editor","vs/css!./typescript"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){if(l.Extensions.setProjectResolver(new i.AsyncDescriptor("vs/languages/typescript/project/projectResolver","ProjectResolver",{modeId:"typescript",pattern:"**/*.ts"})),r.enableTypeScriptServiceMode)u.registerCommandRule("^"+d.ACCEPT_SELECTED_SUGGESTION_CMD,[{key:"."}],u.WEIGHT.editorContrib(),[{key:p.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:d.CONTEXT_SUGGEST_WIDGET_VISIBLE},{key:p.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,operator:u.KEYBINDING_CONTEXT_OPERATOR_EQUAL,operand:"typescript"}]);else{var h={pluginId:"typescript.legacy.impl",isFake:!0,activationEvents:["textModel:typescript"],mainModule:"vs/editor/modes/modesExtensions",mainModuleExtra:[new i.AsyncDescriptor("vs/languages/typescript/typescriptMode","TypeScriptMode"),"typescript",!1],contributes:{language:[{id:"typescript",aliases:["TypeScript","ts","typescript"],extensions:[".ts"],__isCompat:!0,mimetypes:["text/typescript"]}]},forceLoadingInUI:!0};c.registerPlugin(h),r.enableNLSWarnings&&s.registerWorkerParticipant("typescript","vs/languages/typescript/participants/nlsParticipant","WorkerParticipant"),s.registerWorkerParticipant("typescript","vs/languages/typescript/participants/filenameSuggestions","FilenameSuggestions");var m=o.Registry.as(a.Extensions.Configuration);m.registerConfiguration({id:"typescript",order:20,title:n.localize("vs_languages_typescript_typescript.contribution",0),anyOf:[{type:"object",title:n.localize("vs_languages_typescript_typescript.contribution",1),properties:{"typescript.suggest.alwaysAllWords":{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",2)},"typescript.suggest.useCodeSnippetsOnMethodSuggest":{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",3)}}},{title:n.localize("vs_languages_typescript_typescript.contribution",4),type:"object",properties:{"typescript.validate.scope":{type:"string",default:"/",description:n.localize("vs_languages_typescript_typescript.contribution",5)},"typescript.validate.baseUrl":{type:"string",default:"",description:n.localize("vs_languages_typescript_typescript.contribution",6)},"typescript.validate.target":{enum:["ES5","ES3"],default:"ES5",description:n.localize("vs_languages_typescript_typescript.contribution",7)},"typescript.validate.module":{enum:["commonjs","amd",""],default:"",description:n.localize("vs_languages_typescript_typescript.contribution",8)},"typescript.validate.noImplicitAny":{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",9)},"typescript.validate.noLib":{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",10)}}},{type:"object",title:n.localize("vs_languages_typescript_typescript.contribution",11),properties:{"typescript.validate.lint.curlyBracketsMustNotBeOmitted":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",12)},"typescript.validate.lint.emptyBlocksWithoutComment":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",13)},"typescript.validate.lint.comparisonOperatorsNotStrict":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",14)},"typescript.validate.lint.missingSemicolon":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",15)},"typescript.validate.lint.reservedKeywords":{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_typescript_typescript.contribution",16)},"typescript.validate.lint.typeScriptSpecifics":{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_typescript_typescript.contribution",17)},"typescript.validate.lint.unknownTypeOfResults":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",18)},"typescript.validate.lint.semicolonsInsteadOfBlocks":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",19)},"typescript.validate.lint.functionsInsideLoops":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",20)},"typescript.validate.lint.newOnLowercaseFunctions":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",21)},"typescript.validate.lint.tripleSlashReferenceAlike":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",22)},"typescript.validate.lint.unusedVariables":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",23)},"typescript.validate.lint.unusedFunctions":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",24)},"typescript.validate.lint.unusedMembers":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",25)},"typescript.validate.lint.functionsWithoutReturnType":{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",26)}}}]})}}),define("vs/languages/less/less.contribution",["require","exports","vs/platform/platform","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/languages/css/services/lintRules","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/css!vs/languages/css/css-hover"],function(e,t,n,r,i,o,s){o.registerMode("less","Less",["text/x-less","text/less"],"vs/languages/less/less","LESSMode");var a=n.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:"less",order:22,type:"object",title:r.localize("vs_languages_less_less.contribution",0),anyOf:[{title:r.localize("vs_languages_less_less.contribution",1),properties:i.getConfigurationProperties("less.lint")}]})}),define("vs/languages/sass/sass.contribution",["require","exports","vs/editor/modes/modesExtensions","vs/platform/platform","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/languages/css/services/lintRules","vs/platform/configuration/configurationRegistry","vs/css!vs/languages/css/css-hover"],function(e,t,n,r,i,o,s){n.registerMode("sass","Sass",["text/x-scss","text/scss"],"vs/languages/sass/sass","SASSMode");var a=r.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:"sass",order:24,title:i.localize("vs_languages_sass_sass.contribution",0),anyOf:[{title:i.localize("vs_languages_sass_sass.contribution",1),properties:o.getConfigurationProperties("sass.lint")}]})}),define("vs/languages/languages.main",["vs/languages/annotatedLanguage/annotatedLanguage.contribution","vs/languages/css/css.contribution","vs/languages/handlebars/handlebars.contribution","vs/languages/html/html.contribution","vs/languages/javascript/javascript.contribution","vs/languages/json/json.contribution","vs/languages/markdown/markdown.contribution","vs/languages/php/php.contribution","vs/languages/plaintext/plaintext.contribution","vs/languages/razor/razor.contribution","vs/languages/typescript/typescript.contribution","vs/languages/less/less.contribution","vs/languages/sass/sass.contribution"],function(){});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/actionRegistry",["require","exports","vs/platform/services","vs/base/ui/actions","vs/base/lib/winjs.base","vs/base/assert"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r,i,o,s){var a=[];"undefined"==typeof i?a=[]:Array.isArray(i)?a=i:i&&(a=[i]),e.call(this,t,n,r,a,o,s)}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.staticArguments(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.staticArguments(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindings",{get:function(){return this.staticArguments(2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindingContext",{get:function(){return this.staticArguments(3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindingWeight",{get:function(){return this.staticArguments(4)},enumerable:!0,configurable:!0}),t}(n.SyncDescriptor);t.SyncActionDescriptor=s;var a=function(e){function t(t,n,r,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s=!0),e.call(this,r,i,o,s),this._instantiationService=t,this._descriptor=n}return __extends(t,e),Object.defineProperty(t.prototype,"cachedAction",{get:function(){return this._cachedAction},set:function(e){this._cachedAction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._cachedAction instanceof r.Action?this._cachedAction.id:this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._cachedAction instanceof r.Action?this._cachedAction.label:this._label},set:function(e){this._cachedAction instanceof r.Action?this._cachedAction.label=e:this._setLabel(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this._cachedAction instanceof r.Action?this._cachedAction.class:this._cssClass},set:function(e){this._cachedAction instanceof r.Action?this._cachedAction.class=e:this._setClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._cachedAction instanceof r.Action?this._cachedAction.enabled:this._enabled},set:function(e){this._cachedAction instanceof r.Action?this._cachedAction.enabled=e:this._setEnabled(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._cachedAction instanceof r.Action?this._cachedAction.order:this._order},set:function(e){this._cachedAction instanceof r.Action?this._cachedAction.order=e:this._order=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this._cachedAction?this._cachedAction.run(e):this._createAction().then(function(t){return t.run(e)})},t.prototype._createAction=function(){var e=this,t=i.TPromise.as(void 0);return t.then(function(){return e._instantiationService.createInstance(e._descriptor)}).then(function(t){return o.ok(t instanceof r.Action,"Action must be an instanceof Base Action"),e._cachedAction=t,e._emitterUnbind=e.addEmitter(e._cachedAction),t})},t.prototype.dispose=function(){this._emitterUnbind&&this._emitterUnbind(),this._cachedAction&&this._cachedAction.dispose(),e.prototype.dispose.call(this)},t}(r.Action);t.DeferredAction=a}),define("vs/workbench/ui/actionRegistry",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/collections","vs/platform/platform","vs/base/ui/widgets/actionbar","vs/base/eventSource","vs/platform/configuration/keybindings","vs/base/severity"],function(e,t,n,r,i,o,s,a,l){function c(e,r){void 0===r&&(r=!0);var s=i.Registry.as(t.Extensions.WorkbenchActions),l=s.getWorkbenchAction(e.id);if(l){var c=[];if(l.keybindings){for(var u=0;u<l.keybindings.length&&(c.push(a.toLabel(l.keybindings[u])),r);u++);if(c.length>0)return new o.ActionItem(e,e,{label:!0,keybinding:c.join(n.localize("vs_workbench_ui_actionRegistry",0))})}}return null}function u(e){var t=e.keybindingContext,n="undefined"==typeof e.keybindingWeight?a.WEIGHT.workbenchContrib():e.keybindingWeight;a.registerCommand(e.id,d(e),e.keybindings,n,t)}function d(e){return function(t,n){p(t,e,n)}}function p(e,t,n){var r=e.messageService,i=e.instantiationService.createInstance(t);return i.label=t.label||i.label,i.enabled?(e.telemetryService&&e.telemetryService.publicLog("workbenchActionExecuted",{id:i.id,from:n.from||"keybinding"}),e.partService.joinCreation().then(function(){i.run().done(function(){i.dispose()},function(e){i.dispose(),r.show(l.Error,e)})}),void 0):(i.dispose(),void 0)}t.Extensions={WorkbenchActions:"workbench.contributions.actions"};var h=function(){function e(){this._workbenchActions=Object.create(null),this._mapActionIdToCategory=Object.create(null),this._onActionRegister=new s,this._onActionUnregister=new s}return e.prototype.fireActionRegister=function(e){this._onActionRegister.fire(e)},e.prototype.fireActionUnregister=function(e){this._onActionUnregister.fire(e)},e.prototype.registerWorkbenchAction=function(e,t){this._workbenchActions[e.id]||(this._workbenchActions[e.id]=e,u(e),this.fireActionRegister(e),t&&(this._mapActionIdToCategory[e.id]=t))},e.prototype.unregisterWorkbenchAction=function(e){if(!this._workbenchActions[e])return!1;var t=this._workbenchActions[e];return delete this._workbenchActions[e],delete this._mapActionIdToCategory[e],this.fireActionUnregister(t),!0},e.prototype.getWorkbenchAction=function(e){return this._workbenchActions[e]||null},e.prototype.getCategory=function(e){return this._mapActionIdToCategory[e]||null},e.prototype.getWorkbenchActions=function(){return r.values(this._workbenchActions)},e.prototype.setWorkbenchActions=function(e){var t=this;this._workbenchActions=Object.create(null),this._mapActionIdToCategory=Object.create(null),e.forEach(function(e){return t.registerWorkbenchAction(e)},this)},Object.defineProperty(e.prototype,"onRegisterWorkbenchAction",{get:function(){return this._onActionRegister.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUnregisterWorkbenchAction",{get:function(){return this._onActionUnregister.value},enumerable:!0,configurable:!0}),e}();t.getKeybindingActionItem=c,i.Registry.add(t.Extensions.WorkbenchActions,new h),t.createCommandHandler=d,t.triggerAndDisposeAction=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/toggleSidebarVisibility",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a){var l="workbench.action.toggleSidebarVisibility",c=r.localize("vs_workbench_contrib_actions_toggleSidebarVisibility",0),u=function(e){function t(t){e.call(this,l,c),this.partService=t.partService,this.enabled=!!this.partService
}return __extends(t,e),t.prototype.run=function(){var e=!this.partService.isSideBarHidden();return this.partService.setSideBarHidden(e),n.Promise.as(null)},t}(o.Action);t.ToggleSidebarVisibilityAction=u;var d=i.Registry.as(a.Extensions.WorkbenchActions);d.registerWorkbenchAction(new s.SyncActionDescriptor(u,l,c,{ctrlCmd:!0,key:"B"}),r.localize("vs_workbench_contrib_actions_toggleSidebarVisibility",1))}),define("vs/css!vs/base/ui/widgets/messageList",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/messageList",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/base/errors","vs/base/types","vs/base/eventSource","vs/base/ui/actions","vs/base/dom/htmlContentRenderer","vs/css!./messageList"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=o.$;!function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={}));var h=t.Severity,m=function(){function e(){}return e}();t.IMessageListOptions=m;var f=function(){function e(t,n,r){void 0===r&&(r={purgeInterval:e.DEFAULT_MESSAGE_PURGER_INTERVAL,maxMessages:e.DEFAULT_MAX_MESSAGES,maxMessageLength:e.DEFAULT_MAX_MESSAGE_LENGTH}),this.messages=[],this.messageListPurger=null,this.containerElementId=t,this.usageLogger=n,this.options=r,this._onMessagesShowing=new c,this._onMessagesCleared=new c}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this._onMessagesShowing.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this._onMessagesCleared.value},enumerable:!0,configurable:!0}),e.prototype.showMessage=function(e,t){var n=this;if(Array.isArray(t)){var r=[];return t.forEach(function(t){return r.push(n.showMessage(e,t))}),function(){return r.forEach(function(e){return e()})}}var i=this.getMessageText(t);return i?this.doShowMessage(t,i,e):function(){}},e.prototype.getMessageText=function(e){return l.isString(e)?e:e instanceof Error?a.toErrorMessage(e,!1):e.message?e.message:null},e.prototype.doShowMessage=function(e,t,n){var r=this;return this.purgeMessages(),this.messages.push({id:e,text:t,severity:n,time:(new Date).getTime(),actions:e.actions}),this.renderMessages(!0,1),function(){r.hideMessage(e)}},e.prototype.renderMessages=function(e,t){var a=this;if(this.messageListContainer)p(this.messageListContainer).empty(),p(this.messageListContainer).removeClass("transition");else{var l=o.withElementById(this.containerElementId);if(!l)return;this.messageListContainer=p(".global-message-list").appendTo(l)}e&&p(this.messageListContainer).style("top","-35px"),p(this.messageListContainer).ul({class:"message-list"},function(o){var l=a.prepareMessages();l.length>0?a._onMessagesShowing.fire():a._onMessagesCleared.fire(),l.forEach(function(e){var c;c=e.actions&&e.actions.length>0?e.actions:[new u.Action("close.message.action",n.localize("vs_base_ui_widgets_messageList",0),null,!0,function(){return a.hideMessage(e.text),r.Promise.as(!0)})],p(o).li({class:"message-list-entry message-list-entry-with-action"},function(r){c.forEach(function(n){var i=l.length>1||0>t?"message-right-side multiple":"message-right-side";r.div({class:i},function(t){t.a({class:"action-button"}).text(n.label).on("click",function(t){s.EventHelper.stop(t,!0),a.usageLogger&&a.usageLogger.publicLog("workbenchActionExecuted",{id:n.id,from:"message"});var r=n.run();r&&r.done(null,function(e){return a.showMessage(h.Error,e)}),a.hideMessage(e.text)})})});var o=e.text.substr(0,a.options.maxMessageLength);r.div({class:"message-left-side"},function(t){i.browser.isIE11orEarlier||t.addClass("message-overflow-ellipsis");var r=e.severity,s=r===h.Error?n.localize("vs_base_ui_widgets_messageList",1):r===h.Warning?n.localize("vs_base_ui_widgets_messageList",2):n.localize("vs_base_ui_widgets_messageList",3);p().span({class:"message-left-side severity "+(r===h.Error?"app-error":r===h.Warning?"app-warning":"app-info"),text:s}).appendTo(t);var a=d.renderHtml({tagName:"span",className:"message-left-side",role:"alert",formattedText:o});p(a).attr({role:"alert"}).title(a.textContent).appendTo(t)})})}),e&&setTimeout(function(){p(a.messageListContainer).addClass("transition"),p(a.messageListContainer).style("top","0")},50)})},e.prototype.prepareMessages=function(){for(var e=[],t={},n=0,r=0;r<this.messages.length;r++){var i=this.messages[r];l.isUndefinedOrNull(t[i.text])?(i.count=1,e.push(i),t[i.text]=n++):e[t[i.text]].count++}return e.length>this.options.maxMessages?e.splice(e.length-this.options.maxMessages,e.length):e},e.prototype.disposeMessages=function(e){e.forEach(function(e){e.actions&&e.actions.forEach(function(e){e.dispose()})})},e.prototype.hideMessages=function(){this.hideMessage()},e.prototype.hideMessage=function(e){for(var t=!1,n=0;n<this.messages.length;n++){var r=this.messages[n],i=!1;i=e?l.isString(e)&&r.text===e||r.id===e:!0,i&&(this.disposeMessages(this.messages.splice(n,1)),n--,t=!0)}t&&this.renderMessages(!1,-1)},e.prototype.purgeMessages=function(){var e=this;this.messageListPurger&&this.messageListPurger.cancel(),this.messageListPurger=r.Promise.timeout(this.options.purgeInterval).then(function(){for(var t=!1,n=0,r=0;r<e.messages.length;r++){var i=e.messages[r];i.severity===h.Error||i.actions||(e.disposeMessages(e.messages.splice(r,1)),n--,r--,t=!0)}t&&e.renderMessages(!1,n)})},e.DEFAULT_MESSAGE_PURGER_INTERVAL=1e4,e.DEFAULT_MAX_MESSAGES=5,e.DEFAULT_MAX_MESSAGE_LENGTH=500,e}();t.MessageList=f}),define("vs/workbench/ui/actionBarRegistry",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/base/types","vs/base/collections","vs/base/ui/widgets/actionbar"],function(e,t,n,r,i,o,s){function a(e){for(var t=0;t<e.length;t++){var n=e[t];i.isUndefinedOrNull(n.order)&&(n.order=t)}e=e.sort(function(e,t){var n=e.order,r=t.order;return r>n?-1:1});for(var r=-1,o=0;o<e.length;o++)if(e[o].id!==s.Separator.ID){r=o;break}if(-1===r)return[];e=e.slice(r);for(var a=e.length-1;a>=0;a--){var l=e[a].id===s.Separator.ID;if(!l)break;e.splice(a,1)}for(var c=!1,u=e.length-1;u>=0;u--){var l=e[u].id===s.Separator.ID;l&&!c?e.splice(u,1):l?l&&(c=!1):c=!0}return e}var l=function(){function e(){}return e.prototype.hasActions=function(){return!1},e.prototype.getActions=function(){return[]},e.prototype.hasSecondaryActions=function(){return!1},e.prototype.getSecondaryActions=function(){return[]},e.prototype.getActionItem=function(){return null},e}();t.ActionBarContributor=l,t.Scope={GLOBAL:"global",VIEW:"view",EDITOR:"editor",VIEWER:"viewer"};var c=function(){function e(){this.registry=r.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},e.prototype.hasActions=function(e,n){for(var r=this.toContext(e,n),i=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<i.length;o++){var s=i[o];if(s.hasActions(r))return!0}return!1},e.prototype.getActions=function(e,r){for(var i=[],o=this.toContext(e,r),s=this.registry.getActionBarContributors(t.Scope.VIEWER),l=0;l<s.length;l++){var c=s[l];c.hasActions(o)&&(i=i.concat(c.getActions(o)))}return n.Promise.as(a(i))},e.prototype.hasSecondaryActions=function(e,n){for(var r=this.toContext(e,n),i=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<i.length;o++){var s=i[o];if(s.hasSecondaryActions(r))return!0}return!1},e.prototype.getSecondaryActions=function(e,r){for(var i=[],o=this.toContext(e,r),s=this.registry.getActionBarContributors(t.Scope.VIEWER),l=0;l<s.length;l++){var c=s[l];c.hasSecondaryActions(o)&&(i=i.concat(c.getSecondaryActions(o)))}return n.Promise.as(a(i))},e.prototype.getActionItem=function(e,n,r){for(var i=this.registry.getActionBarContributors(t.Scope.VIEWER),o=this.toContext(e,n),s=i.length-1;s>=0;s--){var a=i[s],l=a.getActionItem(o,r);if(l)return l}return null},e}();t.ContributableActionProvider=c,t.prepareActions=a,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var u=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances={}}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var n=this.instantiationService.createInstance(t),r=o.lookupOrInsert(this.actionBarContributorInstances,e,[]);r.push(n)},e.prototype.getContributors=function(e){return o.lookup(this.actionBarContributorInstances,e,[])},e.prototype.getActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&(n=n.concat(e.getActions(t)))}),n},e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&(n=n.concat(e.getSecondaryActions(t)))}),n},e.prototype.getActionItemForContext=function(e,t,n){for(var r=this.getContributors(e),i=0;i<r.length;i++){var o=r[i],s=o.getActionItem(t,n);if(s)return s}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();r.Registry.add(t.Extensions.Actionbar,new u)}),define("vs/workbench/core/memento",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/types"],function(e,t,n,r,i){!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.Scope||(t.Scope={}));var o=t.Scope,s=function(){function e(t){this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.loadMemento=function(t,n){if(void 0===n&&(n=o.GLOBAL),n===o.WORKSPACE){var i=e.workspaceMementos[this.id];return i||(i=new a(this.id,n,t),e.workspaceMementos[this.id]=i),r.TPromise.as(i.getMemento())}var s=e.globalMementos[this.id];return s||(s=new a(this.id,n,t),e.globalMementos[this.id]=s),r.TPromise.as(s.getMemento())},e.prototype.saveMemento=function(){e.globalMementos[this.id]&&e.globalMementos[this.id].save(),e.workspaceMementos[this.id]&&e.workspaceMementos[this.id].save()},e.globalMementos={},e.workspaceMementos={},e.COMMON_PREFIX="memento/",e}();t.Memento=s;var a=function(){function e(e,t,n){this.id=e,this.scope=t,this.storageService=n,this.mementoObj=this.loadMemento()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.loadMemento=function(){var e=this.scope===o.GLOBAL?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE,t=this.storageService.get(this.id,e);return t?JSON.parse(t):{}},e.prototype.save=function(){var e=this.scope===o.GLOBAL?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE;i.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,e):this.storageService.store(this.id,JSON.stringify(this.mementoObj),e)},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/core/component",["require","exports","vs/base/eventEmitter","vs/workbench/core/memento"],function(e,t,n,r){var i=function(e){function t(t){e.call(this),this._toUnbind=[],this.id=t,this.componentMemento=new r.Memento(this.id)}return __extends(t,e),Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.loadMemento=function(e,t){return void 0===t&&(t=r.Scope.GLOBAL),this.componentMemento.loadMemento(e,t)},t.prototype.saveMemento=function(){this.componentMemento.saveMemento()},t.prototype.beforeShutdown=function(){return this.saveMemento(),null},t.prototype.dispose=function(){for(;this._toUnbind.length;)this._toUnbind.pop()();e.prototype.dispose.call(this)},t}(n.EventEmitter);t.WorkbenchComponent=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/events",["require","exports","vs/base/ui/events"],function(e,t,n){var r=function(){function e(){}return e.EDITOR_OPENED="editorOpened",e.EDITOR_CLOSED="editorClosed",e.EDITOR_INPUT_CHANGING="editorInputChanging",e.EDITOR_OPTIONS_CHANGING="editorOptionsChanging",e.EDITOR_INPUT_CHANGED="editorInputChanged",e.EDITOR_INPUT_STATE_CHANGED="editorInputStateChanged",e.EDITOR_SET_INPUT_ERROR="editorSetInputError",e.TEXT_EDITOR_SELECTION_CHANGED="textEditorSelectionChanged",e.TEXT_EDITOR_MODE_CHANGED="textEditorModeChanged",e.TEXT_EDITOR_CONTENT_CHANGED="textEditorContentChanged",e.TEXT_EDITOR_CONFIGURATION_CHANGED="textEditorOptionsChanged",e.VIEWLET_OPENING="viewletOpening",e.VIEWLET_OPENED="viewletOpened",e.VIEWLET_CLOSED="viewletClosed",e.WORKBENCH_CREATED="workbenchCreated",e.WORKBENCH_DISPOSING="workbenchDisposing",e.WORKBENCH_DISPOSED="workbenchDisposed",e.WORKBENCH_OPTIONS_CHANGED="workbenchOptionsChanged",e.UNTITLED_FILE_DIRTY="untitledFileDirty",e.UNTITLED_FILE_DELETED="untitledFileDeleted",e}();t.EventType=r;var i=function(e){function t(t,n,r,i,o,s){e.call(this,s),this.editor=t,this.editorId=n,this.editorInput=r,this.editorOptions=i,this.position=o}return __extends(t,e),t}(n.Event);t.EditorEvent=i;var o=function(e){function t(t,n){e.call(this,n),this.editorInput=t}return __extends(t,e),t}(n.Event);t.EditorInputEvent=o;var s=function(e){function t(t,n,r,i,o,s,a){e.call(this,n,r,i,o,s,a),this.selection=t}return __extends(t,e),t}(i);t.TextEditorSelectionEvent=s;var a=function(e){function t(t,n){e.call(this,n),this.actionId=t}return __extends(t,e),t}(n.Event);t.CommandEvent=a;var l=function(e){function t(t,n){e.call(this,n),this.viewletId=t}return __extends(t,e),t}(n.Event);t.ViewletEvent=l;var c=function(e){function t(t,n,r,i){e.call(this,i),this.key=t,this.before=n,this.after=r}return __extends(t,e),t}(n.Event);t.OptionsChangeEvent=c;var u=function(e){function t(t,n){e.call(this,n),this.resource=t}return __extends(t,e),t}(n.Event);t.UntitledEditorEvent=u}),define("vs/css!vs/base/ui/widgets/dropdown/dropdown",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/dropdown/dropdown",["require","exports","vs/base/dom/builder","vs/base/lib/winjs.base","vs/base/dom/touch","vs/base/ui/actions","vs/base/ui/widgets/actionbar","vs/base/eventEmitter","vs/base/lifecycle","vs/css!./dropdown"],function(e,t,n,r,i,o,s,a,l){var c=n.$,u=function(e){function t(t,n){var r=this;e.call(this),this.toDispose=[],this.$el=c(".dropdown").appendTo(t),this.$label=c(".dropdown-label"),(n.tick||n.action)&&this.$label.addClass("tick");var o=n.labelRenderer;if(!o&&n.action){this.$action=c(".dropdown-action").appendTo(this.$el);var a=new s.ActionItem(null,n.action,{icon:!0,label:!0});a.actionRunner=this,a.render(this.$action.getHTMLElement()),o=function(e){return e.innerText="",a}}o||(o=function(e){return c(e).text(n.label||""),null}),this.$label.on(["click",i.EventType.Tap],function(e){e.preventDefault(),e.stopPropagation(),r.toggleDropdown()}).appendTo(this.$el);var l=o(this.$label.getHTMLElement());l&&this.toDispose.push(l),this.toDispose.push(new i.Gesture(this.$label.getHTMLElement()))}return __extends(t,e),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this.$label.title(e)},enumerable:!0,configurable:!0}),t.prototype.toggleDropdown=function(){this.$el.hasClass("active")?this.hide():this.show()},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.onEvent=function(){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=l.disposeAll(this.toDispose),this.$boxContainer&&(this.$boxContainer.destroy(),this.$boxContainer=null),this.$contents&&(this.$contents.destroy(),this.$contents=null),this.$label&&(this.$label.destroy(),this.$label=null)},t}(o.ActionRunner);t.BaseDropdown=u;var d=function(e){function t(t,n){e.call(this,t,n),this.contextViewProvider=n.contextViewProvider}return __extends(t,e),Object.defineProperty(t.prototype,"contextViewProvider",{get:function(){return this._contextViewProvider},set:function(e){this._contextViewProvider=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextViewProvider.showContextView({getAnchor:function(){return e.$el.getHTMLElement()},render:function(t){return e.renderContents(t)},onDOMEvent:function(t,n){e.onEvent(t,n)},onHide:function(){e.$el.removeClass("active")}})},t.prototype.hide=function(){this._contextViewProvider&&this._contextViewProvider.hideContextView()},t.prototype.renderContents=function(){return null},t}(u);t.Dropdown=d;var p=function(e){function t(t,n){e.call(this,t,n),this._contextMenuProvider=n.contextMenuProvider,this.currentContainer=null,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||""}return __extends(t,e),Object.defineProperty(t.prototype,"contextMenuProvider",{get:function(){return this._contextMenuProvider},set:function(e){this._contextMenuProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return e.$el.getHTMLElement()},getActions:function(){return r.Promise.as(e.actions)},getActionsContext:function(){return e.menuOptions?e.menuOptions.context:null},getActionItem:function(t){return e.menuOptions&&e.menuOptions.actionItemProvider?e.menuOptions.actionItemProvider(t):null},getMenuClassName:function(){return e.menuClassName},onHide:function(){e.$el.removeClass("active"),e.currentContainer=null}})},t.prototype.hide=function(){},t}(u);t.DropdownMenu=p;var h=function(e){function t(t){e.call(this),this.el=document.createElement("div"),this.el.className="dropdown-group",t.appendChild(this.el)}return __extends(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t}(a.EventEmitter);t.DropdownGroup=h}),define("vs/css!vs/base/ui/widgets/toolbar/toolbar",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/toolbar/toolbar",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/types","vs/base/ui/actions","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/dropdown","vs/css!./toolbar"],function(e,t,n,r,i,o,s,a){var l=r.$;t.CONTEXT="context.toolbar";var c=function(){function e(e,t,n){var r=this;void 0===n&&(n={orientation:s.ActionsOrientation.HORIZONTAL}),this.options=n,this.toggleMenuAction=new u;var i=document.createElement("div");i.className="monaco-toolbar",e.appendChild(i),this.actionBar=new s.ActionBar(l(i),{orientation:n.orientation,actionItemProvider:function(e){return e.id===u.ID?(r.toggleMenuActionItem&&r.toggleMenuActionItem.dispose(),r.toggleMenuActionItem=new d(e,e.menuActions,t,r.options.actionItemProvider,r.options.orientation===s.ActionsOrientation.HORIZONTAL,r.actionRunner,"toolbar-toggle-more"),r.toggleMenuActionItem):n.actionItemProvider?n.actionItemProvider(e):null}})}return Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.actionBar.getContainer()},e.prototype.setActions=function(e,t){var n=this;return function(){var r=e.slice(0);n.hasSecondaryActions=t&&t.length>0,n.hasSecondaryActions&&(n.toggleMenuAction.menuActions=t.slice(0),r.push(n.toggleMenuAction)),n.actionBar.clear(),n.actionBar.push(r,{icon:!0,label:!1})}},e.prototype.addPrimaryAction=function(e){var t=this;return function(){if(t.hasSecondaryActions){var n=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:n})}else t.actionBar.push(e,{icon:!0,label:!1})}},e.prototype.dispose=function(){this.actionBar.dispose(),this.toggleMenuAction.dispose(),this.toggleMenuActionItem&&this.toggleMenuActionItem.dispose()},e}();t.ToolBar=c;var u=function(e){function t(){e.call(this,t.ID,n.localize("vs_base_ui_widgets_toolbar_toolbar",0),null,!0)}return __extends(t,e),Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t.ID="toolbar.toggle.more",t}(o.Action),d=function(e){function t(t,n,r,i,o,s,a){e.call(this,null,t),this.menuActionsOrProvider=n,this.contextMenuProvider=r,this.actionItemProvider=i,this.animateClick=o,this.actionRunner=s,this.clazz=a}return __extends(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var o=function(e){var t=r.$("a.action-label").attr({tabIndex:"-1",role:"menuitem",title:n._action.label||"",class:n.clazz}).appendTo(e);return l("span.label").text(n.getAction().label).appendTo(t),n.animateClick&&(l(e).on("mousedown",function(t){0===t.button&&l(e).addClass("active")}),l(e).on(["mouseup","mouseout"],function(t){0===t.button&&l(e).removeClass("active")})),null},s={contextMenuProvider:this.contextMenuProvider,labelRenderer:o};i.isArray(this.menuActionsOrProvider)?s.actions=this.menuActionsOrProvider:s.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=new a.DropdownMenu(t,s),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner},this.toUnbind=this.addEmitter(this.dropdownMenu)},t.prototype.dispose=function(){this.toUnbind(),this.dropdownMenu.dispose(),e.prototype.dispose.call(this)},t}(s.BaseActionItem);t.DropdownMenuActionItem=d}),define("vs/base/numbers",["require","exports","vs/base/types"],function(e,t,n){function r(e,t,r){var i,o;n.isNumber(t)?(i=e,o=t):(i=0,o=e,r=t);for(var s=o>=i?function(e){return e+1}:function(e){return e-1},a=o>=i?function(e,t){return t>e}:function(e,t){return e>t},l=i;a(l,o);l=s(l))r(l)}function i(e,t){var i=[],o=function(e){return i.push(e)};return n.isUndefined(t)?r(e,o):r(e,t,o),i}t.count=r,t.countToArray=i}),define("vs/css!vs/base/ui/widgets/splitview",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/splitview",["require","exports","vs/base/lifecycle","vs/base/eventEmitter","vs/base/types","vs/base/objects","vs/base/dom/dom","vs/base/numbers","vs/base/ui/widgets/sash","vs/css!./splitview"],function(e,t,n,r,i,o,s,a,l){function c(e,t){return e+t}!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var u=t.Orientation;!function(e){e[e.Flexible=0]="Flexible",e[e.Fixed=1]="Fixed"}(t.ViewSizing||(t.ViewSizing={}));var d=t.ViewSizing,p=function(e){function t(t){e.call(this),this.size=0,this._sizing=i.isUndefined(t.sizing)?d.Flexible:t.sizing,this._fixedSize=i.isUndefined(t.fixedSize)?24:t.fixedSize,this._minimumSize=i.isUndefined(t.minimumSize)?24:t.minimumSize}return __extends(t,e),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this._fixedSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.sizing===d.Fixed?this.fixedSize:this._minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return this.sizing===d.Fixed?this.fixedSize:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),t.prototype.setFlexible=function(e){this._sizing=d.Flexible,this.emit("change",i.isUndefined(e)?this._minimumSize:e)},t.prototype.setFixed=function(e){this._sizing=d.Fixed,this._fixedSize=i.isUndefined(e)?this._fixedSize:e,this.emit("change",this._fixedSize)},t.prototype.render=function(){},t.prototype.layout=function(){},t}(r.EventEmitter);t.View=p;var h=function(e){function t(t){e.call(this,t),this.headerSize=i.isUndefined(t.headerSize)?24:t.headerSize}return __extends(t,e),t.prototype.render=function(e,t){this.header=document.createElement("div"),this.header.className="header";var n=this.headerSize+"px";t===u.HORIZONTAL?this.header.style.width=n:this.header.style.height=n,this.renderHeader(this.header),e.appendChild(this.header),this.body=document.createElement("div"),this.body.className="body",this.layoutBodyContainer(t),this.renderBody(this.body),e.appendChild(this.body)},t.prototype.layout=function(e,t){this.layoutBodyContainer(t),this.layoutBody(e-this.headerSize)},t.prototype.renderHeader=function(){throw new Error("not implemented")},t.prototype.renderBody=function(){throw new Error("not implemented")},t.prototype.layoutBodyContainer=function(e){var t="calc(100% - "+this.headerSize+"px)";e===u.HORIZONTAL?this.body.style.width=t:this.body.style.height=t},t.prototype.layoutBody=function(){},t.prototype.dispose=function(){this.header=null,this.body=null,e.prototype.dispose.call(this)},t}(p);t.HeaderView=h,function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED"}(t.CollapsibleState||(t.CollapsibleState={}));var m=t.CollapsibleState,f=function(e){function t(t){e.call(this,t),this.state=i.isUndefined(t.initialState)?m.EXPANDED:t.initialState}return __extends(t,e),t.prototype.render=function(t,n){var r=this;e.prototype.render.call(this,t,n),s.addClass(this.header,"collapsible"),s.addClass(this.body,"collapsible"),this.headerClickListener=s.addListener(this.header,"click",function(){return r.toggleExpansion()})},t.prototype.layout=function(t,n){this.layoutHeader(),e.prototype.layout.call(this,t,n)},t.prototype.isExpanded=function(){return this.state===m.EXPANDED},t.prototype.expand=function(){this.isExpanded()||this.changeState(m.EXPANDED)},t.prototype.collapse=function(){this.isExpanded()&&this.changeState(m.COLLAPSED)},t.prototype.toggleExpansion=function(){this.isExpanded()?this.collapse():this.expand()},t.prototype.layoutHeader=function(){this.state===m.COLLAPSED?s.addClass(this.header,"collapsed"):s.removeClass(this.header,"collapsed")},t.prototype.changeState=function(e){this.state=e,this.layoutHeader()},t.prototype.dispose=function(){this.headerClickListener&&(this.headerClickListener(),this.headerClickListener=null),e.prototype.dispose.call(this)},t}(h);t.AbstractCollapsibleView=f;var v=function(e){function t(t){e.call(this,t),this.previousSize=null}return __extends(t,e),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),t===m.EXPANDED?this.setFlexible(this.previousSize||this._minimumSize):(this.previousSize=this.size,this.setFixed())},t}(f);t.CollapsibleView=v;var g=function(e){function t(t){e.call(this,o.mixin({sizing:d.Fixed},t)),this._expandedBodySize=i.isUndefined(t.expandedBodySize)?24:t.expandedBodySize}return __extends(t,e),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this.state===m.EXPANDED?this.expandedSize:this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedSize",{get:function(){return this.expandedBodySize+this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedBodySize",{get:function(){return this._expandedBodySize},set:function(e){this._expandedBodySize=e,this.setFixed(this.fixedSize)},enumerable:!0,configurable:!0}),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),this.setFixed(this.fixedSize)},t}(f);t.FixedCollapsibleView=g;var b=function(e){function t(t){e.call(this,{sizing:d.Fixed,fixedSize:0}),this.size=t.size}return __extends(t,e),t}(p),y=function(){function e(e,t){t=t||{},this.orientation=i.isUndefined(t.orientation)?u.VERTICAL:t.orientation,this.el=document.createElement("div"),s.addClass(this.el,"monaco-split-view"),s.addClass(this.el,this.orientation===u.VERTICAL?"vertical":"horizontal"),e.appendChild(this.el),this.size=null,this.viewElements=[],this.views=[],this.viewChangeListeners=[],this.initialWeights=[],this.sashes=[],this.sashesListeners=[],this.animationTimeout=null,this.sashOrientation=this.orientation===u.VERTICAL?l.Orientation.HORIZONTAL:l.Orientation.VERTICAL,this.orientation===u.VERTICAL?(this.measureContainerSize=function(){return s.getContentHeight(e)},this.layoutViewElement=function(e,t){return e.style.height=t+"px"},this.eventWrapper=function(e){return{start:e.startY,current:e.currentY,instantDiff:e.instantDiffY}}):(this.measureContainerSize=function(){return s.getContentWidth(e)},this.layoutViewElement=function(e,t){return e.style.width=t+"px"},this.eventWrapper=function(e){return{start:e.startX,current:e.currentX,instantDiff:e.instantDiffX}}),this.addView(new p({sizing:d.Fixed,minimumSize:0,fixedSize:0}),0,0)}return e.prototype.addView=function(e,t,n){var r=this;void 0===t&&(t=1),void 0===n&&(n=this.views.length-1);var i=this.views.length,o=document.createElement("div");if(s.addClass(o,"split-view-view"),this.viewElements.splice(n,0,o),e.render(o,this.orientation),this.views.splice(n,0,e),this.initialWeights.splice(n,0,t),n===i?this.el.appendChild(o):this.el.insertBefore(o,this.el.children.item(n)),this.views.length>2){var a=new l.Sash(this.el,this,{orientation:this.sashOrientation});this.sashes.splice(n-1,0,a),this.sashesListeners.push(a.addListener2("start",function(e){return r.onSashStart(a,r.eventWrapper(e))})),this.sashesListeners.push(a.addListener2("change",function(e){return r.onSashChange(a,r.eventWrapper(e))}))}this.viewChangeListeners.splice(n,0,e.addListener2("change",function(t){return r.onViewChange(e,t)})),null!==this.size&&this.onViewChange(e,e.minimumSize)},e.prototype.removeView=function(e){var t=this.views.indexOf(e);if(!(0>t)){var n=new b(e);this.views[t]=n,this.onViewChange(n,0);var r=Math.max(t-1,0);this.sashes[r].dispose(),this.sashes.splice(r,1),this.viewChangeListeners[t].dispose(),this.viewChangeListeners.splice(t,1),this.views.splice(t,1),this.el.removeChild(this.viewElements[t]),this.viewElements.splice(t,1),n.dispose(),e.dispose()}},e.prototype.layout=function(e){if(e=e||this.measureContainerSize(),null===this.size)return this.size=e,this.initialLayout(),void 0;e=Math.max(e,this.views.reduce(function(e,t){return e+t.minimumSize},0));var t=Math.abs(this.size-e),n=a.countToArray(this.views.length-1,-1),r=this.views.map(function(e){return e.size-e.minimumSize}),i=this.views.map(function(e){return e.maximumSize-e.size});e<this.size?this.expandCollapse(Math.min(t,r.reduce(c,0)),r,i,n,[]):e>this.size&&this.expandCollapse(Math.min(t,i.reduce(c,0)),r,i,[],n),this.size=e,this.layoutViews()},e.prototype.onSashStart=function(e,t){var n=this.sashes.indexOf(e),r=this.views.map(function(e){return e.size-e.minimumSize}),i=this.views.map(function(e){return e.maximumSize-e.size}),o=a.countToArray(n,-1),s=a.countToArray(n+1,this.views.length),l=o.map(function(e){return r[e]}),u=s.map(function(e){return r[e]}),d=o.map(function(e){return i[e]}),p=s.map(function(e){return i[e]});this.state={start:t.start,sizes:this.views.map(function(e){return e.size}),up:o,down:s,maxUp:Math.min(l.reduce(c,0),p.reduce(c,0)),maxDown:Math.min(d.reduce(c,0),u.reduce(c,0)),collapses:r,expands:i}},e.prototype.onSashChange=function(e,t){for(var n=this.sashes.indexOf(e),r=t.current-this.state.start,n=0;n<this.views.length;n++)this.views[n].size=this.state.sizes[n];
0>r?this.expandCollapse(Math.min(-r,this.state.maxUp),this.state.collapses,this.state.expands,this.state.up,this.state.down):this.expandCollapse(Math.min(r,this.state.maxDown),this.state.collapses,this.state.expands,this.state.down,this.state.up),this.layoutViews()},e.prototype.expandCollapse=function(e,t,n,r,i){var o=this,s=e,a=s;r.forEach(function(e){var n=Math.min(t[e],s);s-=n,o.views[e].size-=n}),i.forEach(function(e){var t=Math.min(n[e],a);a-=t,o.views[e].size+=t})},e.prototype.initialLayout=function(){var e=this,t=0,n=0;this.views.forEach(function(r,i){r.sizing===d.Flexible?t+=e.initialWeights[i]:n+=r.fixedSize});var r=this.size-n;this.views.forEach(function(n,i){n.size=n.sizing===d.Flexible?e.initialWeights[i]*r/t:n.fixedSize});var i=this.getLastFlexibleViewIndex();i>=0&&(this.views[i].size+=this.size-this.views.reduce(function(e,t){return e+t.size},0)),this.layoutViews()},e.prototype.getLastFlexibleViewIndex=function(e){void 0===e&&(e=null);for(var t=this.views.length-1;t>=0;t--)if(e!==t&&this.views[t].sizing===d.Flexible)return t;return-1},e.prototype.layoutViews=function(){for(var e=0;e<this.views.length;e++)this.layoutViewElement(this.viewElements[e],this.views[e].size),this.views[e].layout(this.views[e].size,this.orientation);this.sashes.forEach(function(e){return e.layout()});var t=!1,n=this.views.map(function(e){return t=e.size-e.minimumSize>0||t});t=!1;var r=this.views.map(function(e){return t=e.maximumSize-e.size>0||t}),i=this.views.slice().reverse();t=!1;var o=i.map(function(e){return t=e.size-e.minimumSize>0||t}).reverse();t=!1;var s=i.map(function(e){return t=e.maximumSize-e.size>0||t}).reverse();this.sashes.forEach(function(e,t){n[t]&&s[t+1]||r[t]&&o[t+1]?e.enable():e.disable()})},e.prototype.onViewChange=function(e,t){if(e!==this.voidView&&(this.areAllViewsFixed()?this.voidView.setFlexible():this.voidView.setFixed()),t!==e.size){this.setupAnimation();var n,r,i,o=this.views.indexOf(e),s=Math.abs(t-e.size),l=a.countToArray(o-1,-1),c=a.countToArray(o+1,this.views.length),u=c.concat(l),d=this.views.map(function(e){return Math.max(e.size-e.minimumSize,0)}),p=this.views.map(function(e){return Math.max(e.maximumSize-e.size,0)});t<e.size?(n=Math.min(u.reduce(function(e,t){return e+p[t]},0),s),r=[o],i=u):(n=Math.min(u.reduce(function(e,t){return e+d[t]},0),s),r=u,i=[o]),this.expandCollapse(n,d,p,r,i),this.layoutViews()}},e.prototype.setupAnimation=function(){var e=this;i.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),s.addClass(this.el,"animated"),this.animationTimeout=window.setTimeout(function(){return e.clearAnimation()},200)},e.prototype.clearAnimation=function(){this.animationTimeout=null,s.removeClass(this.el,"animated")},Object.defineProperty(e.prototype,"voidView",{get:function(){return this.views[this.views.length-1]},enumerable:!0,configurable:!0}),e.prototype.areAllViewsFixed=function(){var e=this;return this.views.every(function(t,n){return t.sizing===d.Fixed||n===e.views.length-1})},e.prototype.getVerticalSashLeft=function(e){return this.getSashPosition(e)},e.prototype.getHorizontalSashTop=function(e){return this.getSashPosition(e)},e.prototype.getSashPosition=function(e){for(var t=this.sashes.indexOf(e),n=0,r=0;t>=r;r++)n+=this.views[r].size;return n},e.prototype.dispose=function(){var e=this;i.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),this.orientation=null,this.size=null,this.viewElements.forEach(function(t){return e.el.removeChild(t)}),this.el=null,this.viewElements=[],this.views=n.disposeAll(this.views),this.sashes=n.disposeAll(this.sashes),this.sashesListeners=n.disposeAll(this.sashesListeners),this.measureContainerSize=null,this.layoutViewElement=null,this.eventWrapper=null,this.state=null},e}();t.SplitView=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/viewlet",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/env","vs/base/dom/dom","vs/platform/services","vs/platform/platform","vs/base/dom/builder","vs/base/ui/actions","vs/base/ui/widgets/actionbar","vs/workbench/core/component","vs/workbench/events","vs/workbench/ui/actionBarRegistry","vs/base/ui/widgets/toolbar/toolbar","vs/base/lifecycle","vs/base/ui/widgets/splitview"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){function g(e){var t=document.createElement("div");return o.addClass(t,"explorer-view-content"),e.appendChild(t),t}function b(e){if(e){var t=e.getSelection();t.length>0&&y(e,t[0],.5),e.DOMFocus()}}function y(e,t,n){return e?e.reveal(t,n):r.Promise.as(null)}t.EventType={INTERNAL_VIEWLET_TITLE_AREA_UPDATE:"internalViewletTitleAreaUpdate"};var _=function(e){function n(t,n){e.call(this,n),this._telemetryData={},this._telemetryService=t.telemetryService,this.visible=!1}return __extends(n,e),n.prototype.getTitle=function(){return null},Object.defineProperty(n.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"telemetryData",{get:function(){return this._telemetryData},enumerable:!0,configurable:!0}),n.prototype.create=function(e){return this.parent=e,r.Promise.as(null)},n.prototype.getContainer=function(){return this.parent},n.prototype.setVisible=function(e){if(this.visible=e,e)this._telemetryData={},this._telemetryData.startTime=new Date;else if(this._telemetryData.timeSpent=(Date.now()-this._telemetryData.startTime)/1e3,delete this._telemetryData.startTime,!i.isTesting()&&this._telemetryService){var t="viewletShown";this._telemetryData.viewlet=this.getId(),this._telemetryService.publicLog(t,this._telemetryData)}return r.TPromise.as(null)},n.prototype.focus=function(){},n.prototype.layout=function(){},n.prototype.getActions=function(){return[]},n.prototype.getSecondaryActions=function(){return[]},n.prototype.getActionItem=function(){return null},n.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new c.ActionRunner),this.actionRunner},n.prototype.updateTitleArea=function(){this.emit(t.EventType.INTERNAL_VIEWLET_TITLE_AREA_UPDATE,new p.ViewletEvent(this.getId()))},n.prototype.getSelection=function(){return s.Selection.EMPTY},n.prototype.isVisible=function(){return this.visible},n.prototype.getControl=function(){return null},n}(d.WorkbenchComponent);t.Viewlet=_;var w=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.create=function(t){var n=this;return e.prototype.create.call(this,t),this.viewerContainer=t.div(),this.viewer=this.createViewer(this.viewerContainer),this.toUnbind.push(this.viewer.addListener("selection",function(e){return n.onSelection(e)})),this.toUnbind.push(this.viewer.addListener("focus",function(e){return n.onFocus(e)})),r.Promise.as(null)},t.prototype.onSelection=function(){},t.prototype.onFocus=function(){},t.prototype.createViewer=function(){throw new Error("Subclasses have to implement")},t.prototype.getViewer=function(){return this.viewer},t.prototype.setVisible=function(t){var n;return t?(n=e.prototype.setVisible.call(this,t),this.getViewer().onVisible()):(this.getViewer().onHidden(),n=e.prototype.setVisible.call(this,t)),n},t.prototype.focus=function(){if(e.prototype.focus.call(this),this.viewer){var t=this.viewer.getSelection();t.length>0&&this.reveal(t[0],.5),this.viewer.DOMFocus()}},t.prototype.reveal=function(e,t){return this.viewer?(this.wasLayouted||this.viewer.layout(),this.viewer.reveal(e,t)):r.Promise.as(null)},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.viewer&&(this.wasLayouted=!0,this.viewer.layout(t.height))},t.prototype.getControl=function(){return this.viewer},t.prototype.getSelection=function(){return this.viewer?new s.StructuredSelection(this.viewer.getSelection()):new s.StructuredSelection([])},t.prototype.dispose=function(){this.viewer&&this.viewer.dispose(),e.prototype.dispose.call(this)},t}(_);t.ViewerViewlet=w;var E=function(e){function t(t,n,r,i,o,s){e.call(this,t,n),this.id=r,this.name=i,this.cssClass=o,this.order=s}return __extends(t,e),t}(s.AsyncDescriptor);t.ViewletDescriptor=E,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var S=function(){function e(){this.viewlets=[]}return e.prototype.registerViewlet=function(e){null===this.viewletById(e.id)&&this.viewlets.push(e)},e.prototype.getViewlet=function(e){return this.viewletById(e)},e.prototype.getViewlets=function(){return this.viewlets.slice(0)},e.prototype.setViewlets=function(e){this.viewlets=e},e.prototype.viewletById=function(e){for(var t=0;t<this.viewlets.length;t++)if(this.viewlets[t].id===e)return this.viewlets[t];return null},e}();a.Registry.add(t.Extensions.Viewlets,new S);var T=function(e){function t(t,n,r,i){e.call(this,n,r),this.viewletService=t.viewletService,this.editorService=t.editorService,this.viewletId=i,this.enabled=!!this.viewletService&&!!this.editorService}return __extends(t,e),t.prototype.run=function(){if(this.otherViewletShowing()||!this.sidebarHasFocus())return this.viewletService.openViewlet(this.viewletId,!0);var e=this.editorService.getActiveEditor();return e&&e.focus(),r.Promise.as(!0)},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&o.isAncestor(t,e.getContainer().getHTMLElement())},t}(c.Action);t.ToggleViewletAction=T;var k=function(e){function t(t,i,o,s){e.call(this,"workbench.action.collapse",n.localize("vs_workbench_ui_parts_viewlet",0),s,o,function(){return i.getHighlight()?r.Promise.as(null):(i.collapseAll(),i.clearSelection(),i.DOMFocus(),r.Promise.as(null))})}return __extends(t,e),t}(c.Action);t.CollapseAction=k;var C=l.$,x=function(e){function t(t,n,r,i,o){e.call(this,{expandedBodySize:r,headerSize:24,initialState:i?v.CollapsibleState.COLLAPSED:v.CollapsibleState.EXPANDED}),this.viewName=o,this.messageService=t.messageService,this.actionRunner=n,this.contextMenuService=t.contextMenuService,this.toDispose=[]}return __extends(t,e),t.prototype.create=function(){return r.Promise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new m.ToolBar(C("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(h.prepareActions(this.getActions()),h.prepareActions(this.getSecondaryActions()))(),C(e).on("dragover",function(){t.isExpanded()||t.expand()})},t.prototype.renderViewTree=function(e){return g(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.refresh=function(){return r.Promise.as(null)},t.prototype.setVisible=function(e){return this.isVisible=e,e?this.tree.onVisible():this.tree.onHidden(),r.Promise.as(null)},t.prototype.focus=function(){b(this.tree)},t.prototype.getSelection=function(){return new s.StructuredSelection(this.tree.getSelection())},t.prototype.reveal=function(e,t){return y(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(){return null},t.prototype.beforeShutdown=function(){return null},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.toDispose=f.disposeAll(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(v.FixedCollapsibleView);t.AdaptiveCollapsibleViewletView=x;var A=function(e){function t(t,n,r){e.call(this,{minimumSize:48}),this.viewName=r,this.messageService=t.messageService,this.actionRunner=n,this.contextMenuService=t.contextMenuService,this.toDispose=[]}return __extends(t,e),t.prototype.create=function(){return r.Promise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new m.ToolBar(C("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(h.prepareActions(this.getActions()),h.prepareActions(this.getSecondaryActions()))(),C(e).on("dragover",function(){t.isExpanded()||t.expand()})},t.prototype.renderViewTree=function(e){return g(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.refresh=function(){return r.Promise.as(null)},t.prototype.setVisible=function(e){return this.isVisible=e,e?this.tree.onVisible():this.tree.onHidden(),r.Promise.as(null)},t.prototype.focus=function(){b(this.tree)},t.prototype.getSelection=function(){return new s.StructuredSelection(this.tree.getSelection())},t.prototype.reveal=function(e,t){return y(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(){return null},t.prototype.beforeShutdown=function(){return null},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.toDispose=f.disposeAll(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(v.CollapsibleView);t.CollapsibleViewletView=A});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editorInput",["require","exports","vs/base/eventEmitter","vs/base/ui/events"],function(e,t,n,r){var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getId=function(){throw new Error("Subclass to implement")},t.prototype.getName=function(){return null},t.prototype.getDescription=function(){return null},t.prototype.getStatus=function(){return null},t.prototype.getPreferredEditor=function(e){return e&&e.length>0?e[0]:null},t.prototype.matches=function(e){return this===e},t.prototype.resolve=function(){throw new Error("Subclass to implement")},t.prototype.dispose=function(){this.disposed=!0,this.emit(r.EventType.DISPOSE),e.prototype.dispose.call(this)},t.prototype.isDisposed=function(){return this.disposed},t}(n.EventEmitter);t.EditorInput=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editorModel",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/ui/events"],function(e,t,n,r,i){var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.load=function(){return n.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this.emit(i.EventType.DISPOSE),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.EditorModel=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/textEditorModel",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/editor/editor","vs/workbench/ui/parts/editor/editorModel","vs/platform/platform","vs/editor/modes/modesExtensions","vs/editor/core/model/model","vs/base/network","vs/editor/modes/nullMode"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this._textEditorModel},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,r){var i=this,o=this.getFirstLineText(e);return n.Promise.any([n.Promise.timeout(50),this.getOrCreateMode(t,o)]).then(function(){return i._textEditorModel=new l.Model(e,i.getOrCreateMode(t,o),r?c.URL.fromUri(r):null),i})},t.prototype.getFirstLineText=function(e){var t=e.substr(0,100),n=t.indexOf("\r");0>n&&(n=t.length);var r=t.indexOf("\n");return 0>r&&(r=t.length),t=t.substr(0,Math.min(n,r))},t.prototype.getOrCreateMode=function(e){var t=s.Registry.as(a.Extensions.EditorModes);return t.getOrCreateMode(e)},t.prototype.updateTextEditorModel=function(e,t){var n=s.Registry.as(a.Extensions.EditorModes),i=this.getValue(),o=!r.isUndefinedOrNull(e)&&i!==e,l=!1;if(!r.isUndefinedOrNull(t)){var c=n.getModeId(t),d=this.textEditorModel.getMode();if(d&&d.getId()!==u.NullMode.ID&&c){var p=d.getId();l=p!==c}}o?this.textEditorModel.setValue(e,l?this.getOrCreateMode(t):void 0):l&&this.textEditorModel.setMode(this.getOrCreateMode(t))},t.prototype.getValue=function(){return this._textEditorModel?this._textEditorModel.getValue(i.EndOfLinePreference.TextDefined,!0):null},t.prototype.dispose=function(){this._textEditorModel&&(this._textEditorModel.destroy(),this._textEditorModel=null),e.prototype.dispose.call(this)},t.prototype.isResolved=function(){return!!this._textEditorModel},t}(o.EditorModel);t.BaseTextEditorModel=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/stringEditorModel",["require","exports","vs/base/lib/winjs.base","vs/workbench/ui/parts/editor/textEditorModel","vs/editor/core/position"],function(e,t,n,r,i){var o=function(e){function t(t,n,r){e.call(this),this.value=t,this.mime=n,this.resource=r}return __extends(t,e),t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){this.value=e,this.textEditorModel&&this.textEditorModel.setValue(e)},t.prototype.append=function(e){if(this.value+=e,this.textEditorModel){var t=this.textEditorModel,n=t.getLineCount();t.change(function(r){r.insertText(new i.Position(n,t.getLineMaxColumn(n)),e,!0)})}},t.prototype.clearValue=function(){if(this.value="",this.textEditorModel){var e=this.textEditorModel,t=e.getLineCount();e.change(function(n){n.deleteText({startLineNumber:1,startColumn:1,endLineNumber:t,endColumn:e.getLineMaxColumn(t)})})}},t.prototype.trim=function(e){if(this.textEditorModel){var t=this.textEditorModel,n=t.getLineCount();if(n>e){t.change(function(t){t.deleteText({startLineNumber:1,startColumn:1,endLineNumber:n-e+1,endColumn:1})});var r=t.getValue();return this.value=r,this.value}}return null},t.prototype.setMime=function(e){this.mime=e},t.prototype.getMime=function(){return this.mime},t.prototype.load=function(){return this.textEditorModel?(this.updateTextEditorModel(this.value,this.mime),n.TPromise.as(this)):this.createTextEditorModel(this.value,this.mime,this.resource)},t}(r.BaseTextEditorModel);t.StringEditorModel=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/untitledEditorModel",["require","exports","vs/workbench/ui/parts/editor/stringEditorModel","vs/editor/editor","vs/editor/core/constants","vs/workbench/events"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r,i){e.call(this,n,r,i),this.eventService=t.eventService,this.dirty=!1}return __extends(t,e),t.prototype.getValue=function(){return this.textEditorModel?this.textEditorModel.getValue(r.EndOfLinePreference.TextDefined,!0):null},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getModeId():null},t.prototype.isDirty=function(){return this.dirty},t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(e){return t.textModelChangeListener=t.textEditorModel.addListener(i.EventType.ModelContentChanged,function(e){return t.onModelContentChanged(e)}),e})},t.prototype.onModelContentChanged=function(){this.dirty||(this.dirty=!0,this.eventService.emit(o.EventType.UNTITLED_FILE_DIRTY,new o.UntitledEditorEvent(this.resource)))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.textModelChangeListener&&(this.textModelChangeListener(),this.textModelChangeListener=null),this.eventService.emit(o.EventType.UNTITLED_FILE_DELETED,new o.UntitledEditorEvent(this.resource))},t}(n.StringEditorModel);t.UntitledEditorModel=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/untitledEditorInput",["require","exports","vs/base/lib/winjs.base","vs/editor/modes/modesExtensions","vs/base/mime","vs/workbench/ui/parts/editor/editorInput","vs/platform/platform","vs/workbench/ui/parts/editor/untitledEditorModel"],function(e,t,n,r,i,o,s,a){var l=function(e){function t(t,n){e.call(this),this.instantiationService=t.instantiationService,this.lifecycleService=t.lifecycleService,this.resource=n}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getName=function(){return this.resource.path},t.prototype.getDescription=function(){return null},t.prototype.isDirty=function(){return this.cachedModel&&this.cachedModel.isDirty()},t.prototype.getStatus=function(){var e=this.isDirty();return e?{state:"dirty",decoration:"â"}:null},t.prototype.suggestFileName=function(){var e=this.getMime();return e?i.suggestFilename(e,this.getName()):this.getName()},t.prototype.getMime=function(){if(this.cachedModel){var e=s.Registry.as(r.Extensions.EditorModes);return e.getMimeForMode(this.cachedModel.getModeId())}return null},t.prototype.resolve=function(){var e=this;if(this.cachedModel)return n.Promise.as(this.cachedModel);var t=this.createModel();return t.load().then(function(t){return e.cachedModel=t,e.cachedModel})},t.prototype.createModel=function(){var e="",t=i.MIME_TEXT;return this.instantiationService.createInstance(a.UntitledEditorModel,e,t,this.resource)},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var r=n;return r.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null)},t.ID="workbench.editors.untitledEditorInput",t.SCHEMA="untitled",t}(o.EditorInput);t.UntitledEditorInput=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/baseEditor",["require","exports","vs/base/lib/winjs.base","vs/base/ui/actions","vs/platform/services","vs/workbench/ui/actionBarRegistry","vs/base/types","vs/platform/platform","vs/workbench/ui/parts/viewlet","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/untitledEditorInput"],function(e,t,n,r,i,o,s,a,l,c,u){function d(e,t){if(!e)return null;t&&s.isFunction(e.getModifiedInput)&&(e=e.getModifiedInput());var n=e;return n instanceof c.EditorInput&&s.areFunctions(n.setResource,n.setMime,n.getResource,n.getMime)?n:null}function p(e,t){return e instanceof u.UntitledEditorInput?e:d(e,t)}var h=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return this._input||null},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._options||null},t.prototype.setInput=function(e,t){return this._input=e,this._options=t,n.TPromise.as(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.setVisible=function(t,n){void 0===n&&(n=null);var r=e.prototype.setVisible.call(this,t);return this._position=n,r},t.prototype.changePosition=function(e){this._position=e},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.supportsSplitEditor=function(){return!1},t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t}(l.Viewlet);t.BaseEditor=h,t.asFileEditorInput=d,t.asResourceEditorInput=p;var m=function(e){function t(t,n,r,i){e.call(this,r,i),this.id=t,this.name=n}return __extends(t,e),t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.describes=function(e){return e instanceof h&&e.getId()===this.id},t}(i.AsyncDescriptor);t.EditorDescriptor=m,t.Extensions={Editors:"workbench.contributions.editors"};var f="__$inputDescriptors",v=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null),this.editors=[]}return e.prototype.setInstantiationService=function(e){this.instantiationService=e;for(var t in this.editorInputFactoryConstructors){var n=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,n)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var n=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=n},e.prototype.registerEditor=function(e,t){var n=[];s.isArray(t)?n=t:n.push(t),e[f]=n,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,n=function(e,r){for(var i=[],o=0;o<t.editors.length;o++)for(var s=t.editors[o],a=s[f],l=0;l<a.length;l++){var c=a[l].ctor;if(!r&&e.constructor===c){i.push(s);break}if(r&&e instanceof c){i.push(s);break}}return r||0!==i.length?r?i:i:n(e,!0)},r=n(e);if(r&&r.length>0){var i=e.getPreferredEditor(r);return i?i:r[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var n=this.editors[t];if(n.getId()===e)return n}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){this.editors=e},e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var n=this.editors[t],r=n[f];e=e.concat(r.map(function(e){return e.ctor}))}return e},e.prototype.registerDefaultFileInput=function(e){this.defaultFileInputDescriptor=e},e.prototype.getDefaultFileInput=function(){return this.defaultFileInputDescriptor},e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();a.Registry.add(t.Extensions.Editors,new v);var g=function(e){function t(){e.call(this),this.mapEditorInputActionContextToPrimaryActions=this.createPositionArray(),this.mapEditorInputActionContextToSecondaryActions=this.createPositionArray()}return __extends(t,e),t.prototype.createPositionArray=function(){for(var e=[],t=0;t<i.POSITIONS.length;t++)e[t]={};return e},t.prototype.toId=function(e){return e.editor.getId()+e.input.getId()},t.prototype.clearInputsFromCache=function(e,t){t?this.doClearInputsFromCache(this.mapEditorInputActionContextToPrimaryActions[e]):this.doClearInputsFromCache(this.mapEditorInputActionContextToSecondaryActions[e])},t.prototype.doClearInputsFromCache=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.forEach(function(e){e.input=null,e.position=null})}},t.prototype.hasActions=function(e){return this.checkEditorContext(e)?this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]?!0:this.hasActionsForEditorInput(e):!1},t.prototype.getActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!0);var t=e.input,n=e.position,r=this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)];if(r)return r.forEach(function(e){e.input=t,e.position=n}),r;var i=this.getActionsForEditorInput(e);return i.forEach(function(e){e.input=t,e.position=n}),this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]=i,i},t.prototype.hasSecondaryActions=function(e){return this.checkEditorContext(e)?this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]?!0:this.hasSecondaryActionsForEditorInput(e):!1},t.prototype.getSecondaryActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!1);var t=e.input,n=e.position,r=this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)];if(r)return r.forEach(function(e){e.input=t,e.position=n}),r;var i=this.getSecondaryActionsForEditorInput(e);return i.forEach(function(e){e.input=t,e.position=n}),this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]=i,i},t.prototype.checkEditorContext=function(e){return e&&e.input instanceof c.EditorInput&&e.editor instanceof h&&!s.isUndefinedOrNull(e.position)},t.prototype.hasActionsForEditorInput=function(){return!1},t.prototype.getActionsForEditorInput=function(){return[]},t.prototype.hasSecondaryActionsForEditorInput=function(){return!1},t.prototype.getSecondaryActionsForEditorInput=function(){return[]},t}(o.ActionBarContributor);t.EditorInputActionContributor=g;var b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},set:function(e){this._input=e,this.enabled=this.isEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return!!this._input},t}(r.Action);t.EditorInputAction=b});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editorOptions",["require","exports","vs/base/types","vs/base/objects"],function(e,t,n,r){var i=function(){function e(){}return e.create=function(t){var n=new e;return n.preserveFocus=t.preserveFocus,n.forceOpen=t.forceOpen,n},e.prototype.matches=function(e){return this===e},e}();t.EditorOptions=i;var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.create=function(e){var n=new t;return n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!n.isUndefinedOrNull(this.startLineNumber)&&!n.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r,this},t.prototype.viewState=function(e){this.editorViewState=e},t.prototype.apply=function(e){var t=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),t=!0;else if(!n.isUndefinedOrNull(this.startLineNumber)&&!n.isUndefinedOrNull(this.startColumn)){if(n.isUndefinedOrNull(this.endLineNumber)||n.isUndefinedOrNull(this.endColumn)){var r={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(r),e.revealPositionInCenter(r)}else{var i={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(i),e.revealRangeInCenter(i)}t=!0}return t},t.prototype.matches=function(n){return e.prototype.matches.call(this,n)===!0?!0:n?n instanceof t&&n.startLineNumber===this.startLineNumber&&n.startColumn===this.startColumn&&n.endLineNumber===this.endLineNumber&&n.endColumn===this.endColumn&&n.preserveFocus===this.preserveFocus&&n.forceOpen===this.forceOpen&&r.equals(n.editorViewState,this.editorViewState):!1
},t}(i);t.TextEditorOptions=o;var s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.create=function(e){var n=new t;return n.autoRevealFirstChange=e.autoRevealFirstChange,n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n},t}(o);t.TextDiffEditorOptions=s}),define("vs/workbench/constants",["require","exports"],function(e,t){t.Preferences={THEME:"workbench.theme"},t.Identifiers={WORKBENCH_CONTAINER:"workbench.main.container",ACTIVITYBAR_PART:"workbench.parts.activitybar",SIDEBAR_PART:"workbench.parts.sidebar",EDITOR_PART:"workbench.parts.editor",STATUSBAR_PART:"workbench.parts.statusbar"},t.SLASH="/",t.BACKSLASH="\\"});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/services",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/platform/services","vs/base/uri","vs/base/network","vs/base/mime","vs/base/env","vs/platform/platform","vs/base/ui/events","vs/base/errors","vs/base/types","vs/base/arrays","vs/base/ui/actions","vs/base/ui/widgets/messageList","vs/editor/core/constants","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/untitledEditorInput","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/constants","vs/workbench/ui/actionRegistry","vs/platform/actionRegistry","vs/base/severity","vs/workbench/events"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k){var C=function(e){function t(t,n,r,i){void 0===i&&(i={}),e.call(this,n,r,i),this.eventService=t.eventService}return __extends(t,e),t.prototype.updateOptions=function(e,t){var n=this.options[e];this.options[e]=t,this.eventService.emit(k.EventType.WORKBENCH_OPTIONS_CHANGED,new k.OptionsChangeEvent(e,n,t))},t.prototype.isAutoSaveEnabled=function(){var e=!0;return this.options&&p.isNumber(this.options.autoSaveDelay)&&(e=-1!==this.options.autoSaveDelay),e},t}(i.BaseWorkspaceContextService);t.WorkspaceContextService=C,function(e){e[e.ACTIVITYBAR_PART=0]="ACTIVITYBAR_PART",e[e.SIDEBAR_PART=1]="SIDEBAR_PART",e[e.EDITOR_PART=2]="EDITOR_PART",e[e.STATUSBAR_PART=3]="STATUSBAR_PART"}(t.Parts||(t.Parts={}));t.Parts;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Position||(t.Position={}));var x=(t.Position,function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}());t.BaseBadge=x;var A=function(e){function t(t,n){e.call(this,n),this.number=t}return __extends(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(x);t.NumberBadge=A;var L=function(e){function t(t,n){e.call(this,n),this.text=t}return __extends(t,e),t}(x);t.TextBadge=L;var N=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(x);t.ProgressBadge=N;var I=function(){function e(e,t){this.requestService=e.requestService,this.contextService=e.contextService,this.storageService=e.storageService,this.instantiationService=e.instantiationService,this.untitledEditorService=e.untitledEditorService,this.editorPart=t,this.fileInputDescriptor=c.Registry.as(g.Extensions.Editors).getDefaultFileInput()}return e.prototype.setInstantiationService=function(e){this.instantiationService=e},e.prototype.getActiveEditor=function(){return this.editorPart.getActiveEditor()},e.prototype.getActiveEditorInput=function(){return this.editorPart.getActiveEditorInput()},e.prototype.getVisibleEditors=function(){return this.editorPart.getVisibleEditors()},e.prototype.moveEditor=function(e,t){this.editorPart.moveEditor(e,t)},e.prototype.setEditors=function(e){var t=this;return r.Promise.join(e.map(function(e){return t.inputToType(e)})).then(function(e){return t.editorPart.setEditors(e)})},e.prototype.openEditor=function(e,t,n){var i=this;if(null===e)return this.doOpenEditor(e,null,p.isNumber(t)||p.isBoolean(t)?t:n);if(e instanceof b.EditorInput)return this.doOpenEditor(e,t,n);var a=e;if(o.isURI(a.resource)){var l=a.resource.scheme;if(l===s.schemas.http||l===s.schemas.https){var c=this.requestService.getRequestUrl("root","",!0);if(0!==a.resource.toString().indexOf(c))return window.open(a.resource.toString()),r.TPromise.as(null)}}var u=e;return this.inputToType(u).then(function(e){if(e){var n=null;if(u.options){if((u.options.selection||u.options.forceOpen||u.options.preserveFocus)&&(n=new _.TextEditorOptions),u.options.selection){var o=u.options.selection;n.selection(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)}u.options.forceOpen&&(n.forceOpen=!0),u.options.preserveFocus&&(n.preserveFocus=!0)}return i.doOpenEditor(e,n,t)}return r.TPromise.as(null)})},e.prototype.doOpenEditor=function(e,t,n){return this.editorPart.openEditor(e,t,n)},e.prototype.closeEditor=function(e){var t=this.findEditor(e);return t?this.editorPart.openEditor(null,null,t.position):r.TPromise.as(null)},e.prototype.focusEditor=function(e){var t=this.findEditor(e);return t?this.editorPart.openEditor(t.input,null,t.position):r.TPromise.as(null)},e.prototype.findEditor=function(e){if(e instanceof g.BaseEditor)return e;if(p.isUndefinedOrNull(e))return this.editorPart.getActiveEditor();if(p.isNumber(e))for(var t=e,n=this.editorPart.getVisibleEditors(),r=0;r<n.length;r++){var i=n[r];if(i.position===t)return i}return null},e.prototype.resolveEditorModel=function(e,t){return this.inputToType(e).then(function(e){return e&&e instanceof b.EditorInput?e.resolve(!!t):r.TPromise.as(null)})},e.prototype.inputToType=function(e){if(e instanceof b.EditorInput)return r.TPromise.as(e);var t=e;if(o.isURI(t.resource)&&t.resource.scheme===s.schemas.inMemory){var n=this.getActiveEditor();if(n){var i=n.getControl();if(p.isFunction(i.getEditorType))if(i.getEditorType()===v.EditorType.ICodeEditor){var a=i,c=this.findModel(a,e);if(c)return r.TPromise.as(n.input)}else if(i.getEditorType()===v.EditorType.IDiffEditor){var u=n.input,d=i,h=this.findModel(d.getOriginalEditor(),e);if(h)return r.TPromise.as(u.getOriginalInput());var m=this.findModel(d.getModifiedEditor(),e);if(m)return r.TPromise.as(u.getModifiedInput())}}}else{if(o.isURI(t.resource)&&t.resource.scheme===y.UntitledEditorInput.SCHEMA)return r.TPromise.as(this.untitledEditorService.createOrGet(t.resource));if(!l.isNative&&this.fileInputDescriptor&&o.isURI(t.resource)&&(t.resource.scheme===s.schemas.http||t.resource.scheme===s.schemas.https)){var f=this.contextService.toResource(this.requestService.getPath("root",s.URL.fromUri(t.resource)));return this.createFileInput(f,t.mime)}if(this.fileInputDescriptor&&o.isURI(t.resource)&&t.resource.scheme===s.schemas.file)return this.createFileInput(t.resource,t.mime)}return r.TPromise.as(null)},e.prototype.createFileInput=function(e,t){return this.instantiationService.createInstance(this.fileInputDescriptor).then(function(n){return n.setResource(e),n.setMime(t||a.guessMimeTypes(e.path).join(", ")),n})},e.prototype.findModel=function(e,t){var n=e.getModel();return n.getAssociatedResource().equals(t.resource)?n:null},e}();t.WorkbenchEditorService=I;var O=function(){function e(e){this.editorService=e}return e.prototype.setEditors=function(e){return this.editorService.setEditors(e)},e.prototype.openEditor=function(e,t,n){return this.editorService.openEditor(e,t,n)},e.prototype.getActiveEditor=function(){return this.editorService.getActiveEditor()},e.prototype.getActiveEditorInput=function(){return this.editorService.getActiveEditorInput()},e.prototype.getVisibleEditors=function(){return this.editorService.getVisibleEditors()},e.prototype.moveEditor=function(e,t){this.editorService.moveEditor(e,t)},e}(),R=function(e){function t(t,n,r){e.call(this,t,new O(t.editorService)),this.editor=n,this.handler=r}return __extends(t,e),t.prototype.doOpenEditor=function(t,n,i){var o=this;return this.handler(this.editor,t,n,i).then(function(s){return s?r.TPromise.as(o.editor):e.prototype.doOpenEditor.call(o,t,n,i)})},t}(I);t.DelegatingWorkbenchEditorService=R;var P=function(){function e(e){this.viewletService=e.viewletService,this.editorService=e.editorService}return e.prototype.getSelection=function(){if(!this.viewletService||!this.editorService)return null;var e=this.editorService.getActiveEditor();if(e)return e.getSelection();var t=this.viewletService.getActiveViewlet();return t?t.getSelection():null},e}();t.WorkbenchSelectionService=P;var D=function(){function e(e,t){this._eventService=e.eventService,this.scopeId=t,this.registerListeners()}return Object.defineProperty(e.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.eventService.addListener(k.EventType.EDITOR_CLOSED,function(t){t.editorId===e.scopeId&&e.onScopeDeactivated()}),this.eventService.addListener(k.EventType.EDITOR_OPENED,function(t){t.editorId===e.scopeId&&e.onScopeActivated()}),this.eventService.addListener(k.EventType.VIEWLET_CLOSED,function(t){t.viewletId===e.scopeId&&e.onScopeDeactivated()}),this.eventService.addListener(k.EventType.VIEWLET_OPENED,function(t){t.viewletId===e.scopeId&&e.onScopeActivated()})},e.prototype.onScopeActivated=function(){},e.prototype.onScopeDeactivated=function(){},e}();t.ScopedService=D;var M=function(){function e(e){this.eventService=e.eventService,this.keybindingService=e.keybindingService,this.handler=new f.MessageList(w.Identifiers.WORKBENCH_CONTAINER,e.telemetryService),this.registerListeners()}return e.prototype.registerListeners=function(){this.handler.onMessagesShowing.add(this.onMessagesShowing,this),this.handler.onMessagesCleared.add(this.onMessagesCleared,this)},e.prototype.onMessagesShowing=function(){this.keybindingService.setContext(e.GLOBAL_MESSAGES_SHOWING_CONTEXT,!0)},e.prototype.onMessagesCleared=function(){this.keybindingService.removeContext(e.GLOBAL_MESSAGES_SHOWING_CONTEXT)},e.prototype.toBaseSeverity=function(e){switch(e){case T.Info:return f.Severity.Info;case T.Warning:return f.Severity.Warning}return f.Severity.Error},e.prototype.show=function(e,t){var n=this;if(Array.isArray(t)){var r=[];return t.forEach(function(t){return r.push(n.show(e,t))}),function(){return r.forEach(function(e){return e()})}}if(d.isPromiseCanceledError(t))return function(){return void 0};var i=this.handler.showMessage(this.toBaseSeverity(e),t);if(this.eventService){var o;switch(e){case T.Error:o=u.EventType.ERROR;break;case T.Warning:o=u.EventType.WARNING;break;default:o=u.EventType.INFO}var s;p.isString(t)?s=new u.MessageEvent(t):t instanceof Error||t.stack?s=new u.MessageEvent(d.toErrorMessage(t,!1),t.stack):t.message&&(s=new u.MessageEvent(t.message)),this.eventService.emit(o,s)}return i},e.prototype.setStatusMessage=function(e,t){return void 0===t&&(t=-1),console.warn("Cannot render status message: ",e),{dispose:function(){}}},e.prototype.hideAll=function(){this.handler&&this.handler.hideMessages()},e.prototype.setGlobalMessageHandlerForTesting=function(e){this.handler=e},e.prototype.confirm=function(e){var t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),window.confirm(t)},e.prototype.dispose=function(){this.handler.onMessagesShowing.remove(this.onMessagesShowing,this),this.handler.onMessagesCleared.remove(this.onMessagesCleared,this)},e.GLOBAL_MESSAGES_SHOWING_CONTEXT="globalMessageVisible",e}();t.WorkbenchMessageService=M;var F=function(e){function t(t,n,r){e.call(this,t,n),this.messageService=t.messageService,this.isActive=r||p.isUndefinedOrNull(n),this.backlog=[]}return __extends(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){for(this.isActive=!0;this.backlog.length;){var e=this.backlog.pop();this.show(this.toPlatformSeverity(e.severity),e.message)}},t.prototype.toPlatformSeverity=function(e){switch(e){case f.Severity.Info:return T.Info;case f.Severity.Warning:return T.Warning}return T.Error},t.prototype.toBaseSeverity=function(e){switch(e){case T.Info:return f.Severity.Info;case T.Warning:return f.Severity.Warning}return f.Severity.Error},t.prototype.show=function(e,t){var n=this;if(this.isActive)return this.messageService.show(e,t);var r={severity:this.toBaseSeverity(e),message:t};return this.backlog.push(r),function(){for(var e=0;e<n.backlog.length;e++){var t=n.backlog[e];if(t===r){n.backlog.splice(e,1);break}}}},t.prototype.setStatusMessage=function(e,t){return void 0===t&&(t=-1),this.messageService.setStatusMessage(e)},t.prototype.hideAll=function(){this.messageService.hideAll()},t.prototype.confirm=function(e){return this.messageService.confirm(e)},t}(D);t.ScopedMessageService=F;var V=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.messageService=n.messageService}return __extends(t,e),t.prototype.run=function(){return this.messageService.hideAll(),r.Promise.as(null)},t.ID="workbench.action.closeMessages",t.LABEL=n.localize("vs_workbench_ui_services",0),t}(m.Action),B=c.Registry.as(E.Extensions.WorkbenchActions);B.registerWorkbenchAction(new S.SyncActionDescriptor(V,V.ID,V.LABEL,[{key:"Escape"}],[{key:M.GLOBAL_MESSAGES_SHOWING_CONTEXT}]));var H=function(e){function t(t,n,r,i){e.call(this,t,r),this.progressbar=n,this.isActive=i||p.isUndefinedOrNull(r),this.progressState={}}return __extends(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){this.isActive=!0,this.progressState.done||(this.progressState.whilePromise?this.doShowWhile():this.progressState.infinite?this.progressbar.infinite().getContainer().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).getContainer().show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).getContainer().show()))},t.prototype.clearProgressState=function(){delete this.progressState.infinite,delete this.progressState.done,delete this.progressState.worked,delete this.progressState.total,delete this.progressState.whilePromise},t.prototype.show=function(e,t){var n,r,i=this;return e===!1||e===!0?n=e:r=e,this.clearProgressState(),this.progressState.infinite=n,this.progressState.total=r,this.isActive&&(p.isUndefinedOrNull(n)?p.isUndefinedOrNull(r)||(p.isUndefinedOrNull(t)?this.progressbar.total(r).getContainer().show():this.progressbar.total(r).getContainer().showDelayed(t)):p.isUndefinedOrNull(t)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(t)),{total:function(e){i.progressState.infinite=!1,i.progressState.total=e,i.isActive&&i.progressbar.total(e)},worked:function(e){!i.isActive||i.progressbar.hasTotal()?(i.progressState.infinite=!1,i.progressState.worked?i.progressState.worked+=e:i.progressState.worked=e,i.isActive&&i.progressbar.worked(e)):(i.progressState.infinite=!0,delete i.progressState.worked,delete i.progressState.total,i.progressbar.infinite().getContainer().show())},done:function(){i.progressState.infinite=!1,i.progressState.done=!0,i.isActive&&i.progressbar.stop().getContainer().hide()}}},t.prototype.showWhile=function(e,t){var n=this,i=!!this.progressState.whilePromise;i?e=r.Promise.join([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e;var o=function(){n.progressState.whilePromise&&n.progressState.whilePromise!==e||(n.clearProgressState(),n.isActive&&n.progressbar.stop().getContainer().hide())};return this.doShowWhile(t),e.then(o,o)},t.prototype.doShowWhile=function(e){this.isActive&&(p.isUndefinedOrNull(e)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(e))},t}(D);t.WorkbenchProgressService=H;var W=function(){function e(){}return e.prototype.setInstantiationService=function(e){this.instantiationService=e},e.prototype.get=function(t){return e.CACHE[t.toString()]},e.prototype.getAll=function(t){var n=this;return t?h.coalesce(t.map(function(e){return n.get(e)})):Object.keys(e.CACHE).map(function(t){return e.CACHE[t]})},e.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},e.prototype.getDirty=function(){return Object.keys(e.CACHE).map(function(t){return e.CACHE[t]}).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},e.prototype.createOrGet=function(t){return t&&e.CACHE[t.toString()]?e.CACHE[t.toString()]:this.doCreate(t)},e.prototype.doCreate=function(t){if(!t){var n=Object.keys(e.CACHE).length+1;do t=o.create(y.UntitledEditorInput.SCHEMA,null,"Untitled-"+n),n++;while(Object.keys(e.CACHE).indexOf(t.toString())>=0)}var r=this.instantiationService.createInstance(y.UntitledEditorInput,t);return r.addOneTimeListener(u.EventType.DISPOSE,function(){delete e.CACHE[r.getResource().toString()]}),e.CACHE[t.toString()]=r,r},e.CACHE=Object.create(null),e}();t.UntitledEditorService=W});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/toggleSidebarPosition",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/services"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.toggleSidebarPosition",u=r.localize("vs_workbench_contrib_actions_toggleSidebarPosition",0),d=function(e){function t(t){e.call(this,c,u),this.partService=t.partService,this.enabled=!!this.partService}return __extends(t,e),t.prototype.run=function(){var e=this.partService.getSideBarPosition();return this.partService.setSideBarPosition(e===l.Position.LEFT?l.Position.RIGHT:l.Position.LEFT),n.Promise.as(null)},t}(o.Action);t.ToggleSidebarPositionAction=d;var p=i.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(d,c,u),r.localize("vs_workbench_contrib_actions_toggleSidebarPosition",1))}),define("vs/css!vs/workbench/contrib/actions/media/triggerquickopen",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/triggerQuickOpen",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/base/ui/actions","vs/base/ui/widgets/toolbar/toolbar","vs/workbench/ui/actionBarRegistry","vs/base/lib/winjs.base","vs/platform/configuration/keybindings","vs/css!./media/triggerquickopen"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,r,i),this.quickOpenService=n.quickOpenService,this.order=100,this.class="quickopen"}return __extends(t,e),t.prototype.run=function(){return this.quickOpenService.show(null),u.Promise.as(!0)},t.ID="workbench.action.quickOpen",t.LABEL=n.localize("vs_workbench_contrib_actions_triggerQuickOpen",0),t}(a.Action),h=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){return e===l.CONTEXT},t.prototype.getActions=function(){return[this.instantiationService.createInstance(p)]},t}(c.ActionBarContributor),m=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.quickOpenService=n.quickOpenService,this.keybindingService=n.keybindingService}return __extends(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybinding(this.id).map(function(e){return e.keybinding});return this.quickOpenService.show(null,{keybindings:e}),u.Promise.as(!0)},t.ID="workbench.action.openPreviousEditor",t.LABEL=n.localize("vs_workbench_contrib_actions_triggerQuickOpen",1),t}(a.Action),f=function(e){function t(t,n,r,i){e.call(this,n,r),this.quickopenService=t.quickOpenService,this.keybindingService=t.keybindingService,this.navigateNext=i}return __extends(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybinding(this.id).map(function(e){return e.keybinding});return this.quickopenService.quickNavigate({keybindings:e},this.navigateNext),u.Promise.as(!0)},t}(a.Action),v=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,!0)}return __extends(t,e),t.ID="workbench.action.quickOpenNavigateNext",t.LABEL=n.localize("vs_workbench_contrib_actions_triggerQuickOpen",2),t}(f),g=function(e){function t(t){e.call(this,t,v.ID,v.LABEL,!1)}return __extends(t,e),t.ID="workbench.action.quickOpenNavigatePrevious",t.LABEL=n.localize("vs_workbench_contrib_actions_triggerQuickOpen",3),t}(f),b=["E","O"].map(function(e){return{ctrlCmd:!0,winCtrl:!1,key:e}}),y=(r.isNative?["Tab"]:["Q","Tab"]).map(function(e){return{ctrlCmd:!r.isMacintosh,winCtrl:r.isMacintosh,key:e}}),_=s.Registry.as(o.Extensions.WorkbenchActions);if(_.registerWorkbenchAction(new i.SyncActionDescriptor(p,p.ID,p.LABEL,b)),_.registerWorkbenchAction(new i.SyncActionDescriptor(m,m.ID,m.LABEL,y)),_.registerWorkbenchAction(new i.SyncActionDescriptor(v,v.ID,v.LABEL,b.concat(y),[{key:"inQuickOpen"}])),_.registerWorkbenchAction(new i.SyncActionDescriptor(g,g.ID,g.LABEL,b.concat(y).map(function(e){return{ctrlCmd:e.ctrlCmd,winCtrl:e.winCtrl,shift:!0,key:e.key}}),[{key:"inQuickOpen"}],d.WEIGHT.workbenchContrib(50))),r.isWeb){var w=s.Registry.as(c.Extensions.Actionbar);w.registerActionBarContributor(c.Scope.GLOBAL,h)}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/files",["require","exports","vs/base/ui/events","vs/base/strings","vs/base/mime","vs/platform/services","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/baseEditor"],function(e,t,n,r,i,o,s,a){function l(e){if(e instanceof o.Files.FileStatImpl){var n=e;return{resource:n.resource,mimes:n.mime?n.mime.split(", "):[],isDirectory:n.isDirectory}}if(e&&e.CLASS_ID===t.WORKING_FILES_MODEL_ENTRY_CLASS_ID){var r=e;if(r.isFile)return{resource:r.resource,mimes:i.guessMimeTypes(r.resource.path),isDirectory:!1}}return null}t.VIEWLET_ID="workbench.view.explorer",t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor",t.WORKING_FILES_MODEL_ENTRY_CLASS_ID="workbench.workingFiles.model.entry.class",t.EventType={FILE_DIRTY:"files:fileDirty",FILE_SAVING:"files:fileSaving",FILE_SAVE_ERROR:"files:fileSaveError",FILE_SAVED:"files:fileSaved",FILE_REVERTED:"files:fileReverted"},t.asFileResource=l;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.setResource=function(){throw new Error("Subclass to implement")},t.prototype.getResource=function(){throw new Error("Subclass to implement")},t.prototype.setMime=function(){throw new Error("Subclass to implement")},t.prototype.getMime=function(){throw new Error("Subclass to implement")},t}(s.EditorInput);t.FileEditorInput=c;var u=function(e){function t(t,n,r){e.call(this,null,t,n,r)}return __extends(t,e),t.prototype.getBefore=function(){return this.oldValue},t.prototype.getAfter=function(){return this.newValue},t.prototype.gotAdded=function(){return!this.oldValue&&!!this.newValue},t.prototype.gotMoved=function(){return!!this.oldValue&&!!this.newValue&&this.oldValue.resource.toString()!==this.newValue.resource.toString()},t.prototype.gotUpdated=function(){return!!this.oldValue&&!!this.newValue&&!this.gotMoved()&&this.oldValue!==this.newValue},t.prototype.gotDeleted=function(){return!!this.oldValue&&!this.newValue},t}(n.PropertyChangeEvent);t.LocalFileChangeEvent=u,t.TEXT_FILE_SERVICE_ID="textFileService",t.TEXT_FILE_SEARCH_SERVICE_ID="textFileSearchService",function(e){e[e.SAVE=0]="SAVE",e[e.DONT_SAVE=1]="DONT_SAVE",e[e.CANCEL=2]="CANCEL"}(t.ConfirmResult||(t.ConfirmResult={}));var d=(t.ConfirmResult,function(e){function t(t){e.call(this),this.mimes=t}return __extends(t,e),t.prototype.toId=function(t){var n=e.prototype.toId.call(this,t),r=this.getMimeFromContext(t);return r&&(n+=r),n},t.prototype.getMimeFromContext=function(e){if(e&&e.input&&e.input instanceof c){var t=e.input;return t.getMime()}return null},t.prototype.hasMime=function(e){var t=this.getMimeFromContext(e);if(t)for(var n=t.split(","),i=0;i<n.length;i++)if(this.mimes.indexOf(r.trim(n[i]))>=0)return!0;return!1},t.prototype.hasActions=function(t){return this.hasMime(t)?e.prototype.hasActions.call(this,t):!1},t.prototype.hasSecondaryActions=function(t){return this.hasMime(t)?e.prototype.hasSecondaryActions.call(this,t):!1},t}(a.EditorInputActionContributor));t.FileEditorInputActionContributor=d;var p=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i),this.mimetypes=o}return __extends(t,e),t.prototype.getMimeTypes=function(){return this.mimetypes},t}(a.EditorDescriptor);t.FileEditorDescriptor=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/quickopen/quickOpenModel",["require","exports","vs/base/types"],function(e,t,n){!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN"}(t.Mode||(t.Mode={}));var r=(t.Mode,0),i=function(){function e(e){void 0===e&&(e=[]),this.id=(r++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getMeta=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getResource=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.setHighlights=function(e,t){this.labelHighlights=e,this.descriptionHighlights=t},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights]},e.prototype.run=function(){return!1},e}();t.QuickOpenEntry=i;var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getHeight=function(){return 0},t.prototype.render=function(){return null},t}(i);t.QuickOpenEntryItem=o;var s=function(e){function t(t,n,r){e.call(this),this.entry=t,this.groupLabel=n,this.withBorder=r}return __extends(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getMeta=function(){return this.entry?this.entry.getMeta():e.prototype.getMeta.call(this)},t.prototype.getResource=function(){return this.entry?this.entry.getResource():e.prototype.getResource.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n){this.entry?this.entry.setHighlights(t,n):e.prototype.setHighlights.call(this,t,n)},t.prototype.setHidden=function(t){this.entry?this.entry.setHidden(t):e.prototype.setHidden.call(this,t)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(i);t.QuickOpenEntryGroup=s;var a=function(){function e(e){void 0===e&&(e=[]),this._entries=e}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){n.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){n.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(e){return e?this._entries.filter(function(e){return!e.isHidden()}):this._entries},e}();t.QuickOpenModel=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/quickopen/quickOpen",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/arrays","vs/base/strings","vs/base/types","vs/base/errors","vs/base/ui/actions","vs/platform/platform","vs/platform/services","vs/base/ui/widgets/quickopen/quickOpenModel","vs/workbench/ui/parts/editor/editorInput"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(){}return e.prototype.getResults=function(){return r.TPromise.as(null)},e.prototype.getClass=function(){return null},e.prototype.canRun=function(){return!0},e.prototype.getAutoFocus=function(){return{}},e.prototype.onClose=function(){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("vs_workbench_ui_quickopen_quickOpen",0):n.localize("vs_workbench_ui_quickopen_quickOpen",1)},e}();t.QuickOpenHandler=h;var m=function(e){function t(t,n,r,i){e.call(this,t,n),this.prefix=r,this.id=t+n,s.isString(i)?this.description=i:this.helpEntries=i}return __extends(t,e),t.prototype.getId=function(){return this.id},t}(u.AsyncDescriptor);t.QuickOpenHandlerDescriptor=m,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var f=function(){function e(){this.handlers=[],this.defaultHandlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e)},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandlers.push(e)},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?i.first(this.handlers,function(t){return o.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandlers=function(){return this.defaultHandlers},e}();c.Registry.add(t.Extensions.Quickopen,new f);var v=function(e){function t(t,n,r,i){e.call(this,n,r),this.quickOpenService=t.quickOpenService,this.prefix=i,this.enabled=!!this.quickOpenService}return __extends(t,e),t.prototype.run=function(){return this.quickOpenService.show(this.prefix),r.Promise.as(null)},t}(l.Action);t.QuickOpenAction=v;var g=function(e){function t(t){e.call(this),this._editorService=t}return __extends(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){if(e===d.Mode.OPEN){var n=t.event,r=n&&(n.ctrlKey||n.metaKey||n.payload&&n.payload.originalEvent&&(n.payload.originalEvent.ctrlKey||n.payload.originalEvent.metaKey)),i=this.getInput();return i instanceof p.EditorInput?this.editorService.openEditor(i,this.getOptions(),r).done(null,a.onUnexpectedError):this.editorService.openEditor(i,r).done(null,a.onUnexpectedError),!0}return!1},t}(d.QuickOpenEntry);t.EditorQuickOpenEntry=g;var b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t}(d.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=b});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/triggerSplitEditor",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/types","vs/base/env","vs/base/ui/actions","vs/platform/services","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/contrib/files/files","vs/workbench/ui/actionBarRegistry","vs/base/ui/widgets/quickopen/quickOpenModel","vs/workbench/ui/quickopen/quickOpen"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v="workbench.action.splitEditor",g=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",0),b=function(e){function t(t){e.call(this,v,g),this.editorService=t.editorService
}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!t)return n.Promise.as(!0);if(!t.supportsSplitEditor())return n.Promise.as(!0);var r,o=this.editorService.getVisibleEditors(),s=o.length;switch(s){case 1:r=a.Position.CENTER;break;case 2:if(t.position===a.Position.CENTER)r=a.Position.RIGHT;else if(t.position===a.Position.LEFT&&t.input instanceof p.FileEditorInput){var l=o[a.Position.CENTER].input,c=new d.TextEditorOptions;return c.preserveFocus=!0,this.editorService.openEditor(t.input,c,a.Position.CENTER).then(function(){return e.editorService.openEditor(l,c,a.Position.RIGHT).then(function(){return e.editorService.focusEditor(a.Position.CENTER)})})}}return!i.isUndefinedOrNull(r)&&t.input instanceof p.FileEditorInput?this.editorService.openEditor(t.input,null,r):n.Promise.as(!0)},t}(s.Action);t.SplitEditorAction=b;var y="workbench.action.cycleEditor",_=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",1),w=function(e){function t(t){e.call(this,y,_),this.editorService=t.editorService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.Promise.as(!1);var t=this.editorService.getVisibleEditors(),r=t.length,i=(e.position+1)%r;return this.editorService.focusEditor(i)},t}(s.Action);t.CycleEditorAction=w;var E="workbench.action.focusFirstEditor",S=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",2),T=function(e){function t(t){e.call(this,E,S),this.editorService=t.editorService,this.quickOpenService=t.quickOpenService}return __extends(t,e),t.prototype.run=function(){for(var e=this,t=this.editorService.getVisibleEditors(),r=0;r<t.length;r++){var i=t[r];if(i.position===a.Position.LEFT)return this.editorService.focusEditor(i)}for(var o=this.quickOpenService.getEditorHistory(),s=0;s<o.length;s++){var l=o[s];if(l instanceof p.FileEditorInput)return this.editorService.openEditor(l,null,a.Position.LEFT).then(function(){l.matches(e.editorService.getActiveEditorInput())||e.quickOpenService.removeEditorHistoryEntry(l)})}return n.Promise.as(!0)},t}(s.Action);t.FocusFirstEditorAction=T;var k=function(e){function t(t,n,r){e.call(this,n,r),this.editorService=t.editorService,this.quickOpenService=t.quickOpenService}return __extends(t,e),t.prototype.getReferenceEditorSide=function(){throw new Error("Subclass to implement")},t.prototype.getTargetEditorSide=function(){throw new Error("Subclass to implement")},t.prototype.run=function(){for(var e,t=this,r=this.editorService.getVisibleEditors(),i=0;i<r.length;i++){var o=r[i];if(o.position===this.getTargetEditorSide())return this.editorService.focusEditor(o);o.position===this.getReferenceEditorSide()&&(e=o)}if(e&&e.supportsSplitEditor())return this.editorService.openEditor(e.input,null,this.getTargetEditorSide());if(e)for(var s=this.quickOpenService.getEditorHistory(),a=0;a<s.length;a++){var l=s[a];if(l instanceof p.FileEditorInput)return this.editorService.openEditor(l,null,this.getTargetEditorSide()).then(function(){l.matches(t.editorService.getActiveEditorInput())||t.quickOpenService.removeEditorHistoryEntry(l)})}return n.Promise.as(!0)},t}(s.Action);t.BaseFocusSideEditorAction=k;var C="workbench.action.focusSecondEditor",x=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",3),A=function(e){function t(t){e.call(this,t,C,x)}return __extends(t,e),t.prototype.getReferenceEditorSide=function(){return a.Position.LEFT},t.prototype.getTargetEditorSide=function(){return a.Position.CENTER},t}(k);t.FocusSecondEditorAction=A;var L="workbench.action.focusThirdEditor",N=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",4),I=function(e){function t(t){e.call(this,t,L,N)}return __extends(t,e),t.prototype.getReferenceEditorSide=function(){return a.Position.CENTER},t.prototype.getTargetEditorSide=function(){return a.Position.RIGHT},t}(k);t.FocusThirdEditorAction=I;var O="workbench.action.focusLeftEditor",R=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",5),P=function(e){function t(t){e.call(this,O,R),this.editorService=t.editorService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.Promise.as(!0);var t=a.Position.LEFT;e.position===a.Position.RIGHT&&(t=a.Position.CENTER);var r=this.editorService.getVisibleEditors();return this.editorService.focusEditor(r[t])},t}(s.Action);t.NavigateToLeftEditorAction=P;var D="workbench.action.focusRightEditor",M=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",6),F=function(e){function t(t){e.call(this,D,M),this.editorService=t.editorService,this.navigateActions=[],this.navigateActions[a.Position.LEFT]=t.instantiationService.createInstance(T),this.navigateActions[a.Position.CENTER]=t.instantiationService.createInstance(A),this.navigateActions[a.Position.RIGHT]=t.instantiationService.createInstance(I)}return __extends(t,e),t.prototype.run=function(e){var t,r=this.editorService.getActiveEditor();return r?r.position===a.Position.LEFT?t=a.Position.CENTER:r.position===a.Position.CENTER&&(t=a.Position.RIGHT):t=a.Position.LEFT,!i.isUndefinedOrNull(t)&&this.navigateActions[t]?this.navigateActions[t].run(e):n.Promise.as(!0)},t}(s.Action);t.NavigateToRightEditorAction=F;var V=function(e){function t(n,r,i){e.call(this,t.ID,t.LABEL),this.input=r,this.options=i,this.class="quick-open-sidebyside",this.editorService=n.editorService,this.updateEnablement()}return __extends(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!!this.editorService&&!!e&&e.position!==a.Position.RIGHT},t.prototype.run=function(){return this.editorService.openEditor(this.input,this.options,!0)},t.ID="workbench.action.openToSide",t.LABEL=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",7),t}(s.Action);t.OpenToSideAction=V;var B=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){var t=this.getEntry(e);return!!t},t.prototype.getActions=function(e){var t=[],n=this.getEntry(e);return n&&t.push(this.instantiationService.createInstance(V,n.getInput(),n.getOptions())),t},t.prototype.getEntry=function(e){if(!e||!e.element)return null;var t=e.element;if(t instanceof m.QuickOpenEntryGroup){var n=t;n.getEntry()&&(t=n.getEntry())}return t instanceof f.EditorQuickOpenEntry||t instanceof f.EditorQuickOpenEntryGroup?t:null},t}(h.ActionBarContributor),H="workbench.action.closeActiveEditor",W=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",8),U=function(e){function t(t){e.call(this,H,W),this.editorService=t.editorService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e?this.editorService.closeEditor(e):n.Promise.as(!1)},t}(s.Action);t.CloseEditorAction=U;var $=u.Registry.as(h.Extensions.Actionbar);$.registerActionBarContributor(h.Scope.VIEWER,B);var j=r.localize("vs_workbench_contrib_actions_triggerSplitEditor",9),G=u.Registry.as(c.Extensions.WorkbenchActions);G.registerWorkbenchAction(new l.SyncActionDescriptor(b,v,g,{ctrlCmd:!0,key:"\\"}),j),o.isMacintosh||G.registerWorkbenchAction(new l.SyncActionDescriptor(w,y,_,{ctrlCmd:!0,key:"`"}),j),G.registerWorkbenchAction(new l.SyncActionDescriptor(T,E,S,{ctrlCmd:!0,key:"1"}),j),G.registerWorkbenchAction(new l.SyncActionDescriptor(A,C,x,{ctrlCmd:!0,key:"2"}),j),G.registerWorkbenchAction(new l.SyncActionDescriptor(I,L,N,{ctrlCmd:!0,key:"3"}),j),G.registerWorkbenchAction(new l.SyncActionDescriptor(P,O,R,{ctrlCmd:!0,shift:o.isLinux,alt:!0,key:"LeftArrow"}),j),G.registerWorkbenchAction(new l.SyncActionDescriptor(F,D,M,{ctrlCmd:!0,shift:o.isLinux,alt:!0,key:"RightArrow"}),j),o.isNative||G.registerWorkbenchAction(new l.SyncActionDescriptor(U,H,W,o.isNative?{ctrlCmd:!0,shift:!1,key:"W"}:{shift:!0,key:"Escape"}),j)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/triggerNavigation",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.navigateForward",u=r.localize("vs_workbench_contrib_actions_triggerNavigation",0),d=function(e){function t(t){e.call(this,c,u),this.historyService=t.historyService}return __extends(t,e),t.prototype.run=function(){return this.historyService.forward(),n.Promise.as(null)},t}(o.Action);t.NavigateForwardAction=d;var p="workbench.action.navigateBack",h=r.localize("vs_workbench_contrib_actions_triggerNavigation",1),m=function(e){function t(t){e.call(this,p,h),this.historyService=t.historyService}return __extends(t,e),t.prototype.run=function(){return this.historyService.back(),n.Promise.as(null)},t}(o.Action);t.NavigateBackwardsAction=m;var f=i.Registry.as(l.Extensions.WorkbenchActions);f.registerWorkbenchAction(new a.SyncActionDescriptor(d,c,u,s.isWindows?{alt:!0,key:"RightArrow",ctrlCmd:!1,winCtrl:!1,shift:!1}:{ctrlCmd:!s.isMacintosh,winCtrl:s.isMacintosh,shift:!0,key:"-"})),f.registerWorkbenchAction(new a.SyncActionDescriptor(m,p,h,s.isWindows?{alt:!0,key:"LeftArrow",ctrlCmd:!1,winCtrl:!1}:{ctrlCmd:!s.isMacintosh,winCtrl:s.isMacintosh,alt:s.isLinux,key:"-"}))}),define("vs/css!vs/base/ui/widgets/navbar/navbar",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/navbar/navbar",["require","exports","vs/base/dom/builder","vs/css!./navbar"],function(e,t,n){var r=n.$,i=function(){function e(e){this.$e=r('<div class="navbar"></div>').appendTo(e),this.items=[],this.cleanupCallbacks=[]}return e.prototype.addItem=function(e,t){var n=r('<div class="navbar-item {0}"></div>',e?"left":"right").appendTo(this.$e);this.items.push(n);var i=t(n.getHTMLElement());i&&this.cleanupCallbacks.push(i)},e.prototype.getContainer=function(){return this.$e},e.prototype.dispose=function(){if(this.items){for(var e;e=this.items.pop();)e.destroy();this.items=null}if(this.cleanupCallbacks){for(;this.cleanupCallbacks.length;)this.cleanupCallbacks.pop()();this.cleanupCallbacks=null}this.$e&&(this.$e.destroy(),this.$e=null)},e}();t.NavBar=i}),define("vs/css!vs/base/ui/widgets/shell/media/shell",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/shell/shell",["require","exports","vs/base/dom/builder","vs/base/assert","vs/base/objects","vs/base/errors","vs/base/env","vs/base/dom/dom","vs/base/ui/widgets/navbar/navbar","vs/base/performance/timer","vs/css!./media/shell"],function(e,t,n,r,i,o,s,a,l,c){function u(){return[h.VS,h.VS_DARK,h.HIGH_CONTRAST].map(function(e){return d(e)})}function d(e){switch(e){case h.VS:return"vs";case h.VS_DARK:return"vs-dark"}return"hc-black"}var p=n.$;!function(e){e[e.VS=0]="VS",e[e.VS_DARK=1]="VS_DARK",e[e.HIGH_CONTRAST=2]="HIGH_CONTRAST"}(t.Theme||(t.Theme={}));var h=t.Theme;t.getThemes=u,t.toString=d;var m=function(){function e(e){r.ok(e,"Monaco Shell requires a container to be created with"),this.container=e,this.toUnbind=[],this.previousErrorTime=0}return e.prototype.open=function(){var e=this;o.setUnexpectedErrorHandler(function(t){e.onUnexpectedError(t)}),p(this.container).addClass("monaco-shell"),this.content=p(".monaco-shell-content").appendTo(this.container).getHTMLElement(),this.navBar=new l.NavBar(this.content),this.writeTimers(),this.contentsContainer=this.createContents(p(this.content)),this.fillNavBar(this.navBar),this.layout(),this.registerListeners()},e.prototype.onUnexpectedError=function(e){var t=o.toErrorMessage(e,!0);if(t&&!s.isTesting()){var n=(new Date).getTime();t===this.previousErrorValue&&n-this.previousErrorTime<=1e3||(this.previousErrorTime=n,this.previousErrorValue=t,console.error(t))}},e.prototype.writeTimers=function(){var e=window.MonacoEnvironment.timers;if(e){var t=[];e.beforeProgram&&t.push({startTime:e.beforeProgram,stopTime:e.afterProgram,topic:"Startup",name:"Program Start",description:"Time it takes to pass control to Ticinos main method"}),e.ticinoStart&&t.push({startTime:e.ticinoStart,stopTime:e.beforeLoad,topic:"Startup",name:"Ticino Startup",description:"Time it takes to create a window and startup Ticino Browser"}),t.push({startTime:e.beforeLoad,stopTime:e.afterLoad,topic:"Startup",name:"Load Modules",description:"Time it takes to load Ticino main modules"}),t.push({startTime:e.beforeReady,stopTime:e.afterReady,topic:"Startup",name:"Event DOMContentLoaded",description:"Time it takes for the DOM to emit DOMContentLoaded event"}),c.getTimeKeeper().setInitialCollectedEvents(t,e.start)}},e.prototype.registerListeners=function(){var e=this;p(window).on(a.EventType.RESIZE,function(){return e.layout()},this.toUnbind)},e.prototype.createContents=function(){throw new Error("Subclasses to implement")},e.prototype.fillNavBar=function(e){e.addItem(!0,function(e){var t={text:s.applicationName||'Visual Studio Online "Monaco"',class:["breadcrumb-entry","breadcrumb-root"]};return s.portalLink?p(e).a(i.mixin(t,{href:s.portalLink,target:"_blank"})):p(e).span(t),null})},e.prototype.setTheme=function(e,t){void 0===t&&(t=!0),e&&(this.currentTheme&&p(this.container).removeClass(this.currentTheme),this.currentTheme=e,p(this.container).addClass(this.currentTheme),t&&(this.computeStyle(),this.layout()))},e.prototype.computeStyle=function(){var e=p(this.navBar.getContainer()).getComputedStyle();this.computedStyles={navbarHeight:parseInt(e.getPropertyValue("height"),10)||0}},e.prototype.layout=function(){this.computedStyles||this.computeStyle();var e=p(this.container).getClientArea(),t=this.computedStyles.navbarHeight,r=new n.Dimension(e.width,e.height-t);this.contentsContainer.size(r.width,r.height)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.navBar&&this.navBar.dispose(),p(this.container).empty()},e}();t.Shell=m}),define("vs/css!vs/workbench/ui/parts/editor/media/texteditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/textEditor",["require","exports","vs/base/objects","vs/base/env","vs/base/errors","vs/platform/services","vs/base/ui/widgets/shell/shell","vs/editor/core/codeEditorWidget","vs/editor/core/constants","vs/workbench/constants","vs/workbench/events","vs/workbench/core/memento","vs/workbench/ui/parts/editor/baseEditor","vs/editor/core/config/configuration","vs/editor/modes/modesExtensions","vs/css!./media/texteditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f="editorViewState",v=function(e){function t(t,n){var r=this;e.call(this,t,n),this._instantiationService=t.instantiationService,this._contextService=t.contextService,this._storageService=t.storageService,this._messageService=t.messageService,this.configurationService=t.configurationService,this._eventService=t.eventService,this._editorService=t.editorService,this.toUnbind.push(this._eventService.addListener(o.StorageEventType.STORAGE,function(e){return r.onPreferencesChanged(e)})),this.toUnbind.push(this._eventService.addListener(u.EventType.WORKBENCH_OPTIONS_CHANGED,function(e){return r.onOptionsChanged(e)})),this.toUnbind.push(this.configurationService.addListener(o.ConfigurationServiceEventTypes.UPDATED,function(e){return r.applyConfiguration(e.config)}))}return __extends(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storageService",{get:function(){return this._storageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),t.prototype.applyConfiguration=function(e){this.editorControl&&h.EditorConfiguration.apply(e,this.editorControl),m.ModesConfiguration.apply(e),this.editorControl&&this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.getControlConfiguration=function(){var e=this.getControl();return e?e.getConfiguration():null},t.prototype.onOptionsChanged=function(){this.editorControl&&this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.onPreferencesChanged=function(e){e.key===c.Preferences.THEME&&e.newValue&&this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.getCodeEditorOptions=function(){var e={overviewRulerLanes:3,readOnly:this.contextService.getOptions().readOnly,theme:this._storageService.get(c.Preferences.THEME,o.StorageScope.GLOBAL,s.toString(s.Theme.VS))};return r.isNative&&(e.glyphMargin=!0,e.lineNumbersMinChars=3),n.mixin(e,this.contextService.getOptions().editor)},Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorContainer",{get:function(){return this._editorContainer},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var n=this;return e.prototype.create.call(this,t),this._editorContainer=t,this.editorControl=this.createEditorControl(t),this.toUnbind.push(this.editorControl.addListener(l.EventType.CursorPositionChanged,function(e){if("api"===e.source||"mouse"===e.source||"keyboard"===e.source){var t=n.editorControl.getSelection();n.eventService.emit(u.EventType.TEXT_EDITOR_SELECTION_CHANGED,new u.TextEditorSelectionEvent(t,n,n.getId(),n.input,null,n.position,e))}})),this.toUnbind.push(this.editorControl.addListener(l.EventType.ModelModeChanged,function(e){n.eventService.emit(u.EventType.TEXT_EDITOR_MODE_CHANGED,new u.EditorEvent(n,n.getId(),n.input,null,n.position,e))})),this.toUnbind.push(this.editorControl.addListener(l.EventType.ModelContentChanged,function(e){n.eventService.emit(u.EventType.TEXT_EDITOR_CONTENT_CHANGED,new u.EditorEvent(n,n.getId(),n.input,null,n.position,e))})),this.toUnbind.push(this.editorControl.addListener(l.EventType.ConfigurationChanged,function(e){n.eventService.emit(u.EventType.TEXT_EDITOR_CONFIGURATION_CHANGED,new u.EditorEvent(n,n.getId(),n.input,null,n.position,e))})),this.configurationService.loadConfiguration().then(function(e){n.applyConfiguration(e)},i.onUnexpectedError)},t.prototype.createEditorControl=function(e){return this._instantiationService.createInstance(a.CodeEditorWidget,e.getHTMLElement(),this.getCodeEditorOptions())},t.prototype.setVisible=function(t,n){void 0===n&&(n=null);var r=e.prototype.setVisible.call(this,t,n);return t?this.editorControl.onVisible():this.editorControl.onHide(),r},t.prototype.focus=function(){e.prototype.focus.call(this),this.editorControl.focus()},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.editorControl.layout(t)},t.prototype.getControl=function(){return this.editorControl},t.prototype.getSelection=function(){return this.editorControl.getSelection()},t.prototype.saveTextEditorViewState=function(e,t){var n=this.editorControl.saveViewState();return this.loadMemento(e,d.Scope.WORKSPACE).then(function(e){var r=e[f];r||(r={},e[f]=r),r[t]=n})},t.prototype.loadTextEditorViewState=function(e,t){return this.loadMemento(e,d.Scope.WORKSPACE).then(function(e){var n=e[f];return n?n[t]:null})},t.prototype.dispose=function(){this.editorControl.destroy(),e.prototype.dispose.call(this)},t}(p.BaseEditor);t.BaseTextEditor=v}),define("vs/css!vs/workbench/contrib/quickopen/media/gotoSymbolHandler",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/quickopen/gotoSymbolHandler",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/arrays","vs/base/env","vs/base/errors","vs/base/types","vs/base/strings","vs/base/ui/widgets/quickopen/quickOpenModel","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/workbench/ui/quickopen/quickOpen","vs/workbench/ui/parts/editor/textEditor","vs/workbench/ui/parts/editor/editorOptions","vs/base/filters","vs/editor/editor","vs/editor/editorExtensions","vs/css!./media/gotoSymbolHandler"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b){var y="workbench.action.gotoSymbol",_=r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",0),w="@",E=":",S=function(e){function t(t){e.call(this,t,y,_,w)}return __extends(t,e),t}(h.QuickOpenAction);t.GotoSymbolAction=S;var T=function(e){function t(t,n){e.call(this,n),this.outline=t}return __extends(t,e),t.prototype.filter=function(e){var t=e;0===e.indexOf(E)&&(t=t.substr(E.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),t){var n=v.CombinedMatcher.matches(t,e.getLabel());n?(e.setHighlights(n),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),e?0===e.indexOf(E)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var n=this.getEntries(!0);if(n.length>0&&0===e.indexOf(E)){for(var i=null,o=null,s=0,a=0;a<n.length;a++){var l=n[a];i!==l.getType()?(o&&o.setGroupLabel(this.renderGroupLabel(i,s,this.outline)),i=l.getType(),o=l,s=1,l.setShowBorder(a>0)):s++}o&&o.setGroupLabel(this.renderGroupLabel(i,s,this.outline))}else n.length>0&&n[0].setGroupLabel(r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",1,n.length))},t.prototype.sortNormal=function(e,t,n){if(t.isHidden())return 1;if(n.isHidden())return-1;var r=t.getLabel().toLowerCase(),i=n.getLabel().toLowerCase(),o=l.localeCompare(r,i);if(0!==o)return o;var s=t.getRange(),a=n.getRange();return s.startLineNumber-a.startLineNumber},t.prototype.sortScoped=function(e,t,n){if(t.isHidden())return 1;if(n.isHidden())return-1;e=e.substr(E.length);var r=t.getType(),i=n.getType(),o=l.localeCompare(r,i);if(0!==o)return o;if(e){var s=t.getLabel().toLowerCase(),a=n.getLabel().toLowerCase(),o=l.localeCompare(s,a);if(0!==o)return o}var c=t.getRange(),u=n.getRange();return c.startLineNumber-u.startLineNumber},t.prototype.renderGroupLabel=function(e,t,n){if(n.outlineGroupLabel){var i=n.outlineGroupLabel[e];if(i)return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",2,i,t)}switch(e){case"module":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",3,t);case"class":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",4,t);case"interface":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",5,t);case"method":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",6,t);case"function":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",7,t);case"property":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",8,t);case"variable":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",9,t);case"var":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",10,t);case"constructor":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",11,t);case"call":return r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",12,t)}return e},t}(c.QuickOpenModel),k=function(e){function t(t,n,r,i,o,s,a,l,c,u){e.call(this),this.index=t,this.name=n,this.meta=r,this.type=i,this.icon=s,this.description=o,this.range=a,this.setHighlights(l),this.editorService=c,this.handler=u}return __extends(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getMeta=function(){return this.meta},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){var e=new f.TextEditorOptions;return e.selection(this.range.startLineNumber,this.range.startColumn,this.range.startLineNumber,this.range.startColumn),e},t.prototype.run=function(e,t){return e===c.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){var t=e.event,n=t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey));if(n)this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,s.onUnexpectedError);else{var r=this.toSelection(),i=this.editorService.getActiveEditor();if(i){var o=i.getControl();o.setSelection(r),o.revealRangeInCenter(r),o.focus()}}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),a.isFunction(n.changeDecorations)&&this.handler.decorateOutline(this.range,e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(h.EditorQuickOpenEntryGroup),C=function(e){function t(t){e.call(this),this.editorService=t.editorService,this.contextService=t.contextService,this.outlineToModelCache={}}return __extends(t,e),t.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return this.getActiveOutline().then(function(t){return t.filter(e),t})},t.prototype.getEmptyLabel=function(e){return e.length>0?r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",13):r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",14)},t.prototype.canRun=function(){var e=!1,t=this.editorService.getActiveEditor();if(t instanceof m.BaseTextEditor){var n=t.getControl(),i=n.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&a.isFunction(i.getMode)){var o=i.getMode().outlineSupport;e=!!o&&a.isFunction(o.getOutline)}}return e?!0:t instanceof m.BaseTextEditor?r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",15):r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",16)},t.prototype.getAutoFocus=function(e){return e=e.trim(),0===e.indexOf(E)&&(e=e.substr(E.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},t.prototype.toQuickOpenEntries=function(e){var t=[],n=[];e&&this.flatten(e.entries,n);for(var r=0;r<n.length;r++){var o=n[r],s=l.trim(o.label),a=null;if("method"===o.type||"function"===o.type){var c=s.indexOf("(");c>0?(a=s.substr(c),s=s.substr(0,c)):a="()"}var u=null;o.parentScope&&(u=i.tail(o.parentScope));var d=o.icon||o.type;t.push(new k(r,s,a,o.type,u,d,o.range,null,this.editorService,this))}return t},t.prototype.flatten=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.push(i),n&&(i.parentScope=n),i.children){var o=[];n&&(o=n.slice(0)),o.push(i.label),this.flatten(i.children,t,o)}}},t.prototype.getActiveOutline=function(){var e=this,t=this.editorService.getActiveEditor();if(t instanceof m.BaseTextEditor){var r=t.getControl(),i=r.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&a.isFunction(i.getMode)){var o=i.getMode().outlineSupport;if(o&&a.isFunction(o.getOutline)){var s=i.id;return this.outlineToModelCache[s]?n.TPromise.as(this.outlineToModelCache[s]):o.getOutline(i.getAssociatedResource()).then(function(t){var n={entries:t,outlineGroupLabel:o.outlineGroupLabel},r=new T(n,e.toQuickOpenEntries(n));return e.outlineToModelCache={},e.outlineToModelCache[s]=r,r},function(){return null})}}}return n.TPromise.as(null)},t.prototype.decorateOutline=function(e,t,n,r){var i=this;n.changeDecorations(function(n){i.lineHighlightDecorationId&&(n.removeDecoration(i.lineHighlightDecorationId.lineDecorationId),n.removeDecoration(i.lineHighlightDecorationId.lineHighlightId),i.lineHighlightDecorationId=null);var o=n.addDecoration(e,{className:"lineHighlight",isWholeLine:!0}),s=n.addDecoration(t,{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",position:g.OverviewRulerLane.Full}});i.lineHighlightDecorationId={lineHighlightId:o,lineDecorationId:s,position:r}})},t.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.lineHighlightDecorationId.position){var n=t.getControl();n.changeDecorations(function(t){t.removeDecoration(e.lineHighlightDecorationId.lineDecorationId),t.removeDecoration(e.lineHighlightDecorationId.lineHighlightId)})}}),this.lineHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.outlineToModelCache={},this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null},t}(h.QuickOpenHandler);t.GotoSymbolHandler=C;var x=function(e){function t(t,n,i){e.call(this,t,n,i,b.Behaviour.WidgetFocus|b.Behaviour.ShowInContextMenu),this.label=r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",17),this.quickOpenService=t.quickOpenService}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/5_visitSymbol"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.outlineSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return this.editor.focus(),this.quickOpenService.show("@"),e.prototype.run.call(this)},t.ID="editor.action.gotoSymbol",t}(b.EditorAction);t.GotoSymbolEditorAction=x;var A=p.Registry.as(d.Extensions.WorkbenchActions);A.registerWorkbenchAction(new u.SyncActionDescriptor(S,y,_,{ctrlCmd:!0,shift:!0,key:"O"})),p.Registry.as(h.Extensions.Quickopen).registerQuickOpenHandler(new h.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/gotoSymbolHandler","GotoSymbolHandler",w,[{prefix:w,needsEditor:!0,description:o.isMacintosh?r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",18):r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",19)},{prefix:w+E,needsEditor:!0,description:r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",20)}])),b.registerEditorActionContribution(x,y,r.localize("vs_workbench_contrib_quickopen_gotoSymbolHandler",21),!1,{ctrlCmd:!0,shift:!0,key:"O"})}),define("vs/css!vs/workbench/contrib/quickopen/media/commandsHandler",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/quickopen/commandsHandler",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/arrays","vs/base/types","vs/base/strings","vs/base/ui/widgets/quickopen/quickOpenModel","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/workbench/ui/quickopen/quickOpen","vs/base/filters","vs/editor/editorExtensions","vs/base/severity","vs/platform/configuration/keybindings","vs/css!./media/commandsHandler"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g="workbench.action.showCommands",b=i.localize("vs_workbench_contrib_quickopen_commandsHandler",0),y=">",_="$",w=function(e){function t(t){e.call(this,t,g,b,y)}return __extends(t,e),t}(p.QuickOpenAction);t.ShowAllCommandsAction=w;var E=function(e){function t(t,n,r,i,o){e.call(this),this.key=n,this.description=r,this.setHighlights(i),this.actionDescriptor=o,this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.messageService=t.messageService,this.telemetryService=t.telemetryService
}return __extends(t,e),t.prototype.getLabel=function(){return this.description},t.prototype.getGroupLabel=function(){return this.key},t.prototype.run=function(e){var t=this;if(e===l.Mode.OPEN){try{var r=this.instantiationService.createInstance(this.actionDescriptor);r&&r.enabled?n.Promise.timeout(50).done(function(){try{t.telemetryService.publicLog("workbenchActionExecuted",{id:r.id,from:"quick open"});var e=r.run()||n.Promise.as(null);e.done(function(){r.dispose()},function(){return t.onError()})}catch(i){t.onError()}},function(){return t.onError()}):this.messageService.show(f.Info,i.localize("vs_workbench_contrib_quickopen_commandsHandler",1,this.getLabel()))}catch(o){this.onError()}return!0}return!1},t.prototype.onError=function(){this.messageService.show(f.Error,i.localize("vs_workbench_contrib_quickopen_commandsHandler",2,this.description))},t}(l.QuickOpenEntryGroup),S=function(e){function t(t,n,r,i,o){e.call(this),this.key=n,this.description=r,this.setHighlights(i),this.action=o,this.telemetryService=t.telemetryService,this.editorService=t.editorService,this.messageService=t.messageService}return __extends(t,e),t.prototype.getLabel=function(){return this.description},t.prototype.getGroupLabel=function(){return this.key},t.prototype.run=function(e){var t=this;return e===l.Mode.OPEN&&n.Promise.timeout(50).done(function(){var e=t.editorService.getActiveEditor();if(e&&e.focus(),t.action.enabled)try{t.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"quick open"});var r=t.action.run()||n.Promise.as(null);r.done(null,function(){return t.onError()})}catch(o){t.onError()}else t.messageService.show(f.Info,i.localize("vs_workbench_contrib_quickopen_commandsHandler",3,t.getLabel()))},function(){return t.onError()}),!1},t.prototype.onError=function(){this.messageService.show(f.Error,i.localize("vs_workbench_contrib_quickopen_commandsHandler",4,this.getLabel()))},t}(l.QuickOpenEntryGroup),T=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService,this.editorService=t.editorService,this.messageService=t.messageService,this.keybindingService=t.keybindingService}return __extends(t,e),t.prototype.includeWorkbenchCommands=function(){return!0},t.prototype.getResults=function(e){e=e.trim();var t=[],r=[];if(this.includeWorkbenchCommands()){var i=d.Registry.as(u.Extensions.WorkbenchActions).getWorkbenchActions();r=this.actionDescriptorsToEntries(i,e)}var a=this.editorService.getActiveEditor(),l=a?a.getControl():null,c=[];l&&s.isFunction(l.getActions)&&(c=l.getActions());var p=this.editorActionsToEntries(c,e);return t=t.concat(r),t=t.concat(p),t=o.distinct(t,function(e){return e.getLabel()+e.getGroupLabel()}),t=t.sort(this.sort),n.TPromise.as(t)},t.prototype.actionDescriptorsToEntries=function(e,t){for(var n=[],r=d.Registry.as(u.Extensions.WorkbenchActions),o=0;o<e.length;o++){var s=e[o],a=v.lookupKeyBindingsAsLabels(this.keybindingService,s.id);if(s.label){var l=s.label,c=r.getCategory(s.id);c&&(l=i.localize("vs_workbench_contrib_quickopen_commandsHandler",5,c,l));var p=h.CombinedMatcher.matches(t,l);p&&n.push(this.instantiationService.createInstance(E,a.length>0?a.join(", "):"",l,p,s))}}return n},t.prototype.editorActionsToEntries=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i;if(o.isSupported()){var s=v.lookupKeyBindingsAsLabels(this.keybindingService,o.id);if(i.label){var a=h.CombinedMatcher.matches(t,i.label);a&&n.push(this.instantiationService.createInstance(S,s.length>0?s.join(", "):"",i.label,a,i))}}}return n},t.prototype.sort=function(e,t){var n=e.getLabel().toLowerCase(),r=t.getLabel().toLowerCase();return a.localeCompare(n,r)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.prototype.getClass=function(){return"commands-handler"},t.prototype.getEmptyLabel=function(){return i.localize("vs_workbench_contrib_quickopen_commandsHandler",6)},t}(p.QuickOpenHandler);t.CommandsHandler=T;var k=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.includeWorkbenchCommands=function(){return!1},t}(T);t.EditorCommandsHandler=k;var C=function(e){function t(t,n,r){e.call(this,t,n,r,m.Behaviour.WidgetFocus|m.Behaviour.ShowInContextMenu),this.label=i.localize("vs_workbench_contrib_quickopen_commandsHandler",7),this.quickOpenService=t.quickOpenService}return __extends(t,e),t.prototype.getGroupId=function(){return"4_tools/1_commands"},t.prototype.run=function(){return this.editor.focus(),this.quickOpenService.show("$"),e.prototype.run.call(this)},t.ID="editor.action.quickCommand",t}(m.EditorAction);t.QuickCommandsEditorAction=C;var x;x=r.browser.isIE11orEarlier?i.localize("vs_workbench_contrib_quickopen_commandsHandler",8):r.isNative&&r.isMacintosh?i.localize("vs_workbench_contrib_quickopen_commandsHandler",9):r.isNative?i.localize("vs_workbench_contrib_quickopen_commandsHandler",10):i.localize("vs_workbench_contrib_quickopen_commandsHandler",11);var A=d.Registry.as(u.Extensions.WorkbenchActions);A.registerWorkbenchAction(new c.SyncActionDescriptor(w,g,b,[{ctrlCmd:!0,key:"P"},{alt:r.browser.isIE11orEarlier,key:"F1"},{ctrlCmd:!0,shift:!0,key:"P"}])),d.Registry.as(p.Extensions.Quickopen).registerQuickOpenHandler(new p.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/commandsHandler","CommandsHandler",y,x)),r.isNative||(d.Registry.as(p.Extensions.Quickopen).registerQuickOpenHandler(new p.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/commandsHandler","EditorCommandsHandler",_,i.localize("vs_workbench_contrib_quickopen_commandsHandler",12))),m.registerEditorActionContribution(C,C.ID,i.localize("vs_workbench_contrib_quickopen_commandsHandler",13)))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/quickopen/gotoLineHandler",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/types","vs/base/errors","vs/base/ui/widgets/quickopen/quickOpenModel","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/workbench/ui/quickopen/quickOpen","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/textEditor","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f="workbench.action.gotoLine",v=i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",0),g=":",b=function(e){function t(t){e.call(this,t,f,v,g)}return __extends(t,e),t}(d.QuickOpenAction);t.GotoLineAction=b;var y=function(e){function t(t,n,r){e.call(this,n),this.line=parseInt(t,10),this.handler=r}return __extends(t,e),t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",1,e):i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",2):i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",3,this.line)},t.prototype.invalidRange=function(e){return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!o.isNumber(this.line)||e>0&&o.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.getActiveEditor(),t=e.getControl(),n=t.getModel();return n&&n.modified&&n.original&&(n=n.modified),n&&o.isFunction(n.getLineCount)?n.getLineCount():-1},t.prototype.run=function(e,t){return e===a.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){var e=this.toSelection(),t=new p.TextEditorOptions;return t.selection(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn),t},t.prototype.runOpen=function(e){if(this.invalidRange())return!1;var t=e.event,n=t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey));n&&this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,s.onUnexpectedError);var r=this.toSelection(),i=this.editorService.getActiveEditor();if(i){var o=i.getControl();o.setSelection(r),o.revealRangeInCenter(r),o.focus()}return!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1;var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),o.isFunction(n.changeDecorations)&&this.handler.decorateOutline(e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:1,endLineNumber:this.line,endColumn:1}},t}(d.EditorQuickOpenEntry),_=function(e){function t(t){e.call(this),this.editorService=t.editorService}return __extends(t,e),t.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return n.TPromise.as([new y(e,this.editorService,this)])},t.prototype.canRun=function(){var e=this.editorService.getActiveEditor()instanceof h.BaseTextEditor;return e?!0:i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",4)},t.prototype.decorateOutline=function(e,t,n){var r=this;t.changeDecorations(function(t){r.lineHighlightDecorationId&&(t.removeDecoration(r.lineHighlightDecorationId.lineDecorationId),t.removeDecoration(r.lineHighlightDecorationId.lineHighlightId),r.lineHighlightDecorationId=null);var i=t.addDecoration(e,{className:"lineHighlight",isWholeLine:!0}),o=t.addDecoration(e,{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",position:m.OverviewRulerLane.Full}});r.lineHighlightDecorationId={lineHighlightId:i,lineDecorationId:o,position:n}})},t.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.lineHighlightDecorationId.position){var n=t.getControl();n.changeDecorations(function(t){t.removeDecoration(e.lineHighlightDecorationId.lineDecorationId),t.removeDecoration(e.lineHighlightDecorationId.lineHighlightId)})}}),this.lineHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t}(d.QuickOpenHandler);t.GotoLineHandler=_;var w=u.Registry.as(c.Extensions.WorkbenchActions);w.registerWorkbenchAction(new l.SyncActionDescriptor(b,f,v,{ctrlCmd:!r.isMacintosh,winCtrl:r.isMacintosh,key:"G"})),u.Registry.as(d.Extensions.Quickopen).registerQuickOpenHandler(new d.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/gotoLineHandler","GotoLineHandler",g,[{prefix:g,needsEditor:!0,description:r.isMacintosh?i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",5):i.localize("vs_workbench_contrib_quickopen_gotoLineHandler",6)}]))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/quickopen/helpHandler",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/types","vs/platform/platform","vs/base/ui/widgets/quickopen/quickOpenModel","vs/workbench/ui/quickopen/quickOpen"],function(e,t,n,r,i,o,s,a,l){var c="?",u=i.$,d=function(e){function t(t,n,r,i){e.call(this),this.prefix=t,this.description=n,this.quickOpenService=r,this.openOnPreview=i}return __extends(t,e),t.prototype.getLabel=function(){return this.prefix},t.prototype.getDescription=function(){return this.description},t.prototype.getHeight=function(){return 24},t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.useBorder},t.prototype.setShowBorder=function(e){this.useBorder=e},t.prototype.render=function(e,t){var n=this,r=u(t);r.addClass("quick-open-entry"),this.showBorder()&&u(t).addClass("results-group-separator"),this.getGroupLabel()&&u(t).div(function(e){e.addClass("results-group"),e.attr({text:n.getGroupLabel()})});var i=r.clone().div({text:this.prefix,class:"quick-open-help-entry-label"});return this.prefix||i.text("â¦"),r.span({text:this.description,class:"quick-open-entry-description"}),null},t.prototype.run=function(e){return(e===a.Mode.OPEN||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(a.QuickOpenEntryItem),p=function(e){function t(t){e.call(this),this.quickOpenService=t.quickOpenService}return __extends(t,e),t.prototype.getResults=function(e){e=e.trim();var t=[],i=s.Registry.as(l.Extensions.Quickopen),a=i.getQuickOpenHandlers(),u=i.getDefaultQuickOpenHandlers();u.length>0&&(a=a.concat(u));for(var p,h=[],m=[],f=0;f<a.length;f++){var v=a[f];if(v.prefix!==c)if(o.isArray(v.helpEntries))for(var g=0;g<v.helpEntries.length;g++){var b=v.helpEntries[g];0===b.prefix.indexOf(e)&&(p=new d(b.prefix,b.description,this.quickOpenService,e.length>0),b.needsEditor?m.push(p):h.push(p))}else 0===v.prefix.indexOf(e)&&(p=new d(v.prefix,v.description,this.quickOpenService,e.length>0),h.push(p))}return h.length>0&&h[0].setGroupLabel(r.localize("vs_workbench_contrib_quickopen_helpHandler",0)),m.length>0&&(m[0].setGroupLabel(r.localize("vs_workbench_contrib_quickopen_helpHandler",1)),h.length>0&&m[0].setShowBorder(!0)),t=t.concat(h),t=t.concat(m),n.TPromise.as(t)},t.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e}},t}(l.QuickOpenHandler);t.HelpHandler=p,s.Registry.as(l.Extensions.Quickopen).registerQuickOpenHandler(new l.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/helpHandler","HelpHandler",c,r.localize("vs_workbench_contrib_quickopen_helpHandler",2)))}),define("vs/css!vs/workbench/contrib/quickopen/media/markerHandler",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/quickopen/markersHandler",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/strings","vs/base/network","vs/base/errors","vs/base/paths","vs/base/dom/dom","vs/base/ui/labels","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/severity","vs/workbench/ui/quickopen/quickOpen","vs/base/ui/widgets/quickopen/quickOpenModel","vs/platform/platform","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/css!./media/markerHandler"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g=function(e){function t(t,n){e.call(this),this._editorService=t.editorService,this._lp=new c.PathLabelProvider(t.contextService),this._marker=n}return __extends(t,e),t.prototype.getHeight=function(){return 48},t.prototype.render=function(e,t){l.clearNode(t);var n=[];return n.push('<div class="inline">'),n.push(i.format('<div class="severity {0}"></div>',d.toString(this._marker.severity).toLowerCase())),n.push("</div>"),n.push('<div class="inline entry">'),n.push("<div>"),n.push(i.format('<span class="message">{0}</span>',this._marker.message)),n.push("</div>"),n.push("<div>"),n.push(i.format('<span class="path"><span class="basename">{0} ({1},{2})</span><span class="dirname">{3}</span></span>',a.basename(this._marker.resource.path),this._marker.startLineNumber,this._marker.startColumn,this._lp.getLabel(a.dirname(this._marker.resource.path)))),n.push("</div>"),n.push("<div>"),t.innerHTML=n.join(""),null},t.prototype.run=function(e){return e!==h.Mode.OPEN?!1:(this._editorService.openEditor({resource:o.URL.fromUri(this._marker.resource),options:{selection:{startLineNumber:this._marker.startLineNumber,startColumn:this._marker.startColumn,endLineNumber:this._marker.endLineNumber,endColumn:this._marker.endColumn}}}).done(null,s.onUnexpectedError),!0)},t}(h.QuickOpenEntryItem),b=function(e){function t(t){e.call(this),this._markerService=t.markerService,this._instantiationService=t.instantiationService}return __extends(t,e),t.prototype.getResults=function(e){var r=this;e=e.trim();var i=this._markerService.read({take:500});return n.TPromise.as(i.sort(t._sort).filter(function(t){return r._filter(t,e)}).map(function(e){return r._instantiationService.createInstance(g,e)}))},t._sort=function(e,t){var n;return n=d.compare(e.severity,t.severity),0!==n?n:(n=i.localeCompare(e.resource.path,t.resource.path),0!==n?n:(n=e.startLineNumber-t.startLineNumber,0!==n?n:(n=e.startColumn-t.startColumn,0!==n?n:0)))},t.prototype._filter=function(e,t){if(e.resource.scheme===o.schemas.inMemory)return!1;var n=new RegExp(i.convertSimple2RegExpPattern(t),"i"),r=[e.message,e.resource.path,d.toString(e.severity),String(e.startLineNumber),String(e.startColumn),String(e.endLineNumber),String(e.endColumn)];return r.some(function(e){return n.test(e)})},t.prototype.getClass=function(){return"marker-handler"},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t.prototype.getEmptyLabel=function(e){return e.length>0?u.localize("vs_workbench_contrib_quickopen_markersHandler",0):u.localize("vs_workbench_contrib_quickopen_markersHandler",1)},t}(p.QuickOpenHandler);t.MarkersHandler=b;var y=function(e){function t(n){e.call(this,n,t.Id,t.Label,t.Prefix)}return __extends(t,e),t.Prefix="!",t.Id="workbench.action.showErrorsWarnings",t.Label=u.localize("vs_workbench_contrib_quickopen_markersHandler",2),t}(p.QuickOpenAction),_=m.Registry.as(v.Extensions.WorkbenchActions);_.registerWorkbenchAction(new f.SyncActionDescriptor(y,y.Id,y.Label,{ctrlCmd:!0,shift:!0,key:"M"})),m.Registry.as(p.Extensions.Quickopen).registerQuickOpenHandler(new p.QuickOpenHandlerDescriptor("vs/workbench/contrib/quickopen/markersHandler","MarkersHandler",y.Prefix,[{prefix:y.Prefix,needsEditor:!1,description:r.isMacintosh?u.localize("vs_workbench_contrib_quickopen_markersHandler",3):u.localize("vs_workbench_contrib_quickopen_markersHandler",4)}]))}),define("vs/base/ui/comparers",["require","exports"],function(e,t){function n(e,t){var n=r.exec(e.toLowerCase()),i=r.exec(t.toLowerCase()),o=n[1]||n[3]||"",s=n[2]||"",a=i[1]||i[3]||"",l=i[2]||"";return o!==a?a>o?-1:1:l>s?-1:1}var r=/^(.*)\.([^.]*)|([^.]+)$/;t.compareFileNames=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/resourceEditorModel",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/base/mime","vs/base/types","vs/base/http","vs/workbench/ui/parts/editor/editorModel","vs/workbench/ui/parts/editor/textEditorModel","vs/base/uri"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(t,n,r,i,o,s){e.call(this),this.requestService=t.requestService,this.fileService=t.fileService,this.url=n,this.mime=r,this.method=i,this.headers=o,this.resource=s}return __extends(t,e),t.prototype.setMimeEnforced=function(){this.isMimeEnforced=!!this.mime},t.prototype.getLastModified=function(){return this.lastModified},t.prototype.load=function(){var e,t=this;try{e="file"===c.parse(this.url).scheme}catch(a){e=!1}var l;return l=e?this.fileService.resolveContent(c.parse(this.url)):this.requestService.makeRequest({url:this.url,type:this.method,headers:this.headers}),l.then(function(e){var r,a,l=t.mime;if(o.isFunction(e.getResponseHeader)){var c=e,u=c.getResponseHeader(s.Header.LAST_MODIFIED);u&&(r=new Date(u).getTime());var d=c.getResponseHeader(s.Header.X_CONTENT_TYPES)||c.getResponseHeader(s.Header.CONTENT_TYPE);d&&d.indexOf("; charset")>=0&&(d=d.substring(0,d.indexOf(";"))),d&&d!==i.MIME_UNKNOWN&&(l=d),a=c.responseText}else{var p=e;r=p.mtime,l=p.mime,a=p.value}return t.lastModified=r,t.textEditorModel?(t.updateTextEditorModel(a,t.isMimeEnforced?void 0:l),n.TPromise.as(t)):t.createTextEditorModel(a,t.isMimeEnforced?t.mime:l,t.resource)},function(e){return e instanceof Error?n.TPromise.wrapError(e):n.TPromise.wrapError(new r.ConnectionError(e))})},t}(l.BaseTextEditorModel);t.TextResourceEditorModel=u;var d=function(e){function t(t,n,r){e.call(this),this.name=t,this.url=n,this.mime=r}return __extends(t,e),t.prototype.getName=function(){return this.name},t.prototype.getUrl=function(){return this.url},t.prototype.getMime=function(){return this.mime},t}(a.EditorModel);t.BinaryResourceEditorModel=d}),define("vs/base/diagnostics",["require","exports"],function(e,t){function n(e,t){return function(){}}var r=self;r.Monaco||(r.Monaco={}),r.Monaco.Diagnostics={};r.Monaco.Diagnostics;t.register=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/textFileEditorModel",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/platform/services","vs/platform/platform","vs/base/errors","vs/base/uri","vs/base/paths","vs/base/diagnostics","vs/base/types","vs/base/mime","vs/base/env","vs/editor/modes/modesExtensions","vs/editor/core/constants","vs/workbench/contrib/files/files","vs/workbench/ui/parts/editor/textEditorModel","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){var b=function(){function e(e){this.messageService=e.messageService}return e.prototype.onSaveError=function(e,t){var r;r=412===s.getHttpStatus(e)?n.localize("vs_workbench_contrib_files_editors_textFileEditorModel",0,l.basename(t.getResource().path)):n.localize("vs_workbench_contrib_files_editors_textFileEditorModel",1,l.basename(t.getResource().path),s.toErrorMessage(e,!1)),this.messageService.show(g.Error,r)},e}();!function(e){e[e.SAVED=0]="SAVED",e[e.DIRTY=1]="DIRTY",e[e.PENDING_SAVE=2]="PENDING_SAVE",e[e.CONFLICT=3]="CONFLICT",e[e.ERROR=4]="ERROR"}(t.State||(t.State={}));var y=t.State,_=function(e){function t(t,n,r){if(e.call(this),this.requestService=t.requestService,this.messageService=t.messageService,this.eventService=t.eventService,this.contextService=t.contextService,this.fileService=t.fileService,this.instantiationService=t.instantiationService,this.resource=n,"file"!==this.resource.scheme)throw new Error("TextFileEditorModel can only handle file:// resources.");this.mime=r,this.textModelChangeListener=null,this.dirty=!1,this.autoSavePromises=[],this.versionId=0,this.lastDirtyTime=0,this.mapPendingSaveToVersionId={},this.updateOptions()}return __extends(t,e),t.prototype.updateOptions=function(){var e=this.contextService.getOptions();this.autoSaveDelay=e&&u.isNumber(e.autoSaveDelay)?e.autoSaveDelay:t.DEFAULT_AUTO_SAVE_DELAY,this.autoSaveEnabled=-1!==this.autoSaveDelay},t.setSaveErrorHandler=function(e){t.saveErrorHandler=e},t.prototype.setConflictResolutionMode=function(){E("setConflictResolutionMode() - enabled conflict resolution mode",this.resource,new Date),this.inConflictResolutionMode=!0},t.prototype.isInConflictResolutionMode=function(){return this.inConflictResolutionMode},t.prototype.revert=function(){var e=this;if(!this.isResolved())return r.TPromise.as(null);this.cancelAutoSavePromises();var t=this.serverVersionStat.clone(),n=this.setDirty(!1);return this.load(!0).then(function(){e.emitEvent(f.EventType.FILE_REVERTED,new f.LocalFileChangeEvent(t,e.serverVersionStat))},function(o){return o.fileOperationResult===i.Files.FileOperationResult.FILE_NOT_FOUND?e.emitEvent(f.EventType.FILE_REVERTED,new f.LocalFileChangeEvent(t,e.serverVersionStat)):n(),r.Promise.wrapError(o)})},t.prototype.load=function(e){var t=this;return E("load() - enter",this.resource,new Date),this.dirty?(E("load() - exit - without loading because model is dirty",this.resource,new Date),r.TPromise.as(this)):this.fileService.resolveContent(this.resource,!0,this.serverVersionStat&&!e?this.serverVersionStat.etag:void 0).then(function(e){E("load() - resolved content",t.resource,new Date);var n=new i.Files.FileStatImpl(t.resource,e.path,!1,!1,e.name,e.mtime,e.etag);if(t.updateServerVersionStat(n),t.contentCharset=e.charset,!t.textEditorModel){E("load() - created text editor model",t.resource,new Date);var o;return o=p.isNative?e.resource:a.parse(decodeURIComponent(t.requestService.getRequestUrl("root",e.path,!0))),t.createTextEditorModel(e.value,t.findBestMime(e.mime,t.mime),o).then(function(){return t.setDirty(!1),t.textModelChangeListener=t.textEditorModel.addListener(m.EventType.ModelContentChanged,function(e){return t.onModelContentChanged(e)}),t})}E("load() - updated text editor model",t.resource,new Date),t.setDirty(!1),t.blockModelContentChange=!0;try{t.updateTextEditorModel(e.value,d.isUnspecific(e.mime)?null:e.mime)}finally{t.blockModelContentChange=!1}return r.TPromise.as(t)},function(e){return e.fileOperationResult===i.Files.FileOperationResult.FILE_NOT_MODIFIED_SINCE?(t.setDirty(!1),r.TPromise.as(t)):r.Promise.wrapError(e)})},t.prototype.getOrCreateMode=function(t,n){if(!d.isUnspecific(t))return e.prototype.getOrCreateMode.call(this,t);var r=o.Registry.as(h.Extensions.EditorModes);return r.getOrCreateModeByFilenameOrFirstLine(this.resource.path,n)},t.prototype.findBestMime=function(e,t){return d.isUnspecific(e)&&!d.isUnspecific(t)?t:e},t.prototype.onModelContentChanged=function(e){if(E("onModelContentChanged("+e.changeType+") - enter",this.resource,new Date),this.versionId++,E("onModelContentChanged() - new versionId "+this.versionId,this.resource,new Date),!this.blockModelContentChange){if(!this.autoSaveEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId)return E("onModelContentChanged() - model content changed back to last saved version",this.resource,new Date),this.setDirty(!1),this.emitEvent(f.EventType.FILE_REVERTED,new f.LocalFileChangeEvent(this.serverVersionStat,this.serverVersionStat)),void 0;E("onModelContentChanged() - model content changed and marked as dirty",this.resource,new Date);var t=this.dirty;if(this.setDirty(!0),this.lastDirtyTime=(new Date).getTime(),!t){var n=this.serverVersionStat.clone();this.emitEvent(f.EventType.FILE_DIRTY,new f.LocalFileChangeEvent(n,n,e))}this.autoSaveEnabled&&(this.inConflictResolutionMode?E("onModelContentChanged() - prevented save because we are in conflict resolution mode",this.resource,new Date):this.doAutoSave(this.versionId))}},t.prototype.doAutoSave=function(e){var t=this;if(E("doAutoSave() - enter for versionId "+e,this.resource,new Date),this.cancelAutoSavePromises(),0===this.autoSaveDelay)return this.doSave(e);var n=r.Promise.timeout(this.autoSaveDelay).then(function(){e===t.versionId&&t.doSave(e)});return this.autoSavePromises.push(n),n},t.prototype.cancelAutoSavePromises=function(){for(;this.autoSavePromises.length;)this.autoSavePromises.pop().cancel()},t.prototype.save=function(e){return this.isResolved()?(E("save() - enter",this.resource,new Date),this.cancelAutoSavePromises(),this.inConflictResolutionMode?(E("save() - prevented save because we are in conflict resolution mode",this.resource,new Date),r.TPromise.as(null)):this.doSave(this.versionId,e)):r.TPromise.as(null)},t.prototype.doSave=function(e,t){var n=this;E("doSave("+e+") - enter with versionId "+e,this.resource,new Date);var o=this.mapPendingSaveToVersionId[e];if(o)return E("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource,new Date),o;if(!this.dirty||e!==this.versionId)return E("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource,new Date),r.TPromise.as(null);if(this.isBusySaving()&&(E("doSave("+e+") - exit - because busy saving",this.resource,new Date),this.autoSaveDelay>0))return this.doAutoSave(e);this.autoSaveEnabled||this.textEditorModel.pushStackElement();var s=this.getValue(),a=new i.Files.Content(this.serverVersionStat.resource,this.serverVersionStat.path,s,this.serverVersionStat.name,this.serverVersionStat.mtime,this.serverVersionStat.mime,this.contentCharset,this.serverVersionStat.etag);this.inErrorMode=!1,E("doSave("+e+") - before updateContent()",this.resource,new Date);var l=this.serverVersionStat.clone();return this.emitEvent(f.EventType.FILE_SAVING,new f.LocalFileChangeEvent(l,l)),this.mapPendingSaveToVersionId[e]=this.fileService.updateContent(a,t).then(function(t){E("doSave("+e+") - after updateContent()",n.resource,new Date),delete n.mapPendingSaveToVersionId[e],e===n.versionId?(E("doSave("+e+") - setting dirty to false because versionId did not change",n.resource,new Date),n.setDirty(!1)):E("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",n.resource,new Date);var r=n.serverVersionStat;n.updateServerVersionStat(t);var i=r.clone(),o=n.serverVersionStat.clone();n.emitEvent("files:internalFileChanged",new f.LocalFileChangeEvent(i,o)),n.emitEvent(f.EventType.FILE_SAVED,new f.LocalFileChangeEvent(i,o))},function(t){E("doSave("+e+") - exit - resulted in a save error: "+t.toString(),n.resource,new Date),delete n.mapPendingSaveToVersionId[e],n.inErrorMode=!0,n.onSaveError(t),n.emitEvent(f.EventType.FILE_SAVE_ERROR,new f.LocalFileChangeEvent(l,l))}),this.mapPendingSaveToVersionId[e]},t.prototype.setDirty=function(e){var t=this,n=this.dirty,r=this.inConflictResolutionMode,i=this.inErrorMode,o=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())),function(){t.dirty=n,t.inConflictResolutionMode=r,t.inErrorMode=i,t.bufferSavedVersionId=o}},t.prototype.updateServerVersionStat=function(e){this.serverVersionStat?this.serverVersionStat.mtime<=e.mtime&&(this.serverVersionStat=e):this.serverVersionStat=e},t.prototype.onSaveError=function(e){t.saveErrorHandler||t.setSaveErrorHandler(this.instantiationService.createInstance(b)),t.saveErrorHandler.onSaveError(e,this)},t.prototype.emitEvent=function(e,r){try{r.source=t.ID,this.eventService.emit(e,r)}catch(i){i.friendlyMessage=n.localize("vs_workbench_contrib_files_editors_textFileEditorModel",2,e),s.onUnexpectedError(i)}},t.prototype.isBusySaving=function(){return!u.isEmptyObject(this.mapPendingSaveToVersionId)},t.prototype.isDirty=function(){return this.dirty},t.prototype.getLastDirtyTime=function(){return this.lastDirtyTime},t.prototype.getLastModifiedTime=function(){return this.serverVersionStat?this.serverVersionStat.mtime:-1},t.prototype.getState=function(){return this.inConflictResolutionMode?y.CONFLICT:this.inErrorMode?y.ERROR:this.dirty?this.isBusySaving()?y.PENDING_SAVE:this.dirty?y.DIRTY:void 0:y.SAVED},t.prototype.isResolved=function(){return!u.isUndefinedOrNull(this.serverVersionStat)},t.prototype.isDisposed=function(){return this.disposed},t.prototype.getResource=function(){return this.resource},t.prototype.getMime=function(){return this.mime},t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.textModelChangeListener&&(this.textModelChangeListener(),this.textModelChangeListener=null),this.cancelAutoSavePromises(),this.dirty&&this.autoSaveEnabled&&(E("dispose() - trigger a save because model is dirty",this.resource,new Date),this.save().done(null,s.onUnexpectedError))),e.prototype.dispose.call(this)},t.ID="workbench.editors.files.textFileEditorModel",t.DEFAULT_AUTO_SAVE_DELAY=1e3,t}(v.BaseTextEditorModel);t.TextFileEditorModel=_;var w=function(){function e(){this.mapResourcePathToModel=Object.create(null)}return e.prototype.dispose=function(e){var t=this.get(e);if(t){if(t instanceof _&&t.isDirty())return;t.dispose(),this.remove(e)}},e.prototype.get=function(e){return this.mapResourcePathToModel["string"==typeof e?e:e.path]},e.prototype.getAll=function(e){var t=this;return Object.keys(this.mapResourcePathToModel).filter(function(t){return!e||e.path===t}).map(function(e){return t.mapResourcePathToModel[e]
})},e.prototype.add=function(e,t){this.mapResourcePathToModel[e.path]=t},e.prototype.clear=function(){this.mapResourcePathToModel=Object.create(null)},e.prototype.remove=function(e){delete this.mapResourcePathToModel["string"==typeof e?e:e.path]},e}();t.TextFileEditorModelCache=w,t.CACHE=new w;var E;E||(E=c.register("TextFileEditorModelDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/fileEditorInput",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/platform/platform","vs/base/types","vs/base/paths","vs/base/mime","vs/base/env","vs/base/ui/labels","vs/base/strings","vs/base/assert","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/resourceEditorModel","vs/workbench/contrib/files/files","vs/workbench/contrib/files/editors/textFileEditorModel"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(e){function t(t,n,r){e.call(this),this.instantiationService=t.instantiationService,this.requestService=t.requestService,this.contextService=t.contextService,n&&(this.setResource(n),this.setMime(r||a.guessMimeTypes(this.resource.path).join(", ")))}return __extends(t,e),t.prototype.setResource=function(e){if("file"!==e.scheme)throw new Error("FileEditorInput can only handle file:// resources.");this.resource=e,this.name=null,this.description=null},t.prototype.getResource=function(){return this.resource},t.prototype.getMime=function(){return this.mime},t.prototype.setMime=function(e){d.ok(e,"Editor input needs mime type"),this.mime=e},t.prototype.getId=function(){return m.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=s.basename(this.resource.path)),this.name},t.prototype.getDescription=function(){return this.description||(this.description=c.getPathLabel(s.dirname(this.resource.path),this.contextService)),this.description},t.prototype.getStatus=function(){var e=f.CACHE.get(this.resource);if(e instanceof f.TextFileEditorModel){var n=e,r=n.getState();switch(r){case f.State.SAVED:return{state:"saved",displayText:t.nlsSavedDisplay,description:t.nlsSavedMeta};case f.State.DIRTY:return{state:"dirty",decoration:this.contextService.isAutoSaveEnabled()?"":"â",displayText:t.nlsDirtyDisplay,description:t.nlsDirtyMeta};case f.State.PENDING_SAVE:return{state:"saving",decoration:this.contextService.isAutoSaveEnabled()?"":"â",displayText:t.nlsPendingSaveDisplay,description:t.nlsPendingSaveMeta};case f.State.ERROR:return{state:"error",decoration:"â",displayText:t.nlsErrorDisplay,description:t.nlsErrorMeta};case f.State.CONFLICT:return{state:"conflict",decoration:"â",displayText:t.nlsConflictDisplay,description:t.nlsConflictMeta}}}return null},t.prototype.getPreferredEditor=function(e){for(var t,n=this.mime.split(","),r=0;r<n.length;r++)for(var s=u.trim(n[r]),a=0;a<e.length;a++)if(t=e[a],o.isFunction(t.getMimeTypes))for(var l=t.getMimeTypes(),c=0;c<l.length;c++){var d=l[c];if(s===d)return t;if(u.endsWith(d,"/*")&&u.startsWith(s,d.substring(0,d.length-1)))return t}var h=i.Registry.as(p.Extensions.Editors);return h.getEditorById(m.BINARY_FILE_EDITOR_ID)},t.prototype.resolve=function(e){var n,i=this,s=t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path];if(o.isUndefinedOrNull(s)?t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path]=[this]:-1===this.indexOfClient()&&t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path].push(this),t.FILE_EDITOR_MODEL_LOADERS[this.resource.path])return t.FILE_EDITOR_MODEL_LOADERS[this.resource.path];var a=f.CACHE.get(this.resource);return a&&!e?n=r.TPromise.as(a):a&&e?(n=a.load(),t.FILE_EDITOR_MODEL_LOADERS[this.resource.path]=n):(n=this.createModel().load(),t.FILE_EDITOR_MODEL_LOADERS[this.resource.path]=n),n.then(function(e){return f.CACHE.add(i.resource,e),t.FILE_EDITOR_MODEL_LOADERS[i.resource.path]=null,e},function(e){return t.FILE_EDITOR_MODEL_LOADERS[i.resource.path]=null,r.Promise.wrapError(e)})},t.prototype.indexOfClient=function(){if(!o.isUndefinedOrNull(t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path]))for(var e=0;e<t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path].length;e++){var n=t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path][e];if(n===this)return e}return-1},t.prototype.createModel=function(){var e=i.Registry.as(p.Extensions.Editors).getEditor(this);if(!e)throw new Error("Unable to find an editor in the registry for this input.");var t;if(e.getId()===m.BINARY_FILE_EDITOR_ID){var n;n=l.isNative?this.resource.toString():this.requestService.getRequestUrl("root",this.contextService.toWorkspaceRelativePath(this.resource)),t=new h.BinaryResourceEditorModel(this.getName(),n,this.mime)}else t=this.instantiationService.createInstance(f.TextFileEditorModel,this.resource,this.mime);return t},t.prototype.dispose=function(n){var r=f.CACHE.get(this.resource);if(r){var i=this.indexOfClient();if(i>=0){if(t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path].splice(i,1),!n&&t.FILE_EDITOR_MODEL_CLIENTS[this.resource.path].length>0)return;if(!n)return;f.CACHE.dispose(this.resource)}}e.prototype.dispose.call(this)},t.prototype.matches=function(n){return e.prototype.matches.call(this,n)===!0?!0:n?n instanceof t&&n.resource.toString()===this.resource.toString():!1},t.getAll=function(e){var n=[],r=t.FILE_EDITOR_MODEL_CLIENTS;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];s.isEqualOrParent(i,e.path)&&(n=n.concat(o))}return n},t.FILE_EDITOR_MODEL_CLIENTS={},t.FILE_EDITOR_MODEL_LOADERS={},t.nlsSavedDisplay=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",0),t.nlsSavedMeta=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",1),t.nlsDirtyDisplay=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",2),t.nlsDirtyMeta=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",3),t.nlsPendingSaveDisplay=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",4),t.nlsPendingSaveMeta=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",5),t.nlsErrorDisplay=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",6),t.nlsErrorMeta=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",7),t.nlsConflictDisplay=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",8),t.nlsConflictMeta=n.localize("vs_workbench_contrib_files_editors_fileEditorInput",9),t}(m.FileEditorInput);t.FileEditorInput=v});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/iframeEditorModel",["require","exports","vs/workbench/ui/parts/editor/editorModel"],function(e,t,n){var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.setUrl=function(e){this.url=e},t.prototype.getUrl=function(){return this.url},t.prototype.hasUrl=function(){return!!this.url},t.prototype.setContents=function(e,t,n){this.head=e,this.body=t,this.tail=n},t.prototype.getContents=function(){return{head:this.head,body:this.body,tail:this.tail}},t.prototype.hasContents=function(){return!!this.head||!!this.body||!!this.tail},t}(n.EditorModel);t.IFrameEditorModel=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/iframeEditorInput",["require","exports","vs/base/lib/winjs.base","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/iframeEditorModel","vs/platform/platform","vs/workbench/ui/parts/editor/baseEditor"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n,r){e.call(this),this.name=t,this.description=n,this.url=r}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.resolve=function(e){var t,r=this;if(this.cachedModel&&!e)t=n.TPromise.as(this.cachedModel);else if(this.cachedModel&&e)t=this.cachedModel.load();else{var i=o.Registry.as(s.Extensions.Editors).getEditor(this);if(!i)throw new Error("Unable to find an editor in the registry for this input.");var a=this.createModel();t=a.load()}return t.then(function(e){return r.cachedModel=e,r.cachedModel})},t.prototype.createModel=function(){var e=new i.IFrameEditorModel;return e.setUrl(this.url),e},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var r=n;return r.url===this.url&&r.name===this.name&&r.description===this.description}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.iFrameEditorInput",t}(r.EditorInput);t.IFrameEditorInput=a}),define("vs/css!vs/workbench/ui/parts/editor/media/iframeeditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/iframeEditor",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/dom/dom","vs/base/env","vs/base/errors","vs/platform/services","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/iframeEditorInput","vs/workbench/ui/parts/editor/iframeEditorModel","vs/css!./media/iframeeditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=i.$,m=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r),this.editorService=n.editorService,this.storageService=n.storageService}return __extends(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize("vs_workbench_ui_parts_editor_iframeEditor",0)},t.prototype.create=function(n){e.prototype.create.call(this,n);var i=document.createElement("div");return i.className="iframe-container",this.iframeContainer=h(i),this.iframeContainer.tabindex(0),s.browser.isIPad&&this.iframeContainer.addClass("ipad-touch-enabled"),this.iframeBuilder=h(this.iframeContainer).element("iframe").addClass("iframe"),this.iframeBuilder.attr({frameborder:"0"}),this.iframeBuilder.setProperty(t.HAS_CONTENTS_PROPERTY,!1),n.getHTMLElement().appendChild(i),r.Promise.as(null)},t.prototype.setInput=function(t,n){var i=this.getInput();e.prototype.setInput.call(this,t,n);var o=n&&n.forceOpen;return!o&&t.matches(i)?r.TPromise.as(null):t instanceof d.IFrameEditorInput?this.doSetInput(t,!0):r.TPromise.wrapError("Invalid editor input. IFrame editor requires an input instance of IFrameEditorInput.")},t.prototype.doSetInput=function(e,n){var i=this;return this.editorService.resolveEditorModel(e,!0).then(function(a){if(!(a instanceof p.IFrameEditorModel))return r.TPromise.wrapError("Invalid editor input. IFrame editor requires a model instance of IFrameEditorModel.");if(!i.getInput()||i.getInput()!==e)return null;var c=i.storageService.getBoolean(t.allowScriptExecutionSettingsKey,l.StorageScope.WORKSPACE,!1),u=a;if(u.hasContents()){var d=!n&&i.iframeBuilder.getProperty(t.HAS_CONTENTS_PROPERTY),h=u.getContents();c||(h.body=o.removeScriptTags(h.body)),s.isNative&&(h.body=h.body+i.enableKeybindings());try{i.setFrameContents(d?h.body:[h.head,h.body,h.tail].join("\n"),d)}catch(m){setTimeout(function(){return i.reload(!0)},1e3)}}else c?i.iframeBuilder.removeAttribute("sandbox"):i.iframeBuilder.attr({sandbox:"allow-same-origin"}),i.iframeBuilder.src(u.getUrl()+"?etag="+(new Date).getTime())})},t.prototype.setFrameContents=function(e,n){var r=this.iframeBuilder.getHTMLElement().contentWindow;if(n){var i=r.document.documentElement,o=i&&i.scrollLeft||0,s=i&&i.scrollTop||0;r.document.body.innerHTML=e,(o||s)&&r.scrollTo(o,s)}else r.document.open("text/html","replace"),r.document.write(e),r.document.close(),r.scrollTo(0,0);this.iframeBuilder.setProperty(t.HAS_CONTENTS_PROPERTY,!0)},t.prototype.enableKeybindings=function(){return["<script>","var ignoredKeys = [32 /* space */, 33 /* page up */, 34 /* page down */, 38 /* up */, 40 /* down */];","var ignoredCtrlCmdKeys = [67 /* c */];",'window.document.body.addEventListener("keydown", function(event) {',"	try {","		if (ignoredKeys.some(function(i) { return i === event.keyCode; })) {","			if (!event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey) {","				return;","			}","		}","","		if (ignoredCtrlCmdKeys.some(function(i) { return i === event.keyCode; })) {","			if (event.ctrlKey || event.metaKey) {","				return;","			}","		}","","		event.preventDefault();","",'		var fakeEvent = document.createEvent("KeyboardEvent");','		Object.defineProperty(fakeEvent, "keyCode", {',"			get : function() {","				return event.keyCode;","			}","		});",'		Object.defineProperty(fakeEvent, "which", {',"			get : function() {","				return event.keyCode;","			}","		});",'		Object.defineProperty(fakeEvent, "target", {',"			get : function() {","				return window && window.parent.document.body;","			}","		});","",'		fakeEvent.initKeyboardEvent("keydown", true, true, document.defaultView, null, null, event.ctrlKey, event.altKey, event.shiftKey, event.metaKey);',"","		window.parent.document.dispatchEvent(fakeEvent);","	} catch (error) {}","});","</script>"].join("\n")},t.prototype.clearInput=function(){this.clearIFrame(),e.prototype.clearInput.call(this)},t.prototype.clearIFrame=function(){this.iframeBuilder.src("about:blank"),this.iframeBuilder.setProperty(t.HAS_CONTENTS_PROPERTY,!1)},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.iframeContainer.size(t.width,t.height),this.iframeBuilder.size(t.width,t.height)},t.prototype.focus=function(){this.iframeContainer.domFocus()},t.prototype.changePosition=function(t){var n=this;e.prototype.changePosition.call(this,t),setTimeout(function(){return n.reload(!0)})},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.reload=function(e){this.input&&(e&&this.clearIFrame(),this.doSetInput(this.input).done(null,a.onUnexpectedError))},t.prototype.dispose=function(){this.iframeContainer.destroy(),e.prototype.dispose.call(this)},t.ID="workbench.editors.iFrameEditor",t.allowScriptExecutionSettingsKey="workbench.editor.allowIframeScriptExecution",t.HAS_CONTENTS_PROPERTY="hasContents",t}(u.BaseEditor);t.IFrameEditor=m;var f=function(e){function t(t){e.call(this,"workbench.files.action.toggleJSInIFrameEditor",n.localize("vs_workbench_ui_parts_editor_iframeEditor",1)),this.editorService=t.editorService,this.storageService=t.storageService}return __extends(t,e),Object.defineProperty(t.prototype,"label",{get:function(){var e=this.storageService.getBoolean(m.allowScriptExecutionSettingsKey,l.StorageScope.WORKSPACE,!1);return e?n.localize("vs_workbench_ui_parts_editor_iframeEditor",2):n.localize("vs_workbench_ui_parts_editor_iframeEditor",3)},enumerable:!0,configurable:!0}),t.prototype.run=function(){this.storageService.swap(m.allowScriptExecutionSettingsKey,!0,!1,l.StorageScope.WORKSPACE,!1);var e=new c.EditorOptions;return e.forceOpen=!0,this.editorService.openEditor(this.input,e,this.position)},t}(u.EditorInputAction);t.ToggleJavaScriptInIFrameEditorInputAction=f});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/diffEditorModel",["require","exports","vs/base/lib/winjs.base","vs/workbench/ui/parts/editor/editorModel"],function(e,t,n,r){var i=function(e){function t(t,n){e.call(this),this._originalModel=t,this._modifiedModel=n}return __extends(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return n.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this._originalModel.isResolved()&&this._modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(r.EditorModel);t.DiffEditorModel=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/stringEditorInput",["require","exports","vs/base/lib/winjs.base","vs/base/mime","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/stringEditorModel"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,i,o,s){void 0===o&&(o=r.MIME_TEXT),e.call(this),this.name=t,this.description=n,this.value=i,this.mime=o,this.singleton=s}return __extends(t,e),t.prototype.getResource=function(){return null},t.prototype.getId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getValue=function(){return this.value},t.prototype.getMime=function(){return this.mime},t.prototype.setValue=function(e){this.value=e,this.cachedModel&&this.cachedModel.setValue(e)},t.prototype.clearValue=function(){this.value="",this.cachedModel&&this.cachedModel.clearValue()},t.prototype.append=function(e){this.value+=e,this.cachedModel&&this.cachedModel.append(e)},t.prototype.trim=function(e){if(this.cachedModel){var t=this.cachedModel.trim(e);if(null!==t)return this.value=t,this.value}return null},t.prototype.resolve=function(){var e=this;if(this.cachedModel)return n.TPromise.as(this.cachedModel);var t=new o.StringEditorModel(this.value,this.mime,this.getResource());return t.load().then(function(t){return e.cachedModel=t,e.cachedModel})},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var r=n;return r.singleton&&this.singleton&&r.mime===this.mime?!0:r.value===this.value&&r.mime===this.mime&&r.description===this.description&&r.name===this.name}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.stringEditorInput",t}(i.EditorInput);t.StringEditorInput=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/resourceEditorInput",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/base/mime","vs/base/objects","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/resourceEditorModel"],function(e,t,n,r,i,o,s,a,l){var c="workbench.editors.stringEditor",u="workbench.editors.binaryResourceEditor",d=function(e){function t(t,n,r,i,o,s,a,l){e.call(this),this.instantiationService=t.instantiationService,this.name=n,this.description=r,this.url=i,this.mime=o,this.method=s,this.headers=a,this.singleton=l}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getUrl=function(){return this.url},t.prototype.getMethod=function(){return this.method},t.prototype.getHeaders=function(){return this.headers},t.prototype.getMime=function(){return this.mime},t.prototype.setMimeEnforced=function(){this.isMimeEnforced=!0},t.prototype.getResource=function(){return null},t.prototype.getPreferredEditor=function(){var e=i.isBinaryMime(this.mime),t=r.Registry.as(s.Extensions.Editors);return t.getEditorById(e?u:c)},t.prototype.resolve=function(e){var t,r=this;return t=this.cachedModel&&!e?n.TPromise.as(this.cachedModel):this.cachedModel&&e?this.cachedModel.load():this.createModel().load(),t.then(function(e){return r.cachedModel=e,r.cachedModel})},t.prototype.createModel=function(){var e=r.Registry.as(s.Extensions.Editors).getEditor(this);if(!e)throw new Error("Unable to find an editor in the registry for this input.");var t;return e.getId()===u?t=new l.BinaryResourceEditorModel(this.name,this.url,this.mime):(t=this.instantiationService.createInstance(l.TextResourceEditorModel,this.url,this.mime,this.method,this.headers,this.getResource()),this.isMimeEnforced&&t.setMimeEnforced()),t},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var r=n;return r.singleton&&this.singleton&&r.mime===this.mime?!0:r.url===this.url&&r.mime===this.mime&&r.name===this.name&&r.description===this.description&&r.method===this.method&&o.equals(r.headers,this.headers)}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.resourceEditorInput",t}(a.EditorInput);t.ResourceEditorInput=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/textDiffEditorModel",["require","exports","vs/workbench/ui/parts/editor/diffEditorModel"],function(e,t,n){var r=function(e){function t(t,n){e.call(this,t,n),this.updateTextDiffEditorModel()}return __extends(t,e),t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(n.DiffEditorModel);t.TextDiffEditorModel=r}),define("vs/css!vs/workbench/ui/parts/editor/media/textdiffeditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/textDiffEditor",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/services","vs/base/ui/actions","vs/base/types","vs/workbench/ui/parts/editor/textEditor","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/ui/parts/editor/resourceEditorInput","vs/workbench/ui/parts/editor/editorOptions","vs/editor/contrib/diffNavigator/diffNavigator","vs/editor/diff/diffEditorWidget","vs/workbench/ui/parts/editor/textDiffEditorModel","vs/workbench/ui/services","vs/css!./media/textdiffeditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r)}return __extends(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():r.localize("vs_workbench_ui_parts_editor_textDiffEditor",0)},t.prototype.createEditorControl=function(e){var t=this;this.nextDiffAction=new v(this,!0),this.previousDiffAction=new v(this,!1);var r=this.instantiationService.createInstance(m.DelegatingWorkbenchEditorService,this,function(e,r,i,o){if(s.isUndefinedOrNull(o)||o===!1||o===t.position){var a=t.getInput();if(r&&i&&a){if(r.matches(a.getModifiedInput()))return t.setInput(t.getInput(),i).then(function(){return!0});if(r.matches(a.getOriginalInput())){var l=t.getControl().getOriginalEditor();if(i instanceof u.TextEditorOptions)return i.apply(l),n.TPromise.as(!0)}}}return n.TPromise.as(!1)}),i=this.instantiationService.createChild({editorService:r});return i.createInstance(p.DiffEditorWidget,e.getHTMLElement(),this.getCodeEditorOptions())},t.prototype.setInput=function(t,i){var o=this,a=this.getInput();e.prototype.setInput.call(this,t,i);var l=i&&i.forceOpen;if(!l&&t.matches(a)){var c=i;return c&&s.isFunction(c.apply)&&c.apply(this.getControl()),n.TPromise.as(null)}return this.diffNavigator&&this.diffNavigator.dispose(),this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof h.TextDiffEditorModel))return n.TPromise.wrapError(r.localize("vs_workbench_ui_parts_editor_textDiffEditor",1));if(!o.getInput()||o.getInput()!==t)return null;var a=o.getControl();a.setModel(e.textDiffEditorModel);var l=!0;if(i instanceof u.TextDiffEditorOptions){var c=i;l=s.isUndefinedOrNull(c.autoRevealFirstChange)?l:c.autoRevealFirstChange}o.diffNavigator=new d.DiffNavigator(a,{alwaysRevealFirst:l}),o.diffNavigator.addListener(d.DiffNavigator.Events.UPDATED,function(){o.nextDiffAction.updateEnablement(),o.previousDiffAction.updateEnablement()}),i&&s.isFunction(i.apply)&&i.apply(a),a.updateOptions(o.getCodeEditorOptions())},function(e){return o.isFileBinaryError(e)?n.Promise.wrapError(r.localize("vs_workbench_ui_parts_editor_textDiffEditor",2)):n.Promise.wrapError(e)})},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),n=this.input;if(n&&s.isFunction(n.getModifiedInput)){var r=n.getModifiedInput(),i=r instanceof l.StringEditorInput||r instanceof c.ResourceEditorInput;t.readOnly=i}return t},t.prototype.isFileBinaryError=function(e){var t=this;if(s.isArray(e)){var n=e;return n.some(function(e){return t.isFileBinaryError(e)})}return e.fileOperationResult===i.Files.FileOperationResult.FILE_IS_BINARY},t.prototype.clearInput=function(){this.diffNavigator&&this.diffNavigator.dispose(),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.getDiffNavigator=function(){return this.diffNavigator},t.prototype.getActions=function(){return[this.previousDiffAction,this.nextDiffAction]},t.prototype.getSecondaryActions=function(){var t=this,i=e.prototype.getSecondaryActions.call(this),s=!1,a=r.localize("vs_workbench_ui_parts_editor_textDiffEditor",3),l=r.localize("vs_workbench_ui_parts_editor_textDiffEditor",4),c=new o.Action("toggle.diff.editorMode",a,null,!0,function(){return t.getControl().updateOptions({renderSideBySide:s}),s=!s,c.label=s?l:a,n.Promise.as(!0)}),u=!0,d=r.localize("vs_workbench_ui_parts_editor_textDiffEditor",5),p=r.localize("vs_workbench_ui_parts_editor_textDiffEditor",6),h=new o.Action("toggle.diff.trimWhitespace",p,null,!0,function(){return u=!u,t.getControl().updateOptions({ignoreTrimWhitespace:u}),h.label=u?p:d,n.Promise.as(!0)});return c.order=50,h.order=51,i=i.concat([c,h])},t.prototype.getControl=function(){return e.prototype.getControl.call(this)},t.prototype.getControlConfiguration=function(){var e=this.getControl();return e?e.getModifiedEditor().getConfiguration():null},t.prototype.dispose=function(){this.diffNavigator&&this.diffNavigator.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.editors.textDiffEditor",t}(a.BaseTextEditor);t.TextDiffEditor=f;var v=function(e){function t(n,i){e.call(this,i?t.ID_NEXT:t.ID_PREV),this.editor=n,this.next=i,this.label=this.next?r.localize("vs_workbench_ui_parts_editor_textDiffEditor",7):r.localize("vs_workbench_ui_parts_editor_textDiffEditor",8),this.class=this.next?"textdiff-editor-action next":"textdiff-editor-action previous",this.enabled=!1}return __extends(t,e),t.prototype.run=function(){return this.next?this.editor.getDiffNavigator().next():this.editor.getDiffNavigator().previous(),null},t.prototype.updateEnablement=function(){this.enabled=this.editor.getDiffNavigator().canNavigate()},t.ID_NEXT="workbench.action.nextDiff",t.ID_PREV="workbench.action.previousDiff",t}(o.Action)}),define("vs/css!vs/base/ui/widgets/resourceviewer",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/resourceViewer",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/css!./resourceviewer"],function(e,t,n,r,i,o,s){var a=o.$,l=function(){function e(){}return e.show=function(e,t,o,l,c){if(a(l).addClass("monaco-resource-viewer"),o||(o="application/octet-stream"),o=r.trim(o.split(",")[0]),o.indexOf("image/")>=0)a(l).empty().style({paddingLeft:"20px"}).a({href:t,target:"_blank",title:n.localize("vs_base_ui_widgets_resourceViewer",0)},function(e){var n=e.img({src:t+"?"+(new Date).getTime()}).on(s.EventType.LOAD,function(){c&&c.onElementInternalDimensions()});i.browser.isIE10orEarlier&&n.style({marginLeft:"5px"})});else if(o.indexOf("pdf")>=0){var u=a(l).empty().style({padding:0,margin:0}).element("object").attr({data:t+"?"+(new Date).getTime(),width:"100%",height:"100%",type:o});i.browser.isIE11orEarlier&&(u.style({marginLeft:"0.5%"}),a(u).element("embed").attr({src:t+"?"+(new Date).getTime(),type:o,width:"100%",height:"100%"}))}else if(o.indexOf("audio/")>=0&&i.browser.canPlayAudio(o))a(l).empty().style({paddingLeft:"20px"}).element("audio").attr({src:t+"?"+(new Date).getTime(),text:n.localize("vs_base_ui_widgets_resourceViewer",1),controls:"controls"}).on(s.EventType.LOAD,function(){c&&c.onElementInternalDimensions()});else if(o.indexOf("video/")>=0&&i.browser.canPlayVideo(o)){var d=a(l).empty().style({paddingLeft:"20px"}).element("video").attr({src:t+"?"+(new Date).getTime(),text:n.localize("vs_base_ui_widgets_resourceViewer",2),controls:"controls"}).on(s.EventType.LOAD,function(){c&&c.onElementInternalDimensions()});i.browser.isIE10orEarlier&&d.style({marginLeft:"5px"})}else i.isWeb?a(l).empty().style({paddingLeft:"20px"}).span({text:n.localize("vs_base_ui_widgets_resourceViewer",3)}).a({class:"prominent",target:"_blank",href:t,text:e}):a(l).empty().style({paddingLeft:"20px"}).span({text:n.localize("vs_base_ui_widgets_resourceViewer",4)}),c&&c.onElementInternalDimensions()},e}();t.ResourceViewer=l}),define("vs/css!vs/workbench/ui/parts/editor/media/binarydiffeditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/binaryDiffEditor",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/ui/widgets/sash","vs/base/dom/builder","vs/base/ui/widgets/resourceViewer","vs/base/ui/scrollbar/impl/scrollableElement","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/resourceEditorModel","vs/css!./media/binarydiffeditor"],function(e,t,n,r,i,o,s,a,l,c){var u=o.$,d=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r),this.editorService=n.editorService}return __extends(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():r.localize("vs_workbench_ui_parts_editor_binaryDiffEditor",0)},t.prototype.create=function(t){var r=this;e.prototype.create.call(this,t);var o=document.createElement("div");o.className="binary-container",this.leftBinaryContainer=u(o),this.leftBinaryContainer.tabindex(0),this.leftScrollbar=new a.ScrollableElement(o,{horizontal:"hidden",vertical:"hidden"}),t.getHTMLElement().appendChild(this.leftScrollbar.getDomNode()),u(this.leftScrollbar.getDomNode()).addClass("binarydiff-left"),this.sash=new i.Sash(t.getHTMLElement(),this),this.sash.addListener("start",function(){return r.onSashDragStart()}),this.sash.addListener("change",function(e){return r.onSashDrag(e)}),this.sash.addListener("end",function(){return r.onSashDragEnd()});var s=document.createElement("div");
return s.className="binary-container",this.rightBinaryContainer=u(s),this.rightBinaryContainer.tabindex(0),this.rightScrollbar=new a.ScrollableElement(s,{horizontal:"hidden",vertical:"hidden"}),t.getHTMLElement().appendChild(this.rightScrollbar.getDomNode()),u(this.rightScrollbar.getDomNode()).addClass("binarydiff-right"),n.Promise.as(null)},t.prototype.setInput=function(t,i){var o=this,s=this.getInput();e.prototype.setInput.call(this,t,i);var a=i&&i.forceOpen;return!a&&t.matches(s)?n.TPromise.as(null):this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e.originalModel instanceof c.BinaryResourceEditorModel&&e.modifiedModel instanceof c.BinaryResourceEditorModel))return n.TPromise.wrapError(r.localize("vs_workbench_ui_parts_editor_binaryDiffEditor",1));if(!o.getInput()||o.getInput()!==t)return null;var i=e.originalModel;o.renderInput(i.getName(),i.getUrl(),i.getMime(),!0);var s=e.modifiedModel;o.renderInput(s.getName(),s.getUrl(),s.getMime(),!1)})},t.prototype.renderInput=function(e,t,n,r){this.leftContainerWidth&&this.dimension&&this.leftContainerWidth!==this.dimension.width/2&&(this.leftContainerWidth=this.dimension.width/2,this.layoutContainers(),this.sash.layout());var i=r?this.leftBinaryContainer:this.rightBinaryContainer,o=r?this.leftScrollbar:this.rightScrollbar;s.ResourceViewer.show(e,t,n,i,o)},t.prototype.clearInput=function(){u(this.leftBinaryContainer).empty(),u(this.rightBinaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(t){e.prototype.layout.call(this,t);var n=this.dimension;if(this.dimension=t,this.leftContainerWidth&&n){var r=this.leftContainerWidth/n.width;this.leftContainerWidth=this.dimension.width*r}else this.leftContainerWidth=this.dimension.width/2;this.sash.layout(),this.layoutContainers()},t.prototype.layoutContainers=function(){this.leftBinaryContainer.size(this.leftContainerWidth,this.dimension.height),this.leftScrollbar.onElementDimensions(),this.leftScrollbar.onElementInternalDimensions(),this.rightBinaryContainer.size(this.dimension.width-this.leftContainerWidth,this.dimension.height),this.rightScrollbar.onElementDimensions(),this.rightScrollbar.onElementInternalDimensions()},t.prototype.onSashDragStart=function(){this.startLeftContainerWidth=this.leftContainerWidth},t.prototype.onSashDrag=function(e){var n=this.startLeftContainerWidth+e.currentX-e.startX;this.leftContainerWidth=Math.max(t.MIN_CONTAINER_WIDTH,n),this.dimension.width-this.leftContainerWidth<t.MIN_CONTAINER_WIDTH&&(this.leftContainerWidth=this.dimension.width-t.MIN_CONTAINER_WIDTH),this.layoutContainers()},t.prototype.onSashDragEnd=function(){this.sash.layout()},t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this.leftContainerWidth},t.prototype.getVerticalSashHeight=function(){return this.dimension.height},t.prototype.focus=function(){this.rightBinaryContainer.domFocus()},t.prototype.dispose=function(){this.sash.dispose(),this.leftScrollbar.destroy(),this.rightScrollbar.destroy(),this.leftBinaryContainer.destroy(),this.rightBinaryContainer.destroy(),e.prototype.dispose.call(this)},t.ID="workbench.editors.binaryResourceDiffEditor",t.MIN_CONTAINER_WIDTH=100,t}(l.BaseEditor);t.BinaryResourceDiffEditor=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/diffEditorInput",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/mime","vs/platform/platform","vs/base/ui/events","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorInput","vs/workbench/ui/parts/editor/textEditorModel","vs/workbench/ui/parts/editor/diffEditorModel","vs/workbench/ui/parts/editor/textDiffEditor","vs/workbench/ui/parts/editor/textDiffEditorModel","vs/workbench/ui/parts/editor/resourceEditorInput","vs/workbench/ui/parts/editor/binaryDiffEditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(e){function t(t,n,r,i){e.call(this),this.name=t,this.description=n,this.originalInput=r,this.modifiedInput=i,this._toUnbind=[],this.registerListeners()}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this._toUnbind.push(this.originalInput.addListener(s.EventType.DISPOSE,function(){e.isDisposed()||e.dispose()})),this._toUnbind.push(this.modifiedInput.addListener(s.EventType.DISPOSE,function(){e.isDisposed()||e.dispose()}))},Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getStatus=function(){if(this.modifiedInput){var t=this.modifiedInput.getStatus();if(t)return t}if(this.originalInput){var n=this.originalInput.getStatus();if(n)return n}return e.prototype.getStatus.call(this)},t.prototype.getOriginalInput=function(){return this.originalInput},t.prototype.getModifiedInput=function(){return this.modifiedInput},t.prototype.setOriginalInput=function(e){this.originalInput=e},t.prototype.setModifiedInput=function(e){this.modifiedInput=e},t.prototype.resolve=function(e){var t,r=this;return t=this.cachedModel&&!e?n.TPromise.as(this.cachedModel):this.createModel(e),t.then(function(e){return r.cachedModel&&r.cachedModel.dispose(),r.cachedModel=e,r.cachedModel})},t.prototype.getPreferredEditor=function(){var e=this.isBinary(this.originalInput)||this.isBinary(this.modifiedInput),t=o.Registry.as(a.Extensions.Editors);return t.getEditorById(e?m.BinaryResourceDiffEditor.ID:d.TextDiffEditor.ID)},t.prototype.isBinary=function(e){var t;if(e instanceof h.ResourceEditorInput)t=e.getMime();else{var n=e;r.isFunction(n.getMime)&&(t=n.getMime())}return t&&i.isBinaryMime(t)},t.prototype.createModel=function(e){return n.TPromise.join([this.originalInput.resolve(e),this.modifiedInput.resolve(e)]).then(function(e){var t=e[0],n=e[1];return n instanceof c.BaseTextEditorModel&&t instanceof c.BaseTextEditorModel?new p.TextDiffEditorModel(t,n):new u.DiffEditorModel(t,n)})},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n){if(!(n instanceof t))return!1;var r=n;return this.originalInput.matches(r.originalInput)&&this.modifiedInput.matches(r.modifiedInput)}return!1},t.prototype.dispose=function(){for(;this._toUnbind.length;)this._toUnbind.pop()();this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),this.originalInput.dispose(),this.modifiedInput.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.editors.diffEditorInput",t}(l.EditorInput);t.DiffEditorInput=f});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/statViewModel",["require","exports","vs/platform/services","vs/base/assert"],function(e,t,n,r){var i=function(e){function t(n){e.call(this,null,null,n,!1,""),this.id=t.ID++,this.isDirectoryResolved=n}return __extends(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),delete this.isDirectoryResolved,delete this.path,delete this.name,delete this.isDirectory,delete this.hasChildren,delete this.mtime,delete this.mime},t.prototype.getId=function(){return"new-stat-placeholder:"+this.id+":"+this.parent.path},t.prototype.clone=function(){var e=new t(this.isDirectory);return e.parent=this.parent,e},t.prototype.addChild=function(){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.hasChild=function(){return!1},t.prototype.removeChild=function(){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(){return null},t.prototype.isRoot=function(){return!1},t.prototype.isAncestorOf=function(){return!1},t.prototype.isParentOf=function(){return!1},t.addNewStatPlaceholder=function(e,n){r.ok(e.isDirectory,"Can only add a child to a folder");var i=new t(n);return i.parent=e,e.children.push(i),e.hasChildren=e.children.length>0,i},t.ID=0,t}(n.Files.FileStatImpl);t.NewStatPlaceholder=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/derivedFrameEditorInput",["require","exports","vs/base/paths","vs/base/ui/labels","vs/workbench/ui/parts/editor/iframeEditorInput"],function(e,t,n,r,i){var o=function(e){function t(t,i,o,s){void 0===s&&(s=r.getPathLabel(n.dirname(i.path),t.contextService)),e.call(this,o,s,null),this.resource=i}return __extends(t,e),t.prototype.createNew=function(){throw new Error("Subclass to implement")},t.prototype.getResource=function(){return this.resource},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var r=n;return r.resource.toString()===this.resource.toString()}return!1},t}(i.IFrameEditorInput);t.DerivedFrameEditorInput=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/htmlFrameEditorInput",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/paths","vs/workbench/contrib/files/editors/derivedFrameEditorInput","vs/workbench/ui/parts/editor/iframeEditorModel"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,r){e.call(this,t,r,n.localize("vs_workbench_contrib_files_editors_htmlFrameEditorInput",0,i.basename(r.path))),this.requestService=t.requestService,this.instantiationService=t.instantiationService,this.contextService=t.contextService}return __extends(t,e),t.prototype.createNew=function(e){return this.instantiationService.createInstance(t,e)},t.prototype.getId=function(){return t.ID},t.prototype.createModel=function(){var e=new s.IFrameEditorModel;return r.isNative?e.setUrl(this.getResource().toString()):e.setUrl(this.requestService.getRequestUrl("root",this.toWorkspaceRelativePath(this.getResource()))),e},t.prototype.toWorkspaceRelativePath=function(e){var t=this.contextService.toWorkspaceRelativePath(e);if(t)return t;throw new Error("Out of workspace resources are unsupported")},t.prototype.matches=function(n){return n instanceof t?e.prototype.matches.call(this,n):!1},t.ID="vs.html",t}(o.DerivedFrameEditorInput);t.HTMLFrameEditorInput=a}),define("vs/css!vs/base/ui/widgets/uploadWidget",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/uploadWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/eventEmitter","vs/base/env","vs/css!./uploadWidget"],function(e,t,n,r,i,o){var s=r.$,a=function(e){function t(t,n,r,i,a){var l=this;void 0===a&&(a=null),e.call(this),this.$el=s(".upload-widget").appendTo(t);var c=s(".upload-widget-content").appendTo(this.$el);i(c.getHTMLElement()),o.browser.isIE9||c.on("click",function(e){l.onClick(e)}),this.form=s("form.upload-widget-form").attr({action:n.action,method:n.method,enctype:n.enctype,style:{width:o.browser.isIE11orEarlier?"100%":"0",height:o.browser.isIE11orEarlier?"100%":"0"}}).appendTo(this.$el).getHTMLElement();var u={type:"file",name:r.name};r.multiUpload&&(u.multiple="multiple"),this.input=s("input.upload-widget-input").attr(u).appendTo(this.form).on("change",function(e){if(e.preventDefault(),e.stopPropagation(),window.FormData){var t={input:l.input,originalEvent:e};l.emit("input",t)}else l.submit()}).getHTMLElement(),a&&a(this.form)}return __extends(t,e),t.prototype.setAction=function(e){this.form&&s(this.form).attr("action",e)},t.prototype.submit=function(){this.form.submit()},t.prototype.reset=function(){this.form.reset()},t.prototype.enable=function(){this.input.disabled=!1},t.prototype.disable=function(){this.input.setAttribute("disabled","true")},t.prototype.addHiddenField=function(e,t){s("input").attr({type:"hidden",name:e,value:t}).appendTo(this.form)},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.input.click()},t.prototype.trigger=function(){if(o.browser.isIE9)throw new Error(n.localize("vs_base_ui_widgets_uploadWidget",0));this.input.click()},t.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null),this.input=null,this.form=null,e.prototype.dispose.call(this)},t}(i.EventEmitter);t.UploadWidget=a}),define("vs/css!vs/workbench/contrib/files/media/fileactions",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/fileActions",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/async","vs/base/mime","vs/base/paths","vs/base/errors","vs/base/strings","vs/base/ui/events","vs/base/diagnostics","vs/base/dom/builder","vs/base/ui/actions","vs/base/ui/widgets/inputBox","vs/base/lifecycle","vs/workbench/events","vs/workbench/constants","vs/workbench/contrib/files/files","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/iframeEditor","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/statViewModel","vs/workbench/contrib/files/editors/htmlFrameEditorInput","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/toolbar/toolbar","vs/base/ui/widgets/uploadWidget","vs/base/severity","vs/css!./media/fileactions"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L){function N(e,t){var n=e.getActiveEditorInput();return e.getVisibleEditors().filter(function(e){if("file"===t.scheme&&n!==e.input)return!1;var r=_.asResourceEditorInput(e.input);return r&&r.getResource().toString()===t.toString()}).map(function(e){return e.position})}function I(e){switch(e){case $.ID:return{ctrlCmd:!0,key:"N"};case M.ID:return{key:o.isNative&&o.isMacintosh?"Enter":"F2"};case mt.ID:return{ctrlCmd:!0,key:"S"};case X.ID:case Y.ID:return{key:"Del"};case it.ID:return{ctrlCmd:!0,key:"C"};case ot.ID:return{ctrlCmd:!0,key:"V"};case at.ID:return{ctrlCmd:!o.isMacintosh,winCtrl:o.isMacintosh,key:"Enter"}}return null}function O(e,t,n,r){if(t=R(t),!t||0===t.length||/^\s+$/.test(t))return i.localize("vs_workbench_contrib_files_fileActions",38);if(!r&&e.children&&e.children.some(function(e){return o.isCaseSensitiveFs?e.name===t:e.name.toLowerCase()===t.toLowerCase()}))return i.localize("vs_workbench_contrib_files_fileActions",39,t);for(var s=0;s<St.length;s++)if(t.indexOf(St[s])>=0)return i.localize("vs_workbench_contrib_files_fileActions",40,t);if(e.path===l.sep&&(".git"===t||".vsc"===t||".vscignore"===t))return i.localize("vs_workbench_contrib_files_fileActions",41,t);if(o.isWindows){n||(n=0);var a=n+l.join(e.path,t).length;if(a>255)return i.localize("vs_workbench_contrib_files_fileActions",42,t)}return null}function R(e){return e?(e=u.trim(u.trim(e," "),"	"),e=u.rtrim(e,".")):e}var P=h.$,D=function(e){function t(t,n,r){var i=this;e.call(this,n,r),this._contextService=t.contextService,this._editorService=t.editorService,this._fileService=t.fileService,this._eventService=t.eventService,this._progressService=t.progressService,this._messageService=t.messageService,this._textFileService=t.textFileService,this.enabled=!1,this.listenerToUnbind=this._eventService.addListener(g.EventType.WORKBENCH_OPTIONS_CHANGED,function(){return i._updateEnablement()})}return __extends(t,e),Object.defineProperty(t.prototype,"progressService",{get:function(){return this._progressService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileService",{get:function(){return this._fileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){return this._textFileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!!(this._contextService&&this._fileService&&this._editorService&&!this._contextService.getOptions().readOnly&&this._isEnabled())},t.prototype._onError=function(e){this._messageService.show(L.Error,e)},t.prototype._onWarning=function(e){this._messageService.show(L.Warning,e)},t.prototype._onErrorWithRetry=function(e,t){var r={actions:[new m.Action("close.message",i.localize("vs_workbench_contrib_files_fileActions",0),null,!0,function(){return n.Promise.as(!0)}),new m.Action(this.id,i.localize("vs_workbench_contrib_files_fileActions",1),null,!0,function(){return t()})],message:c.toErrorMessage(e,!1)};this._messageService.show(L.Error,r)},t.prototype._handleDirty=function(){if(this.textFileService.isDirty(this._element.resource)){var e=this.textFileService.confirmSave(this._element.resource);return e===y.ConfirmResult.SAVE?this.textFileService.save(this._element.resource).then(function(){return!1}):e===y.ConfirmResult.DONT_SAVE?this.textFileService.revert(this._element.resource).then(function(){return!1}):n.Promise.as(!0)}return n.Promise.as(!1)},t.prototype.dispose=function(){this.listenerToUnbind(),e.prototype.dispose.call(this)},t}(m.Action);t.BaseFileAction=D;var M=function(e){function t(n,r,o){e.call(this,n,t.ID,i.localize("vs_workbench_contrib_files_fileActions",2)),this.tree=r,this.element=o,this.renameAction=n.instantiationService.createInstance(V,o),this._updateEnablement()}return __extends(t,e),t.prototype.validateFileName=function(e,t){return this.renameAction.validateFileName(this.element.parent,t)},t.prototype.run=function(e){var t=this;if(!e)return n.Promise.wrapError("No context provided to BaseEnableFileRenameAction.");var r=e.viewletState;if(!r)return n.Promise.wrapError("Invalid viewlet state provided to BaseEnableFileRenameAction.");var i=e.stat;return i?(r.setEditable(i,{action:this.renameAction,validator:function(e){var n=t.validateFileName(t.element.parent,e);return n?{content:n,formatContent:!0,type:f.MessageType.ERROR}:null}}),this.tree.refresh(i,!1).then(function(){t.tree.setHighlight(i);var e=t.tree.addListener(d.EventType.HIGHLIGHT,function(n){n.highlight||(r.clearEditable(i),t.tree.refresh(i).done(null,c.onUnexpectedError),e())})}).done(null,c.onUnexpectedError),void 0):n.Promise.wrapError("Invalid stat provided to BaseEnableFileRenameAction.")},t.ID="workbench.files.action.triggerRename",t}(D);t.TriggerRenameFileAction=M;var F=function(e){function t(t,n,r,i){void 0===i&&(i=null),e.call(this,t,n,r),this.element=i}return __extends(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.Promise.wrapError("No context provided to BaseRenameFileAction.");var r=e.value;if(!r)return n.Promise.wrapError("No new name provided to BaseRenameFileAction.");r=R(r);var i=R(this.element.name);if(r===i||this.validateFileName(this.element.parent,r))return n.Promise.as(null);var o=this.runAction(r).then(function(e){e&&t.onSuccess(e)},function(e){t._onError(e)});return this.progressService&&this.progressService.showWhile(o,800),o},t.prototype.validateFileName=function(e,t){var n=this.element.name,r=t;return o.isCaseSensitiveFs||(n=n.toLowerCase(),r=r.toLowerCase()),R(n)===R(r)?null:O(e,t,this.contextService.getWorkspace().resource.path.length,!1)},t.prototype.runAction=function(){throw new Error("to implement")},t.prototype.onSuccess=function(e){var t=null;this.element instanceof T.NewStatPlaceholder||(t=this.element.clone());var n=new y.LocalFileChangeEvent(t,e);n.source=y.VIEWLET_ID,this.eventService.emit("files:internalFileChanged",n)},t}(D);t.BaseRenameAction=F;var V=function(e){function t(n,r){e.call(this,n,t.ID,i.localize("vs_workbench_contrib_files_fileActions",3),r),this._updateEnablement()}return __extends(t,e),t.prototype.runAction=function(e){var t=this;return this._handleDirty().then(function(r){if(r)return n.Promise.as(null);if(t.textFileService.isDirty(t.element.resource))return t._onWarning(i.localize("vs_workbench_contrib_files_fileActions",4,t.element.path)),n.Promise.as(null);var o;return o=t.element.isDirectory?t.fileService.renameFolder:t.fileService.renameFile,o.call(t.fileService,t.element,e).then(null,function(n){t._onErrorWithRetry(n,function(){return t.runAction(e)})})})},t.ID="workbench.files.action.renameFile",t}(F);t.RenameFileAction=V;var B=function(e){function t(t,n,r,i,o,s,a){e.call(this,t,n,r),a&&(this.presetFolder=a.isDirectory?a:a.parent),this.tree=i,this.isFile=o,this.renameAction=s}return __extends(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.Promise.wrapError("No context provided to BaseNewAction.");var r=e.viewletState;if(!r)return n.Promise.wrapError("Invalid viewlet state provided to BaseNewAction.");var i=this.presetFolder;if(!i){var o=this.tree.getFocus();i=o?o.isDirectory?o:o.parent:this.tree.getInput()}return i?(/^\/.git.*/.test(i.path)&&(i=this.tree.getInput()),this.tree.reveal(i,.5).then(function(){return t.tree.expand(i).then(function(){var e=T.NewStatPlaceholder.addNewStatPlaceholder(i,!t.isFile);return t.renameAction.element=e,r.setEditable(e,{action:t.renameAction,validator:function(e){var n=t.renameAction.validateFileName(i,e);return n?{content:n,formatContent:!0,type:f.MessageType.ERROR}:null}}),t.tree.refresh(i).then(function(){return t.tree.expand(i).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var n=t.tree.addListener(d.EventType.HIGHLIGHT,function(r){r.highlight||(e.destroy(),t.tree.refresh(i).done(null,c.onUnexpectedError),n())})})})})})})):n.Promise.wrapError("Invalid parent folder to create.")},t}(D);t.BaseNewAction=B;var H=function(e){function t(t,n,r){e.call(this,t,"workbench.action.files.newFile",i.localize("vs_workbench_contrib_files_fileActions",5),n,!0,t.instantiationService.createInstance(z,r)),this.class="explorer-action new-file",this._updateEnablement()}return __extends(t,e),t}(B);t.NewFileAction=H;var W=function(e){function t(t,n,r){e.call(this,t,"workbench.action.files.newFolder",i.localize("vs_workbench_contrib_files_fileActions",6),n,!1,t.instantiationService.createInstance(q,r)),this.class="explorer-action new-folder",this._updateEnablement()}return __extends(t,e),t}(B);t.NewFolderAction=W;var U=function(e){function t(t,n,r){e.call(this,n,r),this.viewletService=t.viewletService,this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(y.VIEWLET_ID,!0).then(function(t){return n.Promise.timeout(100).then(function(){t.focus();var n=t,r=n.getExplorerView();r.isExpanded()||r.expand();var i=e.toDispose=e.instantiationService.createInstance(e._getAction(),r.getViewer(),null);return n.getActionRunner().run(i)})})},t.prototype._getAction=function(){throw new Error("Subclass to implement")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose&&(this.toDispose.dispose(),this.toDispose=null)},t}(m.Action);t.BaseGlobalNewAction=U;var $=function(e){function t(t){e.call(this,j.ID,j.LABEL),this.storageService=t.storageService,this.editorService=t.editorService,this.textFileService=t.textFileService,this.untitledEditorService=t.untitledEditorService}return __extends(t,e),t.prototype.run=function(){var e=this.untitledEditorService.createOrGet();return this.textFileService.getWorkingFilesModel().addEntry(e.getResource()),this.editorService.openEditor(e)},t.ID="workbench.action.files.newUntitledFile",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",7),t}(m.Action);t.GlobalNewFileAction=$;var j=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype._getAction=function(){return W},t.ID="workbench.action.files.newFolder",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",8),t}(U);t.GlobalNewFolderAction=j;var G=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.validateFileName=function(t,n){return this.element instanceof T.NewStatPlaceholder?O(t,n,this.contextService.getWorkspace().resource.path.length,!1):e.prototype.validateFileName.call(this,t,n)},t}(F);t.BaseCreateAction=G;var z=function(e){function t(t){e.call(this,t,"workbench.files.action.createFileFromExplorer",i.localize("vs_workbench_contrib_files_fileActions",9)),this._updateEnablement()}return __extends(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFile(this.element.parent,e).then(function(e){return t.textFileService.getWorkingFilesModel().addEntry(e.resource),e},function(n){t._onErrorWithRetry(n,function(){return t.runAction(e)})})},t}(G);t.CreateFileAction=z;var q=function(e){function t(t){e.call(this,t,"workbench.files.action.createFolderFromExplorer",i.localize("vs_workbench_contrib_files_fileActions",10)),this._updateEnablement()}return __extends(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFolder(this.element.parent,e).then(null,function(n){t._onErrorWithRetry(n,function(){return t.runAction(e)})})},t}(G);t.CreateFolderAction=q;var K=function(e){function t(t,n,r,i,o,s){e.call(this,t,i,o),this.tree=n,this.element=r,this.useTrash=s,this._updateEnablement()}return __extends(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();var t;if(t=this.useTrash?{message:this.element.isDirectory?i.localize("vs_workbench_contrib_files_fileActions",11,this.element.name):i.localize("vs_workbench_contrib_files_fileActions",12,this.element.name)}:{message:this.element.isDirectory?i.localize("vs_workbench_contrib_files_fileActions",13,this.element.name):i.localize("vs_workbench_contrib_files_fileActions",14,this.element.name)},!this.messageService.confirm(t))return n.Promise.as(null);var o;o=this.element.isDirectory?this.fileService.deleteFolder:this.fileService.deleteFile;var s=new y.LocalFileChangeEvent(this.element.clone(),null);s.source=y.VIEWLET_ID,this.eventService.emit("files:internalFileChanged",s);var a=o.call(this.fileService,this.element,this.useTrash).then(null,function(t){e._onErrorWithRetry(t,function(){return e.run()});var n=new y.LocalFileChangeEvent(new r.Files.FileStatImpl(e.contextService.getWorkspace().resource,b.SLASH,!0,!0),new r.Files.FileStatImpl(e.contextService.getWorkspace().resource,b.SLASH,!0,!0));e.eventService.emit("files:internalFileChanged",n),e.tree.DOMFocus()});return a},t}(D);t.BaseDeleteFileAction=K;var Y=function(e){function t(n,r,o){e.call(this,n,r,o,t.ID,i.localize("vs_workbench_contrib_files_fileActions",15),!0)}return __extends(t,e),t.ID="workbench.files.action.moveFileToTrash",t}(K);t.MoveFileToTrashAction=Y;var X=function(e){function t(n,r,o){e.call(this,n,r,o,t.ID,i.localize("vs_workbench_contrib_files_fileActions",16),!1)}return __extends(t,e),t.ID="workbench.files.action.deleteFile",t}(K);t.DeleteFileAction=X;var Q=function(e){function t(n,r,o,s){e.call(this,n,t.ID,i.localize("vs_workbench_contrib_files_fileActions",17)),this.tree=r,this.element=o,s&&(this.class=s),this._updateEnablement()}return __extends(t,e),t.prototype.getViewer=function(){return this.tree},t.prototype.run=function(e){var t,r=this,a=n.Promise.as(null).then(function(){var n=e.input;if(n.files&&n.files.length>0){var a;a=r.element?r.element:r.tree.getFocus()||r.tree.getInput(),a.isDirectory||(a=a.parent);for(var l=[],c=0;c<n.files.length;c++){var d=n.files[c];l.push(d)}return r.fileService.resolveFileStat(u.rtrim(a.path,b.SLASH)+b.SLASH).then(function(n){var c={};n.children.forEach(function(e){c[o.isCaseSensitiveFs?e.name:e.name.toLowerCase()]=e});var u=!0;if(l.some(function(e){return!!c[o.isCaseSensitiveFs?e.name:e.name.toLowerCase()]})){var d={message:i.localize("vs_workbench_contrib_files_fileActions",18)};u=r.messageService.confirm(d)}if(u){l.length>1&&r.progressService&&(t=r.progressService.show(l.length));var p=[];return l.forEach(function(n){p.push(function(){return r.fileService.uploadData(a,n).then(function(i){if(t&&t.worked(1),i.stat){var s=c[o.isCaseSensitiveFs?n.name:n.name.toLowerCase()];if(s){var a=new y.LocalFileChangeEvent(s,null);a.source=y.VIEWLET_ID,r.eventService.emit("files:internalFileChanged",a)}var l=new Z(i.stat,i.isNew,e.event);l.source=y.VIEWLET_ID,r.eventService.emit("files:internalFileChanged",l)}},function(e){r.messageService.show(L.Error,e)})})}),s.sequence(p)}})}});return this.progressService&&!t&&this.progressService.showWhile(a,800),a.then(function(){r.tree.clearHighlight()},function(e){r._onError(e),r.tree.clearHighlight()})},t.ID="workbench.files.action.uploadFile",t}(D);t.UploadFileAction=Q;var J=function(e){function t(t,n,r){e.call(this,n,r),this.contextService=t.contextService,this.requestService=t.requestService,this.isGlobal=n===x.CONTEXT,this.hookUrls()}return __extends(t,e),t.prototype.hookUrls=function(){var e;if(this.isGlobal){var t=this.getAction().getViewer(),n=t.getSelection();n&&n.length>0?e=n[0]:t.getInput()&&(e=t.getInput())}else e=this._context.element;var r=b.SLASH;if(e){e.isDirectory||(e=e.parent);var r=e.path;e.isDirectory&&"/"!==r.charAt(r.length-1)&&(r+="/")}var i=this.requestService.getRequestUrl("root",r);this.formAction=i,this.additionalHiddenFormFields=this.contextService.getConfiguration().additionalHiddenFormFields||{}},t.prototype.render=function(t){var r=this;this.originalContainer=P(t);var i=P();if(i.div().addClass("explorer-upload-widget"),e.prototype.render.call(this,i.getHTMLElement()),this.uploadWidget=new A.UploadWidget(t,{action:this.formAction,method:"POST",enctype:"multipart/form-data"},{name:"data",multiUpload:!0},function(e){i.build(e)}),this.additionalHiddenFormFields){var o;for(o in this.additionalHiddenFormFields)if(this.additionalHiddenFormFields.hasOwnProperty(o)){var s=this.additionalHiddenFormFields[o];s&&this.uploadWidget.addHiddenField(o,s)}}this.uploadWidget.addListener("input",function(e){if(e.input){if(!r.getAction().enabled)return;r.emit(d.EventType.BEFORE_RUN,{action:r.getAction(),retainActionItem:!0}),n.Promise.as(r.getAction().run({input:e.input,event:e.originalEvent})).done(function(e){r.emit(d.EventType.RUN,{action:r.getAction(),result:e})})}r.uploadWidget.reset()})},t.prototype.runAction=function(){if(this._action.enabled)try{this.uploadWidget.trigger()}catch(e){this.emit(d.EventType.RUN,{action:this._action,error:e})}},t.prototype.onClick=function(){},t.prototype.focus=function(){this.originalContainer.domFocus(),this.originalContainer.addClass("focused")},t.prototype.blur=function(){this.originalContainer.removeClass("focused")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.uploadWidget&&(this.uploadWidget.dispose(),this.uploadWidget=null)},t}(C.ActionItem);t.UploadActionItem=J;var Z=function(e){function t(t,n,r){e.call(this,null,t,r),this.isNew=n}return __extends(t,e),t.prototype.gotAdded=function(){return this.isNew},t.prototype.gotMoved=function(){return!1},t.prototype.gotUpdated=function(){return!this.isNew},t.prototype.gotDeleted=function(){return!1},t
}(y.LocalFileChangeEvent);t.FileUploadEvent=Z;var et=function(e){function t(t,n){e.call(this,"workbench.files.action.previewHTMLFromExplorer",i.localize("vs_workbench_contrib_files_fileActions",19)),this.element=n,this.requestService=t.requestService,this.instantiationService=t.instantiationService,this.textFileService=t.textFileService,this.editorService=t.editorService,this.enabled=!0}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.instantiationService.createInstance(k.HTMLFrameEditorInput,this.element.resource),r=n.Promise.as(null);return this.textFileService.isDirty(this.element.resource)&&(r=this.textFileService.save(this.element.resource)),r.then(function(){return e.editorService.openEditor(t)})},t}(m.Action);t.PreviewHTMLAction=et;var tt=function(e){function t(t){e.call(this,"workbench.files.action.previewHTMLFromEditor",i.localize("vs_workbench_contrib_files_fileActions",20)),this.requestService=t.requestService,this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.textFileService=t.textFileService,this.class="file-editor-action action-open-preview"}return __extends(t,e),t.prototype.run=function(e){var t=this,r=this.input,i=!(!e||!e.ctrlKey&&!e.metaKey),o=this.instantiationService.createInstance(k.HTMLFrameEditorInput,r.getResource()),s=n.Promise.as(null);return this.textFileService.isDirty(r.getResource())&&(s=this.textFileService.save(r.getResource())),s.then(function(){return t.editorService.openEditor(o,null,i)})},t}(_.EditorInputAction);t.PreviewHTMLEditorInputAction=tt;var nt=function(e){function t(t,n,r,o,s,a){e.call(this,"workbench.files.action.openDerivedResourceFromExplorer",i.localize("vs_workbench_contrib_files_fileActions",21)),this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.contextService=t.contextService,this.tree=n,this.element=r,this.srcExt=o,this.derivedExt=s,this.derivedMime=a,this.enabled=!0}return __extends(t,e),t.prototype.run=function(){var e=this.contextService.toResource(u.rtrim(this.element.path,this.srcExt)+this.derivedExt),t=this.instantiationService.createInstance(S.FileEditorInput,e,this.derivedMime);return this.tree.clearHighlight(),this.editorService.openEditor(t)},t}(m.Action);t.OpenDerivedResourceAction=nt;var rt,it=function(e){function t(n,r,o){e.call(this,n,t.ID,i.localize("vs_workbench_contrib_files_fileActions",22)),this.tree=r,this.element=o,this._updateEnablement()}return __extends(t,e),t.prototype.run=function(){return rt=this.element,this.tree&&this.tree.clearHighlight(),this.tree.DOMFocus(),n.Promise.as(null)},t.ID="workbench.files.action.copyFile",t}(D);t.CopyFileAction=it;var ot=function(e){function t(n,r,o){e.call(this,n,t.ID,i.localize("vs_workbench_contrib_files_fileActions",23)),this.instantiationService=n.instantiationService,this.tree=r,this.element=o,this._updateEnablement()}return __extends(t,e),t.prototype._isEnabled=function(){if(!rt)return!1;var e=this.tree.getInput(),t=e.find(rt.path);return t?!this.element.equals(rt)&&rt.isAncestorOf(this.element)?!1:!0:(rt=null,!1)},t.prototype.run=function(){var e,t=this;e=this.element.equals(rt)?this.element.parent:this.element.isDirectory?this.element:this.element.parent;var n=this.instantiationService.createInstance(st,this.tree,rt,e);return n.run().then(function(){t.tree.DOMFocus()})},t.ID="workbench.files.action.pasteFile",t}(D);t.PasteFileAction=ot;var st=function(e){function t(t,n,r,o){e.call(this,t,"workbench.files.action.duplicateFile",i.localize("vs_workbench_contrib_files_fileActions",24)),this.tree=n,this.element=r,this.target=o&&o.isDirectory?o:r.parent,this._updateEnablement()}return __extends(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();var t=this.fileService.copyFile(this.element,this.findTargetPath()).then(function(t){var n=new y.LocalFileChangeEvent(null,t);n.source=y.VIEWLET_ID,e.eventService.emit("files:internalFileChanged",n)},function(t){e.onError(t)});return this.progressService&&this.progressService.showWhile(t,800),t},t.prototype.onError=function(e){this.messageService.show(L.Error,e)},t.prototype.findTargetPath=function(){for(var e=this.tree.getInput(),t=u.rtrim(this.target.path,b.SLASH)+b.SLASH,n=this.element.name;;){if(!e.find(t+n))break;n=this.toCopyName(n,this.element.isDirectory)}return t+n},t.prototype.toCopyName=function(e,t){if(!t&&e.match(/(\d+)(\..*)$/))return e.replace(/(\d+)(\..*)$/,function(e,t,n){return parseInt(t)+1+n});var n=e.lastIndexOf(".");return!t&&n>=0?u.format("{0}.1{1}",e.substr(0,n),e.substr(n)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return String(parseInt(e[0])+1)}):u.format("{0}.1",e)},t}(D);t.DuplicateFileAction=st;var at=function(e){function t(n,r,i,o){e.call(this,t.ID,t.LABEL),this.editorService=n.editorService,this.tree=r,this.preserveFocus=o,this.resource=i,this.updateEnablement()}return __extends(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!!this.editorService&&!!e&&e.position!==r.Position.RIGHT},t.prototype.run=function(){return this.tree.clearHighlight(),this.editorService.openEditor({resource:this.resource,options:{preserveFocus:this.preserveFocus}},!0)},t.ID="workbench.files.action.openToSide",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",25),t}(m.Action);t.OpenToSideAction=at;var lt,ct=function(e){function t(t,n,r){e.call(this,t,"workbench.files.action.selectForCompare",i.localize("vs_workbench_contrib_files_fileActions",26)),this.tree=n,this.element=r,this._updateEnablement()}return __extends(t,e),t.prototype.run=function(){return lt=this.element,this.tree&&this.tree.clearHighlight(),this.tree.DOMFocus(),n.Promise.as(null)},t}(D);t.SelectFileForCompareAction=ct;var ut=function(e){function t(t,n,r){e.call(this,t,"workbench.files.action.compareFiles",this.getLabel()),this.requestService=t.requestService,this.instantiationService=t.instantiationService,this.tree=n,this.element=r,this._updateEnablement()}return __extends(t,e),t.prototype.getLabel=function(){return lt?i.localize("vs_workbench_contrib_files_fileActions",27,lt.name):i.localize("vs_workbench_contrib_files_fileActions",28)},t.prototype._isEnabled=function(){if(!lt)return!1;var e=this.tree.getInput(),t=e.find(lt.path);if(!t)return lt=null,!1;if(this.element.equals(lt))return!1;if(this.element.mime===lt.mime)return!0;var n=a.isBinaryMime(this.element.mime),r=a.isBinaryMime(lt.mime);return n!==r?!1:!0},t.prototype.run=function(){this.tree&&this.tree.clearHighlight();var e=this.instantiationService.createInstance(S.FileEditorInput,lt.resource,lt.mime),t=this.instantiationService.createInstance(S.FileEditorInput,this.element.resource,this.element.mime),n=i.localize("vs_workbench_contrib_files_fileActions",29,l.dirname(this.element.path),l.dirname(this.element.path)===l.dirname(lt.path)?l.basename(lt.path):lt.path);return lt=null,this.editorService.openEditor(new E.DiffEditorInput(l.basename(this.element.path),n,e,t))},t}(D);t.CompareFilesAction=ut;var dt=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,"workbench.files.action.refreshExplorer",i.localize("vs_workbench_contrib_files_fileActions",30),o,!0,function(){return r.getViewer().getHighlight()?n.Promise.as(null):r.refresh(!0,!0,!0)})}return __extends(t,e),t}(m.Action);t.RefreshViewExplorerAction=dt;var pt=function(e){function t(t){e.call(this,"workbench.files.action.downloadWorkspace",i.localize("vs_workbench_contrib_files_fileActions",31)),this.requestService=t.requestService,this.enabled=!0}return __extends(t,e),t.prototype.run=function(){return window.open(this.requestService.getRequestUrl("root",b.SLASH)),n.Promise.as(null)},t}(m.Action);t.DownloadWorkspaceAction=pt;var ht=function(e){function t(t,n,r,i){e.call(this,n,r),this.textFileService=t.textFileService,this.editorService=t.editorService,this.untitledEditorService=t.untitledEditorService,this.enabled=!0,this.isSaveAs=i}return __extends(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.run=function(){var e,t=this;if(this.resource)e=this.resource;else{var r=_.asResourceEditorInput(this.editorService.getActiveEditorInput(),!0);r&&(e=r.getResource())}if(e){var i=this.isSaveAs||"untitled"===e.scheme;if(i){var o,s=N(this.editorService,e);if("untitled"===e.scheme){var l=this.untitledEditorService.get(e).getMime();a.isUnspecific(l)||(o=l)}return this.textFileService.saveAs(e).then(function(r){if(r){t.textFileService.getWorkingFilesModel().addEntry(r);var i=n.Promise.as(null);if(r.toString()!==e.toString()&&s.length){var a={resource:r,mime:o};i=t.editorService.openEditor(a,s[0]).then(function(){return s.length>1?t.editorService.openEditor(a,s[1]).then(function(){return s.length>2?t.editorService.openEditor(a,s[2]):void 0}):void 0})}return i.then(function(){t.textFileService.revert(e)})}})}return this.textFileService.save(e)}return n.Promise.as(!1)},t}(m.Action);t.BaseSaveFileAction=ht;var mt=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.ID="workbench.action.files.save",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",32),t}(ht);t.SaveFileAction=mt;var ft=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,!0)}return __extends(t,e),t.ID="workbench.action.files.saveAs",t.LABEL="Save As...",t}(ht);t.SaveFileAsAction=ft;var vt=function(e){function t(t,n,r,i,o){e.call(this,n,r,i),this.textFileService=t.textFileService,this.eventService=t.eventService,this.untitledEditorService=t.untitledEditorService,this.instantiationService=t.instantiationService,this.editorService=t.editorService,this.toDispose=[],this.includeUntitled=o,this.lastIsDirty=this.textFileService.isDirty(),this.enabled=this.lastIsDirty,this.registerListeners()}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_DIRTY,function(){return e.updateEnablement(!0)})),this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_SAVED,function(){return e.updateEnablement(!1)})),this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_REVERTED,function(){return e.updateEnablement(!1)})),this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_SAVE_ERROR,function(){return e.updateEnablement(!0)})),this.includeUntitled&&(this.toDispose.push(this.eventService.addListener2(g.EventType.UNTITLED_FILE_DIRTY,function(){return e.updateEnablement(!0)})),this.toDispose.push(this.eventService.addListener2(g.EventType.UNTITLED_FILE_DELETED,function(){return e.updateEnablement(!1)})))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.run=function(){var e=this;return this.textFileService.saveAll(this.includeUntitled).then(function(t){if(t.results.forEach(function(t){t.success&&t.target&&e.textFileService.getWorkingFilesModel().addEntry(t.target)}),e.includeUntitled){var r=t.results.filter(function(e){return"untitled"===e.source.scheme}),i=[];r.forEach(function(t){if(t.success){var n=N(e.editorService,t.source);n.forEach(function(n){i.push(function(){return e.editorService.openEditor({resource:t.target,options:{preserveFocus:!0}},n)})})}});var o=n.Promise.as(null);return i.length&&(o=i[0]().then(function(){return i.length>1?i[1]().then(function(){return i.length>2?i[2]():void 0}):void 0})),o.then(function(){return n.Promise.join(r.map(function(t){var r=n.Promise.as(null);return t.success&&(r=e.textFileService.revert(t.source)),r}))})}})},t.prototype.dispose=function(){this.toDispose=v.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(m.Action);t.BaseSaveAllAction=vt;var gt=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,"explorer-action save-all",!0)}return __extends(t,e),t.ID="workbench.action.files.saveAll",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",33),t}(vt);t.SaveAllAction=gt;var bt=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,null,!1)}return __extends(t,e),t.ID="workbench.action.files.saveFiles",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",34),t}(vt);t.SaveFilesAction=bt;var yt=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.textFileService=n.textFileService,this.editorService=n.editorService,this.enabled=!0}return __extends(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.run=function(){var e;if(this.resource)e=this.resource;else{var t=_.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);t&&(e=t.getResource())}return e&&"untitled"!==e.scheme?this.textFileService.revert(e):n.Promise.as(!0)},t.ID="workbench.action.files.revert",t.LABEL=i.localize("vs_workbench_contrib_files_fileActions",35),t}(m.Action);t.RevertFileAction=yt;var _t=function(e){function t(t){e.call(this,"workbench.files.action.openDerivedResourceFromEditor",i.localize("vs_workbench_contrib_files_fileActions",36),"derived-frame-editor-action view-source"),this.editorService=t.editorService,this.contextService=t.contextService}return __extends(t,e),t.prototype.run=function(e){var t=this.input,n=!(!e||!e.ctrlKey&&!e.metaKey);return this.editorService.openEditor({resource:t.getResource()},n)},t}(_.EditorInputAction);t.ViewDerivedSourceEditorInputAction=_t;var wt=function(e){function t(t){e.call(this,"workbench.files.action.refreshDerivedFrameEditor",i.localize("vs_workbench_contrib_files_fileActions",37),"derived-frame-editor-action refresh"),this.editorService=t.editorService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e instanceof w.IFrameEditor&&e.reload(!0),n.Promise.as(null)},t}(_.EditorInputAction);t.RefreshDerivedFrameEditorInputAction=wt;var Et=function(e){function t(t,n,r){e.call(this,"workbench.action.openResourcesAction"),this.partService=t.partService,this.editorService=t.editorService,this.viewletService=t.viewletService,this.textFileService=t.textFileService,this.contextService=t.contextService,this.filesToOpen=n,this.forceAddToWorkingFiles=r}return __extends(t,e),t.prototype.run=function(){var e=this;return this.partService.joinCreation().then(function(){var t=n.Promise.as(null);return e.partService.isSideBarHidden()||(t=e.viewletService.openViewlet(y.VIEWLET_ID,!1)),t.then(function(){return e.filesToOpen.forEach(function(t){var n=t.resource,r=e.contextService.getWorkspace();!e.forceAddToWorkingFiles&&r&&l.isEqualOrParent(n.path,r.resource.path)||e.textFileService.getWorkingFilesModel().addEntry(n)}),1===e.filesToOpen.length?e.editorService.openEditor(e.filesToOpen[0]):e.editorService.setEditors(e.filesToOpen)})})},t}(m.Action);t.OpenResourcesAction=Et,t.keybindingForAction=I;var St=o.isWindows?["/","\\",":","*","?","'","<",">","|",".mncbak"]:["/","\\",".mncbak"];t.validateFileName=O,t.getWellFormedFileName=R;var Tt;Tt||(Tt=p.register("FileActionsDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define("vs/css!vs/base/ui/widgets/tree/actionsRenderer",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/tree/actionsRenderer",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/css!./actionsRenderer"],function(e,t,n,r,i,o){var s=n.$,a=function(){function e(e){this.actionProvider=e.actionProvider,this.actionRunner=e.actionRunner}return e.prototype.getHeight=function(e,t){return this.getContentHeight(e,t)},e.prototype.render=function(t,n,a,l){var c=this;try{r.clearNode(a)}catch(u){if(!/The node to be removed is no longer a child of this node/.test(u.message))throw u}l&&l(t,n);var d,p,h=s(a).addClass("actions"),m=s(".sub-content").appendTo(h);this.actionProvider.hasActions(t,n)?(h.addClass("has-actions"),d=new o.ActionBar(s(".primary-action-bar").appendTo(h),{context:this.getActionContext(t,n),actionItemProvider:function(e){return c.actionProvider.getActionItem(t,n,e)},actionRunner:this.actionRunner}),this.actionProvider.getActions(t,n).then(function(e){d.push(e,{icon:!0,label:!1})}),p=d.addListener2(i.EventType.RUN,function(e){e.error&&c.onError(e.error)})):h.removeClass("has-actions");var f=(l?l[e.CONTENTS_CLEANUP_FN_KEY]:e.NO_OP)||e.NO_OP;f(t,n);var v=this.renderContents(t,n,m.getHTMLElement(),null),g=function(){p&&p.dispose(),d&&d.dispose(),v&&v(t,n)};return g[e.CONTENTS_CLEANUP_FN_KEY]=v,g},e.prototype.getContentHeight=function(){return 20},e.prototype.renderContents=function(){return null},e.prototype.getActionContext=function(){return null},e.prototype.onError=function(){},e.prototype.dispose=function(){this.actionProvider=null},e.CONTENTS_CLEANUP_FN_KEY="__$ActionsRenderer.contentCleanupFn",e.NO_OP=function(){},e}();t.ActionsRenderer=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/views/explorerViewer",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/base/lifecycle","vs/base/objects","vs/base/dom/dom","vs/base/mime","vs/base/async","vs/base/paths","vs/platform/services","vs/base/errors","vs/base/types","vs/base/ui/actions","vs/base/ui/comparers","vs/base/ui/widgets/inputBox","vs/base/dom/builder","vs/base/env","vs/workbench/ui/actionBarRegistry","vs/workbench/contrib/files/files","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/statViewModel","vs/workbench/ui/parts/editor/editorOptions","vs/base/ui/widgets/tree/tree","vs/base/ui/widgets/tree/treeDnd","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/tree/actionsRenderer","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L){var N={".js":".ts"},I=g.$,O=function(e,t){if(0===e.name.indexOf("$tf"))return!1;if(e.path){if(i.endsWith(e.path,"/.git/config")||i.endsWith(e.path,"/.git/index.lock")||".git"===e.name)return!0;if(e.path.indexOf("/.git/")>-1)return!1}if(".DS_Store"===e.name)return!1;var n=u.extname(e.name);if(t&&!e.isDirectory&&Object.keys(N).some(function(e){return e===n})){var r=e.parent,o=N[n],s=r&&r.children?r.children:[],a=i.rtrim(e.name,n)+o;if(s.some(function(e){return!e.isDirectory&&e.name===a}))return!1}return!0},R=function(){function e(e){this.fileService=e.fileService,this.messageService=e.messageService,this.progressService=e.progressService,this.partService=e.partService}return e.prototype.getId=function(e,t){return t instanceof S.NewStatPlaceholder?t.getId():t.path},e.prototype.hasChildren=function(e,t){if(t instanceof S.NewStatPlaceholder)return!1;var n=t;return n.isDirectory},e.prototype.getChildren=function(e,t){var r=this,o=t;if(o.isDirectoryResolved){var s=o.children;return n.Promise.as(s)}var a=this.resolveFileStat(o.path+(o.isDirectory?u.sep:i.empty),!0).then(function(e){for(var t=0;t<e.children.length;t++)o.addChild(e.children[t]);return o.isDirectoryResolved=!0,o.children},function(e){r.messageService.show(L.Error,e)});return this.progressService&&this.partService.isCreated()&&this.progressService.showWhile(a,800),a},e.prototype.getParent=function(e,t){var r=t;return r.path===u.sep?n.Promise.as(null):r.parent?n.Promise.as(r.parent):n.Promise.as(null)},e.prototype.resolveFileStat=function(e,t){return this.fileService.resolveFileStat(e,null,t)},e}();t.FileDataSource=R;var P=function(e){function t(t){e.call(this),this.state=t}return __extends(t,e),t.prototype.hasActions=function(t,n){return n instanceof S.NewStatPlaceholder?!1:e.prototype.hasActions.call(this,t,n)},t.prototype.getActions=function(t,r){return r instanceof S.NewStatPlaceholder?n.Promise.as([]):e.prototype.getActions.call(this,t,r)},t.prototype.hasSecondaryActions=function(t,n){return n instanceof S.NewStatPlaceholder?!1:e.prototype.hasSecondaryActions.call(this,t,n)},t.prototype.getSecondaryActions=function(t,r){return r instanceof S.NewStatPlaceholder?n.Promise.as([]):e.prototype.getSecondaryActions.call(this,t,r)},t.prototype.runAction=function(e,t,r,i){var o=this;if(void 0===i&&(i={}),i=s.mixin({viewletState:this.state,stat:t},i),!h.isString(r)){var a=r;return a.enabled?a.run(i):null}var l=r,c=this.hasActions(e,t)?this.getActions(e,t):n.Promise.as([]);return c.then(function(r){for(var s=0,a=r.length;a>s;s++)if(r[s].id===l&&r[s].enabled)return r[s].run(i);return c=o.hasSecondaryActions(e,t)?o.getSecondaryActions(e,t):n.Promise.as([]),c.then(function(e){for(var t=0,n=e.length;n>t;t++)if(e[t].id===l&&e[t].enabled)return e[t].run(i);return null})})},t}(y.ContributableActionProvider);t.FileActionProvider=P;var D=function(){function e(){this._actionProvider=new P(this),this.editableStats=Object.create(null)}return Object.defineProperty(e.prototype,"actionProvider",{get:function(){return this._actionProvider},enumerable:!0,configurable:!0}),e.prototype.getEditableData=function(e){return this.editableStats[e.path]},e.prototype.setEditable=function(e,t){t&&(this.editableStats[e.path]=t)},e.prototype.clearEditable=function(e){delete this.editableStats[e.path]},e}();t.FileViewletState=D;var M=function(e){function t(t){e.call(this),this.viewletState=t}return __extends(t,e),t.prototype.run=function(t){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(m.ActionRunner);t.ActionRunner=M;var F=function(e){function t(t,n,r){e.call(this,{actionProvider:n.actionProvider,actionRunner:r}),this.contextViewService=t.contextViewService,this.state=n}return __extends(t,e),t.prototype.getContentHeight=function(){return 24},t.prototype.renderContents=function(e,t,n){var r,i=this,s=t,l=I(n).clearChildren(),u=I(".explorer-item").addClass(this.iconClass(s)).appendTo(l);if(r=this.state.getEditableData(s)){var d=new v.InputBox(u,this.contextViewService,{validationOptions:{validation:r.validator,showMessage:!0}}),p=s.name||"",h=p.lastIndexOf(".");d.value=p,d.select({start:0,end:h>0&&!s.isDirectory?h:p.length}),d.focus();var m=!1,f=c.once(function(){m||(m=!0,e.clearHighlight(),e.DOMFocus(),o.disposeAll(b))}),g=c.once(function(){i.state.actionProvider.runAction(e,t,r.action,{value:d.value}),f()}),b=[d,a.addStandardDisposableListener(d.inputElement,"keydown",function(e){switch(e.asString()){case"Enter":d.validate()&&!m&&g();break;case"Escape":f()}}),a.addDisposableListener(d.inputElement,"blur",function(){d.isInputValid()&&!m?g():f()})];return f}var y=I(".explorer-item-label").appendTo(u);return I("a.plain").text(s.name).appendTo(y),null},t.prototype.iconClass=function(e){return e.isDirectory?"folder-icon":"text-file-icon"},t}(A.ActionsRenderer);t.FileRenderer=F;var V=function(e){function t(t,n){e.call(this,{clickBehavior:x.ClickBehavior.ON_MOUSE_DOWN}),this.editorService=t.editorService,this.contextMenuService=t.contextMenuService,this.instantiationService=t.instantiationService,this.eventService=t.eventService,this.textFileService=t.textFileService,this.telemetryService=t.telemetryService,this.didCatchEnterDown=!1,this.downKeyBindings[b.isNative&&b.isMacintosh?"Meta-DownArrow":"Enter"]=this.onEnterDown.bind(this),this.upKeyBindings[b.isNative&&b.isMacintosh?"Meta-DownArrow":"Enter"]=this.onEnterUp.bind(this),this.upKeyBindings["Ctrl-Enter"]=this.onModifierEnterUp.bind(this),this.downKeyBindings[b.isNative&&b.isMacintosh?"Enter":"F2"]=this.onF2.bind(this),this.downKeyBindings[b.isMacintosh?"Meta-C":"Ctrl-C"]=this.onCopy.bind(this),this.downKeyBindings[b.isMacintosh?"Meta-V":"Ctrl-V"]=this.onPaste.bind(this),b.isNative&&b.isMacintosh?(this.downKeyBindings["Meta-UpArrow"]=this.onLeft.bind(this),this.downKeyBindings["Meta-Backspace"]=this.onDelete.bind(this)):(this.downKeyBindings.Delete=this.onDelete.bind(this),this.downKeyBindings["Shift-Delete"]=this.onDelete.bind(this)),this.state=n}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n,r){void 0===r&&(r="mouse");var i={origin:r};if(e.getHighlight())return n.preventDefault(),n.stopPropagation(),e.clearHighlight(i),!1;if(t.path===u.sep)return e.clearFocus(i),e.clearSelection(i),!1;var o=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;if(o||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.toggleExpansion(t),!n.shiftKey||t instanceof S.NewStatPlaceholder)t instanceof S.NewStatPlaceholder||(e.setFocus(t,i),t.isDirectory||(e.setSelection([t],i),this.openEditor(t,!0,n&&(n.ctrlKey||n.metaKey)),2===n.detail&&this.textFileService.getWorkingFilesModel().addEntry(t)));else{var s=e.getFocus(),a=e.getSelection();(a&&a.length>0&&a[0]===t||s===t)&&(e.clearSelection(i),e.clearFocus(i))}return!0},t.prototype.onContextMenu=function(e,t,n){var r=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),!this.state.actionProvider.hasSecondaryActions(e,t))return!0;var i={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return r.state.actionProvider.getSecondaryActions(e,t)},getActionItem:this.state.actionProvider.getActionItem.bind(this.state.actionProvider,e,t),getKeyBinding:function(e){return E.keybindingForAction(e.id)},getActionsContext:function(){return{viewletState:r.state,stat:t}},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.onEnterDown=function(e){if(e.getHighlight())return!1;var t={origin:"keyboard"},n=e.getFocus();return n&&(n.isDirectory?e.toggleExpansion(n):(e.setFocus(n,t),this.openEditor(n,!0,!1))),this.didCatchEnterDown=!0,!0},t.prototype.onEnterUp=function(e){if(!this.didCatchEnterDown||e.getHighlight())return!1;var t=e.getFocus();return t&&!t.isDirectory&&this.openEditor(t,!1,!1),this.didCatchEnterDown=!1,!0},t.prototype.onModifierEnterUp=function(e){if(e.getHighlight())return!1;var t=e.getFocus();return t&&!t.isDirectory&&this.openEditor(t,!1,!0),this.didCatchEnterDown=!1,!0},t.prototype.onCopy=function(e){var t=e.getFocus();return t?(this.runAction(e,t,"workbench.files.action.copyFile").done(),!0):!1},t.prototype.onPaste=function(e){var t=e.getFocus();if(t){var n=this.instantiationService.createInstance(E.PasteFileAction,e,t);if(n._isEnabled())return n.run().done(null,p.onUnexpectedError),!0}return!1},t.prototype.openEditor=function(e,t,n){if(e&&!e.isDirectory){var r=this.instantiationService.createInstance(w.FileEditorInput,e.resource,e.mime),i=new T.EditorOptions;t&&(i.preserveFocus=!0),this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor(r,i,n).done(null,p.onUnexpectedError)}},t.prototype.onF2=function(e){var t=e.getFocus();return t?(this.runAction(e,t,"workbench.files.action.triggerRename").done(),!0):!1},t.prototype.onDelete=function(e){var t=e.getFocus();return t?(this.runAction(e,t,"workbench.files.action.deleteFile").done(),!0):!1},t.prototype.runAction=function(e,t,n){return this.state.actionProvider.runAction(e,t,n)},t}(x.DefaultController);t.FileController=V;var B=function(){function e(){}return e.prototype.compare=function(e,t,n){return t.isDirectory&&!n.isDirectory?-1:n.isDirectory&&!t.isDirectory?1:t.isDirectory&&n.isDirectory?t.name.toLowerCase().localeCompare(n.name.toLowerCase()):t instanceof S.NewStatPlaceholder?-1:n instanceof S.NewStatPlaceholder?1:f.compareFileNames(t.name,n.name)},e}();t.FileSorter=B;var H=function(){function e(){}return e.prototype.isVisible=function(e,t){return O(t,b.hideDerivedResources)},e}();t.FileFilter=H;var W=function(){function e(e){this.messageService=e.messageService,this.contextService=e.contextService,this.eventService=e.eventService,this.progressService=e.progressService,this.fileService=e.fileService,this.requestService=e.requestService,this.instantiationService=e.instantiationService,this.textFileService=e.textFileService}return e.prototype.getDragURI=function(e,t){return/^\/.git.*/.test(t.path)?null:t.isDirectory?t.path+u.sep:t.path},e.prototype.onDragStart=function(e,t,n){var r=t.getData(),i=null;if(r.length>0&&(i=r[0]),i&&i.isDirectory&&e.isExpanded(i)&&e.collapse(i,!1),b.isNative&&!(t instanceof C.DesktopDragAndDropData)&&!b.isWindows&&i&&!i.isDirectory){var o=i.name,s=this.requestService.getRequestUrl("root",i.path,!0);n.dataTransfer.setData("DownloadURL",[l.MIME_BINARY,o,s].join(":"))}},e.prototype.onDragOver=function(e,t,n,r){var i=r&&(r.ctrlKey&&!b.isMacintosh||r.altKey&&b.isMacintosh),o=t instanceof C.DesktopDragAndDropData;if(this.contextService.getOptions().readOnly)return k.DRAG_OVER_REJECT;if(/^\/.git.*/.test(n.path))return k.DRAG_OVER_REJECT;if(o){for(var s=t.getData(),a=s.types,l=[],c=0;c<a.length;c++)l.push(a[c]);if(0===l.length||!l.some(function(e){return"Files"===e}))return k.DRAG_OVER_REJECT}else{if(t instanceof C.ExternalElementsDragAndDropData)return k.DRAG_OVER_REJECT;var u=t.getData();if(!Array.isArray(u))return k.DRAG_OVER_REJECT;if(u.some(function(e){return e instanceof S.NewStatPlaceholder?!0:e.equals(n)?!0:e.isAncestorOf(n)?!0:!i&&n.isParentOf(e)?!0:!1}))return k.DRAG_OVER_REJECT}return n.isDirectory?o||i?k.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY:k.DRAG_OVER_ACCEPT_BUBBLE_DOWN:n.isRoot()?k.DRAG_OVER_REJECT:o||i?k.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:k.DRAG_OVER_ACCEPT_BUBBLE_UP},e.prototype.drop=function(e,t,i,o){var s=this,a=n.Promise.as(null);if(t instanceof C.DesktopDragAndDropData){var l=this.instantiationService.createInstance(E.UploadFileAction,e,i);a=l.run({input:{files:t.getData().files}})}else{var c=t.getData()[0],h=o.ctrlKey&&!b.isMacintosh||o.altKey&&b.isMacintosh;a=e.expand(i).then(function(){if(h){var t=s.instantiationService.createInstance(E.DuplicateFileAction,e,c,i);return t.run()}var o=n.Promise.as(null);if(s.textFileService.isDirty(c.resource)){var a=s.textFileService.confirmSave(c.resource);if(a===_.ConfirmResult.SAVE)o=s.textFileService.save(c.resource);else if(a===_.ConfirmResult.DONT_SAVE)o=s.textFileService.revert(c.resource);else if(a===_.ConfirmResult.CANCEL)return n.Promise.as(null)}return o.then(function(){if(s.textFileService.isDirty(c.resource))return s.messageService.show(L.Warning,r.localize("vs_workbench_contrib_files_views_explorerViewer",0,c.path)),n.Promise.as(null);var e=u.join(i.path,c.name),t=!1,o=function(e){var t=new _.LocalFileChangeEvent(c.clone(),e);t.source=_.VIEWLET_ID,s.eventService.emit("files:internalFileChanged",t)},a=function(t){return void 0===t&&(t=!1),s.fileService.moveFile(c,e,t)};return a().then(o,function(n){if(n.fileOperationResult!==d.Files.FileOperationResult.FILE_MOVE_CONFLICT)s.messageService.show(L.Error,n);else{t=!0;var i={message:r.localize("vs_workbench_contrib_files_views_explorerViewer",1,c.name)};if(s.messageService.confirm(i))return a(!0).then(function(t){var n=new d.Files.FileStatImpl(s.contextService.toResource(e),e),r=new _.LocalFileChangeEvent(n,null);r.source=_.VIEWLET_ID,s.eventService.emit("files:internalFileChanged",r),o(t)},function(e){s.messageService.show(L.Error,e)})}})})},p.onUnexpectedError)}this.progressService&&this.progressService.showWhile(a,800),a.done(null,p.onUnexpectedError)},e}();t.FileDragAndDrop=W});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/views/explorerView",["require","exports","vs/base/lib/winjs.base","vs/base/dom/builder","vs/platform/services","vs/base/assert","vs/base/async","vs/base/errors","vs/base/env","vs/base/paths","vs/base/types","vs/workbench/ui/actionBarRegistry","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/toolbar/toolbar","vs/base/ui/widgets/tree/treeImpl","vs/workbench/constants","vs/workbench/events","vs/workbench/contrib/files/files","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/views/explorerViewer","vs/base/severity","vs/base/lifecycle","vs/base/dom/dom","vs/workbench/ui/parts/viewlet"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T){var k=r.$,C=function(e){function t(n,r,i,o){e.call(this,n,i,"explorerView"),this.instantiationService=n.instantiationService,this.eventService=n.eventService,this.storageService=n.storageService,this.contextService=n.contextService,this.progressService=n.progressService,this.editorService=n.editorService,this.fileService=n.fileService,this.partService=n.partService,this.explorerViewActionContributor=this.instantiationService.createInstance(x),this.settings=o,this.viewletState=r,this.actionRunner=i,this.explorerRefreshDelayer=new s.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),this.explorerUploadDelayer=new s.ThrottledDelayer(t.EXPLORER_UPLOAD_REFRESH_DELAY)
}return __extends(t,e),t.prototype.renderHeader=function(t){e.prototype.renderHeader.call(this,t);var n=k("div.title").appendTo(t);k("span").text(this.contextService.getWorkspace().name).appendTo(n)},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),S.addClass(this.treeContainer,"explorer-folders-view"),this.tree=this.createViewer(k(this.treeContainer)),this.fillToolBar()},t.prototype.fillToolBar=function(){var e=[];this.explorerViewActionContributor.hasActions(this)&&(e=e.concat(this.explorerViewActionContributor.getActions(this)));var t=[];this.explorerViewActionContributor.hasSecondaryActions(this)&&(t=t.concat(this.explorerViewActionContributor.getSecondaryActions(this))),this.toolBar.setActions(d.prepareActions(e),d.prepareActions(t))()},t.prototype.create=function(){var e=this;return this.refresh(!1,!1).then(function(){e.toDispose.push(e.eventService.addListener2(v.EventType.EDITOR_INPUT_CHANGING,function(t){return e.onEditorInputChanging(t)}))})},t.prototype.focus=function(){e.prototype.focus.call(this);var t=this.editorService.getActiveEditorInput();t&&t instanceof y.FileEditorInput||this.openFocussedElement()},t.prototype.setVisible=function(r){var i=this;return e.prototype.setVisible.call(this,r).then(function(){if(r){var e=n.Promise.as(null);i.shouldRefresh&&(e=i.refresh(!1,!1),i.shouldRefresh=!1);var o=i.getActiveEditorInputWorkspaceRelativePath();if(o&&o!==f.SLASH)return e.then(function(){return i.select(o)});if(!i.partService.isCreated())return n.Promise.as(null);var s=i.getInput(),l=i.settings[t.MEMENTO_LAST_ACTIVE_FILEPATH];if(l&&s&&s.find(l)){var c=i.instantiationService.createInstance(y.FileEditorInput,i.contextService.toResource(l));return i.openOrFocusEditor(c).done(null,a.onUnexpectedError),e}return e.then(function(){i.openFocussedElement()})}})},t.prototype.openFocussedElement=function(){var e=this.explorerViewer.getFocus();if(e&&!e.isDirectory){var t=this.instantiationService.createInstance(y.FileEditorInput,e.resource,e.mime);return this.openOrFocusEditor(t).done(null,a.onUnexpectedError),!0}return!1},t.prototype.openOrFocusEditor=function(e){var t=this.editorService.getVisibleEditors();if(t)for(var n=0;n<t.length;n++){var r=t[n];if(e.matches(r.input))return this.editorService.focusEditor(r)}return this.editorService.openEditor(e)},t.prototype.getActionItem=function(e){return this.explorerViewActionContributor.getActionItem(e)},t.prototype.getActiveEditorInputWorkspaceRelativePath=function(){var e=this.editorService.getActiveEditorInput();return e&&e instanceof y.FileEditorInput?this.contextService.toWorkspaceRelativePath(e.getResource()):null},t.prototype.getInput=function(){return this.explorerViewer?this.explorerViewer.getInput():null},t.prototype.createViewer=function(e){var t=this,n=this.instantiationService.createInstance(_.FileDataSource),r=this.instantiationService.createInstance(_.FileRenderer,this.viewletState,this.actionRunner),o=this.instantiationService.createInstance(_.FileController,this.viewletState),s=new _.FileSorter;this.filter=new _.FileFilter;var a=this.instantiationService.createInstance(_.FileDragAndDrop);return this.explorerViewer=new m.Tree(e.getHTMLElement(),{dataSource:n,renderer:r,controller:o,sorter:s,filter:this.filter,dnd:a}),this.toDispose.push(E.toDisposable(function(){return r.dispose()})),this.toDispose.push(this.eventService.addListener2("files:internalFileChanged",function(e){return t.onLocalFileChange(e)})),this.toDispose.push(this.eventService.addListener2(i.Files.EventType.FILE_CHANGES,function(e){return t.onFileChanges(e)})),this.toDispose.push(this.eventService.addListener2(i.RequstServiceEventTypes.CONNECTION_RECONNECTED,function(){return t.onReconnect()})),this.explorerViewer},t.prototype.getParentPath=function(e){var t=c.makeAbsolute(e.path);return c.dirname(t)},t.prototype.onLocalFileChange=function(e){var t,n,r,o,s=this,l=e.source===g.VIEWLET_ID;if(e.gotAdded()){var c=e.getAfter();if(r=this.getParentPath(c),r&&c instanceof i.Files.FileStatImpl&&(o=this.getInput().find(r))){if(!c.isDirectory&&!c.mime)return;var u=c.clone();o.addChild(u);var d=function(){return s.explorerViewer.refresh(o).then(function(){return l?s.reveal(u,.5).then(function(){if(s.explorerViewer.setFocus(u),!u.isDirectory){var e=s.instantiationService.createInstance(y.FileEditorInput,u.resource,u.mime);return s.editorService.openEditor(e)}}):void 0})};e instanceof b.FileUploadEvent?this.explorerUploadDelayer.trigger(d).done(null,a.onUnexpectedError):d().done(null,a.onUnexpectedError)}}else if(e.gotMoved()){var p=e.getBefore(),h=e.getAfter(),m=this.getParentPath(p),v=this.getParentPath(h),_=!1;if(l){var w=this.explorerViewer.getSelection();w&&w.length>0&&w[0].path===p.path&&(_=!0)}if(m&&v&&m===v){if(t=this.getInput().find(p.path)){if(!t.isDirectory&&!t.mime)return;t.rename(h),n=t.parent,n&&this.explorerViewer.refresh(n).done(function(){_&&s.explorerViewer.setFocus(t)},a.onUnexpectedError)}}else if(m&&v){var E=this.getInput().find(m),S=this.getInput().find(v);t=this.explorerViewer.getInput().find(p.path),E&&S&&t&&t.move(S,function(e){s.explorerViewer.refresh(E,!0).done(e,a.onUnexpectedError)},function(){s.explorerViewer.refresh(S,!0).done(function(){return s.explorerViewer.expand(S)},a.onUnexpectedError)})}}else if(e.gotDeleted()){var T=e.getBefore();t=this.getInput().find(T.path),t&&t.parent&&(n=t.parent,n.removeChild(t),this.explorerViewer.refresh(n).done(function(){l&&s.explorerViewer.DOMFocus()},a.onUnexpectedError))}else if(e instanceof b.FileUploadEvent){var k=e.getAfter();r=this.getParentPath(k),r&&(o=this.getInput().find(r),o&&this.explorerViewer.refresh(o).then(function(){return s.reveal(k,.5).then(function(){s.explorerViewer.setFocus(k);var e=s.instantiationService.createInstance(y.FileEditorInput,k.resource,k.mime);return s.editorService.openEditor(e)})}).done(null,a.onUnexpectedError))}else l||!e.gotUpdated()||e.getAfter().path!==f.SLASH||this.explorerViewer.getHighlight()||this.refreshFromEvent()},t.prototype.onReconnect=function(){this.refreshFromEvent()},t.prototype.onFileChanges=function(e){var r=this,o=this.settings[t.MEMENTO_LAST_ACTIVE_FILEPATH];o&&e.contains(this.contextService.toResource(o),i.Files.FileChangeType.DELETED)&&(this.settings[t.MEMENTO_LAST_ACTIVE_FILEPATH]=null),n.Promise.timeout(t.EXPLORER_FILE_CHANGES_REACT_DELAY).then(function(){!r.shouldRefresh&&r.shouldRefreshFromEvent(e)&&r.refreshFromEvent()})},t.prototype.shouldRefreshFromEvent=function(e){if(e=e.filter(function(e,t){return e.type===i.Files.FileChangeType.UPDATED?!1:".git"!==t[0]?!0:1===t.length}),e.gotAdded()||e.gotDeleted()){var t=e.getAdded(),n=e.getDeleted(),r=this.getInput();if(!r)return!1;for(var o={},s=0;s<t.length;s++){var a=t[s],l=c.dirname(a.path);if(!o[l]){var u=r.find(l);if(u&&u.isDirectoryResolved&&!r.find(a.path))return!0;u&&u.isDirectoryResolved||(o[l]=!0)}}for(var d=0;d<n.length;d++)if(r.find(n[d].path))return!0}return!1},t.prototype.refreshFromEvent=function(){var e=this;this.isVisible?this.explorerRefreshDelayer.trigger(function(){return e.explorerViewer.getHighlight()?n.Promise.as(null):e.refresh(!1,!1)}).done(null,a.onUnexpectedError):this.shouldRefresh=!0},t.prototype.refresh=function(e,r,i){var o=this,s=this.explorerViewer.getInput(),a=[],l=this.settings[t.MEMENTO_EXPANDED_FOLDERS];if(s)this.getResolvedDirectoryPaths(s,a);else{var c=this.getActiveEditorInputWorkspaceRelativePath();c&&c!==f.SLASH&&a.push(c),l&&(a=a.concat(l))}var u;if(r&&(u=this.getActiveEditorInputWorkspaceRelativePath(),!u||u===f.SLASH)){var d=this.explorerViewer.getSelection();d&&1===d.length&&(u=d[0].path)}var p=this.fileService.resolveFileStat(f.SLASH,a.length>0?a:null,!1).then(function(r){var i;return s?(t.mergeLocalWithRemote(r,s),i=o.explorerViewer.refresh(s)):i=o.explorerViewer.setInput(r).then(function(){return l?o.explorerViewer.expandAll(l.map(function(e){return o.getInput().find(e)})):n.Promise.as(null)}),i.then(function(){var t;return t=u&&u!==f.SLASH?o.select(u):n.Promise.as(null),t.then(function(){e&&o.explorerViewer.DOMFocus()})})},function(e){return n.Promise.wrapError(e)});return this.progressService&&this.partService.isCreated()&&this.progressService.showWhile(p,i?0:800),p},t.prototype.getResolvedDirectoryPaths=function(e,t){if(e.isDirectoryResolved){if(!e.isRoot()){for(var n=t.length-1;n>=0;n--){var r=t[n];0===e.path.indexOf(r)&&t.splice(n)}t.push(e.path)}for(var n=0;n<e.children.length;n++){var i=e.children[n];this.getResolvedDirectoryPaths(i,t)}}},t.prototype.select=function(e,r){var i=this;if(void 0===r&&(r=!0),!e||e===f.SLASH)return n.Promise.as(null);for(var o=this.explorerViewer.getSelection(),s=0;s<o.length;s++)if(o[s].path===e)return r?this.reveal(o[s],.5):n.Promise.as(null);var a=this.getInput();if(!a)return n.Promise.as(null);var l=a.find(e);return l?this.doRevealAndSelect(l):this.fileService.resolveFileStat(f.SLASH,[e],!1).then(function(n){return t.mergeLocalWithRemote(n,a),i.explorerViewer.refresh(a).then(function(){return i.doRevealAndSelect(a.find(e))})},function(e){i.messageService.show(w.Error,e)})},t.prototype.doRevealAndSelect=function(e){var t=this;return e?this.filter.isVisible(this.tree,e)||(e=e.parent)?this.reveal(e,.5).then(function(){e.isDirectory||t.explorerViewer.setSelection([e]),t.explorerViewer.setFocus(e)}):n.Promise.as(null):n.Promise.as(null)},t.prototype.onEditorInputChanging=function(e){if(this.partService.isCreated()||!e.editorOptions||!e.editorOptions.preserveFocus){var n=!0;if(e.editorInput&&e.editorInput instanceof y.FileEditorInput){var r=e.editorInput;if(this.settings[t.MEMENTO_LAST_ACTIVE_FILEPATH]=this.contextService.toWorkspaceRelativePath(r.getResource()),this.isVisible){var i=this.contextService.toWorkspaceRelativePath(r.getResource());i&&(this.select(i,!1).done(null,a.onUnexpectedError),n=!1)}}this.isVisible&&n&&(this.explorerViewer.setSelection([]),this.explorerViewer.setFocus())}},t.prototype.beforeShutdown=function(){var n=this.getInput();if(n){var r=[];this.getExpandedFolderPaths(n,r),this.settings[t.MEMENTO_EXPANDED_FOLDERS]=r}return e.prototype.beforeShutdown.call(this)},t.prototype.getExpandedFolderPaths=function(e,t){if(this.explorerViewer.isExpanded(e)){e.path!==c.sep&&t.push(e.path);for(var n=0;n<e.children.length;n++){var r=e.children[n];this.getExpandedFolderPaths(r,t)}}},t.prototype.dispose=function(){this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t.mergeLocalWithRemote=function(e,n){o.ok(e.path===n.path,"Merging only supported for stats in the same path");var r=e.isDirectory||n.isDirectory;if((!r||!n.isDirectoryResolved||e.isDirectoryResolved)&&(n.resource=e.resource,n.path=e.path,n.name=e.name,n.isDirectory=e.isDirectory,n.hasChildren=e.isDirectory&&e.hasChildren,n.mtime=e.mtime,n.mime=e.mime,n.isDirectoryResolved=e.isDirectoryResolved,r&&e.isDirectoryResolved)){var i={};n.children.forEach(function(e){i[e.path]=e}),n.children=[],e.children.forEach(function(e){var r=i[e.path];r?(t.mergeLocalWithRemote(e,r),r.parent=n,n.children.push(r)):(e.parent=n,n.children.push(e))})}},t.EXPLORER_FILE_CHANGES_REACT_DELAY=500,t.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,t.EXPLORER_UPLOAD_REFRESH_DELAY=300,t.MEMENTO_LAST_ACTIVE_FILEPATH="explorer.memento.lastActiveFilePath",t.MEMENTO_EXPANDED_FOLDERS="explorer.memento.expandedFolders",t}(T.CollapsibleViewletView);t.ExplorerView=C;var x=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(){return!0},t.prototype.getActions=function(e){var t=[];t.push(this.instantiationService.createInstance(b.NewFileAction,e.getViewer())),t.push(this.instantiationService.createInstance(b.NewFolderAction,e.getViewer())),t.push(this.instantiationService.createInstance(b.RefreshViewExplorerAction,e,"explorer-action refresh-explorer")),l.isNative&&t.push(this.instantiationService.createInstance(T.CollapseAction,e.getViewer(),!0,"explorer-action collapse-explorer"));for(var n=0;n<t.length;n++){var r=t[n];r.order=10*(n+1)}return t},t.prototype.hasSecondaryActions=function(){return l.isWeb},t.prototype.getSecondaryActions=function(e){var t=[];l.enableUpload&&t.push(this.instantiationService.createInstance(b.UploadFileAction,e.getViewer())),l.enableDownloadWorkspace&&t.push(this.instantiationService.createInstance(b.DownloadWorkspaceAction)),l.isWeb&&(t.push(this.instantiationService.createInstance(T.CollapseAction,e.getViewer(),!0)),t.push(new p.Separator("",21)));for(var n=0,r=0;n<t.length;n++){var i=t[n];u.isUndefinedOrNull(i.order)&&(i.order=10*(r+1),r++)}return t},t.prototype.getActionItem=function(e){return l.enableUpload&&e.id===b.UploadFileAction.ID?this.instantiationService.createInstance(b.UploadActionItem,h.CONTEXT,e):null},t}(d.ActionBarContributor)}),define("vs/css!vs/base/ui/widgets/button",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/button",["require","exports","vs/base/eventEmitter","vs/base/dom/dom","vs/base/dom/builder","vs/css!./button"],function(e,t,n,r,i){var o=i.$,s=function(e){function t(t){var n=this;e.call(this),this.$el=o("a.monaco-button").href("#").appendTo(t),this.$el.on("click",function(e){return n.enabled?(n.emit("click",e),void 0):(r.EventHelper.stop(e),void 0)})}return __extends(t,e),t.prototype.getElement=function(){return this.$el.getHTMLElement()},Object.defineProperty(t.prototype,"label",{set:function(e){this.$el.text(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!this.$el.hasClass("disabled")},set:function(e){e?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),e.prototype.dispose.call(this)},t}(n.EventEmitter);t.Button=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/views/emptyView",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/dom/dom","vs/base/lib/winjs.base","vs/base/dom/builder","vs/platform/services","vs/base/ui/widgets/button","vs/base/ui/widgets/splitview","vs/platform/platform","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=s.$,h=function(e){function t(t){e.call(this,{minimumSize:48}),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.renderHeader=function(e){var t=p("div.title").appendTo(e);p("span").text(n.localize("vs_workbench_contrib_files_views_emptyView",0)).appendTo(t)},t.prototype.renderBody=function(e){var t=this;i.addClass(e,"explorer-empty-view");var o=p("div.section").appendTo(e);p("p").text(n.localize("vs_workbench_contrib_files_views_emptyView",1)).appendTo(o);var s=p("div.section").appendTo(e),a=new l.Button(s);a.label=n.localize("vs_workbench_contrib_files_views_emptyView",2),a.on("click",function(){t.runWorkbenchAction(r.isMacintosh?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder")})},t.prototype.runWorkbenchAction=function(e){var t=u.Registry.as(d.Extensions.WorkbenchActions),n=t.getWorkbenchAction(e),r=this.instantiationService.createInstance(n);return r.run().done(function(){return r.dispose()})},t.prototype.create=function(){return o.Promise.as(null)},t.prototype.refresh=function(){return o.Promise.as(null)},t.prototype.setVisible=function(){return o.Promise.as(null)},t.prototype.focus=function(){},t.prototype.getSelection=function(){return new a.StructuredSelection([])},t.prototype.reveal=function(){return o.Promise.as(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(){return null},t.prototype.beforeShutdown=function(){return null},t}(c.CollapsibleView);t.EmptyView=h}),define("vs/workbench/contrib/files/views/workingFilesModel",["require","exports","vs/base/arrays","vs/platform/services","vs/base/uri","vs/base/errors","vs/base/eventSource","vs/base/paths","vs/base/ui/labels","vs/base/lifecycle","vs/workbench/contrib/files/files","vs/workbench/events","vs/workbench/ui/parts/editor/baseEditor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(e){this.storageService=e.storageService,this.eventService=e.eventService,this.contextService=e.contextService,this.partService=e.partService,this.editorService=e.editorService,this.pathLabelProvider=new l.PathLabelProvider(this.contextService),this.entries=[],this.toDispose=[],this.mapEntryToResource=Object.create(null),this._onModelChange=new s,this._onWorkingFileChange=new s,this.load(),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2("files:internalFileChanged",function(t){return e.onLocalFileChange(t)})),this.toDispose.push(this.eventService.addListener2(r.Files.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)})),this.toDispose.push(this.eventService.addListener2(d.EventType.UNTITLED_FILE_DIRTY,function(t){return e.onUntitledFileDirty(t)})),this.toDispose.push(this.eventService.addListener2(d.EventType.UNTITLED_FILE_DELETED,function(t){return e.onUntitledFileDeleted(t)})),this.toDispose.push(this.eventService.addListener2(u.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toDispose.push(this.eventService.addListener2(u.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)})),this.toDispose.push(this.eventService.addListener2(u.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toDispose.push(this.eventService.addListener2(u.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),this.toDispose.push(this.eventService.addListener2(d.EventType.EDITOR_SET_INPUT_ERROR,function(t){return e.onEditorInputSetError(t)}))},e.prototype.onUntitledFileDirty=function(e){this.updateDirtyState(e.resource,!0)},e.prototype.onUntitledFileDeleted=function(e){var t=this.mapEntryToResource[e.resource.toString()];t&&this.removeEntry(t)},e.prototype.onTextFileDirty=function(e){this.contextService.isAutoSaveEnabled()?this.addEntry(e.getAfter().resource):this.updateDirtyState(e.getAfter().resource,!0)},e.prototype.onTextFileSaveError=function(e){this.updateDirtyState(e.getAfter().resource,!0)},e.prototype.onTextFileSaved=function(e){this.updateDirtyState(e.getAfter().resource,!1)},e.prototype.onTextFileReverted=function(e){this.updateDirtyState(e.getAfter().resource,!1)},e.prototype.updateDirtyState=function(e,t){var n=this.addEntry(e),r=n.dirty;n.setDirty(t),r!==t&&this.fireWorkingFileChange(n)},e.prototype.onLocalFileChange=function(e){e.gotMoved()&&this.moveEntry(e.getBefore().resource,e.getAfter().resource)},e.prototype.onFileChanges=function(e){for(var t in this.mapEntryToResource){var n=this.mapEntryToResource[t];!n.dirty&&e.contains(i.parse(t),r.Files.FileChangeType.DELETED)&&this.removeEntry(n)}},e.prototype.onEditorInputSetError=function(e){var t=p.asFileEditorInput(e.editorInput);if(t){var n=this.mapEntryToResource[t.getResource().toString()];n&&!n.dirty&&this.removeEntry(t.getResource())}},Object.defineProperty(e.prototype,"onModelChange",{get:function(){return this._onModelChange.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWorkingFileChange",{get:function(){return this._onWorkingFileChange.value},enumerable:!0,configurable:!0}),e.prototype.getEntries=function(){return this.entries},e.prototype.getOutOfWorkspaceContextEntries=function(){var e=this;return this.entries.filter(function(t){return e.isOutOfWorkspace(t.resource)})},e.prototype.isOutOfWorkspace=function(e){if("file"!==e.scheme)return!1;var t=this.contextService.getWorkspace();return!t||!a.isEqualOrParent(e.path,t.resource.path)},e.prototype.count=function(){return this.entries.length},e.prototype.addEntry=function(e){var t;t=e instanceof m?e.resource:i.isURI(e)?e:e.resource;var n=this.findEntry(t);if(n)return n;var r;return r=e instanceof m?e:this.createEntry(t),this.entries.push(r),this.mapEntryToResource[r.resource.toString()]=r,this.fireModelChange(),r},e.prototype.createEntry=function(e,t,n){return new m(e,"number"==typeof t?t:this.entries.length,n)},e.prototype.moveEntry=function(e,t){var n=this.findEntry(e);if(n&&!this.findEntry(t)){var r=this.createEntry(t,n.index,n.dirty);this.entries.push(r),this.mapEntryToResource[t.toString()]=r,this.entries.splice(this.entries.indexOf(n),1),delete this.mapEntryToResource[e.toString()],this.fireModelChange()}},e.prototype.removeEntry=function(t){var n=t instanceof m?t.resource:t,r=this.indexOf(n);if(r>=0){var i=this.entries.splice(r,1)[0];delete this.mapEntryToResource[n.toString()];for(var o=this.entries.slice(0).sort(e.compare),s=0,a=0;a<o.length;a++)o[a]!==i&&o[a].setIndex(s++);return this.fireModelChange(),i}return null},e.prototype.reorder=function(t,r){var i=this.entries.slice(0).sort(e.compare),o=i.indexOf(t),s=i.indexOf(r);n.move(i,o,s);for(var a=0,l=0;l<i.length;l++)i[l].setIndex(a++);this.fireModelChange()},e.prototype.clear=function(){this.entries=[],this.mapEntryToResource=Object.create(null),this.fireModelChange()},e.prototype.hasEntry=function(e){return!!this.findEntry(e)},e.prototype.findEntry=function(e){return this.mapEntryToResource[e.toString()]},e.prototype.indexOf=function(e){var t=this.findEntry(e);return t?this.entries.indexOf(t):-1},e.prototype.beforeShutdown=function(){var t=this.entries.slice(0).sort(e.compare),n=0,i=[];t.forEach(function(e){e.isUntitled||i.push({resource:e.resource.toString(),index:n++})}),this.storageService.store(e.STORAGE_KEY,JSON.stringify(i),r.StorageScope.WORKSPACE)},e.prototype.load=function(){var t=this,n=this.storageService.get(e.STORAGE_KEY,r.StorageScope.WORKSPACE);if(n){var s=JSON.parse(n);s.forEach(function(e){t.addEntry(new m(i.parse(e.resource),e.index,!1))})}this.partService.joinCreation().done(function(){t.editorService.getVisibleEditors().forEach(function(e){var n=p.asResourceEditorInput(e.input);if(n){var r=n.getResource();("untitled"===r.scheme||t.isOutOfWorkspace(r))&&t.addEntry(r)}})},o.onUnexpectedError)},e.prototype.dispose=function(){this.toDispose=c.disposeAll(this.toDispose)},e.prototype.fireModelChange=function(){this._onModelChange.fire()},e.prototype.fireWorkingFileChange=function(e){this._onWorkingFileChange.fire(e)},e.compare=function(e,t){return e.index-t.index},e.STORAGE_KEY="workingFiles.model.entries",e}();t.WorkingFilesModel=h;var m=function(){function e(e,t,n){this._resource=e,this._index=t,this._dirty=n}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),e.prototype.setIndex=function(e){this._index=e},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),e.prototype.setDirty=function(e){this._dirty=e},Object.defineProperty(e.prototype,"CLASS_ID",{get:function(){return u.WORKING_FILES_MODEL_ENTRY_CLASS_ID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFile",{get:function(){return"file"===this._resource.scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUntitled",{get:function(){return"untitled"===this._resource.scheme},enumerable:!0,configurable:!0}),e}();t.WorkingFileEntry=m});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/views/workingFilesViewer",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/ui/widgets/tree/tree","vs/base/ui/widgets/fileLabel","vs/base/ui/widgets/tree/treeDnd","vs/base/ui/widgets/tree/treeDefaults","vs/base/errors","vs/base/mime","vs/base/severity","vs/base/paths","vs/base/ui/widgets/actionbar","vs/base/ui/actions","vs/base/ui/widgets/tree/actionsRenderer","vs/workbench/ui/actionBarRegistry","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/files","vs/workbench/contrib/files/views/workingFilesModel"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w){var E=o.$,S="__WORKING_FILES_ROOT",T=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof w.WorkingFileEntry?t.resource.toString():S},e.prototype.hasChildren=function(e,t){return t instanceof w.WorkingFilesModel?t.count()>0:!1},e.prototype.getChildren=function(e,t){return t instanceof w.WorkingFilesModel?i.Promise.as(t.getEntries()):i.Promise.as([])},e.prototype.getParent=function(){return i.Promise.as(null)},e}();t.WorkingFilesDataSource=T;var k=function(){function e(){}return e.prototype.compare=function(e,t,n){return w.WorkingFilesModel.compare(t,n)},e}();t.WorkingFilesSorter=k;var C=function(e){function t(t,n,r,i){e.call(this,{actionProvider:r,actionRunner:i}),this.contextService=t.contextService}return __extends(t,e),t.prototype.getHeight=function(){return t.FILE_ITEM_HEIGHT},t.prototype.renderContents=function(e,t,n){var r=t,i=E(n).clearChildren(),o=E(".working-files-item").appendTo(i),s=E(".working-files-item-label").appendTo(o);return new a.FileLabel(s.getHTMLElement(),r.resource,this.contextService),r.dirty?E(n.parentElement).addClass("working-file-dirty"):E(n.parentElement).removeClass("working-file-dirty"),null},t.FILE_ITEM_HEIGHT=24,t}(v.ActionsRenderer);t.WorkingFilesRenderer=C;var x=function(e){function t(t,n){e.call(this),this.instantiationService=t.instantiationService,this.contextService=t.contextService,this.model=n}return __extends(t,e),t.prototype.hasActions=function(t,n){return n instanceof w.WorkingFileEntry||e.prototype.hasActions.call(this,t,n)},t.prototype.getActions=function(e,t){var n=[];return t instanceof w.WorkingFileEntry&&n.push(this.instantiationService.createInstance(A,this.model,t)),i.Promise.as(n)},t.prototype.hasSecondaryActions=function(t,n){return n instanceof w.WorkingFileEntry||e.prototype.hasActions.call(this,t,n)},t.prototype.getSecondaryActions=function(t,n){var i=this;return e.prototype.getSecondaryActions.call(this,t,n).then(function(e){if(n instanceof w.WorkingFileEntry){e.push(i.instantiationService.createInstance(b.OpenToSideAction,t,n.resource));var o=i.contextService.isAutoSaveEnabled();if((!o||n.dirty)&&n.isFile){e.push(new m.Separator);var s=i.instantiationService.createInstance(b.SaveFileAction);s.setResource(n.resource),e.push(s);var a=i.instantiationService.createInstance(b.RevertFileAction);a.setResource(n.resource),e.push(a)}if(r.isNative&&n.isUntitled){e.push(new m.Separator);var l=i.instantiationService.createInstance(b.SaveFileAsAction);l.setResource(n.resource),e.push(l)}e.push(new m.Separator),e.push(i.instantiationService.createInstance(A,i.model,n))}return e})},t}(g.ContributableActionProvider);t.WorkingFilesActionProvider=x;var A=function(e){function t(r,i,o){e.call(this,t.ID,o?n.localize("vs_workbench_contrib_files_views_workingFilesViewer",0):n.localize("vs_workbench_contrib_files_views_workingFilesViewer",1),o?o.dirty?"action-close-dirty-file":"action-close-file":"action-close-all-files"),this.textFileService=r.textFileService,this.untitledEditorService=r.untitledEditorService,this.editorService=r.editorService,this.quickopenService=r.quickOpenService,this.messageService=r.messageService,this.model=i,this.element=o,this.model&&(this.enabled=this.model.count()>0,this.model.onModelChange.add(this.onModelChange,this))}return __extends(t,e),t.prototype.onModelChange=function(){this.enabled=this.model.count()>0},t.prototype.run=function(){var e=this,t=i.Promise.as(null);if(this.textFileService.isDirty(this.element?this.element.resource:void 0)){var n=this.textFileService.confirmSave(this.element?this.element.resource:void 0);switch(n){case _.ConfirmResult.SAVE:t=this.element?this.textFileService.saveAll([this.element.resource]):this.textFileService.saveAll(!0);break;case _.ConfirmResult.DONT_SAVE:t=this.element?this.textFileService.revertAll([this.element.resource]):this.textFileService.revertAll();break;case _.ConfirmResult.CANCEL:return i.Promise.as(null)}}return t.then(function(t){var n=[];if(e.element?n.push(e.element.resource):n=e.model.getEntries().map(function(e){return e.resource}),t){var r=t.results.filter(function(e){return!e.success}).map(function(e){return e.source.toString()});n=n.filter(function(e){return r.indexOf(e.toString())<0})}n.length===e.model.getEntries().length?e.model.clear():n.forEach(function(t){return e.model.removeEntry(t)}),n.forEach(function(t){return e.disposeResource(t)})},function(t){e.messageService.show(p.Error,t)})},t.prototype.disposeResource=function(e){this.collectFileEditorInputs(e).forEach(function(e){e.isDisposed()||e.dispose(!0)});var t=this.untitledEditorService.get(e);t&&t.dispose()},t.prototype.collectFileEditorInputs=function(e){for(var t=y.FileEditorInput.getAll(e),n=this.quickopenService.getEditorHistory(),r=0;r<n.length;r++){var i=n[r];i instanceof y.FileEditorInput&&i.getResource().toString()===e.toString()&&t.push(i)}var o=this.editorService.getVisibleEditors();return o.forEach(function(n){var r=n.input;r instanceof y.FileEditorInput&&r.getResource().toString()===e.toString()&&t.push(r)}),t},t.prototype.dispose=function(){this.model&&this.model.onModelChange.remove(this.onModelChange,this),e.prototype.dispose.call(this)},t.ID="close.action",t}(f.Action);t.CloseAction=A;var L=function(e){function t(t,n){e.call(this),this.requestService=t.requestService,this.contextService=t.contextService,this.model=n}return __extends(t,e),t.prototype.getDragURI=function(e,t){return t.resource.toString()},t.prototype.onDragStart=function(e,t,n){var i=t.getData(),o=null;if(Array.isArray(i)&&(o=i[0]),r.isNative&&!(t instanceof l.DesktopDragAndDropData)&&o&&o.isFile){var s=h.basename(o.resource.path);n.dataTransfer.setData("DownloadURL",[d.MIME_BINARY,s,o.resource.toString()].join(":"))}},t.prototype.onDragOver=function(e,t,n){if(t instanceof l.ExternalElementsDragAndDropData){var r=_.asFileResource(t.getData()[0]);return r?r.isDirectory?s.DRAG_OVER_REJECT:s.DRAG_OVER_ACCEPT:s.DRAG_OVER_REJECT}if(t instanceof l.DesktopDragAndDropData)return s.DRAG_OVER_REJECT;if(!(t instanceof l.ElementsDragAndDropData))return s.DRAG_OVER_REJECT;var i=_.asFileResource(t.getData()[0]);return i?n.resource.toString()===i.resource.toString()?s.DRAG_OVER_REJECT:s.DRAG_OVER_ACCEPT:s.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,n){var r;if(t instanceof l.ExternalElementsDragAndDropData){var i=_.asFileResource(t.getData()[0]);r=this.model.addEntry(i.resource)}else{var o=t.getData();Array.isArray(o)&&(r=o[0])}r&&this.model.reorder(r,n)},t}(c.DefaultDragAndDrop);t.WorkingFilesDragAndDrop=L;var N=function(e){function t(t,n,r){e.call(this,{clickBehavior:c.ClickBehavior.ON_MOUSE_DOWN}),this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.contextMenuService=t.contextMenuService,this.telemetryService=t.telemetryService,this.didCatchEnterDown=!1,this.model=n,this.actionProvider=r,this.downKeyBindings.Enter=this.onEnterDown.bind(this),this.upKeyBindings.Enter=this.onEnterUp.bind(this),this.upKeyBindings["Ctrl-Enter"]=this.onModifierEnterUp.bind(this)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n,r){void 0===r&&(r="mouse");var i={origin:r};if(t instanceof w.WorkingFilesModel)return e.clearFocus(i),e.clearSelection(i),!1;var o=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;if(o||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),n.shiftKey){var s=e.getFocus(),a=e.getSelection();(a&&a.length>0&&a[0]===t||s===t)&&(e.clearSelection(i),e.clearFocus(i))}else e.setFocus(t,i),e.setSelection([t],i),this.openEditor(t,!0,n&&(n.ctrlKey||n.metaKey));
return!0},t.prototype.onEnterDown=function(e){var t={origin:"keyboard"},n=e.getFocus();return n&&(e.setFocus(n,t),this.openEditor(n,!0,!1)),this.didCatchEnterDown=!0,!0},t.prototype.onEnterUp=function(e){if(!this.didCatchEnterDown)return!1;var t=e.getFocus();return t&&this.openEditor(t,!1,!1),this.didCatchEnterDown=!1,!0},t.prototype.onModifierEnterUp=function(e){var t=e.getFocus();return t&&this.openEditor(t,!1,!0),this.didCatchEnterDown=!1,!0},t.prototype.onContextMenu=function(e,t,n){var r=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;n.preventDefault(),n.stopPropagation(),e.setFocus(t);var i={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return r.actionProvider.getSecondaryActions(e,t)},getKeyBinding:function(e){return r.getKeyBinding(e)},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.getKeyBinding=function(e){return b.keybindingForAction(e.id)},t.prototype.openEditor=function(e,t,n){e&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"workingSet"}),this.editorService.openEditor({resource:e.resource,options:{preserveFocus:t}},n).done(null,u.onUnexpectedError))},t}(c.DefaultController);t.WorkingFilesController=N});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/views/workingFilesView",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/env","vs/base/ui/widgets/tree/treeImpl","vs/workbench/ui/parts/editor/baseEditor","vs/base/ui/widgets/splitview","vs/workbench/contrib/files/files","vs/base/dom/dom","vs/workbench/events","vs/workbench/ui/parts/viewlet","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/views/workingFilesViewer"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=r.$,f=function(e){function t(n,r,i){e.call(this,n,r,this.getExpandedBodySize(n.textFileService.getWorkingFilesModel()),!!i[t.MEMENTO_COLLAPSED],"workingFilesView"),this.eventService=n.eventService,this.contextService=n.contextService,this.instantiationService=n.instantiationService,this.textFileService=n.textFileService,this.editorService=n.editorService,this.settings=i,this.model=this.textFileService.getWorkingFilesModel(),this.lastDirtyCount=0}return __extends(t,e),t.prototype.renderHeader=function(t){e.prototype.renderHeader.call(this,t);var r=m("div.title").appendTo(t);m("span").text(n.localize("vs_workbench_contrib_files_views_workingFilesView",0)).appendTo(r),this.dirtyCountElement=m("span.monaco-count-badge").appendTo(r).hide().getHTMLElement(),this.updateDirtyIndicator()},t.prototype.getActions=function(){var e=[];return i.isNative&&e.push(this.instantiationService.createInstance(p.SaveAllAction)),e.push(this.instantiationService.createInstance(h.CloseAction,this.model)),e},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),c.addClass(this.treeContainer,"explorer-working-files"),this.createViewer(m(this.treeContainer))},t.prototype.create=function(){return this.registerListeners(),this.highlightInput(this.editorService.getActiveEditorInput()),e.prototype.create.call(this)},t.prototype.registerListeners=function(){var e=this;this.model.onModelChange.add(this.onWorkingFilesModelChange,this),this.model.onWorkingFileChange.add(this.onWorkingFileChange,this),this.toDispose.push(this.eventService.addListener2(u.EventType.UNTITLED_FILE_DIRTY,function(){return e.onUntitledFileDirty()})),this.toDispose.push(this.eventService.addListener2(u.EventType.UNTITLED_FILE_DELETED,function(){return e.onUntitledFileDeleted()})),this.toDispose.push(this.eventService.addListener2(l.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toDispose.push(this.eventService.addListener2(l.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toDispose.push(this.eventService.addListener2(l.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)})),this.toDispose.push(this.eventService.addListener2(l.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),this.toDispose.push(this.eventService.addListener2(u.EventType.EDITOR_INPUT_CHANGED,function(t){return e.onEditorInputChanged(t)}))},t.prototype.onTextFileDirty=function(){this.contextService.isAutoSaveEnabled()||this.updateDirtyIndicator()},t.prototype.onTextFileSaved=function(){this.lastDirtyCount>0&&this.updateDirtyIndicator()},t.prototype.onTextFileSaveError=function(){this.updateDirtyIndicator()},t.prototype.onTextFileReverted=function(){this.lastDirtyCount>0&&this.updateDirtyIndicator()},t.prototype.onUntitledFileDirty=function(){this.updateDirtyIndicator()},t.prototype.onUntitledFileDeleted=function(){this.lastDirtyCount>0&&this.updateDirtyIndicator()},t.prototype.updateDirtyIndicator=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,0===e?m(this.dirtyCountElement).hide():m(this.dirtyCountElement).show().text(n.localize("vs_workbench_contrib_files_views_workingFilesView",1,e))},t.prototype.onWorkingFilesModelChange=function(){if(!this.isDisposed&&(this.expandedBodySize=this.getExpandedBodySize(this.model),this.tree)){this.tree.refresh();var e=this.editorService.getActiveEditorInput();this.highlightInput(e)}},t.prototype.onWorkingFileChange=function(e){this.isDisposed||this.tree&&this.tree.refresh(e)},t.prototype.getExpandedBodySize=function(e){var n=e.count();return Math.min(t.MAX_VISIBLE_FILES,n)*h.WorkingFilesRenderer.FILE_ITEM_HEIGHT},t.prototype.onEditorInputChanged=function(e){var t=this.editorService.getActiveEditorInput();t===e.editorInput&&this.highlightInput(e.editorInput)},t.prototype.highlightInput=function(e){var t=s.asResourceEditorInput(e);if(t){var n=this.model.findEntry(t.getResource());n?this.highlightEntry(n):this.highlightEntry(null)}},t.prototype.highlightEntry=function(e){this.tree.clearFocus(),this.tree.clearSelection(),e&&(this.tree.setSelection([e]),this.tree.reveal(e))},t.prototype.createViewer=function(e){var t=this.instantiationService.createInstance(h.WorkingFilesActionProvider,this.model),n=this.instantiationService.createInstance(h.WorkingFilesRenderer,this.model,t,this.actionRunner),r=this.instantiationService.createInstance(h.WorkingFilesDataSource),i=this.instantiationService.createInstance(h.WorkingFilesController,this.model,t),s=this.instantiationService.createInstance(h.WorkingFilesSorter),a=this.instantiationService.createInstance(h.WorkingFilesDragAndDrop,this.model);return this.tree=new o.Tree(e.getHTMLElement(),{dataSource:r,renderer:n,sorter:s,controller:i,dnd:a},{indentPixels:0,twistiePixels:8}),this.tree.setInput(this.model),this.tree},t.prototype.beforeShutdown=function(){return this.settings[t.MEMENTO_COLLAPSED]=this.state===a.CollapsibleState.COLLAPSED,e.prototype.beforeShutdown.call(this)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.model.onModelChange.remove(this.onWorkingFilesModelChange,this),this.model.onWorkingFileChange.remove(this.onWorkingFileChange,this)},t.MEMENTO_COLLAPSED="workingFiles.memento.collapsed",t.MAX_VISIBLE_FILES=9,t}(d.AdaptiveCollapsibleViewletView);t.WorkingFilesView=f}),define("vs/css!vs/workbench/contrib/files/media/explorerviewlet",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/explorerViewlet",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/workbench/core/memento","vs/workbench/contrib/files/files","vs/workbench/ui/parts/viewlet","vs/base/ui/widgets/splitview","vs/workbench/contrib/files/views/explorerViewer","vs/workbench/contrib/files/views/explorerView","vs/workbench/contrib/files/views/emptyView","vs/workbench/contrib/files/views/workingFilesView","vs/css!./media/explorerviewlet"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=function(e){function t(t){e.call(this,t,o.VIEWLET_ID),this.contextService=t.contextService,this.storageService=t.storageService,this.instantiationService=t.instantiationService,this.views=[],this.viewletState=new l.FileViewletState,this.loadSettings(this.storageService,this.contextService)}return __extends(t,e),t.prototype.loadSettings=function(e){var t=this;this.viewletSettings||this.loadMemento(e,i.Scope.WORKSPACE).done(function(e){t.viewletSettings=e},r.onUnexpectedError)},t.prototype.create=function(t){return e.prototype.create.call(this,t),this.viewletContainer=t.div().addClass("explorer-viewlet"),this.splitView=new a.SplitView(this.viewletContainer.getHTMLElement()),this.addWorkingFilesView(),this.addExplorerView(),n.Promise.join(this.views.map(function(e){return e.create()}))},t.prototype.addWorkingFilesView=function(){this.workingFilesView=this.instantiationService.createInstance(d.WorkingFilesView,this.getActionRunner(),this.viewletSettings),this.splitView.addView(this.workingFilesView),this.views.push(this.workingFilesView)},t.prototype.addExplorerView=function(){var e;this.contextService.getWorkspace()?this.explorerView=e=this.instantiationService.createInstance(c.ExplorerView,this.viewletState,this.getActionRunner(),this.viewletSettings):e=this.instantiationService.createInstance(u.EmptyView),this.splitView.addView(e),this.views.push(e)},t.prototype.refresh=function(e,t,r){return n.Promise.join(this.views.map(function(n){return n.refresh(e,t,r)}))},t.prototype.getExplorerView=function(){return this.explorerView},t.prototype.setVisible=function(t){var r=this;return e.prototype.setVisible.call(this,t).then(function(){return n.Promise.join(r.views.map(function(e){return e.setVisible(t)}))})},t.prototype.focus=function(){e.prototype.focus.call(this),this.explorerView&&this.explorerView.focus()},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.splitView.layout(t.height)},t.prototype.getSelection=function(){return this.explorerView?this.explorerView.getSelection():this.workingFilesView.getSelection()},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new l.ActionRunner(this.viewletState)),this.actionRunner},t.prototype.beforeShutdown=function(){return this.views.forEach(function(e){return e.beforeShutdown()}),e.prototype.beforeShutdown.call(this)},t.prototype.dispose=function(){this.splitView&&this.splitView.dispose()},t}(s.Viewlet);t.ExplorerViewlet=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/saveErrorHandler",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/errors","vs/base/paths","vs/base/ui/actions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/resourceEditorInput","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/fileActions","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(){function e(e){this.messageService=e.messageService,this.instantiationService=e.instantiationService}return e.prototype.onSaveError=function(e,t){var c;if(e.fileOperationResult===r.Files.FileOperationResult.FILE_MODIFIED_SINCE)c=this.instantiationService.createInstance(g,t);else{var u=e.fileOperationResult===r.Files.FileOperationResult.FILE_READ_ONLY,d=[];if(d.push(new l.Action("close.message",i.localize("vs_workbench_contrib_files_saveErrorHandler",0),null,!0,function(){return n.Promise.as(!0)})),u)d.push(new l.Action("workbench.files.action.overwrite",i.localize("vs_workbench_contrib_files_saveErrorHandler",1),null,!0,function(){return t.isDisposed()?n.Promise.as(!0):t.save(!0)}));else{var p=this.instantiationService.createInstance(h.SaveFileAction);p.label=i.localize("vs_workbench_contrib_files_saveErrorHandler",2),p.setResource(t.getResource()),d.push(p)}var f=this.instantiationService.createInstance(h.RevertFileAction);if(f.label=i.localize("vs_workbench_contrib_files_saveErrorHandler",3),f.setResource(t.getResource()),d.push(f),o.isNative){var v=this.instantiationService.createInstance(h.SaveFileAsAction);v.setResource(t.getResource()),d.push(v)}var b;b=u?i.localize("vs_workbench_contrib_files_saveErrorHandler",4,a.basename(t.getResource().path)):i.localize("vs_workbench_contrib_files_saveErrorHandler",5,a.basename(t.getResource().path),s.toErrorMessage(e,!1)),c={message:b,actions:d}}this.messageService&&this.messageService.show(m.Error,c)},e}();t.SaveErrorHandler=f;var v=function(e){function t(t,n,r,i,o,s){e.call(this,r,i,o,s),this.messageService=t.messageService,this.editorService=t.editorService,this.eventService=t.eventService,this.instantiationService=t.instantiationService,this.model=n}return __extends(t,e),t.prototype.getModel=function(){return this.model},t.prototype.getId=function(){return t.ID},t.ID="workbench.editors.files.conflictResolutionDiffEditorInput",t}(d.DiffEditorInput);t.ConflictResolutionDiffEditorInput=v;var g=function(){function e(e,t,r){var o=this;this.requestService=e.requestService,this.editorService=e.editorService,this.instantiationService=e.instantiationService,this.messageService=e.messageService,this.model=t,this.message=r?r:i.localize("vs_workbench_contrib_files_saveErrorHandler",6,a.basename(this.model.getResource().path)),this.actions=[new l.Action("workbench.files.action.resolveConflict",i.localize("vs_workbench_contrib_files_saveErrorHandler",7),null,!0,function(){if(!o.model.isDisposed()){var e=o.instantiationService.createInstance(u.ResourceEditorInput,a.basename(o.model.getResource().path),o.model.getResource().path,o.model.getResource().toString(),o.model.getMime()),t=o.instantiationService.createInstance(p.FileEditorInput,o.model.getResource(),o.model.getMime()),r=o.instantiationService.createInstance(v,o.model,t.getName(),i.localize("vs_workbench_contrib_files_saveErrorHandler",8,t.getDescription()),e,t);return o.editorService.openEditor(r).then(function(){o.model.setConflictResolutionMode(),o.messageService.show(m.Info,i.localize("vs_workbench_contrib_files_saveErrorHandler",9))})}return n.Promise.as(!0)})]}return e}(),b=function(e){function t(t){e.call(this,"workbench.files.action.acceptLocalChanges",i.localize("vs_workbench_contrib_files_saveErrorHandler",10),"conflict-editor-action accept-changes"),this.messageService=t.messageService,this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.messagesToHide=[]}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.input,n=t.getModel(),r=n.getValue();return t.resolve(!1).then(function(o){var s=o.originalModel.getLastModified();return n.revert().then(function(){var a=n.getLastModifiedTime();return s>=a?(n.textEditorModel.setValue(r),n.save().then(function(){for(;e.messagesToHide.length;)e.messagesToHide.pop()();var r=e.instantiationService.createInstance(p.FileEditorInput,n.getResource(),n.getMime());return e.editorService.openEditor(r,null,e.position).then(function(){t.dispose()})})):(n.setConflictResolutionMode(),n.textEditorModel.setValue(r),o.originalModel.load().then(function(){e.messagesToHide.push(e.messageService.show(m.Info,i.localize("vs_workbench_contrib_files_saveErrorHandler",11)))}))})})},t}(c.EditorInputAction);t.AcceptLocalChangesAction=b;var y=function(e){function t(t){e.call(this,"workbench.action.files.revert",i.localize("vs_workbench_contrib_files_saveErrorHandler",12),"conflict-editor-action revert-changes"),this.editorService=t.editorService,this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.input,n=t.getModel();return n.revert().then(function(){var r=e.instantiationService.createInstance(p.FileEditorInput,n.getResource(),n.getMime());return e.editorService.openEditor(r,null,e.position).then(function(){t.dispose()})})},t}(c.EditorInputAction);t.RevertLocalChangesAction=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/fileActions.contribution",["require","exports","vs/platform/services","vs/platform/platform","vs/base/paths","vs/base/env","vs/base/strings","vs/base/ui/widgets/actionbar","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/files","vs/workbench/contrib/files/saveErrorHandler","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/contrib/files/editors/derivedFrameEditorInput","vs/platform/configuration/keybindings"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g={".ts":".js",".coffee":".js",".less":".css",".sass":".css"},b={".js":"text/javascript, text/plain",".css":"text/css, text/plain"},y="text/html",_=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return t instanceof n.Files.FileStatImpl},t.prototype.getSecondaryActions=function(e){var t=e.element,n=e.viewer,r=[],l=!1,c=t.isDirectory?null:i.extname(t.name),d="/.git"===t.path,p=0===t.path.indexOf("/.git/");if(!t.isDirectory&&Object.keys(g).some(function(e){return s.endsWith(t.name,e)})){var h=t.parent,m=g[c],f=s.rtrim(t.name,c)+m,v=h&&h.children?h.children:[];v.some(function(e){return!e.isDirectory&&e.name===f})&&(r.push(this.instantiationService.createInstance(u.OpenDerivedResourceAction,n,t,c,m,b[m])),l=!0)}else!o.isWeb||t.isDirectory||".htm"!==c&&".html"!==c||(r.push(this.instantiationService.createInstance(u.PreviewHTMLAction,t)),l=!0);if(t.isDirectory||(r.push(this.instantiationService.createInstance(u.OpenToSideAction,n,t.resource)),l=!0),l&&r.push(new a.Separator(null,50)),t.isDirectory&&!d)r.push(this.instantiationService.createInstance(u.NewFileAction,n,t)),r.push(this.instantiationService.createInstance(u.NewFolderAction,n,t)),o.enableUpload&&r.push(this.instantiationService.createInstance(u.UploadFileAction,n,t)),r.push(new a.Separator(null,50));else if(!t.isDirectory){var y=this.instantiationService.createInstance(u.CompareFilesAction,n,t);y._isEnabled()&&r.push(y),r.push(this.instantiationService.createInstance(u.SelectFileForCompareAction,n,t)),r.push(new a.Separator)}var _=t.path===i.sep;_||d||r.push(this.instantiationService.createInstance(u.CopyFileAction,n,t)),t.isDirectory&&!d&&r.push(this.instantiationService.createInstance(u.PasteFileAction,n,t)),_||p||d||(r.push(new a.Separator),r.push(this.instantiationService.createInstance(u.TriggerRenameFileAction,n,t))),_||p||r.push(this.instantiationService.createInstance(u.DeleteFileAction,n,t));for(var w=10,E=0;E<r.length;E++){var S=r[E];S.order?w=S.order:(w+=10,S.order=w)}return r},t.prototype.getActionItem=function(e,t){if(e&&e.element instanceof n.Files.FileStatImpl){if(o.enableUpload&&t.id===u.UploadFileAction.ID)return this.instantiationService.createInstance(u.UploadActionItem,e,t);var r=u.keybindingForAction(t.id);if(r)return new a.ActionItem(e,t,{label:!0,keybinding:v.toLabel(r)})}return null},t}(l.ActionBarContributor),w=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof p.ConflictResolutionDiffEditorInput},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(p.AcceptLocalChangesAction),this.instantiationService.createInstance(p.RevertLocalChangesAction)]},t}(c.EditorInputActionContributor),E=function(e){function t(t){e.call(this,[y]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(u.PreviewHTMLEditorInputAction)]},t}(d.FileEditorInputActionContributor),S=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof f.DerivedFrameEditorInput},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(u.RefreshDerivedFrameEditorInputAction),this.instantiationService.createInstance(u.ViewDerivedSourceEditorInputAction)]},t}(c.EditorInputActionContributor),T=r.Registry.as(l.Extensions.Actionbar);T.registerActionBarContributor(l.Scope.VIEWER,_),T.registerActionBarContributor(l.Scope.EDITOR,w),o.isWeb&&T.registerActionBarContributor(l.Scope.EDITOR,E),T.registerActionBarContributor(l.Scope.EDITOR,S);var k=r.Registry.as(m.Extensions.WorkbenchActions);k.registerWorkbenchAction(new h.SyncActionDescriptor(u.SaveFileAction,u.SaveFileAction.ID,u.SaveFileAction.LABEL,{ctrlCmd:!0,key:"S"})),k.registerWorkbenchAction(new h.SyncActionDescriptor(u.SaveAllAction,u.SaveAllAction.ID,u.SaveAllAction.LABEL,{ctrlCmd:!0,shift:!0,key:"S"})),k.registerWorkbenchAction(new h.SyncActionDescriptor(u.SaveFilesAction,u.SaveFilesAction.ID,null)),k.registerWorkbenchAction(new h.SyncActionDescriptor(u.RevertFileAction,u.RevertFileAction.ID,u.RevertFileAction.LABEL)),k.registerWorkbenchAction(new h.SyncActionDescriptor(u.GlobalNewFolderAction,u.GlobalNewFolderAction.ID,u.GlobalNewFolderAction.LABEL))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/core/extensions",["require","exports","vs/platform/services","vs/platform/platform"],function(e,t,n,r){t.Extensions={Workbench:"workbench.contributions.extensions",Services:"workbench.contributions.services"};var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.registerWorkbenchExtension=function(t){e.prototype._register.call(this,t)},t.prototype.getWorkbenchExtensions=function(){return e.prototype._getInstances.call(this)},t.prototype.setWorkbenchExtensions=function(t){e.prototype._setInstances.call(this,t)},t}(r.BaseRegistry);r.Registry.add(t.Extensions.Workbench,new i);var o=function(e){function t(t,n,r){void 0===r&&(r=[]),e.call(this,t),this.id=n,this.serviceDependencies=r}return __extends(t,e),t.prototype.getId=function(){return this.id},t.prototype.getServiceDependencies=function(){return this.serviceDependencies},t}(n.SyncDescriptor);t.WorkbenchServiceDescriptor=o;var s=function(){function e(){this.services={},this.servicesList=[]}return e.prototype.registerService=function(e){this.services[e.getId()]=e,this.servicesList.push(e)},e.prototype.getService=function(e){return this.services[e]||null},e.prototype.getServices=function(){return this.servicesList},e.prototype.setServices=function(e){var t=this;this.services={},this.servicesList=[],e.forEach(function(e){t.registerService(e)})},e}();r.Registry.add(t.Extensions.Services,new s)}),define("vs/workbench/contrib/files/textFileServices",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/paths","vs/platform/services","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/editors/textFileEditorModel","vs/workbench/contrib/files/files","vs/workbench/events","vs/workbench/contrib/files/views/workingFilesModel"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){this.eventService=e.eventService,this.contextService=e.contextService,this.workingFilesModel=e.instantiationService.createInstance(u.WorkingFilesModel),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.listenerToUnbind=this.eventService.addListener(c.EventType.WORKBENCH_OPTIONS_CHANGED,function(){return e.onOptionsChanged()})},e.prototype.onOptionsChanged=function(){var e=a.CACHE.getAll();e.forEach(function(e){e instanceof a.TextFileEditorModel&&e.updateOptions()})},e.prototype.getDirty=function(e){return this.getDirtyFileModels(e).map(function(e){return e.getResource()})},e.prototype.isDirty=function(e){return a.CACHE.getAll(e).some(function(e){return e instanceof a.TextFileEditorModel&&e.isDirty()})},e.prototype.save=function(e){return this.saveAll([e]).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.saveAll=function(e){var t=this.getDirtyFileModels(Array.isArray(e)?e:void 0),n=Object.create(null);return t.forEach(function(e){n[e.getResource().toString()]={source:e.getResource()}}),r.Promise.join(t.map(function(e){return e.save().then(function(){e.isDirty()||(n[e.getResource().toString()].success=!0)})})).then(function(){return{results:Object.keys(n).map(function(e){return n[e]})}})},e.prototype.getDirtyFileModels=function(e){var t=this;if(Array.isArray(e)){var n=[];return e.forEach(function(e){n=n.concat(t.getDirtyFileModels(e))}),n}return a.CACHE.getAll(e).filter(function(e){return e instanceof a.TextFileEditorModel&&e.isDirty()})},e.prototype.saveAs=function(){throw new Error("Unsupported")},e.prototype.confirmSave=function(e){var t=this.getDirty(e).map(function(e){return i.basename(e.path)});if(0===t.length)return l.ConfirmResult.DONT_SAVE;var r;return t.length<=5?(r=n.localize("vs_workbench_contrib_files_textFileServices",0),r+=t.join("\n")):r=n.localize("vs_workbench_contrib_files_textFileServices",1,t.length),r+=n.localize("vs_workbench_contrib_files_textFileServices",2),window.confirm(r)?l.ConfirmResult.SAVE:l.ConfirmResult.CANCEL},e.prototype.revert=function(e){return this.revertAll([e]).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.revertAll=function(e){var t=this,n=this.getDirtyFileModels(e),i=Object.create(null);return n.forEach(function(e){i[e.getResource().toString()]={source:e.getResource()}}),r.Promise.join(n.map(function(e){return e.revert().then(function(){e.isDirty()||(i[e.getResource().toString()].success=!0)},function(n){if(n.fileOperationResult!==o.Files.FileOperationResult.FILE_NOT_FOUND)return r.Promise.wrapError(n);var a=s.FileEditorInput.getAll(e.getResource());a.forEach(function(e){return e.dispose(!0)}),t.workingFilesModel.removeEntry(e.getResource()),i[e.getResource().toString()].success=!0})})).then(function(){return{results:Object.keys(i).map(function(e){return i[e]})}})},e.prototype.beforeShutdown=function(){return this.workingFilesModel.beforeShutdown(),this.handleDirtyFilesOnShutdown()},e.prototype.handleDirtyFilesOnShutdown=function(){var e=this.getDirty().map(function(e){return i.basename(e.path)});if(e.length>0){var t;e.length<=5?(t=n.localize("vs_workbench_contrib_files_textFileServices",3),t+=e.join("\n")):t=n.localize("vs_workbench_contrib_files_textFileServices",4,e.length);var r=this.contextService.isAutoSaveEnabled();return r?(t+=n.localize("vs_workbench_contrib_files_textFileServices",6),this.saveAll()):t+=n.localize("vs_workbench_contrib_files_textFileServices",5),t}return null},e.prototype.getWorkingFilesModel=function(){return this.workingFilesModel},e.prototype.dispose=function(){this.listenerToUnbind(),this.workingFilesModel.dispose(),a.CACHE.clear()},e}();t.TextFileService=d}),define("vs/platform/search/search",["require","exports"],function(e,t){var n=function(){function e(e){this.resource=e,this.lineMatches=[]}return e}();t.FileMatch=n;var r=function(){function e(e,t,n){this.preview=e,this.lineNumber=t,this.offsetAndLengths=n}return e}();t.LineMatch=r}),define("vs/workbench/contrib/files/textFileSearchService",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/platform/search/search","vs/base/paths","vs/platform/services"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this.searchService=e.searchService,this.modelService=e.modelService,this.textFileService=e.textFileService,this.untitledEditorService=e.untitledEditorService}return e.prototype.search=function(e){var t,r=this;return new n.PPromise(function(n,i,o){var s=!1,a=r.getLocalResults(e),l=function(){s||(s=!0,Object.keys(a).map(function(e){return a[e]}).filter(function(e){return!!e}).forEach(o))};t=r.searchService.search(e).then(function(e){l(),n(e.filter(function(e){return"undefined"==typeof a[e.resource.toString()]}))},function(e){l(),i(e)},function(e){l(),e.resource?"undefined"==typeof a[e.resource.toString()]&&o(e):o(e)})},function(){return t&&t.cancel()})},e.prototype.getLocalResults=function(e){var t=this,n=Object.create(null);if(e.type===s.Search.QueryType.Text){var a=this.modelService.getModels();a.forEach(function(r){var o=r.getAssociatedResource();if(o&&"file"===o.scheme){if(!t.textFileService.isDirty(o))return}else{if(!o||"untitled"!==o.scheme)return;if(!t.untitledEditorService.get(o))return}if(t.matches(o,e.filePatterns.map(function(e){return t.patternToRegExp(e.pattern)}),e.includeResources,e.excludeResources)){var s=r.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch);if(s.length){var a=new i.FileMatch(o);n[o.toString()]=a,s.forEach(function(e){a.lineMatches.push(new i.LineMatch(r.getLineContent(e.startLineNumber),e.startLineNumber-1,[[e.startColumn-1],[e.endColumn-e.startColumn]]))})}else n[o.toString()]=!1}})}return e.filePatterns.some(function(e){return r.endsWith(e.pattern,".js")})||Object.keys(n).forEach(function(e){var t=o.extname(e);if(".ts"===t){var r=e.slice(0,e.length-t.length)+".js";delete n[r]}}),n},e.prototype.patternToRegExp=function(e){return"."===e[0]&&(e="*"+e),e=r.anchorPattern(r.convertSimple2RegExpPattern(e),!0,!1),new RegExp(e,"i")},e.prototype.matches=function(e,t,n,r){if(t&&t.length){if("file"!==e.scheme)return!1;if(!t.some(function(t){return t.test(e.path)}))return!1}if(n&&n.length){if("file"!==e.scheme)return!1;if(!n.some(function(t){return o.isEqualOrParent(e.path,t.path)}))return!1}if(r&&r.length){if("file"!==e.scheme)return!0;if(r.some(function(t){return o.isEqualOrParent(e.path,t.path)}))return!1}return!0},e}();t.TextFileSearchService=a}),define("vs/workbench/contrib/files/fileTracker",["require","exports","vs/workbench/ui/services","vs/platform/services","vs/base/errors","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/mime","vs/base/uri","vs/base/paths","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/resourceEditorModel","vs/workbench/contrib/files/files","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/editors/derivedFrameEditorInput","vs/workbench/contrib/files/editors/textFileEditorModel","vs/workbench/events"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){var b=function(){function e(e){this.contextService=e.contextService,this.eventService=e.eventService,this.quickOpenService=e.quickOpenService,this.editorService=e.editorService,this.activityService=e.activityService,this.textFileService=e.textFileService,this.instantiationService=e.instantiationService,this.untitledEditorService=e.untitledEditorService,this.toUnbind=[],this.registerListeners(),this.installPurgeInterval()}return e.prototype.getId=function(){return"vs.files.filetracker"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener(g.EventType.UNTITLED_FILE_DELETED,function(t){return e.onUntitledEditorDeleted(t)})),this.toUnbind.push(this.eventService.addListener(g.EventType.UNTITLED_FILE_DIRTY,function(t){return e.onUntitledEditorDirty(t)})),this.toUnbind.push(this.eventService.addListener(h.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toUnbind.push(this.eventService.addListener(h.EventType.FILE_SAVING,function(t){return e.onTextFileSaving(t)})),this.toUnbind.push(this.eventService.addListener(h.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)
})),this.toUnbind.push(this.eventService.addListener(h.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toUnbind.push(this.eventService.addListener(h.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),this.toUnbind.push(this.eventService.addListener("files:internalFileChanged",function(t){return e.onLocalFileChange(t)})),this.toUnbind.push(this.eventService.addListener(r.Files.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)}))},e.prototype.onTextFileDirty=function(e){this.emitInputStateChangeEvent(e.getAfter().resource),this.contextService.isAutoSaveEnabled()||this.updateActivityBadge()},e.prototype.onTextFileSaving=function(e){this.emitInputStateChangeEvent(e.getAfter().resource)},e.prototype.onTextFileSaveError=function(e){this.emitInputStateChangeEvent(e.getAfter().resource),this.updateActivityBadge()},e.prototype.onTextFileSaved=function(e){this.emitInputStateChangeEvent(e.getAfter().resource),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onTextFileReverted=function(e){this.emitInputStateChangeEvent(e.getAfter().resource),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onUntitledEditorDirty=function(e){var t=this.untitledEditorService.get(e.resource);t&&this.eventService.emit(g.EventType.EDITOR_INPUT_STATE_CHANGED,new g.EditorInputEvent(t)),this.updateActivityBadge()},e.prototype.onUntitledEditorDeleted=function(e){var t=this.untitledEditorService.get(e.resource);t&&this.eventService.emit(g.EventType.EDITOR_INPUT_STATE_CHANGED,new g.EditorInputEvent(t)),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,e>0?this.activityService.showActivity(h.VIEWLET_ID,new n.NumberBadge(e,function(){return o.localize("vs_workbench_contrib_files_fileTracker",0)}),"explorer-viewlet-label"):this.activityService.clearActivity(h.VIEWLET_ID)},e.prototype.emitInputStateChangeEvent=function(e){var t=this,n=this.editorService.getVisibleEditors();n.forEach(function(n){var r=n.input;if(r instanceof u.DiffEditorInput&&(r=r.getModifiedInput()),r instanceof m.FileEditorInput){var i=r;i.getResource().toString()===e.toString()&&t.eventService.emit(g.EventType.EDITOR_INPUT_STATE_CHANGED,new g.EditorInputEvent(i))}})},e.prototype.onLocalFileChange=function(e){if(e.gotMoved()){var t=e.getBefore(),n=e.getAfter();this.handleMovedFileInVisibleEditors(t?t.resource:null,n?n.resource:null,n?n.mime:null)}var r=e.getBefore();(e.gotMoved()||e.gotDeleted())&&this.disposeAll(r.resource,this.quickOpenService.getEditorHistory())},e.prototype.onFileChanges=function(t){var n=this,o=t.getDeleted();o&&o.length>0&&o.forEach(function(e){n.disposeAll(e.resource,n.quickOpenService.getEditorHistory())});var s=this.editorService.getVisibleEditors();s.forEach(function(o){var s=o.input;if(s instanceof u.DiffEditorInput&&(s=n.getMatchingFileEditorInputFromDiff(s,t)),s instanceof m.FileEditorInput){var a=s;if(t.contains(a.getResource(),r.Files.FileChangeType.UPDATED)){var l=v.CACHE.get(a.getResource());if(l instanceof v.TextFileEditorModel){var c=l,h=c.getState();if(h===v.State.SAVED){var g=c.getLastDirtyTime();if((new Date).getTime()-g>e.FILE_CHANGE_UPDATE_DELAY){var b=o.getControl(),y=b.saveViewState();l.load().done(function(){n.isEditorShowingPath(o,c.getResource())&&b.restoreViewState(y)},i.onUnexpectedError)}}}else if(l instanceof p.BinaryResourceEditorModel){var _=new d.EditorOptions;_.forceOpen=!0,_.preserveFocus=!0,n.editorService.openEditor(o.input,_,o.position).done(null,i.onUnexpectedError)}}}else if(s instanceof f.DerivedFrameEditorInput){var w=s;t.contains(w.getResource(),r.Files.FileChangeType.UPDATED)&&o.reload()}}),t.getUpdated().map(function(e){return v.CACHE.get(e.resource)}).filter(function(e){return e instanceof v.TextFileEditorModel&&n.canDispose(e)}).forEach(function(e){return v.CACHE.dispose(e.getResource())})},e.prototype.isEditorShowingPath=function(e,t){if(!e.isVisible())return!1;var n=e.getInput();return n?(n instanceof u.DiffEditorInput&&(n=n.getModifiedInput()),n instanceof m.FileEditorInput&&n.getResource().toString()===t.toString()):!1},e.prototype.handleMovedFileInVisibleEditors=function(e,t,n){var r=this,o=this.editorService.getVisibleEditors();o.forEach(function(o){var s=o.input;s instanceof u.DiffEditorInput&&(s=s.getModifiedInput());var p;if(s instanceof m.FileEditorInput?p=s.getResource():s instanceof f.DerivedFrameEditorInput&&(p=s.getResource()),p){var h=!1;if(c.isEqualOrParent(p.path,e.path)&&(h=!0),h){var v;if(e.toString()===p.toString())v=t;else{var g=p.path.indexOf(e.path);v=l.file(t.path+c.sep+p.path.substr(g+e.path.length+1))}var b,y=new d.EditorOptions;if(y.preserveFocus=!0,s instanceof m.FileEditorInput)b=r.instantiationService.createInstance(m.FileEditorInput,v,n||a.MIME_UNKNOWN);else if(s instanceof f.DerivedFrameEditorInput){var _=s;b=_.createNew(v)}b&&r.editorService.openEditor(b,y,o.position).done(null,i.onUnexpectedError)}}})},e.prototype.getMatchingFileEditorInputFromDiff=function(e,t){var n=e.getModifiedInput(),r=this.getMatchingFileEditorInputFromInput(n,t);if(r)return r;var i=e.getOriginalInput();return this.getMatchingFileEditorInputFromInput(i,t)},e.prototype.getMatchingFileEditorInputFromInput=function(e,t){if(e instanceof m.FileEditorInput)if(l.isURI(t)){var n=t;if(this.containsResource(e,n))return e}else{var i=t;if(i.contains(e.getResource(),r.Files.FileChangeType.UPDATED))return e}return null},e.prototype.disposeAll=function(e,t){var n=this;if(!this.textFileService.isDirty(e)){for(var r=m.FileEditorInput.getAll(e),i=0;i<t.length;i++){var o=t[i];o instanceof m.FileEditorInput&&this.containsResource(o,e)?r.push(o):o instanceof f.DerivedFrameEditorInput&&this.containsResource(o,e)&&r.push(o)}var s=this.editorService.getVisibleEditors();s.forEach(function(t){var i=t.input;i instanceof u.DiffEditorInput?(i=n.getMatchingFileEditorInputFromDiff(i,e),i instanceof m.FileEditorInput&&r.push(i)):i instanceof m.FileEditorInput&&n.containsResource(i,e)?r.push(i):i instanceof f.DerivedFrameEditorInput&&n.containsResource(i,e)&&r.push(i)}),r.forEach(function(e){if(!e.isDisposed())if(e instanceof m.FileEditorInput){var t=e;t.dispose(!0)}else e.dispose()})}},e.prototype.containsResource=function(e,t){var n;return n=e instanceof m.FileEditorInput?e.getResource():e.getResource(),c.isEqualOrParent(n.path,t.path)?!0:!1},e.prototype.installPurgeInterval=function(){var t=this;this.purgeIntervalHandle=setInterval(function(){var e=t.textFileService.getWorkingFilesModel();v.CACHE.getAll().filter(function(n){return n instanceof v.TextFileEditorModel&&!e.hasEntry(n.getResource())&&t.canDispose(n)}).forEach(function(e){return v.CACHE.dispose(e.getResource())})},e.TEXT_FILE_MODEL_PURGE_INTERVAL)},e.prototype.canDispose=function(t){return t.textEditorModel&&t.textEditorModel.isAttachedToEditor()?!1:t.getState()!==v.State.SAVED?!1:(new Date).getTime()-t.getLastDirtyTime()<e.FILE_CHANGE_UPDATE_DELAY?!1:!0},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){for(clearInterval(this.purgeIntervalHandle);this.toUnbind.length;)this.toUnbind.pop()()},e.FILE_CHANGE_UPDATE_DELAY=s.isNative?2e3:1e4,e.TEXT_FILE_MODEL_PURGE_INTERVAL=3e5,e}();t.FileTracker=b});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/textFileEditor",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/services","vs/base/errors","vs/base/mime","vs/base/severity","vs/base/ui/labels","vs/base/types","vs/base/ui/actions","vs/workbench/contrib/files/files","vs/workbench/contrib/files/saveErrorHandler","vs/workbench/ui/parts/editor/textEditor","vs/workbench/contrib/files/editors/textFileEditorModel","vs/workbench/ui/parts/editor/resourceEditorModel","vs/workbench/contrib/files/editors/fileEditorInput"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r),this.fileService=n.fileService,this.textFileService=n.textFileService,this.viewletService=n.viewletService,this.quickopenService=n.quickOpenService,m.TextFileEditorModel.setSaveErrorHandler(n.instantiationService.createInstance(p.SaveErrorHandler))}return __extends(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():r.localize("vs_workbench_contrib_files_editors_textFileEditor",0)},t.prototype.setInput=function(t,a){var l=this,d=this.getInput();e.prototype.setInput.call(this,t,a);var p=a&&a.forceOpen;return!p&&t.matches(d)?(a&&c.isFunction(a.apply)&&a.apply(this.getControl()),n.TPromise.as(null)):(d&&this.saveTextEditorViewState(this.storageService,d.getResource().toString()).done(null,o.onUnexpectedError),this.editorService.resolveEditorModel(t,!0).then(function(e){if(e instanceof f.BinaryResourceEditorModel&&l.openAsBinary(t,a))return null;if(!(e instanceof m.TextFileEditorModel))return n.TPromise.wrapError("Invalid editor input. Text file editor requires a model instance of TextFileEditorModel.");var r=e,i=l.getControl();if(!l.getInput()||l.getInput().getResource().toString()!==r.getResource().toString())return null;var s=l.telemetryService.start("editorSetModel",{mode:r.textEditorModel.getMode().getId(),resource:r.textEditorModel.getAssociatedResource().toString()});i.setModel(r.textEditorModel),s.stop();var u=!1;a&&c.isFunction(a.apply)&&(u=a.apply(i)),u||l.loadTextEditorViewState(l.storageService,l.getInput().getResource().toString()).done(function(e){e&&i.restoreViewState(e)},o.onUnexpectedError),l.contextService.toWorkspaceRelativePath(r.getResource())||l.textFileService.getWorkingFilesModel().addEntry(r.getResource())},function(e){return e.fileOperationResult===i.Files.FileOperationResult.FILE_IS_BINARY&&l.openAsBinary(t,a)||e.fileOperationResult===i.Files.FileOperationResult.FILE_IS_DIRECTORY&&l.openAsFolder(t)?void 0:e.fileOperationResult===i.Files.FileOperationResult.FILE_NOT_FOUND?n.Promise.wrapError(o.error(o.toErrorMessage(e),[new u.Action("close.message",r.localize("vs_workbench_contrib_files_editors_textFileEditor",1),null,!0,function(){return n.Promise.as(!0)}),new u.Action("workbench.files.action.createMissingFile",r.localize("vs_workbench_contrib_files_editors_textFileEditor",2),null,!0,function(){return l.fileService.updateContent({resource:t.getResource(),value:""}).then(function(){return l.textFileService.getWorkingFilesModel().addEntry(t.getResource()),l.editorService.openEditor({resource:t.getResource(),mime:s.MIME_TEXT})})})])):n.Promise.wrapError(e)}))},t.prototype.openAsBinary=function(e,t){if(e instanceof v.FileEditorInput){var n=e,r=this.instantiationService.createInstance(v.FileEditorInput,n.getResource(),s.MIME_BINARY);return this.editorService.openEditor(r,t,this.position).done(null,o.onUnexpectedError),!0}return!1},t.prototype.openAsFolder=function(e){var t,n=this,i=this.quickopenService.getEditorHistory()[1];return t=i?this.editorService.openEditor(i,null,this.position):this.editorService.closeEditor(this),t.done(function(){if(e instanceof v.FileEditorInput){var t=e,i=n.contextService.toWorkspaceRelativePath(t.getResource());i?n.viewletService.openViewlet(d.VIEWLET_ID,!0).done(function(e){return e.getExplorerView().select(i,!0)},o.onUnexpectedError):n.messageService.show(a.Info,r.localize("vs_workbench_contrib_files_editors_textFileEditor",3,l.getPathLabel(t.getResource())))}},o.onUnexpectedError),!0},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.clearInput=function(){this.input&&this.saveTextEditorViewState(this.storageService,this.input.getResource().toString()).done(null,o.onUnexpectedError),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.beforeShutdown=function(){return this.input&&this.saveTextEditorViewState(this.storageService,this.input.getResource().toString()).done(null,o.onUnexpectedError),e.prototype.beforeShutdown.call(this)},t.ID=d.TEXT_FILE_EDITOR_ID,t}(h.BaseTextEditor);t.TextFileEditor=g}),define("vs/css!vs/workbench/ui/parts/editor/media/binaryeditor",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/binaryEditor",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/ui/widgets/resourceViewer","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/resourceEditorModel","vs/css!./media/binaryeditor"],function(e,t,n,r,i,o,s,a){var l=i.$,c=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r),this._editorService=n.editorService}return __extends(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize("vs_workbench_ui_parts_editor_binaryEditor",0)},Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.create=function(t){e.prototype.create.call(this,t);var n=document.createElement("div");return n.className="binary-container",this.binaryContainer=l(n),this.binaryContainer.tabindex(0),t.getHTMLElement().appendChild(this.binaryContainer.getHTMLElement()),r.Promise.as(null)},t.prototype.setInput=function(t,n){var i=this,s=this.getInput();e.prototype.setInput.call(this,t,n);var l=n&&n.forceOpen;return!l&&t.matches(s)?r.TPromise.as(null):this._editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof a.BinaryResourceEditorModel))return r.TPromise.wrapError("Invalid editor input. Binary resource editor requires a model instance of BinaryResourceEditorModel.");if(!i.getInput()||i.getInput()!==t)return null;var n=e;return o.ResourceViewer.show(n.getName(),n.getUrl(),n.getMime(),i.binaryContainer),r.TPromise.as(null)})},t.prototype.clearInput=function(){l(this.binaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.binaryContainer.size(t.width,t.height)},t.prototype.focus=function(){this.binaryContainer.domFocus()},t.prototype.dispose=function(){this.binaryContainer.destroy(),e.prototype.dispose.call(this)},t.ID="workbench.editors.binaryResourceEditor",t}(s.BaseEditor);t.BinaryResourceEditor=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/editors/binaryFileEditor",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/workbench/ui/parts/editor/binaryEditor","vs/workbench/contrib/files/files"],function(e,t,n,r,i){var o=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r)}return __extends(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize("vs_workbench_contrib_files_editors_binaryFileEditor",0)},t.prototype.supportsSplitEditor=function(){return!0},t.ID=i.BINARY_FILE_EDITOR_ID,t}(r.BinaryResourceEditor);t.BinaryFileEditor=o}),define("vs/css!vs/workbench/contrib/files/media/files.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/files.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/platform/services","vs/base/strings","vs/base/paths","vs/base/uri","vs/workbench/ui/parts/viewlet","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/core/extensions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/files/textFileServices","vs/workbench/contrib/files/textFileSearchService","vs/workbench/contrib/files/files","vs/workbench/contrib/files/fileTracker","vs/workbench/contrib/files/editors/fileEditorInput","vs/workbench/contrib/files/editors/htmlFrameEditorInput","vs/workbench/constants","vs/workbench/contrib/files/editors/textFileEditor","vs/workbench/contrib/files/editors/binaryFileEditor","vs/css!./media/files.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E){var S=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,v.VIEWLET_ID)}return __extends(t,e),t.ID=v.VIEWLET_ID,t.LABEL=c.localize("vs_workbench_contrib_files_files.contribution",0),t}(l.ToggleViewletAction);t.OpenExplorerViewletAction=S,r.Registry.as(l.Extensions.Viewlets).registerViewlet(new l.ViewletDescriptor("vs/workbench/contrib/files/explorerViewlet","ExplorerViewlet",v.VIEWLET_ID,c.localize("vs_workbench_contrib_files_files.contribution",1),"explore",0)),r.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new u.SyncActionDescriptor(S,S.ID,S.LABEL,{ctrlCmd:n.isNative||!n.isMacintosh,winCtrl:!n.isNative&&n.isMacintosh,shift:!0,key:"E"}),c.localize("vs_workbench_contrib_files_files.contribution",2)),r.Registry.as(h.Extensions.Editors).registerEditor(new v.FileEditorDescriptor(w.TextFileEditor.ID,c.localize("vs_workbench_contrib_files_files.contribution",3),"vs/workbench/contrib/files/editors/textFileEditor","TextFileEditor",["text/*","application/unknown"]),[new i.SyncDescriptor(b.FileEditorInput)]),r.Registry.as(h.Extensions.Editors).registerEditor(new v.FileEditorDescriptor(E.BinaryFileEditor.ID,c.localize("vs_workbench_contrib_files_files.contribution",4),"vs/workbench/contrib/files/editors/binaryFileEditor","BinaryFileEditor",["image/*","application/pdf","audio/*","video/*","application/octet-stream"]),[new i.SyncDescriptor(b.FileEditorInput)]),n.isNative||r.Registry.as(p.Extensions.Services).registerService(new p.WorkbenchServiceDescriptor(m.TextFileService,v.TEXT_FILE_SERVICE_ID)),r.Registry.as(p.Extensions.Services).registerService(new p.WorkbenchServiceDescriptor(f.TextFileSearchService,v.TEXT_FILE_SEARCH_SERVICE_ID,[v.TEXT_FILE_SERVICE_ID]));var T=new i.AsyncDescriptor("vs/workbench/contrib/files/editors/fileEditorInput","FileEditorInput");r.Registry.as(h.Extensions.Editors).registerDefaultFileInput(T);var k=function(){function e(){}return e.prototype.serialize=function(e){var t=e,n={resource:t.getResource().toString(),mime:t.getMime()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){var n=JSON.parse(t);return e.createInstance(b.FileEditorInput,a.parse(n.resource),n.mime)},e}();r.Registry.as(h.Extensions.Editors).registerEditorInputFactory(v.FILE_EDITOR_INPUT_ID,k);var C=function(){function e(e){this.contextService=e.contextService}return e.prototype.serialize=function(e){var t=e,n=this.contextService.toWorkspaceRelativePath(t.getResource());return n?o.ltrim(n,_.SLASH):t.getResource().toString()},e.prototype.deserialize=function(e,t){var n=a.parse(t);return n.scheme||(n=this.contextService.toResource(s.makeAbsolute(t))),e.createInstance(y.HTMLFrameEditorInput,n)},e}();r.Registry.as(h.Extensions.Editors).registerEditorInputFactory(y.HTMLFrameEditorInput.ID,C),r.Registry.as(p.Extensions.Workbench).registerWorkbenchExtension(g.FileTracker)}),define("vs/css!vs/workbench/contrib/search/media/search.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/search/search.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/platform/services","vs/workbench/ui/parts/viewlet","vs/platform/configuration/configurationRegistry","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/workbench/contrib/files/files","vs/platform/actionRegistry","vs/base/ui/widgets/actionbar","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/quickopen/quickOpen","vs/platform/configuration/keybindings","vs/css!./media/search.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){t.VIEWLET_ID="workbench.view.search",f.registerCommand("workbench.action.search.toggleQueryDetails",function(e){var n=e.viewletService;n.openViewlet(t.VIEWLET_ID,!0).then(function(e){return e.toggleFileTypes()})},{ctrlCmd:!0,shift:!0,key:"J"},f.WEIGHT.workbenchContrib(),[{key:"searchViewletVisible"}]);var v=function(e){function n(r){e.call(this,r,n.ID,n.LABEL,t.VIEWLET_ID)}return __extends(n,e),n.ID=t.VIEWLET_ID,n.LABEL=a.localize("vs_workbench_contrib_search_search.contribution",0),n}(o.ToggleViewletAction),g=function(e){function t(t){e.call(this),this._instantiationService=t.instantiationService,this._contextService=t.contextService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=c.asFileResource(t);return n?n.isDirectory&&!l.endsWith(n.resource.path,"/.git"):!1},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=c.asFileResource(e.element),r=new u.DeferredAction(this._instantiationService,new i.AsyncDescriptor("vs/workbench/contrib/search/searchViewlet","FindInFolderAction",n.resource),"workbench.search.action.findInFolder",a.localize("vs_workbench_contrib_search_search.contribution",1));r.order=55,t.push(r),t.push(new d.Separator("",56))}return t},t}(p.ActionBarContributor),b="workbench.action.showAllSymbols",y=a.localize("vs_workbench_contrib_search_search.contribution",2),_="#",w=function(e){function t(t){e.call(this,t,b,y,_)}return __extends(t,e),t}(m.QuickOpenAction);if(n.enableSearch){r.Registry.as(o.Extensions.Viewlets).registerViewlet(new o.ViewletDescriptor("vs/workbench/contrib/search/searchViewlet","SearchViewlet",t.VIEWLET_ID,a.localize("vs_workbench_contrib_search_search.contribution",3),"search",10)),r.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new u.SyncActionDescriptor(v,v.ID,v.LABEL,{ctrlCmd:n.isNative||!n.isMacintosh,winCtrl:!n.isNative&&n.isMacintosh,shift:!0,key:"F"}),a.localize("vs_workbench_contrib_search_search.contribution",4));var E=r.Registry.as(p.Extensions.Actionbar);E.registerActionBarContributor(p.Scope.VIEWER,g),r.Registry.as(m.Extensions.Quickopen).registerDefaultQuickOpenHandler(new m.QuickOpenHandlerDescriptor("vs/workbench/contrib/search/openAnythingHandler","OpenAnythingHandler","",n.isMacintosh?a.localize("vs_workbench_contrib_search_search.contribution",5):a.localize("vs_workbench_contrib_search_search.contribution",6)));var S=r.Registry.as(s.Extensions.Configuration);S.registerConfiguration({id:"search",order:10,title:a.localize("vs_workbench_contrib_search_search.contribution",7),type:"object",properties:{"search.excludeFolders":{type:"array",default:[".git","node_modules","bower_components"],description:a.localize("vs_workbench_contrib_search_search.contribution",8),items:{type:"string"}}}});var T=r.Registry.as(h.Extensions.WorkbenchActions);T.registerWorkbenchAction(new u.SyncActionDescriptor(w,b,y,{ctrlCmd:!0,key:"T"})),r.Registry.as(m.Extensions.Quickopen).registerQuickOpenHandler(new m.QuickOpenHandlerDescriptor("vs/workbench/contrib/search/openAnythingHandler","OpenSymbolHandler",_,[{prefix:_,needsEditor:!1,description:n.isMacintosh?a.localize("vs_workbench_contrib_search_search.contribution",9):a.localize("vs_workbench_contrib_search_search.contribution",10)}]))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/logEditorInput",["require","exports","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/ui/parts/editor/textEditor"],function(e,t,n,r){var i=function(e){function t(t,n,r,i,o,s){e.call(this,n,r,i,o,s),this.editorService=t.editorService}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.prototype.append=function(t){e.prototype.append.call(this,t),this.revealLastLine()},t.prototype.trim=function(t){var n=e.prototype.trim.call(this,t);return null!==n&&this.revealLastLine(),n},t.prototype.revealLastLine=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(n.input===this&&n instanceof r.BaseTextEditor){var i=n,o=i.getControl();if(o){var s=o.getModel();if(s){var a=s.getLineCount();o.revealLine(a)}}}}},t.ID="workbench.editors.logEditorInput",t}(n.StringEditorInput);t.LogEditorInput=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/build/buildEvents",["require","exports","vs/base/ui/events"],function(e,t,n){t.EventType={BUILD_STARTED:"buildStarted",BUILD_FINISHED:"buildFinished"};var r=function(e){function t(t,n){e.call(this,n),this.buildState=t}return __extends(t,e),t.prototype.buildWasSuccessful=function(){return"success"===this.buildState},t}(n.Event);t.BuildEvent=r}),define("vs/workbench/contrib/build/buildConstants",["require","exports"],function(e,t){t.BUILD_LOG_MIME="text/x-monaco-buildlog",t.BUILD_LOG_MODE_ID="buildlog"});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/build/build",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/workbench/ui/parts/editor/logEditorInput","vs/workbench/contrib/build/buildEvents","vs/workbench/contrib/build/buildConstants"],function(e,t,n,r,i,o){t.BUILD_LOG_EDITOR_INPUT_ID="vs.buildlog",t.VIEWLET_ID="workbench.view.build",t.EventType=i.EventType,t.BUILD_SERVICE_ID="buildWorkspaceService";var s=function(e){function r(t){var r=this;e.call(this,t,n.localize("vs_workbench_contrib_build_build",0),null,"",o.BUILD_LOG_MIME,!0),this.toUnbind=[],this.buildWorkspaceService=t.buildWorkspaceService,this.toUnbind.push(this.buildWorkspaceService.addListener("triggered",function(){return r.onBuildTriggered()})),this.toUnbind.push(this.buildWorkspaceService.addListener("progress",function(e){return r.onBuildProgress(e)}));var i=this.buildWorkspaceService.getBuildOutput();i||(i=n.localize("vs_workbench_contrib_build_build",1)),this.setValue(i)}return __extends(r,e),r.getInstance=function(e){return r.instance?r.instance:(r.instance=e.createInstance(r),r.instance)},r.prototype.getId=function(){return t.BUILD_LOG_EDITOR_INPUT_ID},r.prototype.onBuildTriggered=function(){this.clearValue()},r.prototype.onBuildProgress=function(e){this.append(e)},r.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();e.prototype.dispose.call(this)},r}(r.LogEditorInput);t.BuildLogEditorInput=s}),define("vs/workbench/contrib/build/buildServices",["require","exports","vs/base/lib/winjs.base"],function(e,t,n){var r=function(){function e(e){this.channelPromise=null,this.openRequests={},this.logBuffers={},this.requestService=e}return e.prototype.cancelBuild=function(){return this.sendRequest({command:"kill"})},e.prototype.triggerBuild=function(e){return this.sendRequest({command:"start",filter:e||null})},e.prototype.sendRequest=function(t){var r=this,i=e.requestId.toString();e.requestId++,t.requestId=i;var o=new n.Promise(function(e,n,o){null===r.channelPromise&&(r.channelPromise=r.openBuildChannel()),r.channelPromise.then(function(s){r.openRequests[i]={c:e,e:n,p:o},s.emit(t)},n).done(null,n)},function(){});return o},e.prototype.openBuildChannel=function(){var e=this;return this.channelPromise=this.requestService.establishPrivateChannel("build",{}),this.channelPromise.then(function(t){return t.addListener("close",function(){Object.keys(e.openRequests).forEach(function(t){e.openRequests[t].e(new Error("Build: connection to server lost, build process terminated unexpectedly."))}),e.channelPromise=null}),t.addListener("server",function(t){var n=t.requestId,r=e.openRequests[n];if(t.logOutput){var i=e.logBuffers[n];i||(i=[],e.logBuffers[n]=i),i.push(t.logOutput),r.p(t.logOutput)}else if(t.buildOutput){var i=e.logBuffers[n];i&&(t.buildOutput.output=i.join("")),r.c(t.buildOutput),delete e.logBuffers[n],delete e.openRequests[n]}else t.killOutput?(r.c(t.killOutput),delete e.openRequests[n]):t.error&&(r.e(t.error),delete e.openRequests[n])}),t})},e.requestId=0,e}();t.BuildServices=r}),define("vs/workbench/contrib/build/buildModel",["require","exports","vs/base/strings","vs/base/assert"],function(e,t,n,r){var i=function(){function e(e,t,n,r,i){this.file=e,this.message=t,this.line=n,this.col=r,this.id=i}return e.prototype.parent=function(){return this.file},e.prototype.errorMessage=function(){return this.message},e.prototype.lineNumber=function(){return this.line},e.prototype.column=function(){return this.col},e.prototype.getId=function(){return n.format("{0}:{1}",this.file.path(),this.id)},e}();t.BuildError=i;var o=function(){function e(e,t){this.result=e,this.filePath=t,this.id=0,this.buildErrors=[]}return e.prototype.parent=function(){return this.result},e.prototype.addError=function(e,t,n){this.buildErrors.push(new i(this,e,t,n,this.id++))},e.prototype.removeAll=function(){this.buildErrors=[]},e.prototype.addErrors=function(e){var t=this;e.forEach(function(e){t.addError(e.errorMessage(),e.lineNumber(),e.column())})},e.prototype.errors=function(){return this.buildErrors},e.prototype.errorCount=function(){return this.buildErrors.length},e.prototype.sortbyLineAndColumn=function(){function e(e,t){return e.lineNumber()===t.lineNumber()?e.column()-t.column():e.lineNumber()-t.lineNumber()}this.buildErrors.sort(e)},e.prototype.path=function(){return this.filePath},e.prototype.getId=function(){return this.path()},e.prototype.name=function(){var e=this.filePath.lastIndexOf("/");return this.filePath.substring(e+1)},e.prototype.directory=function(){var e="/"===this.filePath.charAt(0),t=this.filePath.lastIndexOf("/");return-1!==t?(e?"":"/")+this.filePath.substring(0,t):""},e.prototype.toObject=function(){var e=[];return this.buildErrors.forEach(function(t){e.push({message:t.errorMessage(),line:t.lineNumber(),column:t.column()})}),e},e.prototype.fromObject=function(e){var t=this;e.errors.forEach(function(e){t.addError(e.message,e.line,e.column)})},e}();t.FileWithErrors=o;var s=function(){function e(e,t,n){this.type=e,this.output=t,this.path=n,this.errors=0,this.files=[],this.digest()}return e.prototype.merge=function(e){var t,n=this,r=this.createFilesWithErrorsMap(this),i=this.createFilesWithErrorsMap(e),o=[],s=[],a=[];for(t in r)r.hasOwnProperty(t)&&(i[t]?a.push(i[t]):s.push(r[t]));for(t in i)i.hasOwnProperty(t)&&(r[t]||o.push(i[t]));a.forEach(function(e){n.replaceFile(e)}),o.forEach(function(e){n.addFile(e)}),s.forEach(function(e){n.removeFile(e)}),this.sortErrors()},e.prototype.addFile=function(e){var t=new o(this,e.path());t.addErrors(e.errors()),this.add(t),this.errors+=t.errorCount()},e.prototype.replaceFile=function(e){var t=this.indexOfFile(e);r.ok(t>=0,"file with errors not found");var n=this.files[t];this.errors-=n.errorCount(),n.removeAll(),n.addErrors(e.errors()),this.errors+=e.errorCount()},e.prototype.removeFile=function(e){this.remove(e)},e.prototype.indexOfFile=function(e){for(var t=0;t<this.files.length;t++){var n=this.files[t];if(e.path()===n.path())return t}return-1},e.prototype.createFilesWithErrorsMap=function(e){var t={};return e.filesWithErrors().forEach(function(e){t[e.path()]=e}),t},e.prototype.errorCount=function(){return this.errors},e.prototype.filesWithErrors=function(){return this.files},e.prototype.buildType=function(){return this.type},e.prototype.workspacePath=function(){return this.path},e.prototype.toObject=function(){var e=[];this.files.forEach(function(t){e.push({file:t.path(),errors:t.toObject()})});var t={buildType:this.type,workspacePath:this.path,filesWithErrors:e};return t},e.prototype.fromObject=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=new o(this,n.file);
this.files.push(r),r.fromObject(n),this.errors+=n.errors.length}this.sortErrors()},e.prototype.digest=function(){if(this.type.errorPattern){for(var e=this.output.split("\n"),t={},n=0;n<e.length;n++){var r=e[n],i=this.type.errorPattern,s=new RegExp(i.pattern,"gi"),a=s.exec(r);if(a&&a.length===i.matches){var l=a[i.file].replace(/\\/g,"/").replace(/\s*$/,"");l=this.makeFileNameWorkspaceRelative(l,this.path);var c=parseInt(a[i.line],10),u=parseInt(a[i.column],10);i.columnZeroBased&&u++;var d=a[i.message],p=t[l];p||(p=new o(this,l),t[l]=p,this.add(p)),p.addError(d,c,u),this.errors++}}this.sortErrors()}},e.prototype.getId=function(){return"/"},e.prototype.add=function(e){this.files.push(e)},e.prototype.remove=function(e){var t=this.indexOfFile(e);this.files.splice(t,1),this.errors-=e.errorCount()},e.prototype.sortErrors=function(){this.files.forEach(function(e){e.sortbyLineAndColumn()})},e.prototype.makeFileNameWorkspaceRelative=function(e,t){var n=t.replace(/\\/g,"/");return 0===e.toUpperCase().indexOf(n.toUpperCase())?e.slice(n.length+1):e},e.fromObject=function(t){var n=t,r=new e(n.buildType,"",n.workspacePath);return r.fromObject(n.filesWithErrors),r},e}();t.BuildResult=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/build/buildWorkspaceService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/editor/core/constants","vs/base/strings","vs/base/errors","vs/base/async","vs/workbench/core/memento","vs/base/eventEmitter","vs/workbench/events","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/contrib/files/files","vs/workbench/contrib/build/buildServices","vs/workbench/contrib/build/buildEvents","vs/workbench/contrib/build/buildModel"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){t.Status={NOT_RUN:"notrun",IN_PROGRESS:"inprogress",FAILED:"failed",REQUEST_FAILED:"requestfailed",NO_BUILD_CONFIG:"nobuildconfig",SUCCESS:"success"};var v=function(e){function c(t){var n=this;e.call(this),this.editorService=t.editorService,this.requestService=t.requestService,this.buildServices=new h.BuildServices(this.requestService),this.fileService=t.fileService,this.textFileService=t.textFileService,this.eventService=t.eventService,this.storageService=t.storageService,this.toUnbind=[],this.oldErrorCount=null,this.memento=new l.Memento(c.ID),this.delayer=new a.ThrottledDelayer(c.BUILD_WAIT_INTERVAL),this.restoreBuildState(this.storageService),this.toUnbind.push(this.eventService.addListener("files:internalFileChanged",function(e){return n.onFileChanged(e)})),this.toUnbind.push(this.eventService.addListener(u.EventType.EDITOR_INPUT_CHANGED,function(e){return n.onEditorInputChanged(e)})),this.toUnbind.push(this.eventService.addListener(p.EventType.FILE_DIRTY,function(e){return n.onFileDirty(e)}))}return __extends(c,e),c.prototype.requestBuild=function(){var e=this;return this.buildState===t.Status.IN_PROGRESS?this.buildServices.cancelBuild().then(function(){e.saveThenBuild().done(null,s.onUnexpectedError)}):this.saveThenBuild().done(null,s.onUnexpectedError),r.Promise.as(!0)},c.prototype.getBuildState=function(){return this.buildState},c.prototype.getBuildError=function(){return this.buildError},Object.defineProperty(c.prototype,"buildResult",{get:function(){return this._buildResult},set:function(e){this._buildResult=e,this.emit("changedBuildResult")},enumerable:!0,configurable:!0}),c.prototype.isBuildSuccess=function(){return 0===this.errorCount&&0===this.buildExitCode},c.prototype.getErrorCount=function(){return this.errorCount},c.prototype.getBuildOutput=function(){return this.buildOutput},c.prototype.getBuildType=function(){return this.buildType},c.prototype.onEditorInputChanged=function(e){var t=this,n=this.isTypeScriptEditorEvent(e),r=this.editorService.getActiveEditor();if(r){var o=r.getControl();o&&o.addListener&&(this.cursorPositionListener&&this.cursorPositionListener.dispose(),n&&(this.cursorPositionListener=o.addListener2(i.EventType.CursorPositionChanged,function(e){return t.onCursorPositionChanged(e)}))),this.delayer.isTriggered()&&n&&this.eventuallyBuild()}},c.prototype.onFileDirty=function(e){this.delayer.isTriggered()&&this.isTypeScriptFile(e.getAfter().path)&&this.eventuallyBuild()},c.prototype.onCursorPositionChanged=function(e){this.delayer.isTriggered()&&"explicit"===e.reason&&this.eventuallyBuild()},c.prototype.onFileChanged=function(e){if(this.isTypeScriptLocalFileChangeEvent(e))if(e.gotAdded()||e.gotUpdated()){var t=e.getBefore();this.eventuallyBuild(t?t.path:null)}else(e.gotMoved()||e.gotDeleted())&&(this.handleOrphanedDerivedResource(e),this.eventuallyBuild(null))},c.prototype.isTypeScriptEditorEvent=function(e){return this.isTypeScriptEditorInput(e.editorInput)?!0:e.editorInput instanceof d.DiffEditorInput?this.isTypeScriptEditorInput(e.editorInput.getOriginalInput())||this.isTypeScriptEditorInput(e.editorInput.getModifiedInput()):!1},c.prototype.isTypeScriptEditorInput=function(e){return e instanceof p.FileEditorInput&&this.isTypeScriptFile(e.getResource().path)},c.prototype.isTypeScriptLocalFileChangeEvent=function(e){var t=!1,n=e.getBefore(),r=e.getAfter();return r&&r.path&&(t=this.isTypeScriptFile(r.path)),!t&&n&&n.path&&(t=this.isTypeScriptFile(n.path)),t},c.prototype.isTypeScriptFile=function(e){return o.endsWith(e,".ts")||o.endsWith(e,"monaco.build.json")||o.endsWith(e,"manifest.json")},c.prototype.handleOrphanedDerivedResource=function(e){var t=this,n=e.getBefore(),r=e.getAfter(),i=n.path.substring(0,n.path.lastIndexOf("."))+".js";r&&r.path===i||this.fileService.resolveFileStat(i).then(function(n){if(n){if(e.gotMoved()){var i=r.path.substring(0,r.path.lastIndexOf("."))+".js";return t.fileService.moveFile(n,i).then(function(e){var r=new p.LocalFileChangeEvent(n,e);t.eventService.emit("files:internalFileChanged",r)})}return t.fileService.deleteFile(n).then(function(e){if(n.path===e.path){var r=new p.LocalFileChangeEvent(n,null);t.eventService.emit("files:internalFileChanged",r)}})}}).done(null,function(e){s.onUnexpectedError(e)})},c.prototype.saveThenBuild=function(){var e=this;return this.textFileService.saveAll().then(function(){return e.eventService.emit(m.EventType.BUILD_STARTED,new m.BuildEvent(e.buildState)),e.buildError=null,e.transitionTo(t.Status.IN_PROGRESS),e.doRunBuild(null)}).then(null,function(n){e.transitionTo(t.Status.FAILED),e.emit("error",n)})},c.prototype.transitionTo=function(e){this.buildState=e,this.emit("changedState",this.buildState)},c.prototype.eventuallyBuild=function(e){var t=this;void 0===e&&(e=null),null!==e&&(void 0===this.lastKnownModifiedFilePath?this.lastKnownModifiedFilePath=e:this.lastKnownModifiedFilePath!==e&&(this.lastKnownModifiedFilePath=null)),this.delayer.trigger(function(){return t.createBuildPromise()})},c.prototype.createBuildPromise=function(){this.eventService.emit(m.EventType.BUILD_STARTED,new m.BuildEvent(this.buildState)),this.buildError=null,this.transitionTo(t.Status.IN_PROGRESS);var e=this.doRunBuild(this.lastKnownModifiedFilePath);return this.lastKnownModifiedFilePath=void 0,e},c.prototype.doRunBuild=function(e){var r=this;return this.oldErrorCount=this.errorCount,this.buildOutput="",this.emit("triggered"),this.buildServices.triggerBuild(e).then(function(e){var i=e.output;if(r.buildType=e.type,r.buildExitCode=e.code,!e.killed){if("nullBuildType"===r.buildType.name)r.buildError=n.localize("vs_workbench_contrib_build_buildWorkspaceService",0),r.buildResult=null,r.errorCount=0,r.transitionTo(t.Status.NO_BUILD_CONFIG);else{var o=new f.BuildResult(r.buildType,i,e.workspaceRoot);r.buildResult?r.buildResult.merge(o):r.buildResult=o,r.errorCount=r.buildResult.errorCount(),r.isBuildSuccess()?r.transitionTo(t.Status.SUCCESS):r.transitionTo(t.Status.FAILED),r.buildOutput=i,r.saveBuildState()}r.eventService.emit(m.EventType.BUILD_FINISHED,new m.BuildEvent(r.buildState)),r.emit("changed")}},function(e){r.errorCount=0,r.buildOutput=null,r._buildResult=null,r.buildError=o.format("{0} ({1})",e.responseText,e.status),r.emit("error",e),r.transitionTo(t.Status.REQUEST_FAILED)},function(e){r.buildOutput=r.buildOutput?r.buildOutput+e:e,r.emit("progress",e)})},c.prototype.restoreBuildState=function(e){var n=this;this.memento.loadMemento(e,l.Scope.WORKSPACE).done(function(e){n.errorCount=e.buildErrorCount||0,n.buildResult=n.restoreBuildResult(e.buildResult),n.buildState=e.buildState||t.Status.NOT_RUN,n.buildOutput=e.buildOutput||null,n.buildExitCode=e.buildExitCode||0,n.buildError=e.buildError||null,setTimeout(function(){n.transitionTo(n.buildState),n.emit("changed")})},s.onUnexpectedError)},c.prototype.restoreBuildResult=function(e){return e?f.BuildResult.fromObject(e):null},c.prototype.beforeShutdown=function(){return null},c.prototype.saveBuildState=function(){var e=this;this.memento.loadMemento(this.storageService,l.Scope.WORKSPACE).done(function(t){t.buildState=e.buildState,t.buildResult=e.getSaveBuildResult(),t.buildErrorCount=e.errorCount,t.buildExitCode=e.buildExitCode,t.buildError=e.buildError,e.memento.saveMemento()},s.onUnexpectedError)},c.prototype.getSaveBuildResult=function(){return this.buildResult?this.buildResult.toObject():null},c.prototype.dispose=function(){for(this.eventService=null,this.fileService=null,this.editorService=null,this.buildServices=null,this.requestService=null,this.storageService=null,this.buildState=null,this.buildError=null,this.oldErrorCount=null,this.errorCount=null,this.buildType=null,this.buildOutput=null,this.buildExitCode=null,this._buildResult=null;this.toUnbind.length;)this.toUnbind.pop()();this.cursorPositionListener&&(this.cursorPositionListener.dispose(),this.cursorPositionListener=null),e.prototype.dispose.call(this)},c.ID="Monaco.IDE.UI.Services.BuildWorkspaceService",c.BUILD_WAIT_INTERVAL=0,c}(c.EventEmitter);t.BuildWorkspaceService=v}),define("vs/workbench/contrib/build/buildStatusUpdater",["require","exports","vs/workbench/ui/services","vs/workbench/contrib/build/buildWorkspaceService","vs/nls!vs/monaco/ui/workbench/native/native.main"],function(e,t,n,r,i){var o=function(){function e(e){var t=this;this.buildWorkspaceService=e.buildWorkspaceService,this.eventService=e.eventService,this.activityService=e.activityService,this.toUnbind=[this.buildWorkspaceService.addListener("changedState",function(){return t.onStateChange()})]}return e.prototype.onStateChange=function(){var e=this.getBadge(),t=this.getClass();this.activityService.showActivity("workbench.view.build",e,t)},e.prototype.getClass=function(){var e=this.buildWorkspaceService.getBuildState();return e===r.Status.FAILED||e===r.Status.REQUEST_FAILED?"build-viewlet-label-fail":e===r.Status.NO_BUILD_CONFIG?"build-viewlet-label-noconfig":e===r.Status.SUCCESS?"build-viewlet-label-success":e===r.Status.IN_PROGRESS?"build-viewlet-label-inprogress":""},e.prototype.getBadge=function(){var e=this.buildWorkspaceService.getBuildState();return this.buildWorkspaceService.getBuildError()&&e===r.Status.REQUEST_FAILED?new n.TextBadge("!",function(){return i.localize("vs_workbench_contrib_build_buildStatusUpdater",0)}):e===r.Status.IN_PROGRESS?new n.ProgressBadge(function(){return i.localize("vs_workbench_contrib_build_buildStatusUpdater",1)}):this.buildWorkspaceService.getErrorCount()>0?new n.NumberBadge(this.buildWorkspaceService.getErrorCount(),function(e){return i.localize("vs_workbench_contrib_build_buildStatusUpdater",2,e)}):e===r.Status.FAILED?new n.TextBadge("!",function(){return i.localize("vs_workbench_contrib_build_buildStatusUpdater",3)}):null},e.prototype.getId=function(){return e.ID},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){for(;this.toUnbind&&this.toUnbind.length;)this.toUnbind.pop()();this.toUnbind=null},e.ID="Monaco.IDE.UI.Viewlets.BuildViewlet.Workbench.StatusUpdater",e}();t.StatusUpdater=o}),define("vs/css!vs/workbench/contrib/build/media/build.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/build/build.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/platform/platform","vs/editor/modes/modesExtensions","vs/workbench/ui/parts/viewlet","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/contrib/build/build","vs/workbench/contrib/build/buildConstants","vs/workbench/contrib/build/buildWorkspaceService","vs/workbench/contrib/build/buildStatusUpdater","vs/workbench/core/extensions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/files/files","vs/css!./media/build.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,c.VIEWLET_ID)}return __extends(t,e),t.ID=c.VIEWLET_ID,t.LABEL=n.localize("vs_workbench_contrib_build_build.contribution",0),t}(s.ToggleViewletAction),g=function(){function e(){}return e.prototype.serialize=function(){return e.SERIALIZED},e.prototype.deserialize=function(e){return c.BuildLogEditorInput.getInstance(e)},e.SERIALIZED="",e}();r.enableBuild&&(i.Registry.as(s.Extensions.Viewlets).registerViewlet(new s.ViewletDescriptor("vs/workbench/contrib/build/buildViewlet","BuildViewlet",c.VIEWLET_ID,n.localize("vs_workbench_contrib_build_build.contribution",1),"build",20)),i.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(v,v.ID,v.LABEL,{ctrlCmd:r.isNative||!r.isMacintosh,winCtrl:!r.isNative&&r.isMacintosh,shift:!0,key:"B"}),n.localize("vs_workbench_contrib_build_build.contribution",2)),i.Registry.as(h.Extensions.Services).registerService(new h.WorkbenchServiceDescriptor(d.BuildWorkspaceService,c.BUILD_SERVICE_ID,[f.TEXT_FILE_SERVICE_ID])),i.Registry.as(h.Extensions.Workbench).registerWorkbenchExtension(p.StatusUpdater),i.Registry.as(m.Extensions.Editors).registerEditorInputFactory(c.BUILD_LOG_EDITOR_INPUT_ID,g),o.registerMode(u.BUILD_LOG_MODE_ID,null,[u.BUILD_LOG_MIME],"vs/workbench/contrib/build/buildLogMode","BuildLogMode"))}),define("vs/workbench/contrib/git/git",["require","exports"],function(e,t){function n(e){return!/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|\s|^\s*$/.test(e)}!function(e){e[e.INDEX=0]="INDEX",e[e.WORKING_TREE=1]="WORKING_TREE",e[e.MERGE=2]="MERGE"}(t.StatusType||(t.StatusType={}));t.StatusType;!function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.ADDED_BY_US=9]="ADDED_BY_US",e[e.ADDED_BY_THEM=10]="ADDED_BY_THEM",e[e.DELETED_BY_US=11]="DELETED_BY_US",e[e.DELETED_BY_THEM=12]="DELETED_BY_THEM",e[e.BOTH_ADDED=13]="BOTH_ADDED",e[e.BOTH_DELETED=14]="BOTH_DELETED",e[e.BOTH_MODIFIED=15]="BOTH_MODIFIED"}(t.Status||(t.Status={}));t.Status;t.ModelEvents={MODEL_UPDATED:"ModelUpdated",STATUS_MODEL_UPDATED:"StatusModelUpdated",HEAD_UPDATED:"HEADUpdated",HEADS_UPDATED:"HEADSUpdated",TAGS_UPDATED:"TagsUpdated"},function(e){e[e.NotInitialized=0]="NotInitialized",e[e.NotARepo=1]="NotARepo",e[e.NotAtRepoRoot=2]="NotAtRepoRoot",e[e.OK=3]="OK",e[e.NoGit=4]="NoGit",e[e.NotAWorkspace=5]="NotAWorkspace"}(t.ServiceState||(t.ServiceState={}));t.ServiceState;!function(e){e[e.OK=0]="OK",e[e.GitNotFound=1]="GitNotFound"}(t.RawServiceState||(t.RawServiceState={}));t.RawServiceState;t.GitErrorCodes={BadConfigFile:"BadConfigFile",AuthenticationFailed:"AuthenticationFailed",NoUserNameConfigured:"NoUserNameConfigured",NoUserEmailConfigured:"NoUserEmailConfigured",NoRemoteRepositorySpecified:"NoRemoteRepositorySpecified",NotAGitRepository:"NotAGitRepository",NotAtRepositoryRoot:"NotAtRepositoryRoot",Conflict:"Conflict",UnmergedChanges:"UnmergedChanges",PushRejected:"PushRejected",RemoteConnectionError:"RemoteConnectionError",DirtyWorkTree:"DirtyWorkTree",CantOpenResource:"CantOpenResource",GitNotFound:"GitNotFound"},t.ServiceEvents={STATE_CHANGED:"stateChanged",REPO_CHANGED:"repoChanged",OPERATION_START:"operationStart",OPERATION_END:"operationEnd",OPERATION:"operation",ERROR:"error"},t.ServiceOperations={STATUS:"status",INIT:"init",ADD:"add",STAGE:"stage",BRANCH:"branch",CHECKOUT:"checkout",CLEAN:"clean",UNDO:"undo",RESET:"reset",COMMIT:"commit",COMMAND:"command",BACKGROUND_FETCH:"backgroundfetch",PULL:"pull",PUSH:"push",SYNC:"sync"},t.GIT_SERVICE_ID="gitService",t.Events={CREDENTIALS_CANCELLED:"vs/workbench/contrib/git:credentialsCancelled"},t.isValidBranchName=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitQuickOpen",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/objects","vs/base/arrays","vs/base/filters","vs/base/lib/winjs.base","vs/base/severity","vs/workbench/contrib/git/git","vs/workbench/ui/quickopen/quickOpen","vs/base/ui/widgets/quickopen/quickOpenModel"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(e){function t(t,n,r,i){e.call(this,i),this.gitService=t,this.messageService=n,this.head=r}return __extends(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.head.name},t.prototype.getDescription=function(){return""},t.prototype.run=function(e){return e===u.Mode.PREVIEW?!1:!0},t}(u.QuickOpenEntry),p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getDescription=function(){return n.localize("vs_workbench_contrib_git_gitQuickOpen",0,this.head.commit.substr(0,8))},t.prototype.run=function(e){var t=this;return e===u.Mode.PREVIEW?!1:(this.gitService.checkout(this.head.name).done(null,function(e){return t.messageService.show(a.Error,e)}),!0)},t}(d),h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getDescription=function(){return n.localize("vs_workbench_contrib_git_gitQuickOpen",1,this.head.commit.substr(0,8))},t.prototype.run=function(e){var t=this;return e===u.Mode.PREVIEW?!1:(this.gitService.checkout(this.head.name).done(null,function(e){return t.messageService.show(a.Error,e)}),!0)},t}(d),m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getDescription=function(){return n.localize("vs_workbench_contrib_git_gitQuickOpen",2,this.head.name)},t}(d),f=function(e){function t(t,n,r){e.call(this,[{start:0,end:r.length}]),this.gitService=t,this.messageService=n,this.name=r}return __extends(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.name},t.prototype.getDescription=function(){return n.localize("vs_workbench_contrib_git_gitQuickOpen",3,this.name)},t.prototype.run=function(e){var t=this;return e===u.Mode.PREVIEW?!1:(this.gitService.branch(this.name,!0).done(null,function(e){return t.messageService.show(a.Error,e)}),!0)},t}(u.QuickOpenEntry),v=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["checkout","co"]}return e.prototype.getResults=function(e){var t=this;e=e.trim();var n=this.gitService.getModel(),i=n.getHEAD(),a=n.getHeads().map(function(t){return new r.Tuple(t,o.matchesContiguousSubString(e,t.name))}).filter(function(e){return!!e.second}),c=a.filter(function(e){return e.first.name!==i.name}).map(function(e){return new p(t.gitService,t.messageService,e.first,e.second)}),d=n.getTags().map(function(t){return new r.Tuple(t,o.matchesContiguousSubString(e,t.name))}).filter(function(e){return!!e.second}),v=d.filter(function(e){return e.first.name!==i.name}).map(function(e){return new h(t.gitService,t.messageService,e.first,e.second)}),g=c.concat(v).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())});g.length>0&&(g[0]=new u.QuickOpenEntryGroup(g[0],"checkout",!1));var b=a.filter(function(t){return t.first.name===e}),y=b.filter(function(e){return e.first.name===i.name});if(y.length>0)g.unshift(new m(this.gitService,this.messageService,y[0].first,y[0].second));else if(0===b.length&&l.isValidBranchName(e)){var _=new f(this.gitService,this.messageService,e);g.push(new u.QuickOpenEntryGroup(_,"branch",!1))}return s.TPromise.as(g)},e}(),g=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["branch"]}return e.prototype.getResults=function(e){if(e=e.trim(),!l.isValidBranchName(e))return s.TPromise.as([]);var t=this.gitService.getModel(),n=t.getHEAD(),i=t.getHeads().map(function(t){return new r.Tuple(t,o.matchesContiguousSubString(e,t.name))}).filter(function(e){return!!e.second}),a=i.filter(function(t){return t.first.name===e}),c=a.filter(function(e){return e.first.name===n.name});if(c.length>0)return s.TPromise.as([new m(this.gitService,this.messageService,c[0].first,c[0].second)]);if(a.length>0)return s.TPromise.as([new p(this.gitService,this.messageService,a[0].first,a[0].second)]);var d=new f(this.gitService,this.messageService,e);return s.TPromise.as([new u.QuickOpenEntryGroup(d,"branch",!1)])},e}(),b=function(e){function t(t,n,r){e.call(this,r),this.quickOpenService=t,this.command=n}return __extends(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.command.aliases[0]},t.prototype.run=function(e){return e===u.Mode.PREVIEW?!1:(this.quickOpenService.show("git "+this.command.aliases[0]+" "),!1)},t}(u.QuickOpenEntry),y=function(e){function t(t){e.call(this),this.quickOpenService=t.quickOpenService,this.commands=[],this.pushCommand(new v(t.gitService,t.messageService)),this.pushCommand(new g(t.gitService,t.messageService))}return __extends(t,e),t.prototype.getResults=function(e){var t,n=i.first(this.commands,function(n){return!!(t=e.match(n.regexp))});return n?n.command.getResults(e.substr(t[0].length)):this.getCommands(e)},t.prototype.getCommands=function(e){var t=this,n=this.commands.map(function(t){return new r.Tuple(t.command,o.matchesContiguousSubString(e,t.command.aliases[0]))}).filter(function(t){return!!t.second||t.first.aliases.some(function(t){return e===t})}).map(function(e){return new b(t.quickOpenService,e.first,e.second)});return s.TPromise.as(n)},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){var t,n=i.first(this.commands,function(n){return!!(t=e.match(n.regexp))});return n?{autoFocusPrefixMatch:e.substr(t[0].length)}:{}},t.prototype.onClose=function(){},t.prototype.getGroupLabel=function(){return null},t.prototype.pushCommand=function(e){this.commands.push({regexp:new RegExp("^("+e.aliases.join("|")+")\\b\\W+"),command:e})},t.prototype.getEmptyLabel=function(){return n.localize("vs_workbench_contrib_git_gitQuickOpen",4)},t}(c.QuickOpenHandler);t.QuickOpenHandler=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/terminal/terminal",["require","exports","vs/base/ui/events"],function(e,t,n){t.TERMINAL_EDITOR_ID="workbench.editors.terminal",t.TERMINAL_EDITOR_INPUT_ID="vs.console",t.MIME="application/x-monaco-terminal",t.MODE_ID="terminal",t.EventType={COMMAND_STARTED:"commandStarted",COMMAND_ERROR:"commandError",COMMAND_FINISHED:"commandFinished"};var r=function(e){function t(t,n,r,i){e.call(this,i),this.terminalId=t,this.command=n,this.wasCanceled=r}return __extends(t,e),t}(n.Event);t.TerminalEvent=r,t.TERMINAL_SERVICE_ID="terminalService"}),define("vs/workbench/contrib/git/httpRawGitService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/base/errors","vs/workbench/contrib/git/git"],function(e,t,n,r,i,o){var s=function(){function e(e,t){this.requestService=e.requestService,this.eventEmitter=t,this.credentialHandler={requestCredentials:function(){return r.Promise.as({})}},this.requestService.supportsPrivateChannel()&&this.establishPrivateChannel()}return e.prototype.serviceState=function(){return r.TPromise.as(o.RawServiceState.OK)},e.prototype.status=function(){return this.makeRequest({url:this.requestService.getRequestUrl("git","status")})},e.prototype.init=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","init")})},e.prototype.add=function(e){var t={type:"POST",url:this.requestService.getRequestUrl("git","add")};return e&&e.length>0&&(t.headers={"Content-Type":"application/json"},t.data=JSON.stringify({paths:e})),this.makeRequest(t)},e.prototype.stage=function(e,t){return this.makeRequest({type:"PUT",url:this.requestService.getRequestUrl("git","add/"+e),headers:{"Content-Type":"application/octet-stream"},data:t})},e.prototype.branch=function(e,t){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","branch"),headers:{"Content-Type":"application/json"},data:JSON.stringify({name:e,checkout:t})})},e.prototype.checkout=function(e,t){var n={type:"POST",url:this.requestService.getRequestUrl("git","checkout"+(e?"/"+encodeURIComponent(e):""))};return t&&t.length>0&&(n.headers={"Content-Type":"application/json"},n.data=JSON.stringify({paths:t})),this.makeRequest(n)},e.prototype.clean=function(e){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","clean"),headers:{"Content-Type":"application/json"},data:JSON.stringify({paths:e})})},e.prototype.undo=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","undo")})},e.prototype.reset=function(e,t){var n={type:"POST",url:this.requestService.getRequestUrl("git","reset/"+e)};return t&&t.length>0&&(n.headers={"Content-Type":"application/json"},n.data=JSON.stringify({paths:t})),this.makeRequest(n)},e.prototype.fetch=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","fetch")})},e.prototype.pull=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","pull")})},e.prototype.push=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","push")})},e.prototype.sync=function(){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","sync")})},e.prototype.commit=function(e,t,n){return this.makeRequest({type:"POST",url:this.requestService.getRequestUrl("git","commit"),headers:{"Content-Type":"application/json"},data:JSON.stringify({message:e,amend:t,stage:n})})},e.prototype.detectMimetypes=function(e,t){return this.makeRequest({url:this.requestService.getRequestUrl("git","show/"+t+"/"+e),headers:{Accept:"application/json","X-Vary":"1"}}).then(function(e){return e.mimetypes})},e.prototype.show=function(e,t){return this.makeRequest({url:this.requestService.getRequestUrl("git","show/"+t+"/"+e)})},e.prototype.onOutput=function(){return r.TPromise.wrapError("not implemented")},e.prototype.makeRequest=function(e){return this.requestService.makeRequest(e).then(function(t){if(204===t.status||1223===t.status)return null;try{return JSON.parse(t.responseText)}catch(i){return r.Promise.wrapError(new Error(n.localize("vs_workbench_contrib_git_httpRawGitService",0,e.url)))}},function(e){if(i.isPromiseCanceledError(e))return r.Promise.wrapError(e);try{var t=e.responseText?JSON.parse(e.responseText):null,s=new Error(n.localize("vs_workbench_contrib_git_httpRawGitService",1));return s.gitErrorCode=t&&t.data?t.data.gitErrorCode:null,t&&t.data&&t.data.gitErrorCode===o.GitErrorCodes.BadConfigFile&&(s.message=t.data.stderr),r.Promise.wrapError(s)}catch(a){return r.Promise.wrapError(e)}})},e.prototype.setCredentialHandler=function(e){this.credentialHandler=e},e.prototype.establishPrivateChannel=function(){var e=this;this.requestService.establishPrivateChannel("git",null).done(function(t){t.addListener("server",function(n){return e.onPrivateChannelMessage(t,n)}),t.addListener("close",function(){return e.establishPrivateChannel()})},i.onUnexpectedError)},e.prototype.onPrivateChannelMessage=function(e,t){t.credentialScope&&this.credentialHandler.requestCredentials(t.credentialScope).done(function(n){e.emit({guid:t.guid,credentials:n})},i.onUnexpectedError)},e}();t.HttpRawGitService=s}),define("vs/workbench/contrib/git/nativeRawGitService",["require","exports","vs/base/lib/winjs.base"],function(e,t,n){var r=function(){function t(t){var r=this;this.basePath=t,this.raw=new n.TPromise(function(t,n){e(["vs/native!server/contrib/git/nativeRawGitService"],function(e){e.createNativeRawGitService(r.basePath).done(t,n)},n)})}return t.prototype.serviceState=function(){return this.raw.then(function(e){return e.serviceState()})},t.prototype.status=function(){return this.raw.then(function(e){return e.status()})},t.prototype.init=function(){return this.raw.then(function(e){return e.init()})},t.prototype.add=function(e){return this.raw.then(function(t){return t.add(e)})},t.prototype.stage=function(e,t){return this.raw.then(function(n){return n.stage(e,t)})},t.prototype.branch=function(e,t){return this.raw.then(function(n){return n.branch(e,t)})},t.prototype.checkout=function(e,t){return this.raw.then(function(n){return n.checkout(e,t)})},t.prototype.clean=function(e){return this.raw.then(function(t){return t.clean(e)})},t.prototype.undo=function(){return this.raw.then(function(e){return e.undo()})},t.prototype.reset=function(e,t){return this.raw.then(function(n){return n.reset(e,t)})},t.prototype.fetch=function(){return this.raw.then(function(e){return e.fetch()})},t.prototype.pull=function(){return this.raw.then(function(e){return e.pull()})},t.prototype.push=function(){return this.raw.then(function(e){return e.push()})},t.prototype.sync=function(){return this.raw.then(function(e){return e.sync()})},t.prototype.commit=function(e,t,n){return this.raw.then(function(r){return r.commit(e,t,n)})},t.prototype.detectMimetypes=function(e,t){return this.raw.then(function(n){return n.detectMimetypes(e,t)})},t.prototype.show=function(e,t){return this.raw.then(function(n){return n.show(e,t)})},t.prototype.onOutput=function(){return this.raw.then(function(e){return e.onOutput()})},t}();t.NativeRawGitService=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitModel",["require","exports","vs/base/lifecycle","vs/base/strings","vs/base/eventEmitter","vs/workbench/contrib/git/git"],function(e,t,n,r,i,o){var s=function(){function e(t,n,r,i,o){this.id=e.typeOf(r)+":"+t+(i?":"+i:"")+(o?"$":""),this.path=t,this.pathComponents=t.split("/"),this.mimetype=n,this.rename=i,this.status=r}return e.prototype.getPath=function(){return this.path},e.prototype.getPathComponents=function(){return this.pathComponents.slice(0)},e.prototype.getMimetype=function(){return this.mimetype},e.prototype.getStatus=function(){return this.status},e.prototype.getRename=function(){return this.rename},e.prototype.getId=function(){return this.id},e.prototype.getType=function(){switch(e.typeOf(this.status)){case"index":return o.StatusType.INDEX;case"workingTree":return o.StatusType.WORKING_TREE;default:return o.StatusType.MERGE}},e.prototype.clone=function(){return new e(this.path,this.mimetype,this.status,this.rename)},e.prototype.update=function(e){this.status=e.getStatus(),this.rename=e.getRename()},e.typeOf=function(e){switch(e){case o.Status.INDEX_MODIFIED:case o.Status.INDEX_ADDED:case o.Status.INDEX_DELETED:case o.Status.INDEX_RENAMED:case o.Status.INDEX_COPIED:return"index";case o.Status.MODIFIED:case o.Status.DELETED:case o.Status.UNTRACKED:case o.Status.IGNORED:return"workingTree";default:return"merge"}},e}();t.FileStatus=s;var a=function(e){function t(t){e.call(this),this.type=t,this.statusSet=Object.create(null),this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null)
}return __extends(t,e),t.prototype.getType=function(){return this.type},t.prototype.update=function(e){var t,n,r,i,o=Object.create(null);for(t in this.statusSet)o[t]=this.statusSet[t];for(var s=0;s<e.length;s++)i=e[s],t=i.getId(),n=i.getPath(),r=i.getRename(),o[t]?(this.statusSet[t].update(i),o[t]=null):this.statusSet[t]=i;for(t in o)(i=o[t])&&(this.emit("fileStatus:dispose",i),delete this.statusSet[t]);this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null);for(t in this.statusSet)i=this.statusSet[t],this.statusList.push(i),i.getRename()?this.statusByRename[i.getPath()]=i:this.statusByName[i.getPath()]=i},t.prototype.all=function(){return this.statusList},t.prototype.find=function(e){return e="/"===e[0]?e.substr(1):e,this.statusByName[e]||this.statusByRename[e]||null},t.prototype.dispose=function(){this.type=null,this.statusSet=null,this.statusList=null,this.statusByName=null,this.statusByRename=null,e.prototype.dispose.call(this)},t}(i.EventEmitter);t.StatusGroup=a;var l=function(e){function t(){e.call(this),this.indexStatus=new a(o.StatusType.INDEX),this.workingTreeStatus=new a(o.StatusType.WORKING_TREE),this.mergeStatus=new a(o.StatusType.MERGE),this.toDispose=[this.addEmitter2(this.indexStatus),this.addEmitter2(this.workingTreeStatus),this.addEmitter2(this.mergeStatus)]}return __extends(t,e),t.prototype.getSummary=function(){return{hasWorkingTreeChanges:this.getWorkingTreeStatus().all().length>0,hasIndexChanges:this.getIndexStatus().all().length>0,hasMergeChanges:this.getMergeStatus().all().length>0}},t.prototype.update=function(e){for(var t=[],n=[],r=[],i=0;i<e.length;i++){var a=e[i];switch(a.x+a.y){case"??":n.push(new s(a.path,a.mimetype,o.Status.UNTRACKED));continue;case"!!":n.push(new s(a.path,a.mimetype,o.Status.IGNORED));continue;case"DD":r.push(new s(a.path,a.mimetype,o.Status.BOTH_DELETED));continue;case"AU":r.push(new s(a.path,a.mimetype,o.Status.ADDED_BY_US));continue;case"UD":r.push(new s(a.path,a.mimetype,o.Status.DELETED_BY_THEM));continue;case"UA":r.push(new s(a.path,a.mimetype,o.Status.ADDED_BY_THEM));continue;case"DU":r.push(new s(a.path,a.mimetype,o.Status.DELETED_BY_US));continue;case"AA":r.push(new s(a.path,a.mimetype,o.Status.BOTH_ADDED));continue;case"UU":r.push(new s(a.path,a.mimetype,o.Status.BOTH_MODIFIED));continue}var l=!1;switch(a.x){case"M":t.push(new s(a.path,a.mimetype,o.Status.INDEX_MODIFIED)),l=!0;break;case"A":t.push(new s(a.path,a.mimetype,o.Status.INDEX_ADDED));break;case"D":t.push(new s(a.path,a.mimetype,o.Status.INDEX_DELETED));break;case"R":t.push(new s(a.path,a.mimetype,o.Status.INDEX_RENAMED,a.rename));break;case"C":t.push(new s(a.path,a.mimetype,o.Status.INDEX_COPIED))}switch(a.y){case"M":n.push(new s(a.path,a.mimetype,o.Status.MODIFIED,a.rename,l));break;case"D":n.push(new s(a.path,a.mimetype,o.Status.DELETED,a.rename))}}this.indexStatus.update(t),this.workingTreeStatus.update(n),this.mergeStatus.update(r),this.emit(o.ModelEvents.STATUS_MODEL_UPDATED)},t.prototype.getIndexStatus=function(){return this.indexStatus},t.prototype.getWorkingTreeStatus=function(){return this.workingTreeStatus},t.prototype.getMergeStatus=function(){return this.mergeStatus},t.prototype.getGroups=function(){return[this.mergeStatus,this.indexStatus,this.workingTreeStatus]},t.prototype.find=function(e,t){var n;switch(t){case o.StatusType.INDEX:n=this.indexStatus;break;case o.StatusType.WORKING_TREE:n=this.workingTreeStatus;break;case o.StatusType.MERGE:n=this.mergeStatus;break;default:return null}return n.find(e.replace(/^\//,""))},t.prototype.dispose=function(){this.toDispose=n.disposeAll(this.toDispose),this.indexStatus&&(this.indexStatus.dispose(),this.indexStatus=null),this.workingTreeStatus&&(this.workingTreeStatus.dispose(),this.workingTreeStatus=null),this.mergeStatus&&(this.mergeStatus.dispose(),this.mergeStatus=null),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.StatusModel=l;var c=function(e){function t(){e.call(this),this.toDispose=[],this.status=new l,this.toDispose.push(this.addEmitter2(this.status)),this.HEAD=null,this.heads=[],this.tags=[]}return __extends(t,e),t.prototype.getStatus=function(){return this.status},t.prototype.getHEAD=function(){return this.HEAD},t.prototype.getHeads=function(){return this.heads},t.prototype.getTags=function(){return this.tags},t.prototype.update=function(e){e||(e={status:[],HEAD:null,heads:[],tags:[]}),this.status.update(e.status),this.HEAD=e.HEAD,this.emit(o.ModelEvents.HEAD_UPDATED),this.heads=e.heads,this.emit(o.ModelEvents.HEADS_UPDATED),this.tags=e.tags,this.emit(o.ModelEvents.TAGS_UPDATED),this.emit(o.ModelEvents.MODEL_UPDATED)},t.prototype.getStatusSummary=function(){var e=this.getStatus();return{hasWorkingTreeChanges:e.getWorkingTreeStatus().all().length>0,hasIndexChanges:e.getIndexStatus().all().length>0,hasMergeChanges:e.getMergeStatus().all().length>0}},t.prototype.getPS1=function(){if(!this.HEAD)return"";var e=this.HEAD.name||this.HEAD.commit.substr(0,8),t=this.getStatus().getSummary();return r.format("{0}{1}{2}{3}",e,t.hasWorkingTreeChanges?"*":"",t.hasIndexChanges?"+":"",t.hasMergeChanges?"!":"")},t.prototype.dispose=function(){this.toDispose=n.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.Model=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitEditorInputs",["require","exports","vs/base/lifecycle","vs/base/async","vs/workbench/ui/parts/editor/resourceEditorInput","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/contrib/git/git"],function(e,t,n,r,i,o,s,a){function l(e){return e instanceof c||e instanceof p||e instanceof h}t.isGitEditorInput=l;var c=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i),this.status=o}return __extends(t,e),t.prototype.getId=function(){throw new Error("To implement.")},t.prototype.getFileStatus=function(){return this.status},t.prototype.contains=function(e){if(this.matches(e))return!0;var t=this.getOriginalInput();if(t&&t.matches(e))return!0;var n=this.getModifiedInput();return n&&n.matches(e)?!0:!1},t}(s.DiffEditorInput);t.GitDiffEditorInput=c;var u=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i,o)}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.ID="Monaco.IDE.UI.Viewlets.GitViewlet.GitWorkingTreeDiffEditorInput",t}(c);t.GitWorkingTreeDiffEditorInput=u;var d=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i,o)}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.ID="Monaco.IDE.UI.Viewlets.GitViewlet.GitIndexDiffEditorInput",t}(c);t.GitIndexDiffEditorInput=d;var p=function(e){function t(t,n,r,i,o,s){e.call(this,t,n,r,i,o),this.status=s}return __extends(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getFileStatus=function(){return this.status},t.ID="Monaco.IDE.UI.Viewlets.GitViewlet.GitIndexEditorInput",t}(i.ResourceEditorInput);t.GitIndexEditorInput=p;var h=function(e){function t(t,n,i,o,s,l,c){var u=this;e.call(this,n,i,null,o),this.gitService=t.gitService,this.editorService=t.editorService,this.status=s,this.path=l,this.treeish=c,this.delayer=new r.ThrottledDelayer(1e3),this.toDispose=[],this.toDispose.push(this.gitService.addListener2(a.ServiceEvents.STATE_CHANGED,function(){return u.onGitServiceStateChange()})),this.toDispose.push(this.gitService.addListener2(a.ServiceEvents.OPERATION_END,function(){return u.onGitServiceStateChange()}))}return __extends(t,e),t.prototype.getId=function(){return p.ID},t.prototype.getFileStatus=function(){return this.status},t.prototype.resolve=function(t){var n=this;return t||!this.getValue()?this.gitService.buffer(this.path,this.treeish).then(function(r){return n.getValue()!==r&&n.setValue(r),e.prototype.resolve.call(n,t)}):e.prototype.resolve.call(this,t)},t.prototype.onGitServiceStateChange=function(){var e=this,t=this.editorService.getVisibleEditors().some(function(t){if(!t.input)return!1;if(t.input instanceof s.DiffEditorInput){var n=t.input;return e.matches(n.getOriginalInput())||e.matches(n.getModifiedInput())}return e.matches(t.input)});t&&this.delayer.trigger(function(){return e.resolve(!0)})},t.prototype.dispose=function(){this.delayer&&(this.delayer.cancel(),this.delayer=null),this.toDispose=n.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t.ID="Monaco.IDE.UI.Viewlets.GitViewlet.NativeGitIndexStringEditorInput",t}(o.StringEditorInput);t.NativeGitIndexStringEditorInput=h}),define("vs/workbench/contrib/git/gitOperations",["require","exports","vs/workbench/contrib/git/git","vs/base/lib/winjs.base"],function(e,t,n,r){var i=function(){function e(e,t){this.id=e,this.fn=t}return e.prototype.run=function(){return this.fn()},e.prototype.dispose=function(){},e}();t.GitOperation=i;var o=function(){function e(e){this.input=e,this.id=n.ServiceOperations.COMMAND}return e.prototype.run=function(){return r.Promise.as(null)},e.prototype.dispose=function(){this.id=null,this.input=null},e}();t.CommandOperation=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitServices",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/base/lifecycle","vs/platform/services","vs/base/types","vs/base/ui/actions","vs/base/errors","vs/base/mime","vs/base/eventEmitter","vs/workbench/events","vs/workbench/contrib/git/git","vs/workbench/contrib/git/httpRawGitService","vs/workbench/contrib/git/nativeRawGitService","vs/workbench/contrib/git/gitModel","vs/workbench/contrib/git/gitEditorInputs","vs/workbench/contrib/git/gitOperations","vs/workbench/contrib/files/files","vs/workbench/contrib/terminal/terminal","vs/workbench/contrib/build/buildWorkspaceService","vs/base/async","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S){function T(e){return r.isNative&&r.isWindows?e.replace(/\//g,"\\"):e}var k=function(){function e(e,t){var n=this;this.instantiationService=e.instantiationService,this.fileService=e.fileService,this.eventService=e.eventService,this.editorService=e.editorService,this.contextService=e.contextService,this.gitService=t,this.cache={},this.toDispose=[],this.toDispose.push(this.gitService.getModel().addListener2("fileStatus:dispose",function(e){return n.onFileStatusDispose(e)}))}return e.prototype.getInput=function(e){var t=this.cache[e.getId()];return t?t:(t=this.createInput(e),this.cache[e.getId()]=t,t)},e.prototype.createInput=function(e){return i.TPromise.join([this.createLeftInput(e),this.createRightInput(e)]).then(function(t){var r=t[0],o=t[1],s=e.getPathComponents(),a=s[s.length-1],l=T("/"+s.slice(0,s.length-1).join("/"));if(!r){if(!o){var c=new Error(n.localize("vs_workbench_contrib_git_gitServices",0));return c.gitErrorCode=h.GitErrorCodes.CantOpenResource,i.Promise.wrapError(c)}return i.Promise.as(o)}switch(e.getStatus()){case h.Status.INDEX_MODIFIED:case h.Status.INDEX_RENAMED:return i.Promise.as(new g.GitIndexDiffEditorInput(a,n.localize("vs_workbench_contrib_git_gitServices",1,l),r,o,e));case h.Status.MODIFIED:return i.Promise.as(new g.GitWorkingTreeDiffEditorInput(a,n.localize("vs_workbench_contrib_git_gitServices",2,l),r,o,e));default:return i.Promise.as(new g.GitDiffEditorInput(a,n.localize("vs_workbench_contrib_git_gitServices",3,l),r,o,e))}}).then(function(e){return e},function(e){return i.Promise.wrapError(a.isArray(e)?e[0]||e[1]:e)})},e.prototype.createLeftInput=function(e){var t=e.getPath(),n=this.gitService.getModel();switch(e.getStatus()){case h.Status.INDEX_MODIFIED:case h.Status.INDEX_RENAMED:return this.gitService.show(t,e,"HEAD",e.getMimetype());case h.Status.MODIFIED:var r=n.getStatus().find(t,h.StatusType.INDEX);return r&&r.getStatus()===h.Status.INDEX_RENAMED?this.gitService.show(r.getRename(),e,"~",e.getMimetype()):r?this.gitService.show(t,e,"~",e.getMimetype()):this.gitService.show(t,e,"HEAD",e.getMimetype());default:return i.Promise.as(null)}},e.prototype.createRightInput=function(e){var t=e.getPath(),n=this.contextService.toResource(t),r=this.gitService.getModel();switch(e.getStatus()){case h.Status.INDEX_MODIFIED:case h.Status.INDEX_ADDED:case h.Status.INDEX_COPIED:return this.gitService.show(t,e,"~",e.getMimetype());case h.Status.INDEX_RENAMED:return this.gitService.show(e.getRename(),e,"~",e.getMimetype());case h.Status.INDEX_DELETED:case h.Status.DELETED:return this.gitService.show(t,e,"HEAD",e.getMimetype());case h.Status.MODIFIED:case h.Status.UNTRACKED:case h.Status.IGNORED:var o=r.getStatus().find(t,h.StatusType.INDEX);return o&&o.getStatus()===h.Status.INDEX_RENAMED?this.editorService.inputToType({resource:this.contextService.toResource(o.getRename())}):this.editorService.inputToType({resource:n});case h.Status.BOTH_MODIFIED:return this.editorService.inputToType({resource:n});default:return i.Promise.as(null)}},e.prototype.onFileStatusDispose=function(e){var t=this,n=e.getId(),r=this.cache[n];r&&(r.done(function(e){t.eventuallyDispose(e)}),delete this.cache[n])},e.prototype.eventuallyDispose=function(e){var t=this;if(!this.maybeDispose(e))var n=this.eventService.addListener2(p.EventType.EDITOR_INPUT_CHANGED,function(){t.maybeDispose(e)&&n.dispose()})},e.prototype.maybeDispose=function(e){return this.editorService.getVisibleEditors().some(function(t){return t.input&&t.input.matches(e)})?!1:(e.dispose(),!0)},e.prototype.dispose=function(){var e=this;Object.keys(this.cache).forEach(function(t){e.cache[t].done(function(e){e.dispose()}),delete e.cache[t]}),this.toDispose=o.disposeAll(this.toDispose)},e}(),C=function(e){function t(r){e.call(this,t.ID,n.localize("vs_workbench_contrib_git_gitServices",4),null,!1),this.terminalService=r.terminalService,this.updateEnablement()}return __extends(t,e),t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!!this.terminalService},t.prototype.run=function(){return this.terminalService.execute()},t.ID="workbench.git.action.openConsole",t}(l.Action),x=function(){function e(){}return e.prototype.serviceState=function(){return i.Promise.as(h.RawServiceState.OK)},e.prototype.status=function(){return i.Promise.as(e.STATUS)},e.prototype.init=function(){return i.Promise.as(e.STATUS)},e.prototype.add=function(){return i.Promise.as(e.STATUS)},e.prototype.stage=function(){return i.Promise.as(e.STATUS)},e.prototype.branch=function(){return i.Promise.as(e.STATUS)},e.prototype.checkout=function(){return i.Promise.as(e.STATUS)},e.prototype.clean=function(){return i.Promise.as(e.STATUS)},e.prototype.undo=function(){return i.Promise.as(e.STATUS)},e.prototype.reset=function(){return i.Promise.as(e.STATUS)},e.prototype.fetch=function(){return i.Promise.as(e.STATUS)},e.prototype.pull=function(){return i.Promise.as(e.STATUS)},e.prototype.push=function(){return i.Promise.as(e.STATUS)},e.prototype.sync=function(){return i.Promise.as(e.STATUS)},e.prototype.commit=function(){return i.Promise.as(e.STATUS)},e.prototype.detectMimetypes=function(){return i.Promise.as([])},e.prototype.show=function(){return i.Promise.as(null)},e.prototype.onOutput=function(){return i.Promise.as(function(){return null})},e.STATUS={state:h.ServiceState.NotAWorkspace,status:[],HEAD:null,heads:[],tags:[]},e}();t.NoOpGitService=x;var A=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService,this.eventService=t.eventService,this.requestService=t.requestService,this.messageService=t.messageService,this.editorService=t.editorService,this.buildService=t.buildWorkspaceService,this.terminalService=t.terminalService,this.outputService=t.outputService,this.raw=r.isWeb?new m.HttpRawGitService({requestService:this.requestService},this):t.contextService.getWorkspace()?new f.NativeRawGitService(t.contextService.getWorkspace().resource.path):new x,this.state=h.ServiceState.NotInitialized,this.operations=[],this.model=new v.Model,this.toDispose=[],this.needsRefresh=!1,this.refreshDelayer=new E.PeriodThrottledDelayer(500,1e4),this.registerListeners(),this.inputCache=this.instantiationService.createInstance(k,this),this.triggerStatus(!0)}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(s.Files.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)})),this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_SAVED,function(t){return e.onLocalFileChange(t)})),this.toDispose.push(this.eventService.addListener2(y.EventType.FILE_REVERTED,function(t){return e.onLocalFileChange(t)})),this.toDispose.push(this.eventService.addListener2(s.RequstServiceEventTypes.CONNECTION_RECONNECTED,function(){return e.onReconnected()})),this.buildService&&this.toDispose.push(this.buildService.addListener2("changedState",function(t){return e.onBuildStateChange(t)})),this.terminalService&&(this.toDispose.push(this.eventService.addListener2(_.EventType.COMMAND_STARTED,function(t){return e.onCommandStart(t)})),this.toDispose.push(this.eventService.addListener2(_.EventType.COMMAND_FINISHED,function(t){return e.onCommandEnd(t)})),this.toDispose.push(this.eventService.addListener2(_.EventType.COMMAND_ERROR,function(t){return e.onCommandEnd(t)})))},t.prototype.triggerStatus=function(e){var t=this;if(void 0===e&&(e=!1),!r.isTesting()){if(this.isInitialized()&&!this.isIdle()&&!e)return this.refreshDelayer.cancel(),void 0;var n=E.once(function(e){c.isPromiseCanceledError(e)||t.messageService.show(S.Error,e)});this.refreshDelayer.trigger(function(){return t.status()}).done(null,n)}},t.prototype.onLocalFileChange=function(e){var t=e.gotUpdated()&&["/.gitignore"].indexOf(e.getAfter().path)>-1;if(t)return this.isBuildInProgress()?(this.needsRefresh=!0,void 0):(this.triggerStatus(),void 0)},t.prototype.onFileChanges=function(e){var t=this.isIdle(),n=e.changes.some(function(e){return"/.git/index"===e.path?t:/^\/\.git/.test(e.path)?"/.git"===e.path?e.type===s.Files.FileChangeType.ADDED||e.type===s.Files.FileChangeType.DELETED:-1===["/.git/index.lock","/.git/FETCH_HEAD","/.gitignore","/.gitmodules"].indexOf(e.path):!0});return n?this.isBuildInProgress()?(this.needsRefresh=!0,void 0):(this.triggerStatus(),void 0):void 0},t.prototype.onReconnected=function(){return this.isBuildInProgress()?(this.needsRefresh=!0,void 0):(this.triggerStatus(),void 0)},t.prototype.isBuildInProgress=function(){return this.buildService&&this.buildService.getBuildState()===w.Status.IN_PROGRESS},t.prototype.onBuildStateChange=function(){this.needsRefresh&&(this.triggerStatus(),this.needsRefresh=!1)},t.prototype.onGitServiceOperationEnd=function(e){e.operation.id===h.ServiceOperations.COMMAND&&this.triggerStatus()},Object.defineProperty(t.prototype,"checkConsoleAction",{get:function(){return this._checkConsoleAction||(this._checkConsoleAction=this.instantiationService.createInstance(C)),this._checkConsoleAction},enumerable:!0,configurable:!0}),t.prototype.getState=function(){return this.state},t.prototype.getModel=function(){return this.model},t.prototype.status=function(){var e=this;return this.run(h.ServiceOperations.STATUS,function(){return e.raw.status()})},t.prototype.init=function(){var e=this;return this.run(h.ServiceOperations.INIT,function(){return e.raw.init()})},t.prototype.add=function(e){var n=this;return this.run(h.ServiceOperations.ADD,function(){return n.raw.add(t.toPaths(e))})},t.prototype.stage=function(e,t){var n=this;return this.run(h.ServiceOperations.STAGE,function(){return n.raw.stage(e,t)})},t.prototype.branch=function(e,t){var n=this;return void 0===t&&(t=!1),this.run(h.ServiceOperations.BRANCH,function(){return n.raw.branch(e,t)})},t.prototype.checkout=function(e,n){var r=this;return void 0===e&&(e=""),void 0===n&&(n=null),this.run(h.ServiceOperations.CHECKOUT,function(){return r.raw.checkout(e,t.toPaths(n))})},t.prototype.clean=function(e){var t=this;return this.run(h.ServiceOperations.CLEAN,function(){return t.raw.clean(e.map(function(e){return e.getPath()}))})},t.prototype.undo=function(){var e=this;return this.run(h.ServiceOperations.UNDO,function(){return e.raw.undo()})},t.prototype.reset=function(e,t){var n=this;return this.run(h.ServiceOperations.RESET,function(){return n.raw.reset(e,(t||[]).map(function(e){return e.getPath()}))})},t.prototype.fetch=function(){var e=this;return this.run(h.ServiceOperations.BACKGROUND_FETCH,function(){return e.raw.fetch()})},t.prototype.pull=function(){var e=this;return this.run(h.ServiceOperations.PULL,function(){return e.raw.pull()})},t.prototype.push=function(){var e=this;return this.run(h.ServiceOperations.PUSH,function(){return e.raw.push()})},t.prototype.sync=function(){var e=this;return this.run(h.ServiceOperations.SYNC,function(){return e.raw.sync()})},t.prototype.commit=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),this.run(h.ServiceOperations.COMMIT,function(){return r.raw.commit(e,t,n)})},t.prototype.detectMimetypes=function(e,t){return void 0===t&&(t="~"),this.raw.detectMimetypes(e,t)},t.prototype.run=function(e,t){var n=this;return this.raw.serviceState().then(function(r){return r===h.RawServiceState.GitNotFound?(n.transition(h.ServiceState.NoGit),i.Promise.as(null)):n._run(e,t)})},t.prototype._run=function(e,t){var o=this,s=new b.GitOperation(e,t);this.operations.push(s),this.emit(h.ServiceEvents.OPERATION_START,s),this.emit(h.ServiceEvents.OPERATION,s);var u=function(e){void 0===e&&(e=null);var t=o.operations.indexOf(s);t>-1&&o.operations.splice(t,1);var n={operation:s,error:e};o.emit(h.ServiceEvents.OPERATION_END,n),o.onGitServiceOperationEnd(n),o.emit(h.ServiceEvents.OPERATION,s)};return s.run().then(function(e){return o.model.update(e),u(),e?o.transition(a.isUndefinedOrNull(e.state)?h.ServiceState.OK:e.state):o.transition(h.ServiceState.NotARepo),o.model},function(e){if(u(e),c.isPromiseCanceledError(e))return i.Promise.wrapError(e);var t=e.gitErrorCode||null;if(t===h.GitErrorCodes.NotAtRepositoryRoot)return o.transition(h.ServiceState.NotAtRepoRoot),i.Promise.as(o.model);if(o.emit(h.ServiceEvents.ERROR,e),o.transition(h.ServiceState.OK),t===h.GitErrorCodes.NoUserNameConfigured||t===h.GitErrorCodes.NoUserEmailConfigured)return o.messageService.show(S.Warning,n.localize("vs_workbench_contrib_git_gitServices",5)),o.terminalService?o.terminalService.execute("git config --global -e"):i.Promise.as(null);if(t===h.GitErrorCodes.BadConfigFile)o.messageService.show(S.Error,n.localize("vs_workbench_contrib_git_gitServices",6,e.message));else if(t===h.GitErrorCodes.UnmergedChanges)return o.messageService.show(S.Warning,n.localize("vs_workbench_contrib_git_gitServices",7)),i.Promise.as(null);var s,a=new l.Action("show.gitOutput",n.localize("vs_workbench_contrib_git_gitServices",8),null,!0,function(){return o.outputService.showOutput("Git")}),d=new l.Action("close.message",n.localize("vs_workbench_contrib_git_gitServices",9),null,!0,function(){return i.Promise.as(!0)});return s=r.isNative?c.error(n.localize("vs_workbench_contrib_git_gitServices",10),[a,d]):c.error(n.localize("vs_workbench_contrib_git_gitServices",11),[d,o.checkConsoleAction]),s.gitErrorCode=t,i.Promise.wrapError(s)})},t.prototype.transition=function(e){var t=this.state;this.state=e,e!==t&&this.emit(h.ServiceEvents.STATE_CHANGED,e)},t.prototype.buffer=function(e,t){return void 0===t&&(t="~"),this.raw.show(e,t)},t.prototype.show=function(e,t,o,s){var a=this;return void 0===o&&(o="~"),void 0===s&&(s="text/plain"),this.detectMimetypes(e,o).then(function(s){var l,c=t.getPathComponents(),d=c[c.length-1],p=T("/"+c.slice(0,c.length-1).join("/"));return l="~"===o?n.localize("vs_workbench_contrib_git_gitServices",12,p):n.localize("vs_workbench_contrib_git_gitServices",13,p,o),u.isUnspecific(s)&&(s=u.guessMimeTypes(e)),r.isWeb?i.Promise.as(a.instantiationService.createInstance(g.GitIndexEditorInput,d,l,a.getShowURL(e,o),s.join(", "),t)):u.isBinaryMime(u.guessMimeTypes(e))||s.indexOf(u.MIME_BINARY)>=0?i.Promise.as(a.instantiationService.createInstance(g.GitIndexEditorInput,d,l,null,u.MIME_BINARY,t)):i.Promise.as(a.instantiationService.createInstance(g.NativeGitIndexStringEditorInput,d,l,s.join(", "),t,e,o))})},t.prototype.getShowURL=function(e,t){return void 0===t&&(t="~"),this.requestService.getRequestUrl("git","show/"+t+"/"+e)},t.prototype.getInput=function(e){var t=this;return this.inputCache.getInput(e).then(null,function(e){return(e.gitErrorCode=h.GitErrorCodes.CantOpenResource)?(t.messageService.show(S.Warning,n.localize("vs_workbench_contrib_git_gitServices",14)),i.Promise.as(null)):i.Promise.wrapError(e)})},t.prototype.isInitialized=function(){return this.state===h.ServiceState.OK},t.prototype.isIdle=function(){return this.isInitialized()&&!this.operations.some(function(e){return e.id!==h.ServiceOperations.BACKGROUND_FETCH})},t.prototype.getRunningOperations=function(){return this.operations},t.prototype.setCredentialHandler=function(e){r.isWeb&&this.raw.setCredentialHandler(e)},t.prototype.beforeShutdown=function(){return null},t.prototype.onOutput=function(){return this.raw.onOutput()},t.prototype.onCommandStart=function(e){if(/^(git|setup)\b/.test(e.command)){var t=new b.CommandOperation(e.command);this.operations.push(t),this.emit(h.ServiceEvents.OPERATION_START,t),this.emit(h.ServiceEvents.OPERATION,t)}},t.prototype.onCommandEnd=function(e){if(/^(git|setup)\b/.test(e.command)){var t=-1;if(this.operations.some(function(n,r){if(!(n instanceof b.CommandOperation))return!1;var i=n;return i.input!==e.command?!1:(t=r,!0)}),t>-1){var n=this.operations[t];this.operations.splice(t,1);var r={operation:n,error:null};this.emit(h.ServiceEvents.OPERATION_END,r),this.onGitServiceOperationEnd(r),this.emit(h.ServiceEvents.OPERATION,n)}}},t.toPaths=function(e){return e?e.map(function(e){switch(e.getStatus()){case h.Status.MODIFIED:case h.Status.DELETED:if(e.getRename())return e.getRename();default:return e.getPath()}}):null},t.prototype.dispose=function(){this.model.dispose(),this.model=null,this.remoteListenerUnbind&&(this.remoteListenerUnbind(),this.remoteListenerUnbind=null),this._checkConsoleAction&&(this._checkConsoleAction.dispose(),this._checkConsoleAction=null),e.prototype.dispose.call(this)},t.ID="Monaco.IDE.UI.Services.GitService",t}(d.EventEmitter);t.GitService=A}),define("vs/workbench/contrib/git/gitEditorContributions",["require","exports","vs/base/env","vs/editor/core/constants","vs/workbench/contrib/files/files","vs/editor/editor","vs/workbench/contrib/git/git","vs/base/time/schedulers","vs/base/errors","vs/base/lifecycle"],function(e,t,n,r,i,o,s,a,l,c){var u=function(){function e(e,t){this.gitService=e.gitService,this.requestService=e.requestService,this.editor=t,this.toUnbind=[this.editor.addListener(r.EventType.ModelChanged,this.onModelChanged.bind(this))],this.decorations=[],this.model=null,this.unbindModelListener=null}return e.prototype.getId=function(){return e.ID},e.prototype.onModelChanged=function(){if(this.model&&(this.decorations=this.model.deltaDecorations(this.decorations,[]),this.unbindModelListener(),this.unbindModelListener=null,this.model=null),this.requestService&&this.gitService){var e=this.editor.getModel();if(e){var t=e.getAssociatedResource();if(t){var n=this.requestService.getPath("root",t);if(n){var i=this.gitService.getModel(),o=i.getStatus().find(n,s.StatusType.MERGE);o&&(this.model=e,this.redecorate(),this.unbindModelListener=this.model.addListener(r.EventType.ModelContentChanged,this.redecorate.bind(this)))}}}}},e.prototype.redecorate=function(){for(var t=[],n=this.model.getLineCount(),r=1;n>=r;r++){var i=this.model.getLineContent(r).substr(0,7);switch(i){case"<<<<<<<":case"=======":case">>>>>>>":t.push({range:{startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1},options:e.DECORATION_OPTIONS})}}this.decorations=this.model.deltaDecorations(this.decorations,t)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Editor.MergeDecorator",e.DECORATION_OPTIONS={className:"git-merge-control-decoration",isWholeLine:!0,overviewRuler:{color:"rgb(197, 118, 0)",position:o.OverviewRulerLane.Left}},e}();t.MergeDecorator=u;var d=function(){function e(e,t){var n=this;this.requestService=e.requestService,this.editorService=e.editorService,this.contextService=e.contextService,this.gitService=e.gitService,this.editor=t,this.globalToDispose=[],this.globalToDispose.push(this.editor.addListener2(r.EventType.ModelChanged,this.onChanges.bind(this))),this.globalToDispose.push(this.editor.addListener2(r.EventType.ModelModeChanged,this.onChanges.bind(this))),this.globalToDispose.push(this.editor.addListener2(r.EventType.ModelModeSupportChanged,function(e){e.dirtyDiffSupport&&n.onChanges()})),this.globalToDispose.push(this.gitService.addListener2(s.ServiceEvents.STATE_CHANGED,function(){return n.onChanges()})),this.globalToDispose.push(this.gitService.addListener2(s.ServiceEvents.OPERATION_END,function(e){e.operation.id!==s.ServiceOperations.STATUS&&e.operation.id!==s.ServiceOperations.BACKGROUND_FETCH&&n.onChanges()})),this.localToDispose=[],this.onChanges()}return e.prototype.getId=function(){return e.ID},e.prototype.onChanges=function(){var e=this;if(this.localToDispose=c.disposeAll(this.localToDispose),this.requestService&&this.editorService&&this.gitService&&this.gitService.getState()===s.ServiceState.OK&&this.editorService.getVisibleEditors().some(function(t){return t.getControl()===e.editor&&t.input instanceof i.FileEditorInput})){var t=this.editor.getModel();if(t&&t.getMode().dirtyDiffSupport){var n=t.getAssociatedResource();if(n&&("http"===n.scheme||"https"===n.scheme||"file"===n.scheme&&this.contextService.toWorkspaceRelativePath(n))){var r=this.requestService.getPath("root",n);!r||r.indexOf("/.git/")>-1||this.setup(t,r)}}}},e.prototype.setup=function(e,t){var i,o,c=this,u=null,d=null;t=t.replace(/^\//,"");var p=this.gitService.getModel(),h=p.getStatus().find(t,s.StatusType.INDEX),m=h?"~":"HEAD";if(n.isWeb){var f=this.gitService.getShowURL(t,m);if(!f)return;u=this.requestService.makeRequest({url:f}),u.then(function(t){u=null,e.setProperty("original",t.responseText),i.schedule()}).done(null,l.onUnexpectedError)}else u=this.gitService.buffer(t,m),u.then(function(t){u=null,e.setProperty("original",t),i.schedule()}).done(null,l.onUnexpectedError);this.localToDispose.push(e.addListener2(r.EventType.ModelContentChanged,function(){u||i.schedule()})),i=new a.RunOnceScheduler(function(){d&&(d.cancel(),d=null),d=e.getMode().dirtyDiffSupport.computeDirtyDiff(e.getAssociatedResource(),!0),d.then(function(t){d=null,o=e.deltaDecorations(o,c.getDecorations(t||[]))}).done(null,l.onUnexpectedError)},500),this.localToDispose.push({dispose:function(){u&&(u.cancel(),u=null),d&&(d.cancel(),d=null),i.dispose(),o=e.deltaDecorations(o,[])}})},e.prototype.getDecorations=function(t){return t.map(function(t){var n=t.modifiedStartLineNumber,r=t.modifiedEndLineNumber||n;return 0===t.originalEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:r,endColumn:1},options:e.ADDED_DECORATION_OPTIONS}:0===t.modifiedEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1},options:e.DELETED_DECORATION_OPTIONS}:{range:{startLineNumber:n,startColumn:1,endLineNumber:r,endColumn:1},options:e.MODIFIED_DECORATION_OPTIONS}})},e.prototype.dispose=function(){this.localToDispose=c.disposeAll(this.localToDispose),this.globalToDispose=c.disposeAll(this.globalToDispose)},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Editor.DirtyDiffDecorator",e.MODIFIED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-modified-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e.ADDED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-added-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e.DELETED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-deleted-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e
}();t.DirtyDiffDecorator=d}),define("vs/css!vs/base/ui/widgets/credentials",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/credentials",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/base/dom/builder","vs/base/dom/keyboardEvent","vs/base/eventEmitter","vs/base/ui/widgets/inputBox","vs/css!./credentials"],function(e,t,n,r,i,o,s,a){var l=i.$;t.EventType={Credentials:"credentials",Cancel:"cancel"};var c=function(e){function i(t,n){e.call(this),this.context=n,this.render(t)}return __extends(i,e),Object.defineProperty(i.prototype,"usernameInput",{get:function(){return this._usernameInput},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"passwordInput",{get:function(){return this._passwordInput},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"storeInput",{get:function(){return this.$storeInput},enumerable:!0,configurable:!0}),i.prototype.render=function(e){var t=this;this.$el=l(".monaco-credentials").appendTo(e),this.$el.on("keydown",function(e){var n=new o.KeyboardEvent(e);"Enter"===n.asString()&&"input"===n.target.tagName.toLowerCase()?(n.preventDefault(),n.stopPropagation(),t.submit()):"Escape"===n.asString()&&(n.preventDefault(),n.stopPropagation(),t.cancel())},null,!0);var i=r.format("{0}://{1}/{2}",this.context.protocol,this.context.host,this.context.path);l("p").text(n.localize("vs_base_ui_widgets_credentials",0)).appendTo(this.$el),l("pre").text(i).appendTo(this.$el);var s=l(".credentials").appendTo(this.$el),c=l("p.field.input").appendTo(s),u=n.localize("vs_base_ui_widgets_credentials",1);this._usernameInput=new a.InputBox(c.getHTMLElement(),null,{placeholder:u,ariaLabel:u});var d=l("p.field.input").appendTo(s),p=n.localize("vs_base_ui_widgets_credentials",2);this._passwordInput=new a.InputBox(d.getHTMLElement(),null,{placeholder:p,ariaLabel:p,type:"password"});var h=n.localize("vs_base_ui_widgets_credentials",3),m=n.localize("vs_base_ui_widgets_credentials",4),f=l("p.field").appendTo(s),v=l("label").appendTo(f);this.$storeInput=l("input.input.remember-me").type("checkbox").title(h).attr("aria-label",m).appendTo(v),l("span.label").innerHtml(n.localize("vs_base_ui_widgets_credentials",5)).title(h).appendTo(v);var g=l("p.buttons").appendTo(s);l("button.default").innerHtml(n.localize("vs_base_ui_widgets_credentials",6)).on("click",function(){return t.submit()}).appendTo(g),l("button").innerHtml(n.localize("vs_base_ui_widgets_credentials",7)).on("click",function(){return t.cancel()}).appendTo(g)},i.prototype.focus=function(){var e=!!this.usernameInput.value,t=!!this.passwordInput.value;e&&!t?this.passwordInput.focus():this.usernameInput.focus()},i.prototype.focusNext=function(){document.activeElement===this.usernameInput.inputElement?this.passwordInput.focus():document.activeElement===this.passwordInput.inputElement?this.storeInput.domFocus():this.usernameInput.focus()},i.prototype.submit=function(){this.emit(t.EventType.Credentials,{username:this.usernameInput.value,password:this.passwordInput.value,store:!!this.$storeInput.getHTMLElement().checked})},i.prototype.cancel=function(){this.emit(t.EventType.Cancel)},i.prototype.dispose=function(){this._usernameInput&&(this._usernameInput.dispose(),this._usernameInput=null),this._passwordInput&&(this._passwordInput.dispose(),this._passwordInput=null),this.$storeInput&&(this.$storeInput.destroy(),this.$storeInput=null),this.$el&&(this.$el.destroy(),this.$el=null),e.prototype.dispose.call(this)},i}(s.EventEmitter);t.Credentials=c}),define("vs/workbench/contrib/git/gitWorkbenchContributions",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/async","vs/base/errors","vs/base/lifecycle","vs/base/lib/winjs.base","vs/workbench/ui/services","vs/workbench/contrib/git/git","vs/base/ui/widgets/credentials","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){var t=this;this.gitService=e.gitService,this.eventService=e.eventService,this.requestService=e.requestService,this.activityService=e.activityService,this.messageService=e.messageService,this.progressBadgeDelayer=new r.Delayer(200),this.toDispose=[],this.toDispose.push(this.gitService.addBulkListener2(function(){return t.onGitServiceChange()}))}return e.prototype.onGitServiceChange=function(){var e=this;this.gitService.getState()!==l.ServiceState.OK?(this.progressBadgeDelayer.cancel(),this.activityService.showActivity("workbench.view.git",null,"git-viewlet-label")):this.gitService.isIdle()?this.showChangesBadge():this.progressBadgeDelayer.trigger(function(){e.activityService.showActivity("workbench.view.git",new a.ProgressBadge(function(){return n.localize("vs_workbench_contrib_git_gitWorkbenchContributions",0)}),"git-viewlet-label-progress")})},e.prototype.showChangesBadge=function(){var e=this.gitService.getModel().getStatus().getGroups().map(function(e){return e.all().length}).reduce(function(e,t){return e+t},0),t=new a.NumberBadge(e,function(e){return n.localize("vs_workbench_contrib_git_gitWorkbenchContributions",1,e)});this.progressBadgeDelayer.cancel(),this.activityService.showActivity("workbench.view.git",t,"git-viewlet-label")},e.prototype.getId=function(){return e.ID},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){this.toDispose=o.disposeAll(this.toDispose)},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Workbench.StatusUpdater",e}();t.StatusUpdater=d;var p;!function(e){e[e.Disabled=0]="Disabled",e[e.Inactive=1]="Inactive",e[e.Active=2]="Active",e[e.Fetching=3]="Fetching"}(p||(p={}));var h=function(){function e(t){var n=this;this.state=p.Disabled,this.gitService=t.gitService,this.eventService=t.eventService,this.currentRequest=null,this.timeout=e.MIN_TIMEOUT,this.toDispose=[],this.toDispose.push(this.gitService.addListener2(l.ServiceEvents.STATE_CHANGED,function(e){return n.onGitServiceStateChange(e)})),this.toDispose.push(this.eventService.addListener2(l.Events.CREDENTIALS_CANCELLED,function(){return n.onCredentialsCancelled()})),this.onGitServiceStateChange(this.gitService.getState())}return e.prototype.getId=function(){return e.ID},e.prototype.onGitServiceStateChange=function(e){(this.state=p.Disabled)||(e===l.ServiceState.OK?this.activate():this.deactivate())},e.prototype.onCredentialsCancelled=function(){this.state===p.Fetching&&this.disable()},e.prototype.activate=function(){this.currentRequest&&this.currentRequest.cancel(),this.state=p.Active,this.loop()},e.prototype.deactivate=function(){this.currentRequest&&(this.state=p.Inactive,this.currentRequest.cancel(),this.currentRequest=null)},e.prototype.disable=function(){this.deactivate(),this.state=p.Disabled},e.prototype.loop=function(){var t=this;this.state=p.Fetching,this.currentRequest=this.gitService.fetch().then(function(){t.timeout=e.MIN_TIMEOUT},function(n){return i.isPromiseCanceledError(n)?s.Promise.wrapError(n):(t.timeout=Math.min(Math.round(1.2*t.timeout),e.MAX_TIMEOUT),void 0)}),this.currentRequest.then(function(){return t.state=p.Active,t.currentRequest=s.Promise.timeout(t.timeout),t.currentRequest}).then(function(){return t.loop()})},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){this.deactivate(),this.toDispose=o.disposeAll(this.toDispose)},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Workbench.AutoFetcher",e.MIN_TIMEOUT=12e4,e.MAX_TIMEOUT=3e5,e}();t.AutoFetcher=h;var m=function(){function e(e){this.gitService=e.gitService,this.messageService=e.messageService,this.editorService=e.editorService,this.eventService=e.eventService,this.currentRequest=null,this.toDispose=[],this.gitService.setCredentialHandler(this)}return e.prototype.getId=function(){return e.ID},e.prototype.requestCredentials=function(e){var t=this;return this.currentRequest&&(this.currentRequest(),this.currentRequest=null),new s.TPromise(function(i){t.currentRequest=r.once(t.messageService.show(u.Info,{message:n.localize("vs_workbench_contrib_git_gitWorkbenchContributions",2),render:function(n){var s=new c.Credentials(n,e),a=[s],u=r.once(function(e){e?i(e):(i({username:"",password:"",store:!1}),t.eventService.emit(l.Events.CREDENTIALS_CANCELLED)),t.currentRequest&&(t.currentRequest(),t.currentRequest=null),t.editorService.focusEditor()});return a.push(s.addListener2(c.EventType.Credentials,u)),a.push(s.addListener2(c.EventType.Cancel,function(){return u(null)})),a.push({dispose:function(){return u(null)}}),s.focus(),o.combinedDispose2(a)}}))})},e.prototype.beforeShutdown=function(){return this.currentRequest?n.localize("vs_workbench_contrib_git_gitWorkbenchContributions",3):null},e.prototype.dispose=function(){this.gitService=null,this.messageService=null},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Workbench.CredentialManager",e}();t.CredentialManager=m}),define("vs/css!vs/workbench/contrib/git/media/git.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/git.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/platform/platform","vs/base/ui/actions","vs/workbench/ui/parts/viewlet","vs/platform/actionRegistry","vs/editor/editorExtensions","vs/editor/modes/modesExtensions","vs/workbench/core/extensions","vs/workbench/ui/actionRegistry","vs/workbench/contrib/git/git","vs/workbench/contrib/build/build","vs/workbench/contrib/terminal/terminal","vs/workbench/ui/quickopen/quickOpen","./gitServices","./gitEditorContributions","./gitWorkbenchContributions","vs/css!./media/git.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y){t.VIEWLET_ID="workbench.view.git";var _=function(e){function r(n){e.call(this,n,r.ID,r.LABEL,t.VIEWLET_ID)}return __extends(r,e),r.ID=t.VIEWLET_ID,r.LABEL=n.localize("vs_workbench_contrib_git_git.contribution",0),r}(a.ToggleViewletAction),w=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.quickOpenService=n.quickOpenService}return __extends(t,e),t.prototype.run=function(){return this.quickOpenService.show("git "),i.Promise.as(null)},t.ID="workbench.action.git.executeGitCommands",t.LABEL=n.localize("vs_workbench_contrib_git_git.contribution",1),t}(s.Action);r.enableGit&&(o.Registry.as(a.Extensions.Viewlets).registerViewlet(new a.ViewletDescriptor("vs/workbench/contrib/git/gitViewlet","GitViewlet",t.VIEWLET_ID,n.localize("vs_workbench_contrib_git_git.contribution",2),"git",35)),o.Registry.as(p.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(_,_.ID,_.LABEL),n.localize("vs_workbench_contrib_git_git.contribution",3)),o.Registry.as(p.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(w,w.ID,w.LABEL)),o.Registry.as(d.Extensions.Services).registerService(new d.WorkbenchServiceDescriptor(g.GitService,h.GIT_SERVICE_ID,[f.TERMINAL_SERVICE_ID,m.BUILD_SERVICE_ID])),c.registerEditorContribution(b.MergeDecorator),c.registerEditorContribution(b.DirtyDiffDecorator),o.Registry.as(d.Extensions.Workbench).registerWorkbenchExtension(y.StatusUpdater),o.Registry.as(d.Extensions.Workbench).registerWorkbenchExtension(y.AutoFetcher),o.Registry.as(d.Extensions.Workbench).registerWorkbenchExtension(y.CredentialManager),o.Registry.as(v.Extensions.Quickopen).registerQuickOpenHandler(new v.QuickOpenHandlerDescriptor("vs/workbench/contrib/git/gitQuickOpen","QuickOpenHandler","git ",n.localize("vs_workbench_contrib_git_git.contribution",4))),u.registerMode("vs.workbench.contrib.process.GitCommitMode",null,["text/x-git-commit"],"vs/workbench/contrib/git/gitEditorModes","GitCommitMode"),u.registerMode("vs.workbench.contrib.process.GitRebaseMode",null,["text/x-git-rebase"],"vs/workbench/contrib/git/gitEditorModes","GitRebaseMode"))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitActions.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lifecycle","vs/platform/platform","vs/workbench/ui/actionBarRegistry","vs/base/lib/winjs.base","vs/workbench/ui/services","vs/editor/core/constants","vs/editor/core/range","vs/editor/core/model/model","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/textDiffEditor","vs/workbench/ui/parts/editor/textEditor","vs/workbench/contrib/files/files","vs/workbench/contrib/git/git.contribution","vs/workbench/contrib/git/git","vs/workbench/contrib/git/gitEditorInputs"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y){function _(e){e.sort(function(e,t){return e.originalStartLineNumber<t.originalStartLineNumber?-1:e.originalStartLineNumber>t.originalStartLineNumber?1:e.modifiedStartLineNumber<t.modifiedStartLineNumber?-1:1})}function w(e){e.sort(function(e,t){return e.getStartPosition().lineNumber<t.getStartPosition().lineNumber?-1:1})}function E(e){return e.originalEndLineNumber<=0}function S(e){return e.modifiedEndLineNumber<=0}var T=function(e){function t(n){var r=this;e.call(this,t.ID,t.Label),this.class="git-action open-in-diff",this.gitService=n.gitService,this.viewletService=n.viewletService,this.editorService=n.editorService,this.partService=n.partService,this.contextService=n.contextService,this.toDispose=[this.gitService.addBulkListener2(function(){return r.onGitStateChanged()})],this.enabled=this.isEnabled()}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.getStatus();return t&&(t.getStatus()===b.Status.MODIFIED||t.getStatus()===b.Status.INDEX_MODIFIED||t.getStatus()===b.Status.INDEX_RENAMED)},t.prototype.onGitStateChanged=function(){this.gitService.isIdle()&&(this.enabled=this.isEnabled())},t.prototype.getStatus=function(){var e=this.input,t=this.gitService.getModel().getStatus(),n=this.contextService.toWorkspaceRelativePath(e.getResource());return n?t.getWorkingTreeStatus().find(n)||t.getIndexStatus().find(n):null},t.prototype.run=function(e){var t=this,n=!(!e||!e.ctrlKey&&!e.metaKey),r=this.editorService.getActiveEditor().getControl(),i=r?r.saveViewState():null;return this.gitService.getInput(this.getStatus()).then(function(e){var r=a.Promise.as(null);return t.partService.isVisible(l.Parts.SIDEBAR_PART)&&(r=t.viewletService.openViewlet(g.VIEWLET_ID,!1)),r.then(function(){var r=new h.TextDiffEditorOptions;return r.forceOpen=!0,r.autoRevealFirstChange=!1,t.editorService.openEditor(e,r,n).then(function(){if(i){var e=t.editorService.getActiveEditor().getControl();e.restoreViewState({original:{},modified:i})}})})})},t.prototype.dispose=function(){this.toDispose=i.disposeAll(this.toDispose)},t.ID="workbench.git.action.openInDiff",t.Label=n.localize("vs_workbench_contrib_git_gitActions.contribution",0),t}(p.EditorInputAction),k=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.class="git-action open-in-editor",this.gitService=n.gitService,this.fileService=n.fileService,this.viewletService=n.viewletService,this.editorService=n.editorService,this.partService=n.partService,this.enabled=this.isEnabled()}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var n=this.input.getFileStatus();return t.DELETED_STATES.indexOf(n.getStatus())>-1?!1:!0},t.prototype.run=function(e){var t=this,n=!(!e||!e.ctrlKey&&!e.metaKey),r=this.saveTextViewState(),i=this.getPath();return this.fileService.resolveFileStat(i).then(function(e){return t.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}},n).then(function(){return t.restoreTextViewState(r),t.partService.isVisible(l.Parts.SIDEBAR_PART)?t.viewletService.openViewlet(v.VIEWLET_ID,!1):void 0})})},t.prototype.saveTextViewState=function(){var e=this.getTextEditor();return e?e.saveViewState():null},t.prototype.restoreTextViewState=function(e){var t=this.getTextEditor();return t?t.restoreViewState(e):void 0},t.prototype.getTextEditor=function(){var e=this.editorService.getActiveEditor();return e instanceof m.TextDiffEditor?e.getControl().getModifiedEditor():e instanceof f.BaseTextEditor?e.getControl():null},t.prototype.getPath=function(){var e=this.input.getFileStatus();if(e.getStatus()===b.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),b.StatusType.INDEX);return t&&t.getStatus()===b.Status.INDEX_RENAMED?t.getRename():e.getPath()},t.DELETED_STATES=[b.Status.BOTH_DELETED,b.Status.DELETED,b.Status.DELETED_BY_US,b.Status.INDEX_DELETED],t.ID="workbench.git.action.openInEditor",t.LABEL=n.localize("vs_workbench_contrib_git_gitActions.contribution",1),t}(p.EditorInputAction),C=function(e){function t(t,r){e.call(this,"workbench.git.action.stageRanges",n.localize("vs_workbench_contrib_git_gitActions.contribution",2)),this.editorService=t.editorService,this.gitService=t.gitService,this.editor=r.getControl(),this.editor.addListener(c.EventType.CursorSelectionChanged,this.updateEnablement.bind(this)),this.editor.addListener(c.EventType.DiffUpdated,this.updateEnablement.bind(this)),this.class="git-action stage-ranges"}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService||!this.editorService)return!1;var n=this.editor.getLineChanges(),r=this.editor.getSelections();return n&&r&&0!==r.length?t.getSelectedChanges(n,r).length>0:!1},t.prototype.run=function(){var e=this,n=t.stageRanges(this.editor),r=this.input.getFileStatus(),i=r.getPath(),o=this.editor.saveViewState();return this.gitService.stage(r.getPath(),n.getValue()).then(function(){var t=e.gitService.getModel().getStatus();return r=t.getWorkingTreeStatus().find(i)||t.getIndexStatus().find(i),r?e.gitService.getInput(r).then(function(t){var n=new h.TextDiffEditorOptions;return n.forceOpen=!0,n.autoRevealFirstChange=!1,e.editorService.openEditor(t,n,e.position).then(function(){e.editor.restoreViewState(o)})}):void 0})},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.stageRanges=function(e){var t=e.getSelections(),n=this.getSelectedChanges(e.getLineChanges(),t);return this.applyChangesToModel(e.getModel().original,e.getModel().modified,n)},t.intersectChangeAndSelection=function(e,t){var n={modifiedStartLineNumber:Math.max(e.modifiedStartLineNumber,t.startLineNumber),modifiedEndLineNumber:Math.min(e.modifiedEndLineNumber,t.endLineNumber),originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber},r=S(n)&&e.modifiedStartLineNumber>=t.startLineNumber&&e.modifiedStartLineNumber<=t.endLineNumber;return n.modifiedStartLineNumber<=n.modifiedEndLineNumber||r?n:null},t.getSelectedChanges=function(e,t){_(e),w(t);for(var n=[],r=0,i=-1,o=0;o<e.length;++o)for(r=Math.max(0,r-1);r<t.length&&(t[r].startLineNumber<=e[o].modifiedEndLineNumber||S(e[o]));){var s=this.intersectChangeAndSelection(e[o],t[r]);null!==s&&(i!==s.modifiedStartLineNumber?(n.push(s),i=s.modifiedEndLineNumber):(s.modifiedStartLineNumber++,s.modifiedStartLineNumber<=s.modifiedEndLineNumber&&(n.push(s),i=s.modifiedEndLineNumber))),r++}return n},t.appendValueFromRange=function(e,t,n){var r=e;return""!==r&&(r+=t.getEOL()),r+t.getValueInRange(n)},t.applyChangesToModel=function(e,t,n){_(n);for(var r="",i=1,o=0;o<n.length;++o){var s=E(n[o])?n[o].originalStartLineNumber+1:n[o].originalStartLineNumber;s>i&&(r=this.appendValueFromRange(r,e,new u.Range(i,1,s-1,e.getLineMaxColumn(s-1))),i=s),S(n[o])||(r=this.appendValueFromRange(r,t,new u.Range(n[o].modifiedStartLineNumber,1,n[o].modifiedEndLineNumber,t.getLineMaxColumn(n[o].modifiedEndLineNumber)))),E(n[o])||(i=n[o].originalEndLineNumber+1)}return i<=e.getLineCount()&&(r=this.appendValueFromRange(r,e,new u.Range(i,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())))),new d.Model(r,e.getMode())},t}(p.EditorInputAction);t.StageRangesAction=C;var x=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof v.FileEditorInput},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(T)]},t}(p.EditorInputActionContributor),A=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return y.isGitEditorInput(e.input)},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(k)]},t}(p.EditorInputActionContributor),L=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActionsForEditorInput=function(e){return e.input instanceof y.GitWorkingTreeDiffEditorInput&&e.editor instanceof m.TextDiffEditor},t.prototype.getSecondaryActionsForEditorInput=function(e){return[this.instantiationService.createInstance(C,e.editor)]},t}(p.EditorInputActionContributor);if(r.enableGit){var N=o.Registry.as(s.Extensions.Actionbar);N.registerActionBarContributor(s.Scope.EDITOR,x),N.registerActionBarContributor(s.Scope.EDITOR,A),N.registerActionBarContributor(s.Scope.EDITOR,L)}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/output/output",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/base/env","vs/base/errors","vs/workbench/ui/parts/editor/logEditorInput"],function(e,t,n,r,i,o,s,a){function l(){var e,t=window.location.hostname;return e=o.runFromAzure?t.indexOf(".scm")>=0?t.replace(".scm",""):t:t+":9888","http://"+e}function c(e){return o.platform===o.Platform.Web?r.localize("vs_workbench_contrib_output_output",0,l()):e?r.localize("vs_workbench_contrib_output_output",1,e):""}t.OUTPUT_MIME="text/x-monaco-output",t.OUTPUT_MODE_ID="Log",t.OUTPUT_EDITOR_INPUT_ID="vs.output",t.DEFAULT_OUTPUT_CHANNEL="",t.RUN_CONFIG_SECTION="run",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.getApplicationUrl=l;var u=function(e){function i(n,i){e.call(this,n,r.localize("vs_workbench_contrib_output_output",2),c(i),"",t.OUTPUT_MIME,!0),this.channel=i,this.toUnbind=[],this.eventService=n.eventService,this.requestService=n.requestService,this.outputService=n.outputService,this.outputService.onOutput.add(this.onOutputReceived,this)}return __extends(i,e),i.getInstances=function(){return Object.keys(i.instances).map(function(e){return i.instances[e]})},i.getInstance=function(e,t){return i.instances[t]?i.instances[t]:(i.instances[t]=e.createInstance(i,t),i.instances[t])},i.prototype.onOutputReceived=function(e){this.outputSet&&e.channel===this.channel&&(e.output?(this.append(e.output),this.trim(i.MAX_OUTPUT_LINES)):this.clearValue())},i.prototype.getId=function(){return t.OUTPUT_EDITOR_INPUT_ID},i.prototype.resolve=function(t){var n=this;return e.prototype.resolve.call(this,t).then(function(e){if(n.outputSet)return e;var t=n.getInitialOutput();return t.then(function(t){return n.setValue(t+n.outputService.getOutput(n.channel)),n.outputSet=!0,e})})},i.prototype.getInitialOutput=function(){var e=this.requestService.getRequestUrl("output");return e?this.requestService.makeRequest({url:e}).then(function(e){var t=[];try{var n=JSON.parse(e.responseText);n.configurationMessage?t.push(n.configurationMessage):(t.push(r.localize("vs_workbench_contrib_output_output",3,l())),n&&n.level?((n.settingsCreated||n.settingsChanged)&&t.push(r.localize("vs_workbench_contrib_output_output",4)),o.azureWebSiteTryMode?t.push(r.localize("vs_workbench_contrib_output_output",6,n.level)):t.push(r.localize("vs_workbench_contrib_output_output",5,n.level,n.configurationUrl))):t.push(r.localize("vs_workbench_contrib_output_output",7)))}catch(i){s.onUnexpectedError(i)}return t.join("\n")}):n.TPromise.as("")},i.prototype.clearOutput=function(){this.outputService&&this.outputService.clearOutput(this.channel)},i.prototype.getChannel=function(){return this.channel},i.prototype.matches=function(t){if(t instanceof i){var n=t;if(n.getChannel()===this.channel)return e.prototype.matches.call(this,t)}return!1},i.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.outputService.onOutput.remove(this.onOutputReceived,this),e.prototype.dispose.call(this)},i.instances=Object.create(null),i.MAX_OUTPUT_LINES=1e4,i}(a.LogEditorInput);t.OutputEditorInput=u;var d=function(){function e(){this.channels=[]}return e.prototype.registerChannel=function(e){-1===this.channels.indexOf(e)&&this.channels.push(e)},e.prototype.getChannels=function(){return this.channels.slice(0)},e}();i.Registry.add(t.Extensions.OutputChannels,new d)}),define("vs/workbench/contrib/output/outputServices",["require","exports","vs/base/lib/winjs.base","vs/base/lifecycle","vs/base/strings","vs/base/eventSource","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/contrib/output/output"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e){this.instantiationService=e.instantiationService,this.requestService=e.requestService,this.eventService=e.eventService,this.editorService=e.editorService,this._onOutput=new o,this.receivedOutput=Object.create(null),this.registerListeners()}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.value},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this,t=[];if(this.requestService.supportsRemoteEvents()){var n=this.requestService.addRemoteListener("output:data",function(t){return e.onOutputData(t)});t.push({dispose:n})}t.push(this.eventService.addListener2("output:data",function(t){return e.onOutputData(t)})),this.callOnDispose=r.combinedDispose2(t)},e.prototype.onOutputData=function(t){var n,r;if("string"==typeof t?(n=t,r=a.DEFAULT_OUTPUT_CHANNEL):(n=t.output,r=t.channel),this.receivedOutput[r]||(this.receivedOutput[r]=""),n=i.removeAnsiEscapeCodes(n)){var o=this.receivedOutput[r].length,s=n.length;if(s+o<=e.MAX_OUTPUT)this.receivedOutput[r]+=n;else if(s>e.MAX_OUTPUT)this.receivedOutput[r]="..."+n.substr(s-e.MAX_OUTPUT);else{var l=e.MAX_OUTPUT-s;this.receivedOutput[r]="..."+this.receivedOutput[r].substr(o-l)+n}}this._onOutput.fire({output:n,channel:r})},e.prototype.append=function(e,t){var n=a.DEFAULT_OUTPUT_CHANNEL;t?n=e:t=e,this.onOutputData({channel:n,output:t})},e.prototype.getOutput=function(e){return void 0===e&&(e=a.DEFAULT_OUTPUT_CHANNEL),this.receivedOutput[e]||""},e.prototype.getChannels=function(){return Object.keys(this.receivedOutput)},e.prototype.clearOutput=function(e){void 0===e&&(e=a.DEFAULT_OUTPUT_CHANNEL),this.receivedOutput[e]="",this._onOutput.fire({channel:e,output:null})},e.prototype.showOutput=function(e,t,r){void 0===e&&(e=a.DEFAULT_OUTPUT_CHANNEL);var i=this.findOutputEditor(e);return i?r?(i.revealLastLine(),n.Promise.as(i)):this.editorService.focusEditor(i):this.editorService.openEditor(a.OutputEditorInput.getInstance(this.instantiationService,e),r?s.EditorOptions.create({preserveFocus:!0}):null,t)},e.prototype.findOutputEditor=function(e){for(var t=this.editorService.getVisibleEditors(),n=0;n<t.length;n++){var r=t[n];if(r.input instanceof a.OutputEditorInput&&r.input.getChannel()===e&&r.input.getMime()===a.OUTPUT_MIME)return r}return null},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){this.callOnDispose&&(this.callOnDispose.dispose(),this.callOnDispose=null)},e.MAX_OUTPUT=1e6,e}();t.OutputService=l}),define("vs/workbench/contrib/output/output.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/editor/modes/modesExtensions","vs/workbench/core/extensions","vs/workbench/contrib/output/outputServices","vs/workbench/contrib/output/output","vs/workbench/ui/parts/editor/baseEditor"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(){}return e.prototype.serialize=function(e){var t=e;return t.getChannel()},e.prototype.deserialize=function(e,t){return a.OutputEditorInput.getInstance(e,t)},e}();n.enableOutput&&(r.Registry.as(o.Extensions.Services).registerService(new o.WorkbenchServiceDescriptor(s.OutputService,a.OUTPUT_SERVICE_ID)),r.Registry.as(l.Extensions.Editors).registerEditorInputFactory(a.OUTPUT_EDITOR_INPUT_ID,c),i.registerMode(a.OUTPUT_MODE_ID,null,[a.OUTPUT_MIME],"vs/workbench/contrib/output/outputMode","OutputMode"))}),define("vs/css!vs/workbench/ui/parts/activitybar/media/activityaction",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/activitybar/activityAction",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/ui/actions","vs/base/ui/widgets/actionbar","vs/workbench/ui/services","vs/css!./media/activityaction"],function(e,t,n,r,i,o,s){var a=(r.$,function(e){function t(t,n,r){e.call(this,t,n,r),this.badge=null}return __extends(t,e),t.prototype.activate=function(){this.checked||(this.checked=!0,this.emit("checked",{source:this}))},t.prototype.deactivate=function(){this.checked&&(this.checked=!1,this.emit("checked",{source:this}))},t.prototype.getBadge=function(){return this.badge},t.prototype.setBadge=function(e){this.badge=e,this.emit(t.BADGE,{source:this})},t.BADGE="badge",t}(i.Action));t.ActivityAction=a;var l=function(e){function t(t,n,r){void 0===n&&(n=t.label),void 0===r&&(r=null),e.call(this,null,t),this.cssClass=t.class,this.name=n,this._keybinding=r}return __extends(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.$e=r.$("a.action-label").attr({tabIndex:"0",role:"menuitem"}).appendTo(this.builder),this.cssClass&&this.$e.addClass(this.cssClass),this.$badge=this.builder.div({class:"badge"},function(e){n.$badgeContent=e.div({class:"badge-content",role:"presentation"})}),this.$badge.hide(),this.keybinding=this._keybinding},t.prototype.focus=function(){this.$e.domFocus()},t.prototype.setBadge=function(e){this.updateBadge(e)},Object.defineProperty(t.prototype,"keybinding",{set:function(e){if(this._keybinding=e,this.$e){var t;t=e?n.localize("vs_workbench_ui_parts_activitybar_activityAction",0,this.name,e):this.name,this.$e.title(t),this.$badge.title(t)}},enumerable:!0,configurable:!0}),t.prototype.updateBadge=function(e){if(this.$badgeContent.empty(),this.$badge.hide(),e){if(e instanceof s.NumberBadge){var t=e.number;t&&(this.$badgeContent.text(t>99?"99+":t.toString()),this.$badge.show())}else e instanceof s.TextBadge?(this.$badgeContent.text(e.text),this.$badge.show()):e instanceof s.ProgressBadge&&this.$badge.show();this.$e.attr("aria-label",this.name+" - "+e.getDescription())}},t.prototype._updateClass=function(){this.cssClass&&this.$badge.removeClass(this.cssClass),this.cssClass=this.getAction().class,this.$badge.addClass(this.cssClass)},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("active"):this.$e.removeClass("active")},t.prototype._updateUnknown=function(e){if(e.getType()===a.BADGE){var t=this.getAction();t instanceof a&&this.updateBadge(t.getBadge())}},t.prototype._updateEnabled=function(){this.getAction().enabled?this.builder.removeClass("disabled"):this.builder.addClass("disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.$badge.destroy(),this.$e.destroy()},t}(o.BaseActionItem);t.ActivityActionItem=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);
n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/output/outputActions",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/services","vs/platform/platform","vs/base/errors","vs/base/env","vs/base/strings","vs/base/ui/actions","vs/editor/editorExtensions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/contrib/output/output","vs/workbench/events","vs/workbench/ui/services","vs/workbench/ui/parts/activitybar/activityAction","vs/base/ui/widgets/actionbar"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){var b=function(e){function t(n){var o=this;e.call(this,t.ID,r.localize("vs_workbench_contrib_output_outputActions",0)),this.order=10,this.class="output-action runworkspace",this.runSuffix="",this.editorService=n.editorService,this.fileService=n.fileService,this.requestService=n.requestService,this.eventService=n.eventService,this.configurationService=n.configurationService,this.textFileService=n.textFileService,this.outputService=n.outputService,this.resolveRunUrl(),this.toUnbind=this.configurationService.addListener(i.ConfigurationServiceEventTypes.UPDATED,function(e){o.readConfig(e.config)})}return __extends(t,e),t.prototype.resolveRunUrl=function(){var e=this;this.configurationService.loadConfiguration().done(function(t){e.readConfig(t)},s.onUnexpectedError)},t.prototype.readConfig=function(e){this.runSuffix=e&&e[h.RUN_CONFIG_SECTION]&&e[h.RUN_CONFIG_SECTION].suffix?e[h.RUN_CONFIG_SECTION].suffix:""},t.prototype.run=function(){return this.textFileService.saveAll().done(null,s.onUnexpectedError),this.runWebsite()},t.prototype.runWebsite=function(){if(this.lastOpenedTab)try{this.lastOpenedTab.close()}catch(e){}var t=l.format("{0}?redirect={1}",this.requestService.getRequestUrl("run"),h.getApplicationUrl()+this.runSuffix);return this.lastOpenedTab=window.open(t,"monacorun"),this.eventService.emit("output:data",{output:"\n",channel:h.DEFAULT_OUTPUT_CHANNEL}),this.showOutput()},t.prototype.showOutput=function(){var e=this.editorService.getVisibleEditors().length,t=this.editorService.getActiveEditor(),n=e>0?!0:!1;return n&&t&&t.position===i.Position.RIGHT&&(n=!1),this.outputService.showOutput(h.DEFAULT_OUTPUT_CHANNEL,n,!0)},t.prototype.dispose=function(){this.toUnbind&&(this.toUnbind(),this.toUnbind=null),e.prototype.dispose.call(this)},t.ID="workbench.output.action.runWorkspace",t}(c.Action);t.GlobalRunWorkspaceAction=b;var y=function(e){function t(n){e.call(this,t.ID,r.localize("vs_workbench_contrib_output_outputActions",1)),this.outputService=n.outputService,this.editorService=n.editorService,this.quickopenService=n.quickOpenService,this.order=20,this.class="output-action showoutput"}return __extends(t,e),t.prototype.run=function(e){var t=this,r=null;if(a.isNative){var i=this.quickopenService.getEditorHistory().filter(function(e){return e instanceof h.OutputEditorInput});if(i.length>0){var s=this.editorService.getVisibleEditors();if(s.some(function(e){return e.input instanceof h.OutputEditorInput?(t.editorService.focusEditor(e),!0):!1}))return n.Promise.as(null);r=i[0].getChannel()}else r=o.Registry.as(h.Extensions.OutputChannels).getChannels()[0]}else r=h.DEFAULT_OUTPUT_CHANNEL;var l=!(!e||!e.ctrlKey&&!e.metaKey);return this.outputService.showOutput(r,l,!1)},t.ID="workbench.action.output.showOutput",t}(c.Action);t.GlobalShowOutputAction=y;var _=function(e){function t(t,n){var r=this;e.call(this,n),this.editorService=t.editorService,this.outputService=t.outputService,this.eventService=t.eventService,this.callOnDispose.push(this.eventService.addListener(m.EventType.EDITOR_INPUT_CHANGED,function(){r.onEditorInputChanged()})),this.outputService.onOutput.add(this.onOutputReceived,this)}return __extends(t,e),t.prototype.onEditorInputChanged=function(){var e=this.editorService.getVisibleEditors().some(function(e){return e.input instanceof p.StringEditorInput&&e.input.getMime()===h.OUTPUT_MIME});this.getAction().checked!==e&&(this.getAction().checked=e),e&&this.hasErrors&&(this.hasErrors=!1,this.setBadge(null),this.getAction().class="global-output")},t.prototype.onOutputReceived=function(e){if(e.channel===h.DEFAULT_OUTPUT_CHANNEL&&!this.getAction().checked&&!this.hasErrors&&e.output){var t=e.output.split("\n");t.some(function(e){return!!e.match(/^\[?error|fatal/i)})&&(this.hasErrors=!0,this.setBadge(new f.TextBadge("!",function(){return r.localize("vs_workbench_contrib_output_outputActions",2)})),this.getAction().class="global-output-error")}},t.prototype.dispose=function(){this.outputService.onOutput.remove(this.onOutputReceived,this),e.prototype.dispose.call(this)},t}(v.ActivityActionItem);t.GlobalOutputActionItem=_;var w=function(e){function t(){e.call(this,"workbench.output.action.clearOutput",r.localize("vs_workbench_contrib_output_outputActions",3),"output-action clear-output")}return __extends(t,e),t.prototype.run=function(){var e=this.input;return e.clearOutput(),n.Promise.as(!0)},t}(d.EditorInputAction);t.ClearOutputAction=w;var E=function(e){function t(t,n,r){e.call(this,t,n,r,u.Behaviour.WidgetFocus|u.Behaviour.ShowInContextMenu),this.myEditorService=t.editorService}return __extends(t,e),t.prototype.getGroupId=function(){return"clear"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return t&&t.getId()===h.OUTPUT_MODE_ID&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this.myEditorService.getActiveEditorInput();if(e&&e.getId()===h.OUTPUT_EDITOR_INPUT_ID){var t=e;return t.clearOutput(),n.Promise.as(!0)}return n.TPromise.as(!1)},t.ID="editor.action.clearoutput",t}(u.EditorAction);t.ClearOutputEditorAction=E;var S=function(e){function t(n){e.call(this,t.ID,r.localize("vs_workbench_contrib_output_outputActions",4)),this.class="output-action switch-to-output",this.outputService=n.outputService}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.input instanceof h.OutputEditorInput},t.prototype.run=function(e){return this.outputService.showOutput(e)},t.ID="workbench.output.action.switchBetweenOutputs",t}(d.EditorInputAction);t.SwitchOutputAction=S;var T=function(e){function t(t,n,r){var i=o.Registry.as(h.Extensions.OutputChannels).getChannels();i=i.sort(),e.call(this,t,n,i,i.indexOf(r.getChannel()))}return __extends(t,e),t}(g.SelectActionItem);t.SwitchOutputActionItem=T}),define("vs/css!vs/workbench/contrib/output/media/outputactions.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/output/outputActions.contribution",["require","exports","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/platform","vs/editor/editorExtensions","vs/workbench/ui/actionBarRegistry","vs/base/ui/widgets/toolbar/toolbar","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/output/output","vs/workbench/contrib/output/outputActions","vs/platform/configuration/configurationRegistry","vs/css!./media/outputactions.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){return e===c.CONTEXT},t.prototype.getActions=function(){return[this.instantiationService.createInstance(p.GlobalRunWorkspaceAction)]},t}(l.ActionBarContributor),f=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){return e===c.CONTEXT},t.prototype.getActions=function(){return[this.instantiationService.createInstance(p.GlobalShowOutputAction)]},t.prototype.getActionItem=function(e,t){return t.id===p.GlobalShowOutputAction.ID?this.instantiationService.createInstance(p.GlobalOutputActionItem,t):null},t}(l.ActionBarContributor),v=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof d.OutputEditorInput},t.prototype.getActionsForEditorInput=function(){var e=[];return n.isNative&&e.push(this.instantiationService.createInstance(p.SwitchOutputAction)),e.push(this.instantiationService.createInstance(p.ClearOutputAction)),e},t.prototype.getActionItem=function(t,n){return n.id===p.SwitchOutputAction.ID?this.instantiationService.createInstance(p.SwitchOutputActionItem,n,t.input):e.prototype.getActionItem.call(this,t,n)},t}(u.EditorInputActionContributor),g=s.Registry.as(o.Extensions.WorkbenchActions),b=s.Registry.as(l.Extensions.Actionbar);if(n.enableRunWorkspace&&n.enableOutput){g.registerWorkbenchAction(new i.SyncActionDescriptor(p.GlobalRunWorkspaceAction,p.GlobalRunWorkspaceAction.ID,r.localize("vs_workbench_contrib_output_outputActions.contribution",0),{ctrlCmd:!0,key:"F5"})),b.registerActionBarContributor(l.Scope.GLOBAL,m);var y=s.Registry.as(h.Extensions.Configuration);y.registerConfiguration({id:"run",order:10,type:"object",title:r.localize("vs_workbench_contrib_output_outputActions.contribution",1),properties:{"run.suffix":{type:"string",default:"",description:r.localize("vs_workbench_contrib_output_outputActions.contribution",2)}}})}n.enableOutput&&(g.registerWorkbenchAction(new i.SyncActionDescriptor(p.GlobalShowOutputAction,p.GlobalShowOutputAction.ID,r.localize("vs_workbench_contrib_output_outputActions.contribution",3),{ctrlCmd:!0,shift:!0,key:"U"})),n.platform===n.Platform.Web&&b.registerActionBarContributor(l.Scope.GLOBAL,f),b.registerActionBarContributor(l.Scope.EDITOR,v),a.registerEditorActionContribution(p.ClearOutputEditorAction,p.ClearOutputEditorAction.ID,r.localize("vs_workbench_contrib_output_outputActions.contribution",4)))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/markdown/markdownEditorModel",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/paths","vs/workbench/ui/parts/editor/iframeEditorModel"],function(e,t,n,r,i,o){var s="text/x-web-markdown",a=function(e){function t(t,n){e.call(this),this.requestService=t.requestService,this.editorService=t.editorService,this.contextService=t.contextService,this.markdownResource=n}return __extends(t,e),t.prototype.load=function(){var e,t=this,o=!1;return new n.TPromise(function(n){var a=function(){var e=r.localize("vs_workbench_contrib_markdown_markdownEditorModel",0,i.basename(t.markdownResource.path));t.setContents('<html><head><style type="text/css">body {font-family: "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", sans-serif; font-size: 13px; margin: 0; line-height: 1.4em; padding-left: 20px;}</style></head><body>',e,"</body></html>"),n(t)},l=function(e){e.getMode().emitOutputSupport?e.getMode().emitOutputSupport.getEmitOutput(e.getAssociatedResource()).then(function(e){t.setContents(e.head,e.body,e.tail),n(t)},a):a(null)};t.editorService.resolveEditorModel({resource:t.markdownResource,mime:s}).then(function(t){return o?void 0:(e=t.textEditorModel,e.whenModeIsReady())}).then(function(){o||l(e)},a)},function(){o=!0})},t}(o.IFrameEditorModel);t.MarkdownEditorModel=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/markdown/markdownEditorInput",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/paths","vs/workbench/contrib/files/editors/derivedFrameEditorInput","vs/workbench/contrib/markdown/markdownEditorModel"],function(e,t,n,r,i,o){var s=function(e){function t(t,i,o,s){void 0===o&&(o=n.localize("vs_workbench_contrib_markdown_markdownEditorInput",0,r.basename(i.path))),e.call(this,t,i,o,s),this.instantiationService=t.instantiationService,this.contextService=t.contextService}return __extends(t,e),t.prototype.createNew=function(e){return this.instantiationService.createInstance(t,e)},t.prototype.getId=function(){return t.ID},t.prototype.createModel=function(){return this.instantiationService.createInstance(o.MarkdownEditorModel,this.getResource())},t.prototype.matches=function(n){return n instanceof t?e.prototype.matches.call(this,n):!1},t.ID="vs.markdown",t}(i.DerivedFrameEditorInput);t.MarkdownEditorInput=s}),define("vs/workbench/contrib/markdown/markdown",["require","exports"],function(e,t){t.MARKDOWN_FILES=[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],t.MARKDOWN_MIME="text/x-web-markdown"}),define("vs/css!vs/workbench/contrib/markdown/media/markdownactions",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/markdown/markdownActions",["require","exports","vs/base/lib/winjs.base","vs/base/ui/actions","vs/base/uri","vs/base/env","vs/base/severity","vs/base/strings","vs/base/errors","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/contrib/markdown/markdownEditorInput","vs/workbench/contrib/markdown/markdown","vs/css!./media/markdownactions"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.editorService=n.editorService,this.messageService=n.messageService,this.instantiationService=n.instantiationService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditorInput();if(e instanceof p.MarkdownEditorInput)this.editorService.openEditor({resource:e.getResource()}).done(null,l.onUnexpectedError);else{var t,r=u.asFileEditorInput(e);if(r){var i=h.MARKDOWN_FILES.some(function(e){return a.endsWith(r.getResource().path,e)});if(i){var o=this.instantiationService.createInstance(f,r.getResource());o.run().done(function(){return o.dispose()},l.onUnexpectedError)}else t=c.localize("vs_workbench_contrib_markdown_markdownActions",0)}else t=c.localize("vs_workbench_contrib_markdown_markdownActions",1);t&&this.messageService.show(s.Info,t)}return n.Promise.as(!0)},t.ID="workbench.action.markdown.togglePreview",t.LABEL=c.localize("vs_workbench_contrib_markdown_markdownActions",2),t}(r.Action);t.GlobalTogglePreviewMarkdownAction=m;var f=function(e){function t(t,n){e.call(this,"workbench.markdown.action.previewFromExplorer",c.localize("vs_workbench_contrib_markdown_markdownActions",3)),this.markdownResource=n,this.editorService=t.editorService,this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.run=function(){var e=this.instantiationService.createInstance(p.MarkdownEditorInput,this.markdownResource);return this.editorService.openEditor(e)},t}(r.Action);t.PreviewMarkdownAction=f;var v=function(e){function t(t){e.call(this,"workbench.markdown.action.previewFromEditor",c.localize("vs_workbench_contrib_markdown_markdownActions",4)),this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.class="markdown-action action-preview"}return __extends(t,e),t.prototype.run=function(e){var t=this.input,n=!(!e||!e.ctrlKey&&!e.metaKey),r=this.instantiationService.createInstance(p.MarkdownEditorInput,t.getResource());return this.editorService.openEditor(r,null,n)},t}(u.EditorInputAction);t.PreviewMarkdownEditorInputAction=v;var g=function(e){function t(n,r){e.call(this,t.ID,t.LABEL),this.editorService=n.editorService,this.instantiationService=n.instantiationService,this.partService=n.partService,this.preserveFocus="boolean"==typeof r?r:!1}return __extends(t,e),t.prototype.run=function(){var e=this;return this.partService.joinCreation().then(function(){var t=e.editorService.getVisibleEditors().length,n=e.instantiationService.createInstance(p.MarkdownEditorInput,i.file(o.welcomePath),c.localize("vs_workbench_contrib_markdown_markdownActions",5),null),r=new d.EditorOptions;return r.preserveFocus=e.preserveFocus,e.editorService.openEditor(n,r,0!==t&&3!==t)})},t.ID="workbench.action.markdown.showWelcome",t.LABEL=c.localize("vs_workbench_contrib_markdown_markdownActions",6),t}(r.Action);t.ShowWelcomeAction=g}),define("vs/workbench/contrib/markdown/markdownExtension",["require","exports","vs/platform/services","vs/platform/platform","vs/editor/modes/modesExtensions","vs/base/errors","vs/base/types","vs/base/env","vs/base/network","vs/base/ui/events","vs/base/paths","vs/base/ui/widgets/shell/shell","vs/editor/core/constants","vs/workbench/constants","vs/workbench/ui/parts/editor/iframeEditor","vs/workbench/contrib/markdown/markdownEditorInput","vs/workbench/contrib/markdown/markdownActions","vs/workbench/events"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){var b=function(){function e(e){this.eventService=e.eventService,this.editorService=e.editorService,this.configurationService=e.configurationService,this.storageService=e.storageService,this.contextService=e.contextService,this.modelService=e.modelService,this.instantiationService=e.instantiationService,this.markdownConfigurationPaths=[],this.hasModelListenerOnResourcePath=Object.create(null),this.configureMode(this.storageService.get(h.Preferences.THEME,n.StorageScope.GLOBAL)),this.registerListeners(),this.handleWelcome()}return e.prototype.registerListeners=function(){var e=this;this.fileChangeListener=this.eventService.addListener(n.Files.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)}),this.configFileChangeListener=this.configurationService.addListener(n.ConfigurationServiceEventTypes.UPDATED,function(t){return e.onConfigFileChange(t)}),this.editorInputChangeListener=this.eventService.addListener(g.EventType.EDITOR_INPUT_CHANGED,function(t){return e.onEditorInputChanged(t)}),this.configurationService.loadConfiguration().done(function(t){e.readMarkdownConfiguration(t.languages)},o.onUnexpectedError),this.themeChangeListener=this.storageService.addListener(n.StorageEventType.STORAGE,function(t){t.key===h.Preferences.THEME&&(e.configureMode(t.newValue),e.reloadMarkdownEditors(!0))})},e.prototype.onEditorInputChanged=function(t){var n=this,r=t.editorInput;if(r instanceof f.MarkdownEditorInput){var i=r.getResource(),o=this.modelService.getModel(l.URL.fromUri(i));if(o&&!this.hasModelListenerOnResourcePath[i.path]){var s=[],a=function(){for(;s.length;)s.pop()();n.hasModelListenerOnResourcePath[i.path]=!1};s.push(o.addListener(p.EventType.ModelContentChanged,function(){n.reloadTimeout&&window.clearTimeout(n.reloadTimeout),n.reloadTimeout=setTimeout(function(){n.reloadMarkdownEditors(!1,i)||a()},e.RELOAD_MARKDOWN_DELAY)})),this.hasModelListenerOnResourcePath[i.path]=!0,s.push(r.addListener(c.EventType.DISPOSE,a)),s.push(o.addListener(p.EventType.ModelDispose,a))}}},e.prototype.handleWelcome=function(){var t=!this.storageService.get(e.hideWelcomeSettingskey),n=!(this.contextService.getWorkspace()||this.contextService.getOptions().filesToOpen&&0!==this.contextService.getOptions().filesToOpen.length);if(a.isNative&&t&&n){this.storageService.store(e.hideWelcomeSettingskey,!0);var r=this.instantiationService.createInstance(v.ShowWelcomeAction,!0);r.run().done(function(){return r.dispose()},o.onUnexpectedError)}},e.prototype.configureMode=function(e){if(e){var t=r.Registry.as(i.Extensions.EditorModes);t.configureMode("text/x-web-markdown",{theme:e===d.toString(d.Theme.VS)?"light":"dark"})}},e.prototype.getId=function(){return"vs.markdown.filetracker"},e.prototype.onConfigFileChange=function(e){this.readMarkdownConfiguration(e.config.languages)&&this.reloadMarkdownEditors(!0)},e.prototype.readMarkdownConfiguration=function(e){var t,n=this.markdownConfigurationThumbprint;if(this.markdownConfigurationThumbprint=null,this.markdownConfigurationPaths=[],e){var r=e.markdown;if(r&&s.isArray(r.styles)){t=r.styles.join("")+r.theme;var i=r.styles.map(function(e){return u.makeAbsolute(u.normalize(e))});this.markdownConfigurationPaths=i}}return this.markdownConfigurationThumbprint=t,n!==t},e.prototype.onFileChanges=function(e){var t=this;this.markdownConfigurationPaths.length&&e.containsAny(this.markdownConfigurationPaths.map(function(e){return t.contextService.toResource(e)}),n.Files.FileChangeType.UPDATED)&&this.reloadMarkdownEditors(!0)},e.prototype.reloadMarkdownEditors=function(e,t){var n=!1,r=this.editorService.getVisibleEditors();return r.forEach(function(r){var i=r.input;i instanceof f.MarkdownEditorInput&&r instanceof m.IFrameEditor&&(t&&t.path!==i.getResource().path||(r.reload(e),n=!0))}),n},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){this.fileChangeListener&&(this.fileChangeListener(),this.fileChangeListener=null),this.configFileChangeListener&&(this.configFileChangeListener(),this.configFileChangeListener=null),this.editorInputChangeListener&&(this.editorInputChangeListener(),this.editorInputChangeListener=null)},e.hideWelcomeSettingskey="workbench.hide.welcome",e.RELOAD_MARKDOWN_DELAY=300,e}();t.MarkdownFileTracker=b}),define("vs/workbench/contrib/markdown/markdown.contribution",["require","exports","vs/platform/platform","vs/base/uri","vs/workbench/constants","vs/base/strings","vs/base/paths","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/markdown/markdownEditorInput","vs/workbench/contrib/markdown/markdownExtension","vs/workbench/core/extensions"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){this.contextService=e.contextService}return e.prototype.serialize=function(e){var t=e,n=this.contextService.toWorkspaceRelativePath(t.getResource());return n?o.ltrim(n,i.SLASH):t.getResource().toString()},e.prototype.deserialize=function(e,t){var n=r.parse(t);return n.scheme||(n=this.contextService.toResource(s.makeAbsolute(t))),e.createInstance(l.MarkdownEditorInput,n)},e}();n.Registry.as(a.Extensions.Editors).registerEditorInputFactory(l.MarkdownEditorInput.ID,d),n.Registry.as(u.Extensions.Workbench).registerWorkbenchExtension(c.MarkdownFileTracker)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/markdown/markdownActions.contribution",["require","exports","vs/platform/platform","vs/platform/actionRegistry","vs/workbench/ui/actionBarRegistry","vs/workbench/contrib/files/files","vs/base/strings","vs/base/env","vs/workbench/contrib/markdown/markdownActions","vs/workbench/contrib/markdown/markdown","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=o.asFileResource(t);return n?!n.isDirectory&&c.MARKDOWN_FILES.some(function(e){return s.endsWith(n.resource.path,e)}):!1},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=o.asFileResource(e.element),r=this.instantiationService.createInstance(l.PreviewMarkdownAction,n.resource);r.order=0,t.push(r)}return t},t}(i.ActionBarContributor),p=function(e){function t(t){e.call(this,[c.MARKDOWN_MIME]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(l.PreviewMarkdownEditorInputAction)]},t}(o.FileEditorInputActionContributor),h=n.Registry.as(i.Extensions.Actionbar);h.registerActionBarContributor(i.Scope.VIEWER,d),h.registerActionBarContributor(i.Scope.EDITOR,p);var m=n.Registry.as(u.Extensions.WorkbenchActions);m.registerWorkbenchAction(new r.SyncActionDescriptor(l.GlobalTogglePreviewMarkdownAction,l.GlobalTogglePreviewMarkdownAction.ID,l.GlobalTogglePreviewMarkdownAction.LABEL,{ctrlCmd:!0,shift:!0,key:"V"})),a.isNative&&m.registerWorkbenchAction(new r.SyncActionDescriptor(l.ShowWelcomeAction,l.ShowWelcomeAction.ID,l.ShowWelcomeAction.LABEL))}),define("vs/base/graph",["require","exports","vs/base/types","vs/base/collections"],function(e,t,n,r){function i(e){return{data:e,incoming:{},outgoing:{}}}t.newNode=i;var o=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return r.forEach(this._nodes,function(t){n.isEmptyObject(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.traverse=function(e,t,n){var r=this.lookup(e);r&&this._traverse(r,t,{},n)},e.prototype._traverse=function(e,t,n,i){var o=this,s=this._hashFn(e.data);if(!r.contains(n,s)){n[s]=!0,i(e.data);var a=t?e.outgoing:e.incoming;r.forEach(a,function(e){return o._traverse(e.value,t,n,i)})}},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=r,r.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],r.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=r.lookup(this._nodes,t);return n||(n=i(e),this._nodes[t]=n),n},e.prototype.lookup=function(e){return r.lookup(this._nodes,this._hashFn(e))},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e}();t.Graph=o}),define("vs/css!vs/base/ui/widgets/menu/menu",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/menu/menu",["require","exports","vs/base/dom/builder","vs/base/ui/widgets/actionbar","vs/base/eventEmitter","vs/css!./menu"],function(e,t,n,r,i){var o=n.$,s=function(e){function t(t,n,i){void 0===i&&(i={}),e.call(this),o(t).addClass("monaco-menu-container");var s=o(".monaco-menu").appendTo(t);this.actionBar=new r.ActionBar(s,{orientation:r.ActionsOrientation.VERTICAL,actionItemProvider:i.actionItemProvider,context:i.context,actionRunner:i.actionRunner}),this.listener=this.addEmitter2(this.actionBar),this.actionBar.push(n,{icon:!0,label:!0})}return __extends(t,e),t.prototype.focus=function(){this.actionBar.focus()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actionBar&&(this.actionBar.dispose(),this.actionBar=null),this.listener&&(this.listener.dispose(),this.listener=null)},t}(i.EventEmitter);t.Menu=s}),define("vs/css!vs/platform/contextview/contextmenu",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/platform/contextview/contextmenu",["require","exports","vs/base/dom/builder","vs/base/lifecycle","vs/base/dom/mouseEvent","vs/base/ui/actions","vs/base/ui/widgets/menu/menu","vs/base/ui/events","vs/base/severity","vs/css!./contextmenu"],function(e,t,n,r,i,o,s,a,l){var c=n.$,u=function(){function e(e,t,n,r){var i=this;this.setContainer(e),this.contextViewService=t,this.telemetryService=n,this.messageService=r,this.actionRunner=new o.ActionRunner,this.menuContainerElement=null,this.toDispose=[];var s=!1;this.toDispose.push(this.actionRunner.addListener2(a.EventType.BEFORE_RUN,function(e){i.telemetryService&&i.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,From:"contextMenu"}),s=!!e.retainActionItem,s||i.contextViewService.hideContextView(!1)})),this.toDispose.push(this.actionRunner.addListener2(a.EventType.RUN,function(e){s&&i.contextViewService.hideContextView(!1),s=!1,e.error&&i.messageService&&i.messageService.show(l.Error,e.error)}))}return e.prototype.setContainer=function(e){var t=this;this.$el&&(this.$el.off(["click","mousedown"]),this.$el=null),e&&(this.$el=c(e),this.$el.on("mousedown",function(e){return t.onMouseDown(e)}))},e.prototype.showContextMenu=function(e){var t=this;e.getActions().done(function(n){t.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,render:function(i){t.menuContainerElement=i;var o=e.getMenuClassName?e.getMenuClassName():"";o&&(i.className+=" "+o);var l=new s.Menu(i,n,{actionItemProvider:e.getActionItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:t.actionRunner}),c=l.addListener2(a.EventType.CANCEL,function(){t.contextViewService.hideContextView(!0)}),u=l.addListener2(a.EventType.BLUR,function(){t.contextViewService.hideContextView(!0)});return l.focus(),r.combinedDispose(c,u,l)},onHide:function(n){e.onHide&&e.onHide(n),t.menuContainerElement=null}})})},e.prototype.onMouseDown=function(e){if(this.menuContainerElement){for(var t=new i.StandardMouseEvent(e),n=t.target;n;){if(n===this.menuContainerElement)return;n=n.parentElement}this.contextViewService.hideContextView()}},e.prototype.dispose=function(){this.setContainer(null)},e}();t.ContextMenuHandler=u}),define("vs/platform/contextview/contextviewService",["require","exports","vs/base/ui/widgets/contextview/contextview","vs/platform/contextview/contextmenu"],function(e,t,n,r){var i=function(){function e(e,t,i){this.contextView=new n.ContextView(e),this.contextMenuHandler=new r.ContextMenuHandler(e,this,t,i)}return e.prototype.dispose=function(){this.contextView.dispose(),this.contextMenuHandler.dispose()},e.prototype.setContainer=function(e){this.contextView.setContainer(e),this.contextMenuHandler.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e)},e}();t.ContextViewService=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/storage/storage",["require","exports","vs/platform/services","vs/base/eventEmitter","vs/base/types","vs/base/errors","vs/base/env","vs/base/strings"],function(e,t,n,r,i,o,s,a){var l=function(e){function r(n,r){e.call(this),i.isUndefinedOrNull(r)?(this.workspaceStorage=this.globalStorage=s.isTesting()?t.inMemoryLocalStorageInstance:window.localStorage,n||(this.workspaceStorage=t.inMemoryLocalStorageInstance)):this.workspaceStorage=this.globalStorage=r,this.toUnbind=[],this.workspaceKey=this.getWorkspaceKey(n);var o=n?n.ctime:null;!s.isLinux&&i.isNumber(o)&&this.cleanupWorkspaceScope(o,n.name)}return __extends(r,e),r.prototype.getWorkspaceKey=function(e){var t=null;return e&&e.publicUrl?t=e.publicUrl:e&&e.resource&&(t=e.resource.toString()),t?r.calculateWorkspaceKey(t):r.NO_WORKSPACE_IDENTIFIER},r.prototype.cleanupWorkspaceScope=function(e,t){var i=this,o=this.getInteger(r.WORKSPACE_IDENTIFIER,n.StorageScope.WORKSPACE);if(e!==o){for(var s=this.toStorageKey("",n.StorageScope.WORKSPACE),a=[],l=this.workspaceStorage.length,c=0;l>c;c++){var u=this.workspaceStorage.key(c);u.indexOf(r.WORKSPACE_PREFIX)<0||0===u.indexOf(s)&&a.push(u)}a.length>0&&console.warn("Clearing previous version of local storage for workspace ",t),a.forEach(function(e){i.workspaceStorage.removeItem(e)})}e!==o&&this.store(r.WORKSPACE_IDENTIFIER,e,n.StorageScope.WORKSPACE)},r.prototype.clear=function(){s.isTesting()&&(this.globalStorage.clear(),this.workspaceStorage.clear())},r.prototype.store=function(e,t,r){void 0===r&&(r=n.StorageScope.GLOBAL);var i=r===n.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,s=this.toStorageKey(e,r),a=i.getItem(s),l=t.toString();try{i.setItem(s,t)}catch(c){o.onUnexpectedError(c)}a!==l&&this.emit(n.StorageEventType.STORAGE,new n.StorageEvent(e,a,l))},r.prototype.get=function(e,t,r){void 0===t&&(t=n.StorageScope.GLOBAL);
var o=t===n.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,s=o.getItem(this.toStorageKey(e,t));return i.isUndefinedOrNull(s)?r:s},r.prototype.remove=function(e,t){void 0===t&&(t=n.StorageScope.GLOBAL);var r=t===n.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,i=this.toStorageKey(e,t),o=r.getItem(i),s=null;r.removeItem(i),o!==s&&this.emit(n.StorageEventType.STORAGE,new n.StorageEvent(e,o,s))},r.prototype.swap=function(e,t,r,o,s){void 0===o&&(o=n.StorageScope.GLOBAL);var a=this.get(e,o);i.isUndefinedOrNull(a)&&s?this.store(e,s,o):a===t.toString()?this.store(e,r,o):this.store(e,t,o)},r.prototype.getInteger=function(e,t,r){void 0===t&&(t=n.StorageScope.GLOBAL);var o=this.get(e,t,r);return i.isUndefinedOrNull(o)?r:parseInt(o,10)},r.prototype.getBoolean=function(e,t,r){void 0===t&&(t=n.StorageScope.GLOBAL);var o=this.get(e,t,r);return i.isUndefinedOrNull(o)?r:i.isString(o)?"true"===o.toLowerCase()?!0:!1:o?!0:!1},r.prototype.dispose=function(){for(e.prototype.dispose.call(this);this.toUnbind.length;)this.toUnbind.pop()()},r.prototype.toStorageKey=function(e,t){return t===n.StorageScope.GLOBAL?r.GLOBAL_PREFIX+e.toLowerCase():r.WORKSPACE_PREFIX+this.workspaceKey+e.toLowerCase()},r.calculateWorkspaceKey=function(e){var t=window.location.protocol+"//"+window.location.host+"/",n=e.indexOf(t);return 0===n?a.rtrim(e.substr(t.length),"/")+"/":e},r.COMMON_PREFIX="storage://",r.GLOBAL_PREFIX=r.COMMON_PREFIX+"global/",r.WORKSPACE_PREFIX=r.COMMON_PREFIX+"workspace/",r.WORKSPACE_IDENTIFIER="workspaceIdentifier",r.NO_WORKSPACE_IDENTIFIER="__$noWorkspace__",r}(r.EventEmitter);t.Storage=l;var c=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.key=function(e){var t=Object.keys(this.store);return t.length>e?t[e]:null},e.prototype.clear=function(){this.store={}},e.prototype.setItem=function(e,t){this.store[e]=t.toString()},e.prototype.getItem=function(e){var t=this.store[e];return i.isUndefinedOrNull(t)?null:t},e.prototype.removeItem=function(e){delete this.store[e]},e}();t.InMemoryLocalStorage=c,t.inMemoryLocalStorageInstance=new c}),define("vs/platform/handlerService",["require","exports","vs/base/diagnostics","vs/base/dom/dom","vs/base/dom/keyboardEvent","vs/platform/configuration/keybindings"],function(e,t,n,r,i,o){var s=n.register("HandlerServiceActivationVerbose",function(e,t,n){console.log(e+" > "+t.id+" > "+n)}),a=n.register("HandlerServiceFocusVisual",function(e,t){e.style.outlineWidth="5px",e.style.outlineStyle="solid",e.style.outlineColor=t===!0?"yellowgreen":t===!1?"red":"gray"}),l=n.register("HandlerServiceFocusTextual",function(e){console.log("got FOCUS @"+(new Date).getTime(),e)}),c=function(){function e(e,t){this.keyBinding=e,this.onEmpty=t,this.data=[]}return e.prototype.push=function(e,t){var n=this;void 0===t&&(t={});var r,i,o=this;return r=function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];if(!this.active)return!1;var a=!1;try{a=e.apply(e,n),a===!0&&t.once&&i.dispose()}catch(l){throw i.dispose(),l}return s(o.keyBinding,t,"handled?"+a),a},r.$debugId=t.id,r.active=!0,this.data.unshift(r),i={activate:function(){s(n.keyBinding,t,"activated"),r.active=!0},deactivate:function(){s(n.keyBinding,t,"deactivated"),r.active=!1},dispose:function(){s(n.keyBinding,t,"disposed");var e=n.data.indexOf(r);-1!==e&&(n.data.splice(e,1),0===n.data.length&&n.onEmpty())}}},e.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<this.data.length;n++){var r=this.data[n].apply(this.data[n],e);if(r===!0)return!0}return!1},e}();t.HandlerList=c;var u=function(){function e(e){this.bindings=e}return e.prototype.activate=function(){this.bindings.forEach(function(e){e.activate()})},e.prototype.deactivate=function(){this.bindings.forEach(function(e){e.deactivate()})},e.prototype.dispose=function(){this.bindings.forEach(function(e){e.dispose()})},e}();t.CompositeBinding=u;var d=function(){function e(e){var t=this;this.map={},this.unbind=r.addListener(e,r.EventType.KEY_DOWN,function(e){var n=new i.KeyboardEvent(e);t.dispatch(n)})}return e.prototype.dispatch=function(e){var t=e.asString(),n=this.map[t],r=!1;return n instanceof c&&(r=n.trigger(e)),r&&(e.preventDefault(),e.stopPropagation()),r},e.prototype.ensureHandlerList=function(e){var t=this,n=o.asString(e),r=this.map[n];return r||(r=new c(n,function(){t.map&&delete t.map[n]}),this.map[n]=r),r},e.prototype.bind=function(e,t,n){return void 0===n&&(n={once:!1,id:"unkown"}),this.ensureHandlerList(e).push(t,n)},e.prototype.bindGroup=function(e,t){var n=this;void 0===t&&(t={once:!1,id:"unkownGroup"});var r,i=[],a=function(e,a){var l=a;t.once&&(l=function(){var n=!1;try{n=a.apply(a,arguments),n===!0&&(s(o.asString(e),t,"handled?true > GROUP disposal"),r.dispose())}catch(i){throw r.dispose(),i}return n}),i.push(n.bind(e,l))};return e(a),r=new u(i)},e.prototype.dispose=function(){this.unbind(),this.map=null},e}();t.HandlerService=d;var p=function(){function e(e){this.delegate=e,this.bindings=[]}return e.prototype.bind=function(e,t,n){var r=this.delegate.bind(e,t,n);return this.bindings.push(r),r},e.prototype.bindGroup=function(e,t){var n=this.delegate.bindGroup(e,t);return this.bindings.push(n),n},e.prototype.capture=function(){return new u(this.bindings)},e}();t.HandlerServiceWrapper=p;var h=function(){function e(e,t,n){var i=this;this.delegate=e,this.domNode=t,this.scopeNode=n,this.handlerActive=!1,a(this.scopeNode),this.unbind=r.addListener(this.domNode,r.EventType.FOCUS,function(e){l(e.target),i.update(r.isAncestor(e.target,i.scopeNode))},!0)}return e.prototype.update=function(e){this.handlerActive!==e&&(this.handlerActive=e),a(this.scopeNode,e)},e.prototype.bind=function(e,t,n){return this.delegate.bind(e,this.wrapHandler(t),n)},e.prototype.bindGroup=function(e,t){var n=this;return this.delegate.bindGroup(function(t){var r=function(e,r){t(e,n.wrapHandler(r))};e(r)},t)},e.prototype.wrapHandler=function(e){var t=this,n=function(){return t.handlerActive!==!0?!1:e.apply(e,arguments)};return n},e.prototype.dispose=function(){this.unbind()},e}();t.FocusTrackingHandlerService=h}),define("vs/platform/markers/markerService2",["require","exports","vs/base/network","vs/base/arrays","vs/base/strings","vs/base/collections","vs/platform/thread/attribute","vs/base/eventSource","vs/base/severity"],function(e,t,n,r,i,o,s,a,l){var c;!function(e){function t(e){var t=/^(.*)â(.*)$/.exec(e);return{owner:t[1],resource:n.URL.fromValue(t[2])}}function r(e){return e.owner+"â"+e.resource}function o(e,t){return new RegExp(i.format("^({0})â({1})$",e?i.escapeRegExpCharacters(e):".*",t?i.escapeRegExpCharacters(t.toString()):".*"))}function s(e,t){return e+"â"+t}e.fromValue=t,e.valueOf=r,e.selector=o,e.raw=s}(c||(c={}));var u=function(){function e(e){this._data=Object.create(null),this._stats=this.emptyStats(),this._onMarkerChanged=new a,e.registerInstance(this)}return e.prototype.getId=function(){return"__markerService"},e.prototype.getSerializableState=function(){return this._data},e.prototype.setData=function(e){this._data=e},e.prototype.getStatistics=function(){return this._stats},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChanged?this._onMarkerChanged.value:null},enumerable:!0,configurable:!0}),e.prototype.changeOne=function(e,t,n){var i=c.raw(e,t),o=this._data[i],s=!r.isFalsyOrEmpty(o),a=!r.isFalsyOrEmpty(n),l=this.computeStats(o),u=this.computeStats(n);a?this._data[i]=n:s&&delete this._data[i],this.updateStatsMinus(l),this.updateStatsPlus(u),this._onMarkerChanged.fire([t])},e.prototype.changeAll=function(e,t){var n=this,i=this.emptyStats(),s=this.emptyStats(),a=Object.create(null);this._forEach(e,null,-1,function(e,t){var r=c.fromValue(e.key).resource;n.updateStatsPlus(i,n.computeStats(e.value)),a[r.toString()]=r,t()}),r.isFalsyOrEmpty(t)||t.forEach(function(t){a[t.resource.toString()]=t.resource,o.lookupOrInsert(n._data,c.raw(e,t.resource),[]).push(t.marker),n.updateStatsMarker(s,t.marker)}),this.updateStatsMinus(i),this.updateStatsPlus(s),this._onMarkerChanged.fire(o.values(a))},e.prototype.remove=function(e,t){var n=this,r=this.emptyStats(),i=Object.create(null),s=Object.create(null);t.forEach(function(e){return s[e.toString()]=!0}),o.forEach(this._data,function(t,o){var a,l=c.fromValue(t.key);l.owner===e&&s[a=l.resource.toString()]&&(n.updateStatsPlus(r,n.computeStats(t.value)),i[a]=l.resource,o())}),this.updateStatsMinus(r),this._onMarkerChanged.fire(o.values(i))},e.prototype.removeAll=function(e){var t=this,n=this.emptyStats(),r=Object.create(null);this._forEach(e,null,-1,function(e,i){var o=c.fromValue(e.key).resource;t.updateStatsPlus(n,t.computeStats(e.value)),r[o.toString()]=o,i()}),this.updateStatsMinus(n),this._onMarkerChanged.fire(o.values(r))},e.prototype.read=function(e){var t=this;void 0===e&&(e={});var n=[];return this._forEach(e.owner,e.resource,e.take,function(e){return t._fromEntry(e,n)}),n},e.prototype.readResources=function(e){var t=[],n=0;return o.forEach(this._data,function(r){var i=c.fromValue(r.key);return(!e.owner||e.owner===i.owner)&&(t.push(i.resource),e.take&&n++>=e.take)?!1:void 0}),t},e.prototype._forEach=function(e,t,n,r){var i=c.selector(e,t),s=0;o.forEach(this._data,function(e,t){return i.test(e.key)&&(r(e,t),n>0&&s++>=n)?!1:void 0})},e.prototype._fromEntry=function(t,n){var r=c.fromValue(t.key);t.value.forEach(function(t){e._sanitize(t),n.push({owner:r.owner,resource:r.resource,code:t.code,message:t.message,severity:t.severity,startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn})})},e.prototype.computeStats=function(e){var t=0,n=0,r=0,i=0;if(e)for(var o=0;o<e.length;o++){var s=e[o];if(s.severity)switch(s.severity){case l.Error:t++;break;case l.Warning:n++;break;case l.Info:r++;break;default:i++}else i++}return{errors:t,warnings:n,infos:r,unknwons:i}},e.prototype.emptyStats=function(){return{errors:0,warnings:0,infos:0,unknwons:0}},e.prototype.updateStatsPlus=function(e,t){t||(t=e,e=this._stats),e.errors+=t.errors,e.warnings+=t.warnings,e.infos+=t.infos,e.unknwons+=t.unknwons},e.prototype.updateStatsMinus=function(e,t){t||(t=e,e=this._stats),e.errors-=t.errors,e.warnings-=t.warnings,e.infos-=t.infos,e.unknwons-=t.unknwons},e.prototype.updateStatsMarker=function(e,t){switch(t.severity){case l.Error:e.errors++;break;case l.Warning:e.warnings++;break;case l.Info:e.infos++;break;default:e.unknwons++}},e._sanitize=function(e){e.code=e.code||null,e.startLineNumber=e.startLineNumber>0?e.startLineNumber:1,e.startColumn=e.startColumn>0?e.startColumn:1,e.endLineNumber=e.endLineNumber>=e.startLineNumber?e.endLineNumber:e.startLineNumber,e.endColumn=e.endColumn>0?e.endColumn:e.startColumn},e.$changeOne=s.MainThread(e,e.prototype.changeOne),e.$changeAll=s.MainThread(e,e.prototype.changeAll),e}();t.MarkerService=u}),define("vs/workbench/core/history/baseHistoryService",["require","exports","vs/editor/core/selection","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/types","vs/workbench/events"],function(e,t,n,r,i,o,s){var a=function(){function e(e,t){this._editorInput=e,this._selection=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.justifiesNewPushState=function(t){return this._editorInput.matches(t._editorInput)?this._selection instanceof n.Selection&&t._selection instanceof n.Selection?Math.abs(this._selection.getStartPosition().lineNumber-t._selection.getStartPosition().lineNumber)<e.EDITOR_SELECTION_THRESHOLD?!1:!0:!0:!0},e.EDITOR_SELECTION_THRESHOLD=10,e}();t.EditorState=a;var l=function(){function e(e){var t=this;this.eventService=e.eventService,this.editorService=e.editorService,this.contextService=e.contextService,this.toUnbind=[],r.isTesting()||(window.document.title=this.getWindowTitle(null)),this.toUnbind.push(this.eventService.addListener(s.EventType.EDITOR_INPUT_CHANGED,function(e){return t.onEditorInputChanged(e)})),this.toUnbind.push(this.eventService.addListener(s.EventType.EDITOR_INPUT_STATE_CHANGED,function(e){return t.onEditorInputStateChanged(e.editorInput)})),this.toUnbind.push(this.eventService.addListener(s.EventType.TEXT_EDITOR_SELECTION_CHANGED,function(e){return t.onTextEditorSelectionChanged(e)}))}return e.prototype.onEditorInputStateChanged=function(e){var t=this.editorService.getActiveEditor();(!t||e.matches(t.input))&&this.updateWindowTitle(e)},e.prototype.onTextEditorSelectionChanged=function(e){var t=e.editor,n=this.editorService.getActiveEditor();n&&t&&n!==t||this.handleEditorSelectionChangeEvent(e.editor)},e.prototype.onEditorInputChanged=function(e){this.onEditorEvent(e.editor)},e.prototype.onEditorEvent=function(e){var t=e?e.input:null,n=this.editorService.getActiveEditor();n&&e&&n!==e||(this.updateWindowTitle(t),this.handleEditorInputChangeEvent(e))},e.prototype.updateWindowTitle=function(e){var t=null;t=e&&e.getName()?this.getWindowTitle(e):this.getWindowTitle(null),r.isTesting()||(window.document.title=t)},e.prototype.handleEditorSelectionChangeEvent=function(){},e.prototype.handleEditorInputChangeEvent=function(){},e.prototype.getWindowTitle=function(e){o.isUndefinedOrNull(this.baseTitle)&&(this.baseTitle=window.document.title);var t=e&&e.getName();if(t&&e){var n=e.getStatus();n&&n.decoration&&!r.isMacintosh&&(t=i.localize("vs_workbench_core_history_baseHistoryService",0,n.decoration,t))}var s=this.contextService.getWorkspace();if(s){var a=s.name;return t?i.localize("vs_workbench_core_history_baseHistoryService",1,t,a,this.baseTitle):i.localize("vs_workbench_core_history_baseHistoryService",2,a,this.baseTitle)}return t?i.localize("vs_workbench_core_history_baseHistoryService",3,t,this.baseTitle):i.localize("vs_workbench_core_history_baseHistoryService",4,this.baseTitle)},e.prototype.findVisibleEditorPosition=function(e){var t=this.editorService.getActiveEditor();if(t&&e.matches(t.input))return t.position;for(var n=this.editorService.getVisibleEditors(),r=0;r<n.length;r++){var i=n[r];if(i!==t&&e.matches(i.input))return i.position}return null},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e}();t.BaseHistoryService=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/core/history/browserHistoryService",["require","exports","vs/platform/platform","vs/base/lib/winjs.base","vs/workbench/ui/parts/editor/baseEditor","vs/base/env","vs/base/errors","vs/base/strings","vs/workbench/constants","vs/workbench/ui/parts/editor/editorOptions","vs/base/types","vs/workbench/core/history/baseHistoryService","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(e){function t(t){e.call(this,t),this.fileService=t.fileService,this.messageService=t.messageService,this.partService=t.partService,this.contextService=t.contextService,this.history=window.history,this.blockNavigationEvent=!1,this.fileInputDescriptor=n.Registry.as(i.Extensions.Editors).getDefaultFileInput(),this.registerListeners()}return __extends(t,e),t.prototype.setInstantiationService=function(e){this.instantiationService=e},t.prototype.registerListeners=function(){var e=this;"complete"===window.document.readyState?r.Promise.timeout(0).done(function(){e.blockNavigationEvent||e.onNavigation(e.safeGetState(history))},s.onUnexpectedError):(o.browser.isIE11orEarlier||o.browser.isFirefox||o.browser.isOpera)&&(window.onload=function(t){e.blockNavigationEvent||e.onNavigation(e.safeGetState(t))}),this.history&&this.history.pushState||(window.onhashchange=function(t){e.blockNavigationEvent||e.onNavigation(e.safeGetState(t))}),this.history&&this.history.pushState&&(window.onpopstate=function(t){e.blockNavigationEvent||e.onNavigation(e.safeGetState(t))})},t.prototype.handleEditorSelectionChangeEvent=function(e){var t=i.asFileEditorInput(e.input);t&&this.handleEditorInputChangeEvent(e)},t.prototype.handleEditorInputChangeEvent=function(e){var t=e?e.input:null,n=this.blockPushState;if(!n&&!this.partService.isCreated()){var r=m.getFilePath(this.getPublicWorkspaceUrl());n=r!==l.SLASH}if(!n){var o=i.asFileEditorInput(t);if(o){var s=this.contextService.toWorkspaceRelativePath(o.getResource());if(s){var a=e,c=new d.EditorState(t,a.getSelection());if(!this.currentFileEditorState||this.currentFileEditorState.justifiesNewPushState(c)){this.currentFileEditorState=c;var u={path:s,mime:o.getMime(),selection:this.currentFileEditorState.selection};this.doPushEditorState(u,s,!0)}}}else{this.currentFileEditorState=null;var p=m.editorInputToUrl(t),h=!1;p||(p=l.SLASH,h=!0),this.doPushEditorState(null,p,h)}}},t.prototype.doPushEditorState=function(e,n,r){var i=m.toBrowserLocation(this.getPublicWorkspaceUrl(),n);r||(i=i.replace(t.INPUT_FACTORY_PREFIX_ENCODED,t.INPUT_FACTORY_PREFIX)),this.pushState(e,i,n)},t.prototype.safeGetState=function(e){try{return e.state}catch(t){}return null},t.prototype.getPublicWorkspaceUrl=function(){var e=this.contextService.getConfiguration();return e.paths.PUBLIC_WORKSPACE_URL(this.contextService.getWorkspace())},t.prototype.onNavigation=function(e){var t=this,n=null,i=null,o=m.getFilePath(this.getPublicWorkspaceUrl());if(null!==o&&o!==l.SLASH){var s;e&&u.isString(e.mime)&&(s=e.mime);var a=m.getLineSelection();if(a&&a.length>0)i=new c.TextEditorOptions,i.selection.apply(i,a);else if(e){var d=e;d.selection&&(i=new c.TextEditorOptions,i.selection(d.selection.startLineNumber,d.selection.startColumn))}var h;h=!s&&this.fileService?this.fileService.resolveFileStat(o).then(function(e){return e.mime},function(){return null}):r.Promise.as(s),n=h.then(function(e){return e?t.instantiationService.createInstance(t.fileInputDescriptor).then(function(n){return n.setResource(t.contextService.toResource(o)),n.setMime(e),t.partService.joinCreation().then(function(){var e=t.editorService.getActiveEditorInput();return!n.matches(e)||i?(t.blockPushState=!0,t.editorService.openEditor(n,i,t.findVisibleEditorPosition(n))):void 0})}):void 0})}if(!n){var f=m.editorInputFromUrl(this.instantiationService,this.getPublicWorkspaceUrl());f&&(n=this.partService.joinCreation().then(function(){var e=t.editorService.getActiveEditorInput();return f.matches(e)?void 0:(t.blockPushState=!0,t.editorService.openEditor(f,null,t.findVisibleEditorPosition(f)))}))}n&&n.done(function(){t.blockPushState=!1},function(e){t.blockPushState=!1,t.messageService.show(p.Error,e)})},t.prototype.forward=function(){this.history.forward()},t.prototype.back=function(){this.history.back()},t.prototype.pushState=function(e,t,n){this.doPushState(e,t,n,!1)},t.prototype.doPushState=function(e,t,n,r){var i=this;void 0===e&&(e=null),void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=!1);var s=window.document.title;if(o.browser.canPushState()&&!o.isTesting())try{r?this.history.replaceState(e,s,t):this.history.pushState(e,s,t)}catch(a){e?this.doPushState(null,t,n,r):(o.browser.disablePushState(),this.doPushState(null,t,n,r))}else if(!o.isTesting()){this.blockNavigationEvent=!0;try{window.location.hash=n?n:""}finally{setTimeout(function(){i.blockNavigationEvent=!1},300)}}s&&!o.isTesting()&&(window.document.title=s)},t.INPUT_FACTORY_PREFIX=":",t.INPUT_FACTORY_PREFIX_ENCODED=a.encodeURIPart(t.INPUT_FACTORY_PREFIX,!0),t}(d.BaseHistoryService);t.BrowserHistoryService=h;var m=function(){function e(){}return e.toBrowserLocation=function(e,t,n,r,i,s){var c=null;if(u.isNumber(n)){var d=[n];u.isNumber(r)&&d.push(r),u.isNumber(i)&&d.push(i),u.isNumber(s)&&d.push(s),c=d.join(",")}t=t?a.trim(t):"";var p,h=window.location.search;return o.browser.canPushState()?(t[0]===l.SLASH&&(t=t.substring(1)),p=a.format("{0}{1}",e,a.encodeURIPart(t,!0)),h&&(p=a.format("{0}{1}",p,h)),c&&(p=a.format("{0}#{1}",p,c))):(t[0]!==l.SLASH&&(t=l.SLASH+t),p=e,h&&(p=a.format("{0}{1}",p,h)),p=a.format("{0}#{1}",p,a.encodeURIPart(t,!0)),c&&(p=a.format("{0}#{1}",p,c))),p},e.getFilePath=function(t){var n=window.location.hash,r=window.location.search;if(n&&n.length>1&&n[1]===l.SLASH)return n=n.substring(1),n.indexOf("#")>0&&(n=n.substring(0,n.indexOf("#"))),n=decodeURIComponent(n),e.INVALID_PATH_CHARS.some(function(e){return n.indexOf(e)>=0})?null:n;var i=window.location.href;if(!a.startsWith(i,t))return null;var o=i.substr(t.length);return 0===o.length||o===l.SLASH?l.SLASH:(o=decodeURIComponent(o),n&&(o=o.substr(0,o.indexOf(n))),e.INVALID_PATH_CHARS.some(function(e){return o.indexOf(e)>=0})?null:(r&&(r=decodeURIComponent(r),o.indexOf(r)>=0&&(o=o.substr(0,o.indexOf(r)))),l.SLASH+a.trim(o,l.SLASH)))},e.getLineSelection=function(){var e=window.location.hash;if(e&&e.length>1){e=e.substring(1),e[0]===l.SLASH&&e.indexOf("#")>0&&(e=e.substring(e.indexOf("#")+1));var t=[],n=e.split(",");return n.forEach(function(e){try{var n=parseInt(e,10);if(!u.isNumber(n))return;t.push(n)}catch(r){return}}),1===t.length&&t.push(1),t.length>0?t:null}return null},e.editorInputToUrl=function(e){if(!e)return null;var t=n.Registry.as(i.Extensions.Editors),r=t.getEditorInputFactory(e.getId());if(r){var o=r.serialize(e);if(u.isString(o)){var s=a.format("/{0}{1}",h.INPUT_FACTORY_PREFIX,e.getId());return o&&(s=a.format("{0}/{1}",s,o)),s}}return null},e.editorInputFromUrl=function(e,t,r,o){void 0===r&&(r=window.location.href),void 0===o&&(o=window.location.hash);var s;if(o&&o.length>1)o[1]===l.SLASH&&(o=o.substring(1),o.indexOf("#")>0&&(o=o.substring(0,o.indexOf("#"))),s=o);else{var s=r.substr(t.length);if(!a.startsWith(r,t))return null}if(s=decodeURIComponent(s),s=a.ltrim(s,l.SLASH),a.startsWith(s,h.INPUT_FACTORY_PREFIX)){s=s.substr(1);var c=s.split(l.SLASH);if(c.length){var u=n.Registry.as(i.Extensions.Editors),d=c[0],p=u.getEditorInputFactory(d);if(p)return p.deserialize(e,c.length>1?c.slice(1).join(l.SLASH):null)}}return null},e.INVALID_PATH_CHARS=[":","*","?","'","<",">","|"],e}();t.BrowserLocation=m});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/core/history/simpleHistoryService",["require","exports","vs/base/errors","vs/base/ui/events","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/core/history/baseHistoryService","vs/workbench/ui/parts/editor/textEditor"],function(e,t,n,r,i,o,s){var a=function(e){function t(t){e.call(this,t),this.quickOpenService=t.quickOpenService,this.index=-1}return __extends(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){if(!this._stack){this._stack=[];for(var e=this.quickOpenService.getEditorHistory(),t=e.length-1;t>=0;t--)this.addToStack(e[t])}return this._stack},enumerable:!0,configurable:!0}),t.prototype.forward=function(){this.stack.length>this.index+1&&(this.index++,this.navigate())},t.prototype.back=function(){this.index>0&&(this.index--,this.navigate())},t.prototype.navigate=function(){var e=this,t=this.stack[this.index];this.blockEditorEvent=!0,this.editorService.openEditor(t.input,t.options,this.findVisibleEditorPosition(t.input)).done(function(){e.blockEditorEvent=!1},function(t){e.blockEditorEvent=!1,n.onUnexpectedError(t)})},t.prototype.handleEditorSelectionChangeEvent=function(e){this.handleEditorEvent(e,!0)},t.prototype.handleEditorInputChangeEvent=function(e){this.handleEditorEvent(e,!1)},t.prototype.handleEditorEvent=function(e,t){if(!this.blockEditorEvent){if(e instanceof s.BaseTextEditor&&e.input)return this.handleTextEditorEvent(e,t),void 0;this.currentFileEditorState=null,e&&e.input&&this.handleNonTextEditorEvent(e)}},t.prototype.handleTextEditorEvent=function(e,t){var n=new o.EditorState(e.input,e.getSelection());if(!this.currentFileEditorState||this.currentFileEditorState.justifiesNewPushState(n)){this.currentFileEditorState=n;var r;t&&(r=new i.TextEditorOptions,r.selection(e.getSelection().startLineNumber,e.getSelection().startColumn)),this.addToStack(e.input,r)}},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index];t&&t.input.matches(e.input)||this.addToStack(e.input)},t.prototype.addToStack=function(e,t){var n=this,i=!1;if(this.stack[this.index]){var o=this.stack[this.index];o.input.matches(e)&&!o.options&&(i=!0)}var s={input:e,options:t};i?this.stack[this.index]=s:(this.index++,this.stack.splice(this.index,0,s)),e.addOneTimeListener(r.EventType.DISPOSE,function(){n.stack.forEach(function(t,r){t.input.matches(e)&&(n.stack.splice(r,1),n.index>=r&&n.index--)})})},t}(o.BaseHistoryService);t.SimpleHistoryService=a}),define("vs/css!vs/workbench/ui/parts/part",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/part",["require","exports","vs/base/dom/builder","vs/workbench/core/component","vs/css!./part"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.statusArea=this.createStatusArea(e),this.partLayout=new s(this.parent,this.titleArea,this.contentArea,this.statusArea)},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.createStatusArea=function(){return null},t.prototype.getStatusArea=function(){return this.statusArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t.prototype.getLayout=function(){return this.partLayout},t}(r.WorkbenchComponent);t.Part=i;var o=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(i);t.EmptyPart=o;var s=function(){function e(e,t,n,r){this.container=e,this.titleArea=t,this.contentArea=n,this.statusArea=r}return e.prototype.computeStyle=function(){var e=this.container.getComputedStyle();if(this.containerStyle={borderLeftWidth:parseInt(e.getPropertyValue("border-left-width"),10),borderRightWidth:parseInt(e.getPropertyValue("border-right-width"),10),borderTopWidth:parseInt(e.getPropertyValue("border-top-width"),10),borderBottomWidth:parseInt(e.getPropertyValue("border-bottom-width"),10)},this.titleArea){var t=this.titleArea.getComputedStyle();this.titleStyle={display:t.getPropertyValue("display"),height:this.titleArea.getTotalSize().height}}if(this.statusArea){var n=this.statusArea.getComputedStyle();this.statusStyle={display:n.getPropertyValue("display"),height:this.statusArea.getTotalSize().height}}},e.prototype.layout=function(e){this.containerStyle||this.computeStyle();var t,r=e.width-(this.containerStyle.borderLeftWidth+this.containerStyle.borderRightWidth),i=e.height-(this.containerStyle.borderTopWidth+this.containerStyle.borderBottomWidth),o=[];t=this.titleArea&&"none"!==this.titleStyle.display?new n.Dimension(r,Math.min(i,this.titleStyle.height)):new n.Dimension(0,0);var s;this.statusArea&&"none"!==this.statusStyle.display?(this.statusArea.getHTMLElement().style.height=this.statusArea.getHTMLElement().style.width="",s=new n.Dimension(r,Math.min(i-t.height,this.statusStyle.height))):s=new n.Dimension(0,0);var a=new n.Dimension(r,i-t.height-s.height);return o.push(t),o.push(a),o.push(s),this.contentArea&&this.contentArea.size(a.width,a.height),o},e}();t.PartLayout=s}),define("vs/css!vs/workbench/ui/parts/activitybar/media/activityBarPart",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/activitybar/activitybarPart",["require","exports","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/errors","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/workbench/ui/actionBarRegistry","vs/base/ui/widgets/toolbar/toolbar","vs/platform/platform","vs/workbench/events","vs/workbench/ui/parts/viewlet","vs/workbench/ui/parts/part","vs/workbench/ui/parts/activitybar/activityAction","vs/base/severity","vs/platform/configuration/keybindings","vs/css!./media/activityBarPart"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=r.$,g=!1,b=function(e){function t(t,n){e.call(this,n),this.viewletService=t.viewletService,this.messageService=t.messageService,this.telemetryService=t.telemetryService,this.eventService=t.eventService,this.contextMenuService=t.contextMenuService,this.keybindingService=t.keybindingService,this.activityActionItems={},this.viewletIdToActions={},this.registerListeners()}return __extends(t,e),t.prototype.setInstantiationService=function(e){this.instantiationService=e},t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener(u.EventType.VIEWLET_OPENING,function(t){return e.onViewletOpening(t)})),this.toUnbind.push(this.eventService.addListener(u.EventType.VIEWLET_CLOSED,function(t){return e.onViewletClosed(t)}))},t.prototype.onViewletOpening=function(e){if(this.viewletIdToActions[e.viewletId]){this.viewletIdToActions[e.viewletId].activate();for(var t in this.viewletIdToActions)this.viewletIdToActions.hasOwnProperty(t)&&t!==e.viewletId&&this.viewletIdToActions[t].deactivate()}},t.prototype.onViewletClosed=function(e){this.viewletIdToActions[e.viewletId]&&this.viewletIdToActions[e.viewletId].deactivate()},t.prototype.showActivity=function(e,t,n){var r=this.viewletIdToActions[e];r&&(r.setBadge(t),n&&(r.class=n))},t.prototype.clearActivity=function(e){this.showActivity(e,null)},t.prototype.createContentArea=function(e){var t=v(e);if(g){var n=!1,r=null,i=null,o=!1,s=function(){clearTimeout(r),r=null},a=function(){clearTimeout(i),i=null},l=function(){s(),t.addClass("help"),n=!0},c=function(){a(),t.removeClass("help"),n=!1};v(window).on("keyup",function(){r&&s(),n&&c()}),t.on("click",function(){s(),c(),o=!0},null,!0),t.on("mouseover",function(){s()}),t.on("mouseout",function(){o=!1,s(),i=setTimeout(function(){return c()},100)}),t.on("mousemove",function(){a(),n||o||null===r&&(r=setTimeout(function(){return l()},1200))})}var u=v(".content").appendTo(t);return this.createViewletSwitcher(u.clone()),this.createGlobalToolBarArea(u.clone()),u},t.prototype.createViewletSwitcher=function(e){var t=this;this.viewletSwitcherBar=new s.ActionBar(e,{actionItemProvider:function(e){return t.activityActionItems[e.id]}}),this.viewletSwitcherBar.getContainer().removeAttribute("tabindex"),this.viewletSwitcherBar.getContainer().addClass("position-top");var n=this.viewletService.getActiveViewlet(),r=c.Registry.as(d.Extensions.Viewlets),i=r.getViewlets().sort(function(e,t){return e.order-t.order}).map(function(e){var r=t.instantiationService.createInstance(y,e.id+".activity-bar-action",e),i=null,o=f.lookupKeyBindingsAsLabels(t.keybindingService,e.id);return o&&o.length&&(i=o[0]),t.activityActionItems[r.id]=new h.ActivityActionItem(r,e.name,i),t.viewletIdToActions[e.id]=r,n&&n.getId()===e.id&&r.activate(),r});this.viewletSwitcherBar.push(i,{label:!0,icon:!0})},t.prototype.createGlobalToolBarArea=function(e){var t=this;this.globalToolBar=new l.ToolBar(e.getHTMLElement(),this.contextMenuService,{actionItemProvider:function(e){return t.activityActionItems[e.id]},orientation:s.ActionsOrientation.VERTICAL}),this.globalToolBar.getContainer().removeAttribute("tabindex"),this.globalToolBar.getContainer().addClass("global"),this.globalToolBar.actionRunner.addListener(o.EventType.RUN,function(e){e.error&&!i.isPromiseCanceledError(e.error)&&t.messageService.show(m.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"activityBar"})
});var n=this.getGlobalActions(!0),r=this.getGlobalActions(!1);n.length+r.length>0&&this.globalToolBar.getContainer().addClass("position-bottom"),this.globalToolBar.setActions(a.prepareActions(n),a.prepareActions(r))()},t.prototype.getGlobalActions=function(e){var t,n=this,r=c.Registry.as(a.Extensions.Actionbar);return t=e?r.getActionBarActionsForContext(a.Scope.GLOBAL,l.CONTEXT):r.getSecondaryActionBarActionsForContext(a.Scope.GLOBAL,l.CONTEXT),t.map(function(t){if(e){var i=null,o=f.lookupKeyBindingsAsLabels(n.keybindingService,t.id);o&&o.length&&(i=o[0]);var s=r.getActionItemForContext(a.Scope.GLOBAL,l.CONTEXT,t);s||(s=new h.ActivityActionItem(t,t.label,i)),s instanceof h.ActivityActionItem&&(s.keybinding=i),n.activityActionItems[t.id]=s}return t})},t.prototype.dispose=function(){this.viewletSwitcherBar&&(this.viewletSwitcherBar.dispose(),this.viewletSwitcherBar=null),this.globalToolBar&&(this.globalToolBar.dispose(),this.globalToolBar=null),e.prototype.dispose.call(this)},t}(p.Part);t.ActivitybarPart=b;var y=function(e){function t(t,n,r){e.call(this,n,r.name,r.cssClass),this.viewletService=t.viewletService,this.partService=t.partService,this.viewlet=r}return __extends(t,e),t.prototype.run=function(){var e=(new Date).getTime();if(e-t.lastRun<t.preventDoubleClickDelay)return n.Promise.as(!0);t.lastRun=e;var r=this.partService.isSideBarHidden(),o=this.viewletService.getActiveViewlet();return!r&&o&&o.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):(this.viewletService.openViewlet(this.viewlet.id,!0).done(null,i.onUnexpectedError),this.activate()),n.Promise.as(!0)},t.preventDoubleClickDelay=300,t.lastRun=0,t}(h.ActivityAction)}),define("vs/base/ui/widgets/progressbar",["require","exports","vs/base/lib/winjs.base","vs/base/assert","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/base/uuid","vs/css!./progressbar"],function(e,t,n,r,i,o,s,a){var l="done",c="active",u="infinite",d="discrete",p="progress-container",h="progress-bit",m=o.$,f=function(){function e(e){this.toUnbind=[],this.workedVal=0,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({class:p},function(e){t.element=e.clone(),e.div({class:h}).on([s.EventType.ANIMATION_START,s.EventType.ANIMATION_END,s.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case s.EventType.ANIMATION_START:case s.EventType.ANIMATION_END:t.animationRunning=e.type===s.EventType.ANIMATION_START;break;case s.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()})},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass(c),this.element.removeClass(u),this.element.removeClass(d),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass(l),this.element.hasClass(u)?(this.bit.style.opacity="0",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){if(this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass(d),this.element.removeClass(l),this.element.addClass(c),this.element.addClass(u),!i.browser.hasCSSAnimationSupport()){var e=a.v4().asHex();this.currentProgressToken=e,this.manualInfinite(e)}return this},e.prototype.manualInfinite=function(e){var t=this;this.bit.style.width="5%",this.bit.style.display="inherit";var r=0,i=function(){n.Promise.timeout(50).then(function(){e===t.currentProgressToken&&(t.element.hasClass(l)?(t.bit.style.display="none",t.bit.style.left="0"):t.element.isHidden()?i():(r=(r+1)%95,t.bit.style.left=r+"%",i()))})};i()},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.hasTotal=function(){return!isNaN(this.totalWork)},e.prototype.worked=function(e){return r.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),r.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass(u)&&this.element.removeClass(u),this.element.hasClass(l)&&this.element.removeClass(l),this.element.hasClass(c)||this.element.addClass(c),this.element.hasClass(d)||this.element.addClass(d),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},e.prototype.getContainer=function(){return m(this.element)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e}();t.ProgressBar=f}),define("vs/css!vs/workbench/ui/parts/editor/media/sidebyside",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/sideBySideEditorControl",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/workbench/ui/actionBarRegistry","vs/base/ui/actions","vs/base/arrays","vs/base/env","vs/base/eventEmitter","vs/platform/services","vs/base/dom/mouseEvent","vs/base/errors","vs/base/types","vs/base/dom/builder","vs/base/ui/widgets/sash","vs/base/ui/widgets/contextview/contextview","vs/base/ui/widgets/progressbar","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/ui/parts/editor/editorOptions","vs/base/ui/events","vs/workbench/events","vs/base/dom/dom","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/toolbar/toolbar","vs/base/severity","vs/css!./media/sidebyside"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T){var k=h.$;!function(e){e[e.NONE=0]="NONE",e[e.CENTER_TO_LEFT=1]="CENTER_TO_LEFT",e[e.RIGHT_TO_CENTER=2]="RIGHT_TO_CENTER",e[e.CENTER_AND_RIGHT_TO_LEFT=3]="CENTER_AND_RIGHT_TO_LEFT"}(t.Rochade||(t.Rochade={}));var C=t.Rochade;t.EventType={EDITOR_FOCUS_CHANGED:"editorFocusChanged"};var x=function(e){function l(t,n){var r=this;e.call(this),this.editorService=t.editorService,this.messageService=t.messageService,this.quickOpenService=t.quickOpenService,this.telemetryService=t.telemetryService,this.contextViewService=t.contextViewService,this.contextMenuService=t.contextMenuService,this.eventService=t.eventService,this.contextService=t.contextService,this.parent=n,this.dimension=new h.Dimension(0,0),this.containers=[],this.containerWidth=[],this.titleContainer=[],this.titleLabel=[],this.titleDescription=[],this.editorInputStateDescription=[],this.editorActionsToolbar=[],this.progressBar=[],this.visibleEditors=[],this.visibleEditorContainers=[],this.visibleEditorFocusTrackers=[],this.closeEditorAction=c.POSITIONS.map(function(e){return r.makeCloseEditorAction(e)}),this.splitEditorAction=this.makeSplitEditorAction(),this.initStyles(),this.registerListeners(),this.create(this.parent)}return __extends(l,e),l.prototype.registerListeners=function(){var e=this;this.editorInputStateChangeListener=this.eventService.addListener(_.EventType.EDITOR_INPUT_STATE_CHANGED,function(t){e.updateEditorInputStateIndicator(t)})},l.prototype.initStyles=function(){var e='cursor: url("'+w.toContentLocation("vs/workbench/ui/parts/editor/media/grab.cur")+'"), move;',t='cursor: url("'+w.toContentLocation("vs/workbench/ui/parts/editor/media/grabbing.cur")+'"), move;';w.createCSSRule(".monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title .title-label a, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title .title-label span",e),w.createCSSRule("#monaco-workbench-editor-move-overlay, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title .title-label a, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title .title-label span, .monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .monaco-editor .view-lines",t)},l.prototype.makeCloseEditorAction=function(e){var t=this;return new o.Action("close.editor.action",n.localize("vs_workbench_ui_parts_editor_sideBySideEditorControl",0),"close-editor-action",!0,function(){return t.editorService.closeEditor(e)})},l.prototype.makeSplitEditorAction=function(){var e=this;return new o.Action("split.editor.action",n.localize("vs_workbench_ui_parts_editor_sideBySideEditorControl",1),"split-editor-action",!0,function(){var t=e.editorService.getActiveEditor(),n=e.getVisibleEditorCount();if(n>1&&t.position===c.Position.LEFT){var r=e.visibleEditors[c.Position.CENTER].input,i=new b.TextEditorOptions;return i.preserveFocus=!0,e.editorService.openEditor(t.input,i,c.Position.CENTER).then(function(){return e.editorService.openEditor(r,i,c.Position.RIGHT).then(function(){return e.editorService.focusEditor(c.Position.CENTER)})})}return e.editorService.openEditor(t.input,null,!0)})},l.prototype.show=function(e,t,n,r,i){var o=this.getVisibleEditorCount();this.visibleEditors[n]=e,this.visibleEditorContainers[n]=t,r&&this.lastActiveEditor||this.setActive(e,n),this.trackFocus(e,n);var s=this.containers[n];if(t.build(s),!i||2!==i.length&&3!==i.length)0===o&&this.dimension?(this.containerWidth[n]=this.dimension.width,this.layoutContainers()):n===c.Position.CENTER&&this.leftSash.isHidden()&&this.rightSash.isHidden()&&this.dimension?(this.containerWidth[c.Position.LEFT]=this.dimension.width/2,this.containerWidth[c.Position.CENTER]=this.dimension.width-this.containerWidth[c.Position.LEFT],this.leftSash.show(),this.leftSash.layout(),this.layoutContainers()):n===c.Position.RIGHT&&this.rightSash.isHidden()&&this.dimension&&(this.containerWidth[c.Position.LEFT]=this.dimension.width/3,this.containerWidth[c.Position.CENTER]=this.dimension.width/3,this.containerWidth[c.Position.RIGHT]=this.dimension.width-this.containerWidth[c.Position.LEFT]-this.containerWidth[c.Position.CENTER],this.leftSash.layout(),this.rightSash.show(),this.rightSash.layout(),this.layoutContainers());else{var a=this.dimension&&this.dimension.width;a||(this.containerInitialRatios=i),2===i.length?a&&(this.containerWidth[n]=this.dimension.width*i[n]):3===i.length&&(a&&(this.containerWidth[n]=this.dimension.width*i[n]),this.rightSash.isHidden()&&(this.rightSash.show(),this.rightSash.layout())),this.leftSash.isHidden()&&(this.leftSash.show(),this.leftSash.layout()),a&&this.layoutContainers()}t.show(),this.updateParentStyle()},l.prototype.getVisibleEditorCount=function(){var e=0;return this.visibleEditors.forEach(function(t){t&&e++}),e},l.prototype.indexOf=function(e){return this.visibleEditors.indexOf(e)},l.prototype.trackFocus=function(e,t){var n=this;this.globalFocusTracker||(this.globalFocusTracker=w.trackFocus(window.document.body),this.globalFocusTracker.addBlurListener(function(){var e=window.document.activeElement;if(e)for(var t=0;t<n.visibleEditorContainers.length;t++){var r=n.visibleEditorContainers[t];if(r&&w.isAncestor(e,r.getHTMLElement())){n.onFocusGained(n.visibleEditors[t]);break}}})),this.visibleEditorFocusTrackers[t]&&this.visibleEditorFocusTrackers[t].dispose(),this.visibleEditorFocusTrackers[t]=w.trackFocus(e.getContainer().getHTMLElement()),this.visibleEditorFocusTrackers[t].addFocusListener(function(){n.onFocusGained(e)})},l.prototype.onFocusGained=function(e){var n=this;if(this.lastActiveEditor!==e){if(this.setActive(e,this.indexOf(e)),this.containerWidth[this.lastActivePosition]===l.MIN_EDITOR_WIDTH){this.telemetryService&&this.telemetryService.publicLog("workbenchEditorMaximized");var r=this.dimension.width;c.POSITIONS.forEach(function(e){n.lastActivePosition!==e&&n.visibleEditors[e]&&(n.containerWidth[e]=l.MIN_EDITOR_WIDTH,r-=n.containerWidth[e])}),r>l.MIN_EDITOR_WIDTH&&(this.containerWidth[this.lastActivePosition]=r,this.leftSash.isHidden()||this.leftSash.layout(),this.rightSash.isHidden()||this.rightSash.layout(),this.layoutContainers())}this.emit(t.EventType.EDITOR_FOCUS_CHANGED)}},l.prototype.focusNextNonMinimized=function(){var e=this;if(!p.isUndefinedOrNull(this.lastActivePosition)&&this.containerWidth[this.lastActivePosition]===l.MIN_EDITOR_WIDTH){var t=null,n=l.MIN_EDITOR_WIDTH;c.POSITIONS.forEach(function(r){r!==e.lastActivePosition&&e.visibleEditors[r]&&e.containerWidth[r]>n&&(t=r,n=e.containerWidth[r])}),p.isUndefinedOrNull(t)||this.editorService.focusEditor(this.visibleEditors[t]).done(null,d.onUnexpectedError)}},l.prototype.hide=function(e,t,n,r){var i=C.NONE,o=this.getVisibleEditorCount(),s=!!this.visibleEditors[c.Position.CENTER],a=!!this.visibleEditors[c.Position.RIGHT];if(e!==this.visibleEditors[n])return i;if(this.clearPosition(n),t.offDOM(),t.hide(),r&&(1===o?(this.containerWidth[n]=0,this.leftSash.hide(),this.rightSash.hide(),this.layoutContainers()):s&&!a?(this.containerWidth[c.Position.LEFT]=this.dimension.width,this.containerWidth[c.Position.CENTER]=0,this.leftSash.hide(),this.rightSash.hide(),n===c.Position.LEFT&&(this.rochade(c.Position.CENTER,c.Position.LEFT),i=C.CENTER_TO_LEFT),this.layoutContainers()):s&&a&&(this.containerWidth[c.Position.LEFT]=this.dimension.width/2,this.containerWidth[c.Position.CENTER]=this.dimension.width-this.containerWidth[c.Position.LEFT],this.containerWidth[c.Position.RIGHT]=0,this.leftSash.layout(),this.rightSash.hide(),n===c.Position.CENTER?(this.rochade(c.Position.RIGHT,c.Position.CENTER),i=C.RIGHT_TO_CENTER):n===c.Position.LEFT&&(this.rochade(c.Position.CENTER,c.Position.LEFT),this.rochade(c.Position.RIGHT,c.Position.CENTER),i=C.CENTER_AND_RIGHT_TO_LEFT),this.layoutContainers())),this.lastActiveEditor===e&&(this.setActive(null,null),r)){var l;switch(n){case c.Position.LEFT:l=s?c.Position.LEFT:null;break;case c.Position.CENTER:l=c.Position.LEFT;break;case c.Position.RIGHT:l=c.Position.CENTER}p.isUndefinedOrNull(l)||this.setActive(this.visibleEditors[l],l)}return this.updateParentStyle(),i},l.prototype.updateParentStyle=function(){var e=this.getVisibleEditorCount();e>1?this.parent.addClass("multiple-editors"):this.parent.removeClass("multiple-editors")},l.prototype.setActive=function(e,t){var n=this.lastActivePosition;this.lastActivePosition=t,this.lastActiveEditor=e,p.isUndefinedOrNull(n)||(this.containers[n].addClass("inactive"),this.containers[n].removeClass("active")),p.isUndefinedOrNull(t)||(this.containers[t].removeClass("inactive"),this.containers[t].addClass("active"))},l.prototype.clearPosition=function(e){this.visibleEditorFocusTrackers[e]&&(this.visibleEditorFocusTrackers[e].dispose(),this.visibleEditorFocusTrackers[e]=null),this.visibleEditors[e]=null,this.visibleEditorContainers[e]=null},l.prototype.rochade=function(e,t){var n=this.visibleEditorContainers[e],r=this.visibleEditors[e];n.offDOM(),n.build(this.containers[t]),r.changePosition(t);var i=this.visibleEditorFocusTrackers[e];this.visibleEditorContainers[t]=n,this.visibleEditors[t]=r,this.visibleEditorFocusTrackers[t]=i,this.visibleEditorContainers[e]=null,this.visibleEditors[e]=null,this.visibleEditorFocusTrackers[e]=null,this.lastActivePosition===e&&this.setActive(this.lastActiveEditor,t)},l.prototype.move=function(e,t){var n,r,i,o;if(1===Math.abs(e-t))n=this.visibleEditorContainers[e],r=this.visibleEditors[e],n.offDOM(),n.build(this.containers[t]),r.changePosition(t),i=this.visibleEditorContainers[t],o=this.visibleEditors[t],i.offDOM(),i.build(this.containers[e]),o.changePosition(e),this.lastActivePosition===e?this.setActive(this.lastActiveEditor,t):this.lastActivePosition===t&&this.setActive(this.lastActiveEditor,e);else{var a,l,u;e===c.Position.LEFT?(a=c.Position.RIGHT,l=c.Position.LEFT,u=c.Position.CENTER):(a=c.Position.CENTER,l=c.Position.RIGHT,u=c.Position.LEFT),n=this.visibleEditorContainers[c.Position.LEFT],r=this.visibleEditors[c.Position.LEFT],n.offDOM(),n.build(this.containers[a]),r.changePosition(a),i=this.visibleEditorContainers[c.Position.CENTER],o=this.visibleEditors[c.Position.CENTER],i.offDOM(),i.build(this.containers[l]),o.changePosition(l);var d=this.visibleEditorContainers[c.Position.RIGHT],p=this.visibleEditors[c.Position.RIGHT];d.offDOM(),d.build(this.containers[u]),p.changePosition(u),this.lastActivePosition===c.Position.LEFT?this.setActive(this.lastActiveEditor,a):this.lastActivePosition===c.Position.CENTER?this.setActive(this.lastActiveEditor,l):this.lastActivePosition===c.Position.RIGHT&&this.setActive(this.lastActiveEditor,u)}s.move(this.visibleEditorContainers,e,t),s.move(this.visibleEditors,e,t),s.move(this.visibleEditorFocusTrackers,e,t),s.move(this.containerWidth,e,t),this.leftSash.isHidden()||this.leftSash.layout(),this.rightSash.isHidden()||this.rightSash.layout(),this.layoutContainers()},l.prototype.getWidthRatios=function(){var e=this,t=[];if(this.dimension){var n=this.dimension.width;c.POSITIONS.forEach(function(r){e.visibleEditors[r]&&t.push(e.containerWidth[r]/n)})}return t},l.prototype.getActiveEditor=function(){return this.lastActiveEditor},l.prototype.getActivePosition=function(){return this.lastActivePosition},l.prototype.create=function(e){var t=this;this.containers[c.Position.LEFT]=k(e).div({class:"one-editor-container editor-left"}),this.leftSash=new m.Sash(e.getHTMLElement(),this,{baseSize:5}),this.leftSash.addListener("start",function(){return t.onLeftSashDragStart()}),this.leftSash.addListener("change",function(e){return t.onLeftSashDrag(e)}),this.leftSash.addListener("end",function(){return t.onLeftSashDragEnd()}),this.leftSash.hide(),this.containers[c.Position.CENTER]=k(e).div({class:"one-editor-container editor-center"}),this.rightSash=new m.Sash(e.getHTMLElement(),this,{baseSize:5}),this.rightSash.addListener("start",function(){return t.onRightSashDragStart()}),this.rightSash.addListener("change",function(e){return t.onRightSashDrag(e)}),this.rightSash.addListener("end",function(){return t.onRightSashDragEnd()}),this.rightSash.hide(),this.containers[c.Position.RIGHT]=k(e).div({class:"one-editor-container editor-right"}),c.POSITIONS.forEach(function(e){t.titleContainer[e]=k(t.containers[e]).div({class:"title"}),t.fillTitleArea(k(t.titleContainer[e]),e)}),c.POSITIONS.forEach(function(e){t.progressBar[e]=new v.ProgressBar(k(t.containers[e])),t.progressBar[e].getContainer().hide()})},l.prototype.updateEditorInputStateIndicator=function(e){var t=this;c.POSITIONS.forEach(function(n){t.visibleEditors[n]&&t.isInputRelated(t.visibleEditors[n].input,e.editorInput)&&t.setEditorInputStateIndicator(e.editorInput,e.editorInput.getStatus(),n)})},l.prototype.setEditorInputStateIndicator=function(e,t,r){var i=e&&e.getName()||"";t&&t.decoration&&(i=n.localize("vs_workbench_ui_parts_editor_sideBySideEditorControl",2,t.decoration,i)),this.titleLabel[r].safeInnerHtml(i);var o=this.contextService.getOptions();if(o&&o.verboseEditorStateIndicator&&(this.editorInputStateDescription[r].clearChildren(),t)){var s=k("span.inner").safeInnerHtml(t.displayText);s.addClass(t.state),s.appendTo(this.editorInputStateDescription[r])}},l.prototype.isInputRelated=function(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e instanceof g.DiffEditorInput){var n=e.getModifiedInput();if(n===t)return!0}return!1},l.prototype.fillTitleArea=function(e,t){var n=this,r=!1,i=!1;e.on(w.EventType.MOUSE_DOWN,function(e){if(r=!1,i=!1,!(n.getVisibleEditorCount()<=1||w.isAncestor(e.target||e.srcElement,n.editorActionsToolbar[t].getContainer().getHTMLElement()))){w.EventHelper.stop(e);var o=k("div").style({position:"absolute",top:l.EDITOR_TITLE_HEIGHT+"px",left:0,width:"100%",height:"100%",zIndex:3e6}).id("monaco-workbench-editor-move-overlay");o.appendTo(n.parent),n.dragging=!0;var s=n.getVisibleEditorCount(),p=new u.StandardMouseEvent(e),h=p.posx,m=null;a.browser.isIE10orEarlier||n.containers[t].style({zIndex:2e6});var f=k(window);f.on(w.EventType.MOUSE_MOVE,function(e){w.EventHelper.stop(e,!1);var r=new u.StandardMouseEvent(e),o=r.posx-h,a=null;switch(Math.abs(o)>5&&(i=!0),t){case c.Position.LEFT:a=Math.max(-1,Math.min(o,n.dimension.width-n.containerWidth[c.Position.LEFT]));break;case c.Position.CENTER:a=2===s?Math.min(n.containerWidth[c.Position.LEFT],Math.max(-1,n.containerWidth[c.Position.LEFT]+o)):Math.min(n.dimension.width-n.containerWidth[c.Position.CENTER],Math.max(-1,n.containerWidth[c.Position.LEFT]+o));break;case c.Position.RIGHT:a=Math.min(n.containerWidth[c.Position.LEFT]+n.containerWidth[c.Position.CENTER],Math.max(-1,n.containerWidth[c.Position.LEFT]+n.containerWidth[c.Position.CENTER]+o))}if(m!==a){m=a;var l=n.findMoveTarget(t,o);switch(t){case c.Position.LEFT:l===c.Position.LEFT||null===l?(n.containers[c.Position.CENTER].style({left:n.containerWidth[c.Position.LEFT]+"px",right:"auto",borderLeftWidth:"1px"}),n.containers[c.Position.RIGHT].style({left:"auto",right:0})):l===c.Position.CENTER?(n.containers[c.Position.CENTER].style({left:0,right:"auto",borderLeftWidth:0}),n.containers[c.Position.CENTER].addClass("draggedunder"),n.containers[c.Position.RIGHT].style({left:"auto",right:0})):l===c.Position.RIGHT&&(n.containers[c.Position.CENTER].style({left:0,right:"auto"}),n.containers[c.Position.RIGHT].style({left:"auto",right:n.containerWidth[c.Position.LEFT]+"px"}),n.containers[c.Position.RIGHT].addClass("draggedunder"));break;case c.Position.CENTER:l===c.Position.LEFT?(n.containers[c.Position.LEFT].style({left:n.containerWidth[c.Position.CENTER]+"px",right:"auto"}),n.containers[c.Position.LEFT].addClass("draggedunder")):l===c.Position.CENTER||null===l?(n.containers[c.Position.LEFT].style({left:0,right:"auto"}),n.containers[c.Position.RIGHT].style({left:"auto",right:0})):l===c.Position.RIGHT&&(n.containers[c.Position.RIGHT].style({left:"auto",right:n.containerWidth[c.Position.CENTER]+"px"}),n.containers[c.Position.RIGHT].addClass("draggedunder"),n.containers[c.Position.LEFT].style({left:0,right:"auto"}));break;case c.Position.RIGHT:l===c.Position.LEFT?(n.containers[c.Position.LEFT].style({left:n.containerWidth[c.Position.RIGHT]+"px",right:"auto"}),n.containers[c.Position.LEFT].addClass("draggedunder")):l===c.Position.CENTER?(n.containers[c.Position.LEFT].style({left:0,right:"auto"}),n.containers[c.Position.CENTER].style({left:n.containerWidth[c.Position.LEFT]+n.containerWidth[c.Position.RIGHT]+"px",right:"auto"}),n.containers[c.Position.CENTER].addClass("draggedunder")):(l===c.Position.RIGHT||null===l)&&(n.containers[c.Position.LEFT].style({left:0,right:"auto"}),n.containers[c.Position.CENTER].style({left:n.containerWidth[c.Position.LEFT]+"px",right:"auto"}))}null!==a&&(n.containers[t].style({left:a+"px"}),n.containers[t].addClass("dragged"),n.parent.addClass("dragged"))}}).once(w.EventType.MOUSE_UP,function(e){w.EventHelper.stop(e,!1),o.destroy(),n.dragging=!1,n.parent.removeClass("dragged"),n.containers[t].removeClass("dragged"),a.browser.isIE10orEarlier||n.containers[t].style({zIndex:"auto"}),c.POSITIONS.forEach(function(e){return n.containers[e].removeClass("draggedunder")}),n.containers[c.Position.LEFT].style({left:0,right:"auto"}),n.containers[c.Position.CENTER].style({left:"auto",right:"auto",borderLeftWidth:"1px"}),n.containers[c.Position.RIGHT].style({left:"auto",right:0,borderLeftWidth:"1px"});var s=new u.StandardMouseEvent(e),l=s.posx-h,p=n.findMoveTarget(t,l);null!==p?n.editorService.moveEditor(t,p):n.layoutContainers(),i?r=!0:t!==n.getActivePosition()&&n.editorService.focusEditor(n.visibleEditors[t]).done(null,d.onUnexpectedError),f.off("mousemove")})}}),e.div({class:"title-actions"},function(e){n.editorActionsToolbar[t]=new S.ToolBar(e.getHTMLElement(),n.contextMenuService,{actionItemProvider:function(e){return n.actionItemProvider(e,t)},orientation:E.ActionsOrientation.HORIZONTAL}),n.editorActionsToolbar[t].actionRunner.addListener(y.EventType.RUN,function(e){e.error&&!d.isPromiseCanceledError(e.error)&&n.messageService.show(T.Error,e.error),n.telemetryService&&n.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"editorPart"})})}),e.div({class:"title-label"},function(e){var i=function(e){r||(w.EventHelper.stop(e,!0),n.quickOpenService.show())};n.titleLabel[t]=k(e).a().on(w.EventType.CLICK,i),n.titleDescription[t]=k(e).span().on(w.EventType.CLICK,i);var o=n.contextService.getOptions();if(o&&o.verboseEditorStateIndicator){var s=function(e){n.editorInputStateHoverTimeout=setTimeout(function(){var r=n.visibleEditors[t];if(r&&r.input){var i=r.input.getStatus();i&&i.description&&n.contextViewService.showContextView({getAnchor:function(){return e.parent().getHTMLElement()},anchorAlignment:f.AnchorAlignment.RIGHT,render:function(e){return k(e).div({class:"tooltip"}).safeInnerHtml(i.description),null},onDOMEvent:function(){n.contextViewService.hideContextView(),clearTimeout(n.editorInputStateHoverTimeout)}})}},500)};n.editorInputStateDescription[t]=k(e).span({class:"state-description"}),n.editorInputStateDescription[t].on(w.EventType.MOUSE_OVER,function(){s(n.editorInputStateDescription[t])}),n.editorInputStateDescription[t].on(w.EventType.MOUSE_OUT,function(){n.contextViewService.hideContextView(),clearTimeout(n.editorInputStateHoverTimeout)})}})},l.prototype.findMoveTarget=function(e,t){var n=this.getVisibleEditorCount();switch(e){case c.Position.LEFT:if(2===n&&(t>=this.containerWidth[c.Position.LEFT]/2||t>=this.containerWidth[c.Position.CENTER]/2))return c.Position.CENTER;if(3===n&&(t>=this.containerWidth[c.Position.LEFT]/2+this.containerWidth[c.Position.CENTER]||t>=this.containerWidth[c.Position.RIGHT]/2+this.containerWidth[c.Position.CENTER]))return c.Position.RIGHT;if(3===n&&(t>=this.containerWidth[c.Position.LEFT]/2||t>=this.containerWidth[c.Position.CENTER]/2))return c.Position.CENTER;break;case c.Position.CENTER:if(2===n&&t>0)return null;if(2===n&&(Math.abs(t)>=this.containerWidth[c.Position.CENTER]/2||Math.abs(t)>=this.containerWidth[c.Position.LEFT]/2))return c.Position.LEFT;if(3===n&&(0>t&&Math.abs(t)>=this.containerWidth[c.Position.CENTER]/2||0>t&&Math.abs(t)>=this.containerWidth[c.Position.LEFT]/2))return c.Position.LEFT;if(3===n&&(t>0&&Math.abs(t)>=this.containerWidth[c.Position.CENTER]/2||t>0&&Math.abs(t)>=this.containerWidth[c.Position.RIGHT]/2))return c.Position.RIGHT;break;case c.Position.RIGHT:if(t>0)return null;if(Math.abs(t)>=this.containerWidth[c.Position.RIGHT]/2+this.containerWidth[c.Position.CENTER]||Math.abs(t)>=this.containerWidth[c.Position.LEFT]/2+this.containerWidth[c.Position.CENTER])return c.Position.LEFT;if(Math.abs(t)>=this.containerWidth[c.Position.RIGHT]/2||Math.abs(t)>=this.containerWidth[c.Position.CENTER]/2)return c.Position.CENTER}return null},l.prototype.actionItemProvider=function(e,t){var n,o=this.visibleEditors[t];if(o&&(n=o.getActionItem(e)),!n){var s=r.Registry.as(i.Extensions.Actionbar);n=s.getActionItemForContext(i.Scope.EDITOR,{input:o&&o.input,editor:o,position:t},e)}return n},l.prototype.setTitle=function(e,t,n,r,i){i?(this.containers[e].removeClass("inactive"),this.containers[e].addClass("active")):(this.containers[e].addClass("inactive"),this.containers[e].removeClass("active")),this.titleLabel[e].safeInnerHtml(t.getName()||""),this.titleDescription[e].safeInnerHtml(i?t.getDescription()||"":""),t?this.setEditorInputStateIndicator(t,t.getStatus(),e):this.setEditorInputStateIndicator(null,null,null),i&&this.getVisibleEditorCount()<3&&this.lastActiveEditor.supportsSplitEditor()&&n.unshift(this.splitEditorAction),this.editorActionsToolbar[e].setActions(n,r)(),t&&this.editorActionsToolbar[e].addPrimaryAction(this.closeEditorAction[e])()},l.prototype.setLoading=function(e,t){this.titleLabel[e].safeInnerHtml(t.getName()||""),this.titleDescription[e].safeInnerHtml(n.localize("vs_workbench_ui_parts_editor_sideBySideEditorControl",3)),this.editorActionsToolbar[e].setActions([],[])(),t&&this.editorActionsToolbar[e].addPrimaryAction(this.closeEditorAction[e])()},l.prototype.clearTitle=function(e){this.titleLabel[e].safeInnerHtml(""),this.titleDescription[e].safeInnerHtml(""),this.editorActionsToolbar[e].setActions([],[])()},l.prototype.onLeftSashDragStart=function(){this.startLeftContainerWidth=this.containerWidth[c.Position.LEFT]},l.prototype.onLeftSashDrag=function(e){var t=this.containerWidth[c.Position.LEFT],n=this.startLeftContainerWidth+e.currentX-e.startX;this.rightSash.isHidden()?(n<l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-n<l.MIN_EDITOR_WIDTH?n=this.dimension.width-l.MIN_EDITOR_WIDTH:n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH&&(n=this.dimension.width-l.MIN_EDITOR_WIDTH),this.containerWidth[c.Position.LEFT]=n,this.containerWidth[c.Position.CENTER]=this.dimension.width-n):(n<l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-n-this.containerWidth[c.Position.RIGHT]<l.MIN_EDITOR_WIDTH?(this.dimension.width-n-this.containerWidth[c.Position.CENTER]<l.MIN_EDITOR_WIDTH?(n=this.dimension.width-2*l.MIN_EDITOR_WIDTH,this.containerWidth[c.Position.CENTER]=this.containerWidth[c.Position.RIGHT]=l.MIN_EDITOR_WIDTH):this.containerWidth[c.Position.RIGHT]=this.dimension.width-n-this.containerWidth[c.Position.CENTER]-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH?l.MIN_EDITOR_WIDTH:this.containerWidth[c.Position.RIGHT]-(n-t),this.rightSash.layout()):n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-this.containerWidth[c.Position.RIGHT]-n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH&&(n=this.dimension.width-this.containerWidth[c.Position.RIGHT]-l.MIN_EDITOR_WIDTH),this.containerWidth[c.Position.LEFT]=n,this.containerWidth[c.Position.CENTER]=this.dimension.width-this.containerWidth[c.Position.LEFT]-this.containerWidth[c.Position.RIGHT]),this.layoutContainers()},l.prototype.onLeftSashDragEnd=function(){this.leftSash.layout(),this.rightSash.layout(),this.focusNextNonMinimized()},l.prototype.onRightSashDragStart=function(){this.startRightContainerWidth=this.containerWidth[c.Position.RIGHT]},l.prototype.onRightSashDrag=function(e){var t=this.containerWidth[c.Position.RIGHT],n=this.startRightContainerWidth-e.currentX+e.startX;n<l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-n-this.containerWidth[c.Position.LEFT]<l.MIN_EDITOR_WIDTH?(this.dimension.width-n-this.containerWidth[c.Position.CENTER]<l.MIN_EDITOR_WIDTH?(n=this.dimension.width-2*l.MIN_EDITOR_WIDTH,this.containerWidth[c.Position.LEFT]=this.containerWidth[c.Position.CENTER]=l.MIN_EDITOR_WIDTH):this.containerWidth[c.Position.LEFT]=this.dimension.width-n-this.containerWidth[c.Position.CENTER]-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH?l.MIN_EDITOR_WIDTH:this.containerWidth[c.Position.LEFT]-(n-t),this.leftSash.layout()):n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH?n=l.MIN_EDITOR_WIDTH:this.dimension.width-this.containerWidth[c.Position.LEFT]-n-l.SNAP_TO_MINIMIZED_THRESHOLD<=l.MIN_EDITOR_WIDTH&&(n=this.dimension.width-this.containerWidth[c.Position.LEFT]-l.MIN_EDITOR_WIDTH),this.containerWidth[c.Position.RIGHT]=n,this.containerWidth[c.Position.CENTER]=this.dimension.width-this.containerWidth[c.Position.LEFT]-this.containerWidth[c.Position.RIGHT],this.layoutContainers()},l.prototype.onRightSashDragEnd=function(){this.leftSash.layout(),this.rightSash.layout(),this.focusNextNonMinimized()},l.prototype.getVerticalSashTop=function(){return 0},l.prototype.getVerticalSashLeft=function(e){return e===this.leftSash?this.containerWidth[c.Position.LEFT]:this.containerWidth[c.Position.CENTER]+this.containerWidth[c.Position.LEFT]},l.prototype.getVerticalSashHeight=function(){return this.dimension.height},l.prototype.isDragging=function(){return this.dragging},l.prototype.layout=function(e){e instanceof h.Dimension?this.layoutControl(e):this.layoutEditor(e)},l.prototype.layoutControl=function(e){var t=this,n=this.dimension;this.dimension=e,n&&n.width&&n.height||(n=e);var r=0;if(c.POSITIONS.forEach(function(e){if(t.visibleEditors[e]){var i;
t.containerInitialRatios&&p.isNumber(t.containerInitialRatios[e])?(i=t.containerInitialRatios[e],delete t.containerInitialRatios[e]):i=t.containerWidth[e]/n.width,t.containerWidth[e]=Math.max(Math.round(t.dimension.width*i),l.MIN_EDITOR_WIDTH),r+=t.containerWidth[e]}}),r>0){var i=r-this.dimension.width;0>i?this.containerWidth[c.Position.LEFT]-=i:i>0&&c.POSITIONS.forEach(function(e){var n=t.containerWidth[e]-l.MIN_EDITOR_WIDTH;if(n>=i)t.containerWidth[e]-=i,i=0;else if(n>0){var r=i-n;t.containerWidth[e]-=r,i-=r}})}this.leftSash.layout(),this.rightSash.layout(),this.layoutContainers()},l.prototype.layoutContainers=function(){var e=this;c.POSITIONS.forEach(function(t){e.containers[t].size(e.containerWidth[t],e.dimension.height)}),this.visibleEditors[c.Position.RIGHT]?this.containers[c.Position.CENTER].position(null,this.containerWidth[c.Position.RIGHT]):this.containers[c.Position.CENTER].position(null,this.dimension.width-this.containerWidth[c.Position.LEFT]-this.containerWidth[c.Position.CENTER]),c.POSITIONS.forEach(function(t){e.visibleEditors[t]&&e.containers[t].isHidden()?e.containers[t].show():e.visibleEditors[t]||e.containers[t].isHidden()||e.containers[t].hide()}),c.POSITIONS.forEach(function(t){e.layoutEditor(t)})},l.prototype.layoutEditor=function(e){var t=this.containerWidth[e];t&&this.visibleEditors[e]&&this.visibleEditors[e].layout(new h.Dimension(t,this.dimension.height-l.EDITOR_TITLE_HEIGHT))},l.prototype.getProgressBar=function(e){return this.progressBar[e]},l.prototype.dispose=function(){var t=this;c.POSITIONS.forEach(function(e){t.clearPosition(e)}),this.editorActionsToolbar.forEach(function(e){e.dispose()}),this.progressBar.forEach(function(e){e.dispose()}),this.closeEditorAction.forEach(function(e){e.dispose()}),this.leftSash.dispose(),this.rightSash.dispose(),this.containers.forEach(function(e){e.destroy()}),this.globalFocusTracker&&this.globalFocusTracker.dispose(),this.editorInputStateChangeListener&&this.editorInputStateChangeListener(),this.lastActiveEditor=null,this.lastActivePosition=null,this.visibleEditors=null,this.visibleEditorContainers=null,e.prototype.dispose.call(this)},l.MIN_EDITOR_WIDTH=170,l.EDITOR_TITLE_HEIGHT=35,l.SNAP_TO_MINIMIZED_THRESHOLD=50,l}(l.EventEmitter);t.SideBySideEditorControl=x}),define("vs/css!vs/workbench/ui/parts/editor/media/quickstart",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/workbench/ui/parts/editor/quickstart",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/env","vs/css!./media/quickstart"],function(e,t,n,r,i){var o=r.$,s=function(){function e(e){this.parent=e,this.render()}return e.prototype.render=function(){var e='<svg xmlns="http://www.w3.org/2000/svg" width="154" height="152"><g><rect x="2" y="2" width="150" height="148" class="editor-fill"/><rect x="1.967" y="48" width="150" height="18" opacity=".1" class="diffred-fill"/><rect x="1.967" y="93" width="150" height="17" opacity=".3" class="diffgreen-fill"/><rect x="1.967" y="110" width="150" height="18" opacity=".1" class="diffred-fill"/><rect x="1.967" y="31" width="150" height="17" opacity=".3" class="diffgreen-fill"/><rect x="10" y="34" width="60" height="10" opacity=".5" class="cyan2985-fill"/><rect x="30" y="96" width="120" height="10" opacity=".5" class="coolgray3-fill"/><rect x="30" y="114" width="100" height="10" opacity=".5" class="coolgray3-fill"/><rect x="30" y="132" width="120" height="10" opacity=".5" class="coolgray3-fill"/><rect x="75" y="34" width="77" height="10" opacity=".5" class="coolgray3-fill"/><rect x="10" y="52" width="60" height="10" opacity=".5" class="cyan2985-fill"/><rect x="75" y="52" width="77" height="10" opacity=".5" class="coolgray3-fill"/><rect x="2.5" y="16" width="63" height="10" opacity=".5" class="cyan2985-fill"/><rect x="70" y="16" width="82" height="10" opacity=".5" class="coolgray3-fill"/><rect x="89.2" y="78" width="63" height="10" opacity=".5" class="coolgray3-fill"/><rect x="1" y="1" width="152" height="150" class="purple526-stroke" stroke-width="2" stroke-miterlimit="10" fill="none"/><rect x="10" y="78" width="75" height="10" opacity=".5" class="cyan2985-fill"/><path d="M115.585 71.161l-32.745-32.745c-1.886-1.886-4.943-1.886-6.831 0l-6.8 6.801 8.626 8.625c2.004-.677 4.303-.223 5.9 1.375 1.606 1.608 2.058 3.926 1.363 5.938l8.313 8.313c2.012-.693 4.331-.245 5.938 1.364 2.245 2.244 2.245 5.881 0 8.127-2.246 2.246-5.883 2.246-8.13 0-1.688-1.69-2.105-4.171-1.25-6.251l-7.754-7.753v20.402c.547.271 1.063.632 1.52 1.087 2.244 2.244 2.244 5.881 0 8.129-2.245 2.244-5.884 2.244-8.127 0-2.245-2.248-2.245-5.885 0-8.129.555-.555 1.197-.974 1.883-1.254v-20.591c-.686-.281-1.326-.696-1.883-1.254-1.7-1.7-2.109-4.195-1.237-6.283l-8.503-8.504-22.454 22.451c-1.886 1.888-1.886 4.946 0 6.833l32.747 32.744c1.886 1.886 4.943 1.886 6.831 0l32.593-32.592c1.887-1.888 1.887-4.948 0-6.833z" class="gitorange-fill"/></g></svg>',t='<svg xmlns="http://www.w3.org/2000/svg" width="154" height="152"><g><rect x="2" y="2" width="60" height="148" class="activitybar-fill"/><rect x="62" y="2" width="90" height="148" class="viewlet-fill"/><rect x="82.2" y="8.233" width="70" height="10" class="coolgray11-fill"/><rect x="82.2" y="116.233" width="60" height="10" class="coolgray11-fill"/><rect x="104.2" y="62.233" width="48" height="10" class="coolgray7-fill"/><rect x="104.2" y="80.233" width="48" height="10" class="coolgray7-fill"/><rect x="104.2" y="98.233" width="48" height="10" class="coolgray7-fill"/><rect x="104.2" y="134.233" width="48" height="10" class="coolgray7-fill"/><rect x="82.2" y="44.233" width="70" height="10" class="coolgray11-fill"/><rect x="104.2" y="26.233" width="48" height="10" class="coolgray7-fill"/><circle cx="32.2" cy="108.233" r="14" stroke="#fff" stroke-width="2.333" stroke-miterlimit="10" fill="none"/><path d="M35.699 100.066h-3.499l3.499 3.5h-5.831c-3.224 0-5.835 2.612-5.835 5.833 0 3.222 2.611 5.833 5.835 5.833v-2.332c-1.934 0-3.5-1.568-3.5-3.5s1.566-3.5 3.5-3.5h5.831l-3.499 3.5h3.499l4.669-4.667-4.669-4.667z" fill="#fff"/><line x1="14" y1="71" x2="50" y2="71" stroke="#D2D2D2" stroke-width="2" stroke-miterlimit="10" fill="none"/><path d="M45.671 25.986l-12.225-12.224c-.703-.705-1.846-.705-2.55 0l-2.538 2.538 3.22 3.221c.748-.252 1.606-.083 2.203.513.6.6.769 1.466.509 2.217l3.104 3.104c.75-.259 1.616-.092 2.216.509.838.837.838 2.195 0 3.034-.839.839-2.196.839-3.035 0-.63-.63-.786-1.557-.466-2.333l-2.896-2.896v7.618c.204.101.396.236.567.406.838.838.838 2.195 0 3.035-.839.838-2.196.838-3.033 0-.84-.839-.84-2.197 0-3.035.207-.207.445-.363.702-.468v-7.688c-.257-.105-.495-.26-.702-.468-.636-.635-.788-1.566-.463-2.346l-3.174-3.175-8.383 8.382c-.705.705-.705 1.847 0 2.551l12.226 12.225c.703.704 1.846.704 2.549 0l12.168-12.168c.706-.705.706-1.848.001-2.552z" class="coolgray7-fill"/><circle cx="44.2" cy="38.233" r="9" fill="#007ACC"/><path d="M41.166 41.146c.379.196 1.247.56 2.115.56 1.107 0 1.667-.532 1.667-1.219 0-.896-.896-1.303-1.835-1.303h-.868v-1.527h.826c.715-.014 1.625-.28 1.625-1.05 0-.546-.448-.953-1.345-.953-.742 0-1.526.322-1.905.546l-.434-1.541c.546-.35 1.639-.686 2.815-.686 1.947 0 3.025 1.022 3.025 2.269 0 .966-.546 1.723-1.667 2.115v.028c1.093.196 1.976 1.022 1.976 2.213 0 1.611-1.415 2.788-3.727 2.788-1.177 0-2.171-.309-2.703-.645l.435-1.595z" fill="#fff"/><rect x="1" y="1" width="152" height="150" class="purple526-stroke" stroke-width="2" stroke-miterlimit="10" fill="none"/><circle cx="32.2" cy="108.233" r="20" class="lime376-stroke" stroke-width="3" stroke-miterlimit="10" fill="none"/></g></svg>',r='<svg xmlns="http://www.w3.org/2000/svg" width="154" height="152"><g><rect x="2" y="2" width="150" height="42" fill="#0071C5"/><rect x="2" y="44" width="150" height="106" class="editor-fill"/><rect x="2" y="82" width="15" height="10" class="cyan2985-fill"/><rect x="2.5" y="144" width="101" height="6" class="coolgray3-fill"/><rect x="22.4" y="82" width="81" height="10" class="coolgray3-fill"/><rect x="2" y="100" width="15" height="10" class="cyan2985-fill"/><rect x="22.4" y="100" width="81" height="10" class="coolgray3-fill"/><rect x="2" y="64" width="10" height="10" class="cyan2985-fill"/><rect x="17.4" y="64" width="72" height="10" class="coolgray3-fill"/><rect x="2" y="126" width="30" height="10" class="cyan2985-fill"/><rect x="36.6" y="126" width="108" height="10" class="coolgray3-fill"/><rect x="1" y="1" width="152" height="150" class="purple526-stroke" stroke-width="2" stroke-miterlimit="10" fill="none"/><path d="M117.6 58v18h20v-18h-20zm1.427 4.501h7.144v12h-7.144v-12zm17.145 12h-7.146v-12h7.146v12z" class="icongray-fill"/><circle cx="127.6" cy="67" r="18" class="lime376-stroke" stroke-width="3.375" stroke-miterlimit="10" fill="none"/><path d="M127.6 13c-5.523 0-10 4.478-10 10s4.477 10 10 10 10-4.478 10-10-4.477-10-10-10zm1.428 17.143h-2.857v-2.857h2.857v2.857zm2.858-8.572c0 1.577-1.281 2.857-2.857 2.857v1.428h-2.857v-1.428c0-1.577 1.281-2.857 2.857-2.857v-2.567c-.228-.125-.722-.29-1.429-.29s-1.201.165-1.429.29v1.139h-2.857v-1.429c0-1.655 1.803-2.857 4.286-2.857s4.286 1.203 4.286 2.857v2.857z" fill="#fff"/></g></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" width="154" height="152"><g><rect x="2" y="2" width="150" height="148" class="editor-fill"/><rect x="9.967" y="34" width="60" height="10" opacity=".5" class="cyan2985-fill"/><rect x="29.967" y="96" width="120" height="10" opacity=".5" class="coolgray3-fill"/><rect x="29.967" y="114" width="100" height="10" opacity=".5" class="coolgray3-fill"/><rect x="29.967" y="132" width="120" height="10" opacity=".5" class="coolgray3-fill"/><rect x="74.967" y="34" width="77" height="10" opacity=".5" class="coolgray3-fill"/><rect x="9.967" y="52" width="60" height="10" opacity=".5" class="cyan2985-fill"/><rect x="74.967" y="52" width="77" height="10" opacity=".5" class="coolgray3-fill"/><rect x="2.467" y="16" width="63" height="10" opacity=".5" class="cyan2985-fill"/><rect x="69.967" y="16" width="82" height="10" opacity=".5" class="coolgray3-fill"/><rect x="9.967" y="78" width="75" height="10" opacity=".5" class="cyan2985-fill"/><rect x="89.167" y="78" width="63" height="10" opacity=".5" class="coolgray3-fill"/><rect x="1" y="1" width="152" height="150" class="purple526-stroke" stroke-width="2" stroke-miterlimit="10" fill="none"/><path d="M114.967 50.5v62.5h-75v-75h18.75v31.25h37.5v-31.25h6.25l12.5 12.5zm-25 6.25v-18.75h-12.5v18.75h12.5z" class="blue286-fill"/><path d="M89.383 85.863l-.229.172c-.652.81-1.815 2.666-2.213 5.774.137.674.224 1.204.224 1.324 0 5.362-4.359 9.722-9.724 9.722-2.668 0-5.088-1.082-6.848-2.83-1.743-1.758-2.823-4.174-2.823-6.842 0-5.362 4.36-9.722 9.722-9.722.289 0 .568.033.853.06v4.497s3.95-3.262 3.963-3.254l4.542-3.834-8.505-7.089v5.391c-.302-.02-.595-.075-.903-.075-7.717 0-13.975 6.258-13.975 13.976 0 3.871 1.577 7.375 4.117 9.907 2.534 2.542 6.034 4.119 9.908 4.119 7.72 0 13.975-6.256 13.975-13.976 0-2.688-.772-5.188-2.084-7.32z" class="cyan2985-fill"/></g></svg>';this.element=o(this.parent).div({class:"quick-start"},function(o){i.enableAzurePortalNavigation&&i.azureWebSiteName&&o.div({class:"preview-block"},function(e){e.span().text(n.localize("vs_workbench_ui_parts_editor_quickstart",0))}),o.div({class:"inner"},function(o){o.element("h1").text(n.localize("vs_workbench_ui_parts_editor_quickstart",1)),o.element("h2").text(n.localize("vs_workbench_ui_parts_editor_quickstart",2)),o.div({class:"quick-tips-section"},function(o){o.div({class:"tip git"},function(t){t.div({class:"art"},function(t){t.innerHtml(e)}),t.element("h4").text(n.localize("vs_workbench_ui_parts_editor_quickstart",3)).p().text(n.localize("vs_workbench_ui_parts_editor_quickstart",4))}),o.div({class:"tip quick-open"},function(e){e.div({class:"art"},function(e){e.innerHtml(t)}),e.element("h4").text(n.localize("vs_workbench_ui_parts_editor_quickstart",5)).p().text(n.localize("vs_workbench_ui_parts_editor_quickstart",6,i.isMacintosh?"Cmd+O":i.browser.isIE11orEarlier?"Ctrl+E":"Ctrl+O"))}),o.div({class:"tip split-editor"},function(e){e.div({class:"art"},function(e){e.innerHtml(r)}),e.element("h4").text(n.localize("vs_workbench_ui_parts_editor_quickstart",7)).p().text(n.localize("vs_workbench_ui_parts_editor_quickstart",8))}),o.div({class:"tip autosave"},function(e){e.div({class:"art"},function(e){e.innerHtml(s)}),e.element("h4").text(n.localize("vs_workbench_ui_parts_editor_quickstart",9)).p().text(n.localize("vs_workbench_ui_parts_editor_quickstart",10))})}),o.a({class:"video-link",href:i.videosLink,target:"_blank",text:n.localize("vs_workbench_ui_parts_editor_quickstart",11)})})}).hide()},e.prototype.show=function(){this.element.show()},e.prototype.hide=function(){this.element.hide()},e.prototype.isVisible=function(){return!this.element.isHidden()},e}();t.QuickStartControl=s}),define("vs/css!vs/workbench/ui/parts/editor/media/editorpart",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/statusbar/statusbar",["require","exports","vs/platform/platform","vs/platform/services"],function(e,t,n,r){!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.StatusbarAlignment||(t.StatusbarAlignment={}));var i=t.StatusbarAlignment,o=function(e){function t(t,n,r){e.call(this,t),this.alignment=n||i.LEFT,this.order=r||0}return __extends(t,e),t}(r.SyncDescriptor);t.StatusbarItemDescriptor=o;var s=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},n.Registry.add(t.Extensions.Statusbar,new s)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/stringEditor",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/types","vs/editor/core/config/config","vs/editor/core/config/configuration","vs/workbench/ui/parts/editor/textEditorModel","vs/workbench/ui/parts/editor/logEditorInput","vs/workbench/ui/parts/editor/untitledEditorInput","vs/workbench/ui/parts/editor/textEditor"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(e){function t(n,r){void 0===r&&(r=t.ID),e.call(this,n,r),this.defaultWrappingColumn=o.Config.editor.wrappingColumn,this.defaultLineNumbers=o.Config.editor.lineNumbers}return __extends(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():r.localize("vs_workbench_ui_parts_editor_stringEditor",0)},t.prototype.setInput=function(t,r){var o=this,s=this.getInput();e.prototype.setInput.call(this,t,r);var c=r&&r.forceOpen;if(!c&&t.matches(s)){var u=r;return u&&i.isFunction(u.apply)&&u.apply(this.getControl()),n.TPromise.as(null)}return this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof a.BaseTextEditorModel))return n.TPromise.wrapError("Invalid editor input. String editor requires a model instance of BaseTextEditorModel.");if(!o.getInput()||o.getInput()!==t)return null;var s=o.getControl(),c=e.textEditorModel;s.setModel(c);var u=r;u&&i.isFunction(u.apply)&&u.apply(s),s.updateOptions(o.getCodeEditorOptions()),t instanceof l.LogEditorInput&&o.revealLastLine()})},t.prototype.applyConfiguration=function(t){var n=t&&t[s.EditorConfiguration.EDITOR_SECTION];n&&(this.defaultWrappingColumn=n.wrappingColumn,this.defaultLineNumbers=n.lineNumbers),e.prototype.applyConfiguration.call(this,t)},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),n=this.getInput(),r=n instanceof l.LogEditorInput,i=n instanceof c.UntitledEditorInput;return t.readOnly=!i,r?(t.wrappingColumn=0,t.lineNumbers=!1):(t.wrappingColumn=this.defaultWrappingColumn,t.lineNumbers=this.defaultLineNumbers),t},t.prototype.revealLastLine=function(){var e=this.getControl(),t=e.getModel();if(t){var n=t.getLineCount();e.revealLine(n)}},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.focus=function(){e.prototype.focus.call(this),this.getInput()instanceof l.LogEditorInput&&this.revealLastLine()},t.prototype.clearInput=function(){this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.ID="workbench.editors.stringEditor",t}(u.BaseTextEditor);t.StringEditor=d}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("vs/misc/react",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.React=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t){var n=e("./DOMPropertyOperations"),r=e("./EventPluginUtils"),i=e("./ReactChildren"),o=e("./ReactComponent"),s=e("./ReactCompositeComponent"),a=e("./ReactContext"),l=e("./ReactCurrentOwner"),c=e("./ReactElement"),u=e("./ReactElementValidator"),d=e("./ReactDOM"),p=e("./ReactDOMComponent"),h=e("./ReactDefaultInjection"),m=e("./ReactInstanceHandles"),f=e("./ReactLegacyElement"),v=e("./ReactMount"),g=e("./ReactMultiChild"),b=e("./ReactPerf"),y=e("./ReactPropTypes"),_=e("./ReactServerRendering"),w=e("./ReactTextComponent"),E=e("./Object.assign"),S=e("./deprecated"),T=e("./onlyChild");h.inject();var k=c.createElement,C=c.createFactory;k=u.createElement,C=u.createFactory,k=f.wrapCreateElement(k),C=f.wrapCreateFactory(C);var x=b.measure("React","render",v.render),A={Children:{map:i.map,forEach:i.forEach,count:i.count,only:T},DOM:d,PropTypes:y,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:s.createClass,createElement:k,createFactory:C,constructAndRenderComponent:v.constructAndRenderComponent,constructAndRenderComponentByID:v.constructAndRenderComponentByID,render:x,renderToString:_.renderToString,renderToStaticMarkup:_.renderToStaticMarkup,unmountComponentAtNode:v.unmountComponentAtNode,isValidClass:f.isValidClass,isValidElement:c.isValidElement,withContext:a.withContext,__spread:E,renderComponent:S("React","renderComponent","render",this,x),renderComponentToString:S("React","renderComponentToString","renderToString",this,_.renderToString),renderComponentToStaticMarkup:S("React","renderComponentToStaticMarkup","renderToStaticMarkup",this,_.renderToStaticMarkup),isValidComponent:S("React","isValidComponent","isValidElement",this,c.isValidElement)};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({Component:o,CurrentOwner:l,DOMComponent:p,DOMPropertyOperations:n,InstanceHandles:m,Mount:v,MultiChild:g,TextComponent:w});var L=e("./ExecutionEnvironment");if(L.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1;for(var N=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],I=0;I<N.length;I++)if(!N[I]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}A.version="0.12.0",t.exports=A},{"./DOMPropertyOperations":12,"./EventPluginUtils":20,"./ExecutionEnvironment":22,"./Object.assign":27,"./ReactChildren":31,"./ReactComponent":32,"./ReactCompositeComponent":34,"./ReactContext":35,"./ReactCurrentOwner":36,"./ReactDOM":37,"./ReactDOMComponent":39,"./ReactDefaultInjection":49,"./ReactElement":52,"./ReactElementValidator":53,"./ReactInstanceHandles":60,"./ReactLegacyElement":61,"./ReactMount":63,"./ReactMultiChild":64,"./ReactPerf":68,"./ReactPropTypes":72,"./ReactServerRendering":76,"./ReactTextComponent":78,"./deprecated":106,"./onlyChild":137}],2:[function(e,t){var n=e("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&n(this.getDOMNode())}};t.exports=r},{"./focusNode":111}],3:[function(e,t){function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var i=e("./EventConstants"),o=e("./EventPropagators"),s=e("./ExecutionEnvironment"),a=e("./SyntheticInputEvent"),l=e("./keyOf"),c=s.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||n()),u=32,d=String.fromCharCode(u),p=i.topLevelTypes,h={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[p.topCompositionEnd,p.topKeyPress,p.topTextInput,p.topPaste]}},m=null,f=!1,v={eventTypes:h,extractEvents:function(e,t,n,i){var s;if(c)switch(e){case p.topKeyPress:var l=i.which;if(l!==u)return;f=!0,s=d;break;case p.topTextInput:if(s=i.data,s===d&&f)return;break;default:return}else{switch(e){case p.topPaste:m=null;break;case p.topKeyPress:i.which&&!r(i)&&(m=String.fromCharCode(i.which));break;case p.topCompositionEnd:m=i.data}if(null===m)return;s=m}if(s){var v=a.getPooled(h.beforeInput,n,i);return v.data=s,m=null,o.accumulateTwoPhaseDispatches(v),v}}};t.exports=v},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./SyntheticInputEvent":89,"./keyOf":133}],4:[function(e,t){function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:o};t.exports=s},{}],5:[function(e,t){var n=e("./CSSProperty"),r=e("./ExecutionEnvironment"),i=e("./camelizeStyleName"),o=e("./dangerousStyleValue"),s=e("./hyphenateStyleName"),a=e("./memoizeStringOnly"),l=e("./warning"),c=a(function(e){return s(e)}),u="cssFloat";r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(u="styleFloat");var d={},p=function(e){d.hasOwnProperty(e)&&d[e]||(d[e]=!0,l(!1,"Unsupported style property "+e+". Did you mean "+i(e)+"?"))},h={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){n.indexOf("-")>-1&&p(n);var r=e[n];null!=r&&(t+=c(n)+":",t+=o(n,r)+";")}return t||null},setValueForStyles:function(e,t){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){i.indexOf("-")>-1&&p(i);var s=o(i,t[i]);if("float"===i&&(i=u),s)r[i]=s;else{var a=n.shorthandPropertyExpansions[i];if(a)for(var l in a)r[l]="";else r[i]=""}}}};t.exports=h},{"./CSSProperty":4,"./ExecutionEnvironment":22,"./camelizeStyleName":100,"./dangerousStyleValue":105,"./hyphenateStyleName":124,"./memoizeStringOnly":135,"./warning":145}],6:[function(e,t){function n(){this._callbacks=null,this._contexts=null}var r=e("./PooledClass"),i=e("./Object.assign"),o=e("./invariant");i(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(n),t.exports=n},{"./Object.assign":27,"./PooledClass":28,"./invariant":126}],7:[function(e,t){function n(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function r(e){var t=E.getPooled(x.change,L,e);y.accumulateTwoPhaseDispatches(t),w.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue()}function o(e,t){A=e,L=t,A.attachEvent("onchange",r)}function s(){A&&(A.detachEvent("onchange",r),A=null,L=null)}function a(e,t,n){return e===C.topChange?n:void 0}function l(e,t,n){e===C.topFocus?(s(),o(t,n)):e===C.topBlur&&s()}function c(e,t){A=e,L=t,N=e.value,I=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(A,"value",P),A.attachEvent("onpropertychange",d)}function u(){A&&(delete A.value,A.detachEvent("onpropertychange",d),A=null,L=null,N=null,I=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==N&&(N=t,r(e))}}function p(e,t,n){return e===C.topInput?n:void 0}function h(e,t,n){e===C.topFocus?(u(),c(t,n)):e===C.topBlur&&u()}function m(e){return e!==C.topSelectionChange&&e!==C.topKeyUp&&e!==C.topKeyDown||!A||A.value===N?void 0:(N=A.value,L)}function f(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===C.topClick?n:void 0}var g=e("./EventConstants"),b=e("./EventPluginHub"),y=e("./EventPropagators"),_=e("./ExecutionEnvironment"),w=e("./ReactUpdates"),E=e("./SyntheticEvent"),S=e("./isEventSupported"),T=e("./isTextInputElement"),k=e("./keyOf"),C=g.topLevelTypes,x={change:{phasedRegistrationNames:{bubbled:k({onChange:null}),captured:k({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},A=null,L=null,N=null,I=null,O=!1;_.canUseDOM&&(O=S("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;_.canUseDOM&&(R=S("input")&&(!("documentMode"in document)||document.documentMode>9));var P={get:function(){return I.get.call(this)},set:function(e){N=""+e,I.set.call(this,e)}},D={eventTypes:x,extractEvents:function(e,t,r,i){var o,s;if(n(t)?O?o=a:s=l:T(t)?R?o=p:(o=m,s=h):f(t)&&(o=v),o){var c=o(e,t,r);if(c){var u=E.getPooled(x.change,c,i);return y.accumulateTwoPhaseDispatches(u),u}}s&&s(e,t,r)}};t.exports=D},{"./EventConstants":16,"./EventPluginHub":18,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactUpdates":79,"./SyntheticEvent":87,"./isEventSupported":127,"./isTextInputElement":129,"./keyOf":133}],8:[function(e,t){var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},{}],9:[function(e,t){function n(e){switch(e){case g.topCompositionStart:return y.compositionStart;case g.topCompositionEnd:return y.compositionEnd;case g.topCompositionUpdate:return y.compositionUpdate}}function r(e,t){return e===g.topKeyDown&&t.keyCode===m}function i(e,t){switch(e){case g.topKeyUp:return-1!==h.indexOf(t.keyCode);case g.topKeyDown:return t.keyCode!==m;case g.topKeyPress:case g.topMouseDown:case g.topBlur:return!0;default:return!1}}function o(e){this.root=e,this.startSelection=c.getSelection(e),this.startValue=this.getText()}var s=e("./EventConstants"),a=e("./EventPropagators"),l=e("./ExecutionEnvironment"),c=e("./ReactInputSelection"),u=e("./SyntheticCompositionEvent"),d=e("./getTextContentAccessor"),p=e("./keyOf"),h=[9,13,27,32],m=229,f=l.canUseDOM&&"CompositionEvent"in window,v=!f||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,g=s.topLevelTypes,b=null,y={compositionEnd:{phasedRegistrationNames:{bubbled:p({onCompositionEnd:null}),captured:p({onCompositionEndCapture:null})},dependencies:[g.topBlur,g.topCompositionEnd,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:p({onCompositionStart:null}),captured:p({onCompositionStartCapture:null})},dependencies:[g.topBlur,g.topCompositionStart,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:p({onCompositionUpdate:null}),captured:p({onCompositionUpdateCapture:null})},dependencies:[g.topBlur,g.topCompositionUpdate,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]}};o.prototype.getText=function(){return this.root.value||this.root[d()]},o.prototype.getData=function(){var e=this.getText(),t=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return e.substr(t,e.length-n-t)};var _={eventTypes:y,extractEvents:function(e,t,s,l){var c,d;if(f?c=n(e):b?i(e,l)&&(c=y.compositionEnd):r(e,l)&&(c=y.compositionStart),v&&(b||c!==y.compositionStart?c===y.compositionEnd&&b&&(d=b.getData(),b=null):b=new o(t)),c){var p=u.getPooled(c,s,l);return d&&(p.data=d),a.accumulateTwoPhaseDispatches(p),p}}};t.exports=_},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactInputSelection":59,"./SyntheticCompositionEvent":85,"./getTextContentAccessor":121,"./keyOf":133}],10:[function(e,t){function n(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var r,i=e("./Danger"),o=e("./ReactMultiChildUpdateTypes"),s=e("./getTextContentAccessor"),a=e("./invariant"),l=s();r="textContent"===l?function(e,t){e.textContent=t}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);if(t){var n=e.ownerDocument||document;e.appendChild(n.createTextNode(t))}};var c={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(e,t){for(var s,l=null,c=null,u=0;s=e[u];u++)if(s.type===o.MOVE_EXISTING||s.type===o.REMOVE_NODE){var d=s.fromIndex,p=s.parentNode.childNodes[d],h=s.parentID;a(p,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,h),l=l||{},l[h]=l[h]||[],l[h][d]=p,c=c||[],c.push(p)}var m=i.dangerouslyRenderMarkup(t);if(c)for(var f=0;f<c.length;f++)c[f].parentNode.removeChild(c[f]);for(var v=0;s=e[v];v++)switch(s.type){case o.INSERT_MARKUP:n(s.parentNode,m[s.markupIndex],s.toIndex);break;case o.MOVE_EXISTING:n(s.parentNode,l[s.parentID][s.fromIndex],s.toIndex);break;case o.TEXT_CONTENT:r(s.parentNode,s.textContent);break;case o.REMOVE_NODE:}}};t.exports=c},{"./Danger":13,"./ReactMultiChildUpdateTypes":65,"./getTextContentAccessor":121,"./invariant":126}],11:[function(e,t){function n(e,t){return(e&t)===t}var r=e("./invariant"),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},o=e.DOMAttributeNames||{},a=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){r(!s.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c),s.isStandardName[c]=!0;var u=c.toLowerCase();if(s.getPossibleStandardName[u]=c,o.hasOwnProperty(c)){var d=o[c];s.getPossibleStandardName[d]=c,s.getAttributeName[c]=d}else s.getAttributeName[c]=u;s.getPropertyName[c]=a.hasOwnProperty(c)?a[c]:c,s.getMutationMethod[c]=l.hasOwnProperty(c)?l[c]:null;var p=t[c];s.mustUseAttribute[c]=n(p,i.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=n(p,i.MUST_USE_PROPERTY),s.hasSideEffects[c]=n(p,i.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=n(p,i.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=n(p,i.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=n(p,i.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=n(p,i.HAS_OVERLOADED_BOOLEAN_VALUE),r(!s.mustUseAttribute[c]||!s.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c),r(s.mustUseProperty[c]||!s.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c),r(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c)
}}},o={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=o[e];return r||(o[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};t.exports=s},{"./invariant":126}],12:[function(e,t){function n(e,t){return null==t||r.hasBooleanValue[e]&&!t||r.hasNumericValue[e]&&isNaN(t)||r.hasPositiveNumericValue[e]&&1>t||r.hasOverloadedBooleanValue[e]&&t===!1}var r=e("./DOMProperty"),i=e("./escapeTextForBrowser"),o=e("./memoizeStringOnly"),s=e("./warning"),a=o(function(e){return i(e)+'="'}),l={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},c={},u=function(e){if(!(l.hasOwnProperty(e)&&l[e]||c.hasOwnProperty(e)&&c[e])){c[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;s(null==n,"Unknown DOM property "+e+". Did you mean "+n+"?")}},d={createMarkupForID:function(e){return a(r.ID_ATTRIBUTE_NAME)+i(e)+'"'},createMarkupForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){if(n(e,t))return"";var o=r.getAttributeName[e];return r.hasBooleanValue[e]||r.hasOverloadedBooleanValue[e]&&t===!0?i(o):a(o)+i(t)+'"'}return r.isCustomAttribute(e)?null==t?"":a(e)+i(t)+'"':(u(e),null)},setValueForProperty:function(e,t,i){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var o=r.getMutationMethod[t];if(o)o(e,i);else if(n(t,i))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute[t])e.setAttribute(r.getAttributeName[t],""+i);else{var s=r.getPropertyName[t];r.hasSideEffects[t]&&""+e[s]==""+i||(e[s]=i)}}else r.isCustomAttribute(t)?null==i?e.removeAttribute(t):e.setAttribute(t,""+i):u(t)},deleteValueForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var n=r.getMutationMethod[t];if(n)n(e,void 0);else if(r.mustUseAttribute[t])e.removeAttribute(r.getAttributeName[t]);else{var i=r.getPropertyName[t],o=r.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects[t]&&""+e[i]===o||(e[i]=o)}}else r.isCustomAttribute(t)?e.removeAttribute(t):u(t)}};t.exports=d},{"./DOMProperty":11,"./escapeTextForBrowser":109,"./memoizeStringOnly":135,"./warning":145}],13:[function(e,t){function n(e){return e.substring(1,e.indexOf(" "))}var r=e("./ExecutionEnvironment"),i=e("./createNodesFromMarkup"),o=e("./emptyFunction"),s=e("./getMarkupWrap"),a=e("./invariant"),l=/^(<[^ \/>]+)/,c="data-danger-index",u={dangerouslyRenderMarkup:function(e){a(r.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var t,u={},d=0;d<e.length;d++)a(e[d],"dangerouslyRenderMarkup(...): Missing markup."),t=n(e[d]),t=s(t)?t:"*",u[t]=u[t]||[],u[t][d]=e[d];var p=[],h=0;for(t in u)if(u.hasOwnProperty(t)){var m=u[t];for(var f in m)if(m.hasOwnProperty(f)){var v=m[f];m[f]=v.replace(l,"$1 "+c+'="'+f+'" ')}var g=i(m.join(""),o);for(d=0;d<g.length;++d){var b=g[d];b.hasAttribute&&b.hasAttribute(c)?(f=+b.getAttribute(c),b.removeAttribute(c),a(!p.hasOwnProperty(f),"Danger: Assigning to an already-occupied result index."),p[f]=b,h+=1):console.error("Danger: Discarding unexpected node:",b)}}return a(h===p.length,"Danger: Did not assign to every index of resultList."),a(p.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length),p},dangerouslyReplaceNodeWithMarkup:function(e,t){a(r.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),a(t,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),a("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString().");var n=i(t,o)[0];e.parentNode.replaceChild(n,e)}};t.exports=u},{"./ExecutionEnvironment":22,"./createNodesFromMarkup":104,"./emptyFunction":107,"./getMarkupWrap":118,"./invariant":126}],14:[function(e,t){var n=e("./keyOf"),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({CompositionEventPlugin:null}),n({BeforeInputEventPlugin:null}),n({AnalyticsEventPlugin:null}),n({MobileSafariClickEventPlugin:null})];t.exports=r},{"./keyOf":133}],15:[function(e,t){var n=e("./EventConstants"),r=e("./EventPropagators"),i=e("./SyntheticMouseEvent"),o=e("./ReactMount"),s=e("./keyOf"),a=n.topLevelTypes,l=o.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[a.topMouseOut,a.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[a.topMouseOut,a.topMouseOver]}},u=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,s){if(e===a.topMouseOver&&(s.relatedTarget||s.fromElement))return null;if(e!==a.topMouseOut&&e!==a.topMouseOver)return null;var d;if(t.window===t)d=t;else{var p=t.ownerDocument;d=p?p.defaultView||p.parentWindow:window}var h,m;if(e===a.topMouseOut?(h=t,m=l(s.relatedTarget||s.toElement)||d):(h=d,m=t),h===m)return null;var f=h?o.getID(h):"",v=m?o.getID(m):"",g=i.getPooled(c.mouseLeave,f,s);g.type="mouseleave",g.target=h,g.relatedTarget=m;var b=i.getPooled(c.mouseEnter,v,s);return b.type="mouseenter",b.target=m,b.relatedTarget=h,r.accumulateEnterLeaveDispatches(g,b,f,v),u[0]=g,u[1]=b,u}};t.exports=d},{"./EventConstants":16,"./EventPropagators":21,"./ReactMount":63,"./SyntheticMouseEvent":91,"./keyOf":133}],16:[function(e,t){var n=e("./keyMirror"),r=n({bubbled:null,captured:null}),i=n({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:i,PropagationPhases:r};t.exports=o},{"./keyMirror":132}],17:[function(e,t){/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventListener
 * @typechecks
 */
var n=e("./emptyFunction"),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=r},{"./emptyFunction":107}],18:[function(e,t){function n(){var e=!d||!d.traverseTwoPhase||!d.traverseEnterLeave;if(e)throw new Error("InstanceHandle not injected before use!")}var r=e("./EventPluginRegistry"),i=e("./EventPluginUtils"),o=e("./accumulateInto"),s=e("./forEachAccumulated"),a=e("./invariant"),l={},c=null,u=function(e){if(e){var t=i.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},d=null,p={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){d=e,n()},getInstanceHandle:function(){return n(),d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){a(!n||"function"==typeof n,"Expected %s listener to be a function, instead got type %s",t,typeof n);var r=l[t]||(l[t]={});r[e]=n},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=l[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in l)delete l[t][e]},extractEvents:function(e,t,n,i){for(var s,a=r.plugins,l=0,c=a.length;c>l;l++){var u=a[l];if(u){var d=u.extractEvents(e,t,n,i);d&&(s=o(s,d))}}return s},enqueueEvents:function(e){e&&(c=o(c,e))},processEventQueue:function(){var e=c;c=null,s(e,u),a(!c,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=p},{"./EventPluginRegistry":19,"./EventPluginUtils":20,"./accumulateInto":97,"./forEachAccumulated":112,"./invariant":126}],19:[function(e,t){function n(){if(s)for(var e in a){var t=a[e],n=s.indexOf(e);if(o(n>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!l.plugins[n]){o(t.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),l.plugins[n]=t;var i=t.eventTypes;for(var c in i)o(r(i[c],t,c),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",c,e)}}}function r(e,t,n){o(!l.eventNameDispatchConfigs.hasOwnProperty(n),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];i(a,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){o(!l.registrationNameModules[e],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=e("./invariant"),s=null,a={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];a.hasOwnProperty(r)&&a[r]===i||(o(!a[r],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",r),a[r]=i,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=l},{"./invariant":126}],20:[function(e,t){function n(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function r(e){return e===v.topMouseMove||e===v.topTouchMove}function i(e){return e===v.topMouseDown||e===v.topTouchStart}function o(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(p(e),Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],r[i]);else n&&t(e,n,r)}function s(e,t,n){e.currentTarget=f.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function a(e,t){o(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(p(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function u(e){p(e);var t=e._dispatchListeners,n=e._dispatchIDs;m(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`.");var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function d(e){return!!e._dispatchListeners}var p,h=e("./EventConstants"),m=e("./invariant"),f={Mount:null,injectMount:function(e){f.Mount=e,m(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},v=h.topLevelTypes;p=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,r=Array.isArray(t),i=Array.isArray(n),o=i?n.length:n?1:0,s=r?t.length:t?1:0;m(i===r&&o===s,"EventPluginUtils: Invalid `event`.")};var g={isEndish:n,isMoveish:r,isStartish:i,executeDirectDispatch:u,executeDispatch:s,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,injection:f,useTouchEvents:!1};t.exports=g},{"./EventConstants":16,"./invariant":126}],21:[function(e,t){function n(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return f(e,r)}function r(e,t,r){if(!e)throw new Error("Dispatching id must not be null");var i=t?m.bubbled:m.captured,o=n(e,r,i);o&&(r._dispatchListeners=p(r._dispatchListeners,o),r._dispatchIDs=p(r._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function o(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=f(e,r);i&&(n._dispatchListeners=p(n._dispatchListeners,i),n._dispatchIDs=p(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function a(e){h(e,i)}function l(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,o,e,t)}function c(e){h(e,s)}var u=e("./EventConstants"),d=e("./EventPluginHub"),p=e("./accumulateInto"),h=e("./forEachAccumulated"),m=u.PropagationPhases,f=d.getListener,v={accumulateTwoPhaseDispatches:a,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=v},{"./EventConstants":16,"./EventPluginHub":18,"./accumulateInto":97,"./forEachAccumulated":112}],22:[function(e,t){var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},{}],23:[function(e,t){var n,r=e("./DOMProperty"),i=e("./ExecutionEnvironment"),o=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,l=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,u=r.injection.HAS_POSITIVE_NUMERIC_VALUE,d=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var p=document.implementation;n=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|a,allowTransparency:o,alt:null,async:a,autoComplete:null,autoPlay:a,cellPadding:null,cellSpacing:null,charSet:o,checked:s|a,classID:o,className:n?o:s,cols:o|u,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:s|a,coords:null,crossOrigin:null,data:null,dateTime:o,defer:a,dir:null,disabled:o|a,download:d,draggable:null,encType:null,form:o,formNoValidate:a,frameBorder:o,height:o,hidden:o|a,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:o,loop:s|a,manifest:o,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:s|a,muted:s|a,name:null,noValidate:a,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|a,rel:null,required:a,role:o,rows:o|u,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:o|a,selected:s|a,shape:null,size:o|u,sizes:o,span:u,spellCheck:null,src:null,srcDoc:s,srcSet:o,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|a,itemType:o,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{"./DOMProperty":11,"./ExecutionEnvironment":22}],24:[function(e,t){function n(e){l(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function r(e){n(e),l(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function i(e){n(e),l(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function o(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var a=e("./ReactPropTypes"),l=e("./invariant"),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={Mixin:{propTypes:{value:function(e,t){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func}},getValue:function(e){return e.props.valueLink?(r(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(i(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(r(e),o):e.props.checkedLink?(i(e),s):e.props.onChange}};t.exports=u},{"./ReactPropTypes":72,"./invariant":126}],25:[function(e,t){function n(e){e.remove()}var r=e("./ReactBrowserEventEmitter"),i=e("./accumulateInto"),o=e("./forEachAccumulated"),s=e("./invariant"),a={trapBubbledEvent:function(e,t){s(this.isMounted(),"Must be mounted to trap events");var n=r.trapBubbledEvent(e,t,this.getDOMNode());this._localEventListeners=i(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,n)}};t.exports=a},{"./ReactBrowserEventEmitter":30,"./accumulateInto":97,"./forEachAccumulated":112,"./invariant":126}],26:[function(e,t){var n=e("./EventConstants"),r=e("./emptyFunction"),i=n.topLevelTypes,o={eventTypes:null,extractEvents:function(e,t,n,o){if(e===i.topTouchStart){var s=o.target;s&&!s.onclick&&(s.onclick=r)}}};t.exports=o},{"./EventConstants":16,"./emptyFunction":107}],27:[function(e,t){/**
 * Copyright 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Object.assign
 */
function n(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(e),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var o=Object(i);for(var s in o)n.call(o,s)&&(t[s]=o[s])}}return t}t.exports=n},{}],28:[function(e,t){var n=e("./invariant"),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},o=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,e,t,n,r,i),s}return new o(e,t,n,r,i)},a=function(e){var t=this;n(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=r,u=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=a,n},d={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:i,threeArgumentPooler:o,fiveArgumentPooler:s};t.exports=d},{"./invariant":126}],29:[function(e,t){var n=e("./ReactEmptyComponent"),r=e("./ReactMount"),i=e("./invariant"),o={getDOMNode:function(){return i(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."),n.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};t.exports=o},{"./ReactEmptyComponent":54,"./ReactMount":63,"./invariant":126}],30:[function(e,t){function n(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,u[e[m]]={}),u[e[m]]}var r=e("./EventConstants"),i=e("./EventPluginHub"),o=e("./EventPluginRegistry"),s=e("./ReactEventEmitterMixin"),a=e("./ViewportMetrics"),l=e("./Object.assign"),c=e("./isEventSupported"),u={},d=!1,p=0,h={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),f=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(f.handleTopLevel),f.ReactEventListener=e}},setEnabled:function(e){f.ReactEventListener&&f.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!f.ReactEventListener||!f.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,s=n(i),a=o.registrationNameDependencies[e],l=r.topLevelTypes,u=0,d=a.length;d>u;u++){var p=a[u];s.hasOwnProperty(p)&&s[p]||(p===l.topWheel?c("wheel")?f.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",i):c("mousewheel")?f.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",i):f.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",i):p===l.topScroll?c("scroll",!0)?f.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",i):f.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",f.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(c("focus",!0)?(f.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",i),f.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",i)):c("focusin")&&(f.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",i),f.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",i)),s[l.topBlur]=!0,s[l.topFocus]=!0):h.hasOwnProperty(p)&&f.ReactEventListener.trapBubbledEvent(p,h[p],i),s[p]=!0)}},trapBubbledEvent:function(e,t,n){return f.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return f.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=a.refreshScrollValues;f.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});t.exports=f},{"./EventConstants":16,"./EventPluginHub":18,"./EventPluginRegistry":19,"./Object.assign":27,"./ReactEventEmitterMixin":56,"./ViewportMetrics":96,"./isEventSupported":127}],31:[function(e,t){function n(e,t){this.forEachFunction=e,this.forEachContext=t}function r(e,t,n,r){var i=e;i.forEachFunction.call(i.forEachContext,t,r)}function i(e,t,i){if(null==e)return e;var o=n.getPooled(t,i);d(e,r,o),n.release(o)}function o(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,t,n,r){var i=e,o=i.mapResult,s=!o.hasOwnProperty(n);if(p(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),s){var a=i.mapFunction.call(i.mapContext,t,r);o[n]=a}}function a(e,t,n){if(null==e)return e;var r={},i=o.getPooled(r,t,n);return d(e,s,i),o.release(i),r}function l(){return null}function c(e){return d(e,l,null)}var u=e("./PooledClass"),d=e("./traverseAllChildren"),p=e("./warning"),h=u.twoArgumentPooler,m=u.threeArgumentPooler;u.addPoolingTo(n,h),u.addPoolingTo(o,m);var f={forEach:i,map:a,count:c};t.exports=f},{"./PooledClass":28,"./traverseAllChildren":144,"./warning":145}],32:[function(e,t){var n=e("./ReactElement"),r=e("./ReactOwner"),i=e("./ReactUpdates"),o=e("./Object.assign"),s=e("./invariant"),a=e("./keyMirror"),l=a({MOUNTED:null,UNMOUNTED:null}),c=!1,u=null,d=null,p={injection:{injectEnvironment:function(e){s(!c,"ReactComponent: injectEnvironment() can only be called once."),d=e.mountImageIntoNode,u=e.unmountIDFromEnvironment,p.BackendIDOperations=e.BackendIDOperations,c=!0}},LifeCycle:l,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===l.MOUNTED},setProps:function(e,t){var n=this._pendingElement||this._currentElement;this.replaceProps(o({},n.props,e),t)},replaceProps:function(e,t){s(this.isMounted(),"replaceProps(...): Can only update a mounted component."),s(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."),this._pendingElement=n.cloneAndReplaceProps(this._pendingElement||this._currentElement,e),i.enqueueUpdate(this,t)},_setPropsInternal:function(e,t){var r=this._pendingElement||this._currentElement;this._pendingElement=n.cloneAndReplaceProps(r,o({},r.props,e)),i.enqueueUpdate(this,t)},construct:function(e){this.props=e.props,this._owner=e._owner,this._lifeCycleState=l.UNMOUNTED,this._pendingCallbacks=null,this._currentElement=e,this._pendingElement=null},mountComponent:function(e,t,n){s(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",e);var i=this._currentElement.ref;if(null!=i){var o=this._currentElement._owner;r.addComponentAsRefTo(this,i,o)}this._rootNodeID=e,this._lifeCycleState=l.MOUNTED,this._mountDepth=n},unmountComponent:function(){s(this.isMounted(),"unmountComponent(): Can only unmount a mounted component.");var e=this._currentElement.ref;null!=e&&r.removeComponentAsRefFrom(this,e,this._owner),u(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=l.UNMOUNTED},receiveComponent:function(e,t){s(this.isMounted(),"receiveComponent(...): Can only update a mounted component."),this._pendingElement=e,this.performUpdateIfNecessary(t)},performUpdateIfNecessary:function(e){if(null!=this._pendingElement){var t=this._currentElement,n=this._pendingElement;this._currentElement=n,this.props=n.props,this._owner=n._owner,this._pendingElement=null,this.updateComponent(e,t)}},updateComponent:function(e,t){var n=this._currentElement;(n._owner!==t._owner||n.ref!==t.ref)&&(null!=t.ref&&r.removeComponentAsRefFrom(this,t.ref,t._owner),null!=n.ref&&r.addComponentAsRefTo(this,n.ref,n._owner))},mountComponentIntoNode:function(e,t,n){var r=i.ReactReconcileTransaction.getPooled();r.perform(this._mountComponentIntoNode,this,e,t,r,n),i.ReactReconcileTransaction.release(r)},_mountComponentIntoNode:function(e,t,n,r){var i=this.mountComponent(e,n,0);d(i,t,r)},isOwnedBy:function(e){return this._owner===e},getSiblingByRef:function(e){var t=this._owner;return t&&t.refs?t.refs[e]:null}}};t.exports=p},{"./Object.assign":27,"./ReactElement":52,"./ReactOwner":67,"./ReactUpdates":79,"./invariant":126,"./keyMirror":132}],33:[function(e,t){var n=e("./ReactDOMIDOperations"),r=e("./ReactMarkupChecksum"),i=e("./ReactMount"),o=e("./ReactPerf"),s=e("./ReactReconcileTransaction"),a=e("./getReactRootElementInContainer"),l=e("./invariant"),c=e("./setInnerHTML"),u=1,d=9,p={ReactReconcileTransaction:s,BackendIDOperations:n,unmountIDFromEnvironment:function(e){i.purgeID(e)},mountImageIntoNode:o.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(e,t,n){if(l(t&&(t.nodeType===u||t.nodeType===d),"mountComponentIntoNode(...): Target container is not valid."),n){if(r.canReuseMarkup(e,a(t)))return;l(t.nodeType!==d,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."),console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}l(t.nodeType!==d,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."),c(t,e)})};t.exports=p},{"./ReactDOMIDOperations":41,"./ReactMarkupChecksum":62,"./ReactMount":63,"./ReactPerf":68,"./ReactReconcileTransaction":74,"./getReactRootElementInContainer":120,"./invariant":126,"./setInnerHTML":140}],34:[function(e,t){function n(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function r(e,t,n){for(var r in t)t.hasOwnProperty(r)&&x("function"==typeof t[r],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactCompositeComponent",S[n],r)}function i(e,t){var n=F.hasOwnProperty(t)?F[t]:null;H.hasOwnProperty(t)&&x(n===D.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e.hasOwnProperty(t)&&x(n===D.DEFINE_MANY||n===D.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function o(e){var t=e._compositeLifeCycleState;x(e.isMounted()||t===B.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."),x(null==h.current,"replaceState(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),x(t!==B.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component.")}function s(e,t){if(t){x(!b.isValidFactory(t),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."),x(!m.isValidElement(t),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype;t.hasOwnProperty(P)&&V.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==P){var o=t[r];if(i(n,r),V.hasOwnProperty(r))V[r](e,o);else{var s=F.hasOwnProperty(r),a=n.hasOwnProperty(r),l=o&&o.__reactDontBind,d="function"==typeof o,p=d&&!s&&!a&&!l;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(a){var h=F[r];x(s&&(h===D.DEFINE_MANY_MERGED||h===D.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",h,r),h===D.DEFINE_MANY_MERGED?n[r]=c(n[r],o):h===D.DEFINE_MANY&&(n[r]=u(n[r],o))}else n[r]=o,"function"==typeof o&&t.displayName&&(n[r].displayName=t.displayName+"_"+r)}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in V;x(!i,'ReactCompositeComponent: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;x(!o,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function l(e,t){return x(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"),I(t,function(t,n){x(void 0===e[n],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t}),e}function c(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);return null==n?r:null==r?n:l(n,r)}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var d=e("./ReactComponent"),p=e("./ReactContext"),h=e("./ReactCurrentOwner"),m=e("./ReactElement"),f=e("./ReactElementValidator"),v=e("./ReactEmptyComponent"),g=e("./ReactErrorUtils"),b=e("./ReactLegacyElement"),y=e("./ReactOwner"),_=e("./ReactPerf"),w=e("./ReactPropTransferer"),E=e("./ReactPropTypeLocations"),S=e("./ReactPropTypeLocationNames"),T=e("./ReactUpdates"),k=e("./Object.assign"),C=e("./instantiateReactComponent"),x=e("./invariant"),A=e("./keyMirror"),L=e("./keyOf"),N=e("./monitorCodeUse"),I=e("./mapObject"),O=e("./shouldUpdateReactComponent"),R=e("./warning"),P=L({mixins:null}),D=A({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),M=[],F={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,updateComponent:D.OVERRIDE_BASE},V={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)s(e,t[n])},childContextTypes:function(e,t){r(e,t,E.childContext),e.childContextTypes=k({},e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,E.context),e.contextTypes=k({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?c(e.getDefaultProps,t):t},propTypes:function(e,t){r(e,t,E.prop),e.propTypes=k({},e.propTypes,t)},statics:function(e,t){a(e,t)}},B=A({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null}),H={construct:function(){d.Mixin.construct.apply(this,arguments),y.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return d.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==B.MOUNTING},mountComponent:_.measure("ReactCompositeComponent","mountComponent",function(e,t,n){d.Mixin.mountComponent.call(this,e,t,n),this._compositeLifeCycleState=B.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._currentElement._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,x("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=C(this._renderValidatedComponent(),this._currentElement.type),this._compositeLifeCycleState=null;var r=this._renderedComponent.mountComponent(e,t,n+1);return this.componentDidMount&&t.getReactMountReady().enqueue(this.componentDidMount,this),r}),unmountComponent:function(){this._compositeLifeCycleState=B.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,d.Mixin.unmountComponent.call(this)},setState:function(e,t){x("object"==typeof e||null==e,"setState(...): takes an object of state variables to update."),R(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.replaceState(k({},this._pendingState||this.state,e),t)},replaceState:function(e,t){o(this),this._pendingState=e,this._compositeLifeCycleState!==B.MOUNTING&&T.enqueueUpdate(this,t)},_processContext:function(e){var t=null,n=this.constructor.contextTypes;if(n){t={};for(var r in n)t[r]=e[r];this._checkPropTypes(n,t,E.context)}return t},_processChildContext:function(e){var t=this.getChildContext&&this.getChildContext(),n=this.constructor.displayName||"ReactCompositeComponent";if(t){x("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",n),this._checkPropTypes(this.constructor.childContextTypes,t,E.childContext);for(var r in t)x(r in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',n,r);return k({},e,t)}return e},_processProps:function(e){var t=this.constructor.propTypes;return t&&this._checkPropTypes(t,e,E.prop),e},_checkPropTypes:function(e,t,r){var i=this.constructor.displayName;for(var o in e)if(e.hasOwnProperty(o)){var s=e[o](t,o,i,r);if(s instanceof Error){var a=n(this);R(!1,s.message+a)}}},performUpdateIfNecessary:function(e){var t=this._compositeLifeCycleState;if(t!==B.MOUNTING&&t!==B.RECEIVING_PROPS&&(null!=this._pendingElement||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,r=this.props,i=this._currentElement;null!=this._pendingElement&&(i=this._pendingElement,n=this._processContext(i._context),r=this._processProps(i.props),this._pendingElement=null,this._compositeLifeCycleState=B.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(r,n)),this._compositeLifeCycleState=null;var o=this._pendingState||this.state;this._pendingState=null;var s=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(r,o,n);"undefined"==typeof s&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false."),s?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,r,o,n,e)):(this._currentElement=i,this.props=r,this.state=o,this.context=n,this._owner=i._owner)}},_performComponentUpdate:function(e,t,n,r,i){var o=this._currentElement,s=this.props,a=this.state,l=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,r),this._currentElement=e,this.props=t,this.state=n,this.context=r,this._owner=e._owner,this.updateComponent(i,o),this.componentDidUpdate&&i.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,s,a,l),this)},receiveComponent:function(e,t){(e!==this._currentElement||null==e._owner)&&d.Mixin.receiveComponent.call(this,e,t)},updateComponent:_.measure("ReactCompositeComponent","updateComponent",function(e,t){d.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(O(r,i))n.receiveComponent(i,e);else{var o=this._rootNodeID,s=n._rootNodeID;n.unmountComponent(),this._renderedComponent=C(i,this._currentElement.type);var a=this._renderedComponent.mountComponent(o,e,this._mountDepth+1);d.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(s,a)}}),forceUpdate:function(e){var t=this._compositeLifeCycleState;x(this.isMounted()||t===B.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."),x(t!==B.UNMOUNTING&&null==h.current,"forceUpdate(...): Cannot force an update while unmounting component or within a `render` function."),this._pendingForceUpdate=!0,T.enqueueUpdate(this,e)},_renderValidatedComponent:_.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var e,t=p.current;p.current=this._processChildContext(this._currentElement._context),h.current=this;try{e=this.render(),null===e||e===!1?(e=v.getEmptyComponent(),v.registerNullComponentID(this._rootNodeID)):v.deregisterNullComponentID(this._rootNodeID)}finally{p.current=t,h.current=null}return x(m.isValidElement(e),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"),e}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(g.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(e){var t=this,n=e.bind(t);n.__reactBoundContext=t,n.__reactBoundMethod=e,n.__reactBoundArguments=null;var r=t.constructor.displayName,i=n.bind;return n.bind=function(o){var s=Array.prototype.slice.call(arguments,1);if(o!==t&&null!==o)N("react_bind_warning",{component:r}),console.warn("bind(): React component methods may only be bound to the component instance. See "+r);else if(!s.length)return N("react_bind_warning",{component:r}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+r),n;var a=i.apply(n,arguments);return a.__reactBoundContext=t,a.__reactBoundMethod=e,a.__reactBoundArguments=s,a},n}},W=function(){};k(W.prototype,d.Mixin,y.Mixin,w.Mixin,H);var U={LifeCycle:B,Base:W,createClass:function(e){var t=function(){};t.prototype=new W,t.prototype.constructor=t,M.forEach(s.bind(null,t)),s(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),x(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),t.prototype.componentShouldUpdate&&(N("react_component_should_update_warning",{component:e.displayName}),console.warn((e.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var n in F)t.prototype[n]||(t.prototype[n]=null);return b.wrapFactory(f.createFactory(t))},injection:{injectMixin:function(e){M.push(e)}}};t.exports=U},{"./Object.assign":27,"./ReactComponent":32,"./ReactContext":35,"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactElementValidator":53,"./ReactEmptyComponent":54,"./ReactErrorUtils":55,"./ReactLegacyElement":61,"./ReactOwner":67,"./ReactPerf":68,"./ReactPropTransferer":69,"./ReactPropTypeLocationNames":70,"./ReactPropTypeLocations":71,"./ReactUpdates":79,"./instantiateReactComponent":125,"./invariant":126,"./keyMirror":132,"./keyOf":133,"./mapObject":134,"./monitorCodeUse":136,"./shouldUpdateReactComponent":142,"./warning":145}],35:[function(e,t){var n=e("./Object.assign"),r={current:{},withContext:function(e,t){var i,o=r.current;r.current=n({},o,e);try{i=t()}finally{r.current=o}return i}};t.exports=r},{"./Object.assign":27}],36:[function(e,t){var n={current:null};t.exports=n},{}],37:[function(e,t){function n(e){return i.markNonLegacyFactory(r.createFactory(e))}var r=(e("./ReactElement"),e("./ReactElementValidator")),i=e("./ReactLegacyElement"),o=e("./mapObject"),s=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=s},{"./ReactElement":52,"./ReactElementValidator":53,"./ReactLegacyElement":61,"./mapObject":134}],38:[function(e,t){var n=e("./AutoFocusMixin"),r=e("./ReactBrowserComponentMixin"),i=e("./ReactCompositeComponent"),o=e("./ReactElement"),s=e("./ReactDOM"),a=e("./keyMirror"),l=o.createFactory(s.button.type),c=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),u=i.createClass({displayName:"ReactDOMButton",mixins:[n,r],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&c[t]||(e[t]=this.props[t]);return l(e,this.props.children)}});t.exports=u},{"./AutoFocusMixin":2,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./keyMirror":132}],39:[function(e,t){function n(e){e&&(g(null==e.children||null==e.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),e.contentEditable&&null!=e.children&&console.warn("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),g(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string."))}function r(e,t,n,r){"onScroll"!==t||b("scroll",!0)||(_("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event"));var i=p.findReactContainerForID(e);if(i){var o=i.nodeType===C?i.ownerDocument:i;E(t,o)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function i(e){N.call(L,e)||(g(A.test(e),"Invalid tag: %s",e),L[e]=!0)}function o(e){i(e),this._tag=e,this.tagName=e.toUpperCase()}var s=e("./CSSPropertyOperations"),a=e("./DOMProperty"),l=e("./DOMPropertyOperations"),c=e("./ReactBrowserComponentMixin"),u=e("./ReactComponent"),d=e("./ReactBrowserEventEmitter"),p=e("./ReactMount"),h=e("./ReactMultiChild"),m=e("./ReactPerf"),f=e("./Object.assign"),v=e("./escapeTextForBrowser"),g=e("./invariant"),b=e("./isEventSupported"),y=e("./keyOf"),_=e("./monitorCodeUse"),w=d.deleteListener,E=d.listenTo,S=d.registrationNameModules,T={string:!0,number:!0},k=y({style:null}),C=1,x={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},A=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,L={},N={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={mountComponent:m.measure("ReactDOMComponent","mountComponent",function(e,t,r){u.Mixin.mountComponent.call(this,e,t,r),n(this.props);var i=x[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t)+i}),_createOpenTagMarkupAndPutListeners:function(e){var t=this.props,n="<"+this._tag;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(S.hasOwnProperty(i))r(this._rootNodeID,i,o,e);else{i===k&&(o&&(o=t.style=f({},t.style)),o=s.createMarkupForStyles(o));var a=l.createMarkupForProperty(i,o);a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n+">";var c=l.createMarkupForID(this._rootNodeID);return n+" "+c+">"},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=T[typeof this.props.children]?this.props.children:null,r=null!=n?null:this.props.children;if(null!=n)return v(n);if(null!=r){var i=this.mountChildren(r,e);return i.join("")}}return""},receiveComponent:function(e,t){(e!==this._currentElement||null==e._owner)&&u.Mixin.receiveComponent.call(this,e,t)},updateComponent:m.measure("ReactDOMComponent","updateComponent",function(e,t){n(this._currentElement.props),u.Mixin.updateComponent.call(this,e,t),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e)}),_updateDOMProperties:function(e,t){var n,i,o,s=this.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===k){var l=e[n];for(i in l)l.hasOwnProperty(i)&&(o=o||{},o[i]="")}else S.hasOwnProperty(n)?w(this._rootNodeID,n):(a.isStandardName[n]||a.isCustomAttribute(n))&&u.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in s){var c=s[n],d=e[n];if(s.hasOwnProperty(n)&&c!==d)if(n===k)if(c&&(c=s.style=f({},c)),d){for(i in d)!d.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in c)c.hasOwnProperty(i)&&d[i]!==c[i]&&(o=o||{},o[i]=c[i])}else o=c;else S.hasOwnProperty(n)?r(this._rootNodeID,n,c,t):(a.isStandardName[n]||a.isCustomAttribute(n))&&u.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,c)}o&&u.BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t){var n=this.props,r=T[typeof e.children]?e.children:null,i=T[typeof n.children]?n.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,a=null!=r?null:e.children,l=null!=i?null:n.children,c=null!=r||null!=o,d=null!=i||null!=s;null!=a&&null==l?this.updateChildren(null,t):c&&!d&&this.updateTextContent(""),null!=i?r!==i&&this.updateTextContent(""+i):null!=s?o!==s&&u.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,s):null!=l&&this.updateChildren(l,t)
},unmountComponent:function(){this.unmountChildren(),d.deleteAllListeners(this._rootNodeID),u.Mixin.unmountComponent.call(this)}},f(o.prototype,u.Mixin,o.Mixin,h.Mixin,c),t.exports=o},{"./CSSPropertyOperations":5,"./DOMProperty":11,"./DOMPropertyOperations":12,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactBrowserEventEmitter":30,"./ReactComponent":32,"./ReactMount":63,"./ReactMultiChild":64,"./ReactPerf":68,"./escapeTextForBrowser":109,"./invariant":126,"./isEventSupported":127,"./keyOf":133,"./monitorCodeUse":136}],40:[function(e,t){var n=e("./EventConstants"),r=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),o=e("./ReactCompositeComponent"),s=e("./ReactElement"),a=e("./ReactDOM"),l=s.createFactory(a.form.type),c=o.createClass({displayName:"ReactDOMForm",mixins:[i,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(n.topLevelTypes.topSubmit,"submit")}});t.exports=c},{"./EventConstants":16,"./LocalEventTrapMixin":25,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52}],41:[function(e,t){var n=e("./CSSPropertyOperations"),r=e("./DOMChildrenOperations"),i=e("./DOMPropertyOperations"),o=e("./ReactMount"),s=e("./ReactPerf"),a=e("./invariant"),l=e("./setInnerHTML"),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:s.measure("ReactDOMIDOperations","updatePropertyByID",function(e,t,n){var r=o.getNode(e);a(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)}),deletePropertyByID:s.measure("ReactDOMIDOperations","deletePropertyByID",function(e,t,n){var r=o.getNode(e);a(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),i.deleteValueForProperty(r,t,n)}),updateStylesByID:s.measure("ReactDOMIDOperations","updateStylesByID",function(e,t){var r=o.getNode(e);n.setValueForStyles(r,t)}),updateInnerHTMLByID:s.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(e,t){var n=o.getNode(e);l(n,t)}),updateTextContentByID:s.measure("ReactDOMIDOperations","updateTextContentByID",function(e,t){var n=o.getNode(e);r.updateTextContent(n,t)}),dangerouslyReplaceNodeWithMarkupByID:s.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(e,t){var n=o.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)}),dangerouslyProcessChildrenUpdates:s.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);r.processUpdates(e,t)})};t.exports=u},{"./CSSPropertyOperations":5,"./DOMChildrenOperations":10,"./DOMPropertyOperations":12,"./ReactMount":63,"./ReactPerf":68,"./invariant":126,"./setInnerHTML":140}],42:[function(e,t){var n=e("./EventConstants"),r=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),o=e("./ReactCompositeComponent"),s=e("./ReactElement"),a=e("./ReactDOM"),l=s.createFactory(a.img.type),c=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(n.topLevelTypes.topError,"error")}});t.exports=c},{"./EventConstants":16,"./LocalEventTrapMixin":25,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52}],43:[function(e,t){function n(){this.isMounted()&&this.forceUpdate()}var r=e("./AutoFocusMixin"),i=e("./DOMPropertyOperations"),o=e("./LinkedValueUtils"),s=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),l=e("./ReactElement"),c=e("./ReactDOM"),u=e("./ReactMount"),d=e("./ReactUpdates"),p=e("./Object.assign"),h=e("./invariant"),m=l.createFactory(c.input.type),f={},v=a.createClass({displayName:"ReactDOMInput",mixins:[r,o.Mixin,s],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=p({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,m(e,this.props.children)},componentDidMount:function(){var e=u.getID(this.getDOMNode());f[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=u.getID(e);delete f[t]},componentDidUpdate:function(){var e=this.getDOMNode();null!=this.props.checked&&i.setValueForProperty(e,"checked",this.props.checked||!1);var t=o.getValue(this);null!=t&&i.setValueForProperty(e,"value",""+t)},_handleChange:function(e){var t,r=o.getOnChange(this);r&&(t=r.call(this,e)),d.asap(n,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var s=this.getDOMNode(),a=s;a.parentNode;)a=a.parentNode;for(var l=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),c=0,p=l.length;p>c;c++){var m=l[c];if(m!==s&&m.form===s.form){var v=u.getID(m);h(v,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=f[v];h(g,"ReactDOMInput: Unknown radio button ID %s.",v),d.asap(n,g)}}}return t}});t.exports=v},{"./AutoFocusMixin":2,"./DOMPropertyOperations":12,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactMount":63,"./ReactUpdates":79,"./invariant":126}],44:[function(e,t){var n=e("./ReactBrowserComponentMixin"),r=e("./ReactCompositeComponent"),i=e("./ReactElement"),o=e("./ReactDOM"),s=e("./warning"),a=i.createFactory(o.option.type),l=r.createClass({displayName:"ReactDOMOption",mixins:[n],componentWillMount:function(){s(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return a(this.props,this.props.children)}});t.exports=l},{"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./warning":145}],45:[function(e,t){function n(){this.isMounted()&&(this.setState({value:this._pendingValue}),this._pendingValue=0)}function r(e,t){if(null!=e[t])if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function i(e,t){var n,r,i,o=e.props.multiple,s=null!=t?t:e.state.value,a=e.getDOMNode().options;if(o)for(n={},r=0,i=s.length;i>r;++r)n[""+s[r]]=!0;else n=""+s;for(r=0,i=a.length;i>r;r++){var l=o?n.hasOwnProperty(a[r].value):a[r].value===n;l!==a[r].selected&&(a[r].selected=l)}}var o=e("./AutoFocusMixin"),s=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),l=e("./ReactCompositeComponent"),c=e("./ReactElement"),u=e("./ReactDOM"),d=e("./ReactUpdates"),p=e("./Object.assign"),h=c.createFactory(u.select.type),m=l.createClass({displayName:"ReactDOMSelect",mixins:[o,s.Mixin,a],propTypes:{defaultValue:r,value:r},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillMount:function(){this._pendingValue=null},componentWillReceiveProps:function(e){!this.props.multiple&&e.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!e.multiple&&this.setState({value:this.state.value[0]})},render:function(){var e=p({},this.props);return e.onChange=this._handleChange,e.value=null,h(e,this.props.children)},componentDidMount:function(){i(this,s.getValue(this))},componentDidUpdate:function(e){var t=s.getValue(this),n=!!e.multiple,r=!!this.props.multiple;(null!=t||n!==r)&&i(this,t)},_handleChange:function(e){var t,r=s.getOnChange(this);r&&(t=r.call(this,e));var i;if(this.props.multiple){i=[];for(var o=e.target.options,a=0,l=o.length;l>a;a++)o[a].selected&&i.push(o[a].value)}else i=e.target.value;return this._pendingValue=i,d.asap(n,this),t}});t.exports=m},{"./AutoFocusMixin":2,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactUpdates":79}],46:[function(e,t){function n(e,t,n,r){return e===n&&t===r}function r(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,s=o+r;return{start:o,end:s}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0),l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:a.toString().length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var d=n(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:u.toString().length,h=p+c,m=document.createRange();m.setStart(r,i),m.setEnd(o,s);var f=m.collapsed;return{start:f?h:p,end:f?p:h}}function o(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var s=o;o=i,i=s}var a=l(e,i),u=l(e,o);if(a&&u){var d=document.createRange();d.setStart(a.node,a.offset),n.removeAllRanges(),i>o?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d))}}}var a=e("./ExecutionEnvironment"),l=e("./getNodeForCharacterOffset"),c=e("./getTextContentAccessor"),u=a.canUseDOM&&document.selection,d={getOffsets:u?r:i,setOffsets:u?o:s};t.exports=d},{"./ExecutionEnvironment":22,"./getNodeForCharacterOffset":119,"./getTextContentAccessor":121}],47:[function(e,t){function n(){this.isMounted()&&this.forceUpdate()}var r=e("./AutoFocusMixin"),i=e("./DOMPropertyOperations"),o=e("./LinkedValueUtils"),s=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),l=e("./ReactElement"),c=e("./ReactDOM"),u=e("./ReactUpdates"),d=e("./Object.assign"),p=e("./invariant"),h=e("./warning"),m=l.createFactory(c.textarea.type),f=a.createClass({displayName:"ReactDOMTextarea",mixins:[r,o.Mixin,s],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(h(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),p(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(t)&&(p(t.length<=1,"<textarea> can only have at most one child."),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=d({},this.props);return p(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,m(e,this.state.initialValue)},componentDidUpdate:function(){var e=o.getValue(this);if(null!=e){var t=this.getDOMNode();i.setValueForProperty(t,"value",""+e)}},_handleChange:function(e){var t,r=o.getOnChange(this);return r&&(t=r.call(this,e)),u.asap(n,this),t}});t.exports=f},{"./AutoFocusMixin":2,"./DOMPropertyOperations":12,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactUpdates":79,"./invariant":126,"./warning":145}],48:[function(e,t){function n(){this.reinitializeTransaction()}var r=e("./ReactUpdates"),i=e("./Transaction"),o=e("./Object.assign"),s=e("./emptyFunction"),a={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:r.flushBatchedUpdates.bind(r)},c=[l,a];o(n.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var u=new n,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n){var r=d.isBatchingUpdates;d.isBatchingUpdates=!0,r?e(t,n):u.perform(e,null,t,n)}};t.exports=d},{"./Object.assign":27,"./ReactUpdates":79,"./Transaction":95,"./emptyFunction":107}],49:[function(e,t){function n(){T.EventEmitter.injectReactEventListener(S),T.EventPluginHub.injectEventPluginOrder(a),T.EventPluginHub.injectInstanceHandle(k),T.EventPluginHub.injectMount(C),T.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:L,EnterLeaveEventPlugin:l,ChangeEventPlugin:i,CompositionEventPlugin:s,MobileSafariClickEventPlugin:d,SelectEventPlugin:x,BeforeInputEventPlugin:r}),T.NativeComponent.injectGenericComponentClass(f),T.NativeComponent.injectComponentClasses({button:v,form:g,img:b,input:y,option:_,select:w,textarea:E,html:I("html"),head:I("head"),body:I("body")}),T.CompositeComponent.injectMixin(p),T.DOMProperty.injectDOMPropertyConfig(u),T.DOMProperty.injectDOMPropertyConfig(N),T.EmptyComponent.injectEmptyComponent("noscript"),T.Updates.injectReconcileTransaction(h.ReactReconcileTransaction),T.Updates.injectBatchingStrategy(m),T.RootIndex.injectCreateReactRootIndex(c.canUseDOM?o.createReactRootIndex:A.createReactRootIndex),T.Component.injectEnvironment(h);var t=c.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var n=e("./ReactDefaultPerf");n.start()}}var r=e("./BeforeInputEventPlugin"),i=e("./ChangeEventPlugin"),o=e("./ClientReactRootIndex"),s=e("./CompositionEventPlugin"),a=e("./DefaultEventPluginOrder"),l=e("./EnterLeaveEventPlugin"),c=e("./ExecutionEnvironment"),u=e("./HTMLDOMPropertyConfig"),d=e("./MobileSafariClickEventPlugin"),p=e("./ReactBrowserComponentMixin"),h=e("./ReactComponentBrowserEnvironment"),m=e("./ReactDefaultBatchingStrategy"),f=e("./ReactDOMComponent"),v=e("./ReactDOMButton"),g=e("./ReactDOMForm"),b=e("./ReactDOMImg"),y=e("./ReactDOMInput"),_=e("./ReactDOMOption"),w=e("./ReactDOMSelect"),E=e("./ReactDOMTextarea"),S=e("./ReactEventListener"),T=e("./ReactInjection"),k=e("./ReactInstanceHandles"),C=e("./ReactMount"),x=e("./SelectEventPlugin"),A=e("./ServerReactRootIndex"),L=e("./SimpleEventPlugin"),N=e("./SVGDOMPropertyConfig"),I=e("./createFullPageComponent");t.exports={inject:n}},{"./BeforeInputEventPlugin":3,"./ChangeEventPlugin":7,"./ClientReactRootIndex":8,"./CompositionEventPlugin":9,"./DefaultEventPluginOrder":14,"./EnterLeaveEventPlugin":15,"./ExecutionEnvironment":22,"./HTMLDOMPropertyConfig":23,"./MobileSafariClickEventPlugin":26,"./ReactBrowserComponentMixin":29,"./ReactComponentBrowserEnvironment":33,"./ReactDOMButton":38,"./ReactDOMComponent":39,"./ReactDOMForm":40,"./ReactDOMImg":42,"./ReactDOMInput":43,"./ReactDOMOption":44,"./ReactDOMSelect":45,"./ReactDOMTextarea":47,"./ReactDefaultBatchingStrategy":48,"./ReactDefaultPerf":50,"./ReactEventListener":57,"./ReactInjection":58,"./ReactInstanceHandles":60,"./ReactMount":63,"./SVGDOMPropertyConfig":80,"./SelectEventPlugin":81,"./ServerReactRootIndex":82,"./SimpleEventPlugin":83,"./createFullPageComponent":103}],50:[function(e,t){function n(e){return Math.floor(100*e)/100}function r(e,t,n){e[t]=(e[t]||0)+n}var i=e("./DOMProperty"),o=e("./ReactDefaultPerfAnalysis"),s=e("./ReactMount"),a=e("./ReactPerf"),l=e("./performanceNow"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||a.injection.injectMeasure(c.measure),c._allMeasurements.length=0,a.enableMeasure=!0},stop:function(){a.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var i=c._allMeasurements[c._allMeasurements.length-1].writes;i[e]=i[e]||[],i[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){var i,o,a,u=Array.prototype.slice.call(arguments,0);if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),a=l(),o=n.apply(this,u),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-a,o;if("ReactDOMIDOperations"===e||"ReactComponentBrowserEnvironment"===e){if(a=l(),o=n.apply(this,u),i=l()-a,"mountImageIntoNode"===t){var d=s.getID(u[1]);c._recordWrite(d,t,i,u[0])}else"dangerouslyProcessChildrenUpdates"===t?u[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=u[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,i,t)}):c._recordWrite(u[0],t,i,Array.prototype.slice.call(u,1));return o}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,u);var p="mountComponent"===t?u[0]:this._rootNodeID,h="_renderValidatedComponent"===t,m="mountComponent"===t,f=c._mountStack,v=c._allMeasurements[c._allMeasurements.length-1];if(h?r(v.counts,p,1):m&&f.push(0),a=l(),o=n.apply(this,u),i=l()-a,h)r(v.render,p,i);else if(m){var g=f.pop();f[f.length-1]+=i,r(v.exclusive,p,i-g),r(v.inclusive,p,i)}else r(v.inclusive,p,i);return v.displayNames[p]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"},o}}};t.exports=c},{"./DOMProperty":11,"./ReactDefaultPerfAnalysis":51,"./ReactMount":63,"./ReactPerf":68,"./performanceNow":139}],51:[function(e,t){function n(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function r(e){for(var t=[],n=0;n<e.length;n++){var r,i=e[n];for(r in i.writes)i.writes[r].forEach(function(e){t.push({id:r,type:c[e.type]||e.type,args:e.args})})}return t}function i(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r],o=a({},i.exclusive,i.inclusive);for(var s in o)t=i.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(n[t].render+=i.render[s]),i.exclusive[s]&&(n[t].exclusive+=i.exclusive[s]),i.inclusive[s]&&(n[t].inclusive+=i.inclusive[s]),i.counts[s]&&(n[t].count+=i.counts[s])}var c=[];for(t in n)n[t].exclusive>=l&&c.push(n[t]);return c.sort(function(e,t){return t.exclusive-e.exclusive}),c}function o(e,t){for(var n,r={},i=0;i<e.length;i++){var o,c=e[i],u=a({},c.exclusive,c.inclusive);t&&(o=s(c));for(var d in u)if(!t||o[d]){var p=c.displayNames[d];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},c.inclusive[d]&&(r[n].time+=c.inclusive[d]),c.counts[d]&&(r[n].count+=c.counts[d])}}var h=[];for(n in r)r[n].time>=l&&h.push(r[n]);return h.sort(function(e,t){return t.time-e.time}),h}function s(e){var t={},n=Object.keys(e.writes),r=a({},e.exclusive,e.inclusive);for(var i in r){for(var o=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(i)){o=!0;break}!o&&e.counts[i]>0&&(t[i]=!0)}return t}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDefaultPerfAnalysis
 */
var a=e("./Object.assign"),l=1.2,c={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},u={getExclusiveSummary:i,getInclusiveSummary:o,getDOMSummary:r,getTotalTime:n};t.exports=u},{"./Object.assign":27}],52:[function(e,t){function n(e,t){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(e){s(!1,"Don't set the "+t+" property of the component. Mutate the existing props object instead."),this._store[t]=e}})}function r(e){try{var t={props:!0};for(var r in t)n(e,r);l=!0}catch(i){}}var i=e("./ReactContext"),o=e("./ReactCurrentOwner"),s=e("./warning"),a={key:!0,ref:!0},l=!1,c=function(e,t,n,r,i,o){return this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=i,this._store={validated:!1,props:o},l?(Object.freeze(this),void 0):(this.props=o,void 0)};c.prototype={_isReactElement:!0},r(c.prototype),c.createElement=function(e,t,n){var r,l={},u=null,d=null;if(null!=t){d=void 0===t.ref?null:t.ref,s(null!==t.key,"createElement(...): Encountered component with a `key` of null. In a future version, this will be treated as equivalent to the string 'null'; instead, provide an explicit key or use undefined."),u=null==t.key?null:""+t.key;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(l[r]=t[r])}var p=arguments.length-2;if(1===p)l.children=n;else if(p>1){for(var h=Array(p),m=0;p>m;m++)h[m]=arguments[m+2];l.children=h}if(e.defaultProps){var f=e.defaultProps;for(r in f)"undefined"==typeof l[r]&&(l[r]=f[r])}return new c(e,u,d,o.current,i.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceProps=function(e,t){var n=new c(e.type,e.key,e.ref,e._owner,e._context,t);return n._store.validated=e._store.validated,n},c.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=c},{"./ReactContext":35,"./ReactCurrentOwner":36,"./warning":145}],53:[function(e,t){function n(){var e=d.current;return e&&e.constructor.displayName||void 0}function r(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,o("react_key_warning",'Each child in an array should have a unique "key" prop.',e,t))}function i(e,t,n){v.test(e)&&o("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",t,n)}function o(e,t,r,i){var o=n(),s=i.displayName,a=o||s,l=h[e];if(!l.hasOwnProperty(a)){l[a]=!0,t+=o?" Check the render method of "+o+".":" Check the renderComponent call using <"+s+">.";var c=null;r._owner&&r._owner!==d.current&&(c=r._owner.constructor.displayName,t+=" It was passed a child from "+c+"."),t+=" See http://fb.me/react-warning-keys for more information.",p(e,{component:a,componentOwner:c}),console.warn(t)}}function s(){var e=n()||"";m.hasOwnProperty(e)||(m[e]=!0,p("react_object_map_children"))}function a(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];c.isValidElement(o)&&r(o,t)}else if(c.isValidElement(e))e._store.validated=!0;else if(e&&"object"==typeof e){s();for(var a in e)i(a,e[a],t)}}function l(e,t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var o;try{o=t[i](n,i,e,r)}catch(s){o=s}o instanceof Error&&!(o.message in f)&&(f[o.message]=!0,p("react_failed_descriptor_type_check",{message:o.message}))}}var c=e("./ReactElement"),u=e("./ReactPropTypeLocations"),d=e("./ReactCurrentOwner"),p=e("./monitorCodeUse"),h={react_key_warning:{},react_numeric_key_warning:{}},m={},f={},v=/^\d+$/,g={createElement:function(e){var t=c.createElement.apply(this,arguments);if(null==t)return t;for(var n=2;n<arguments.length;n++)a(arguments[n],e);var r=e.displayName;return e.propTypes&&l(r,e.propTypes,t.props,u.prop),e.contextTypes&&l(r,e.contextTypes,t._context,u.context),t},createFactory:function(e){var t=g.createElement.bind(null,e);return t.type=e,t}};t.exports=g},{"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactPropTypeLocations":71,"./monitorCodeUse":136}],54:[function(e,t){function n(){return l(s,"Trying to return null from a render, but no null placeholder component was injected."),s()}function r(e){c[e]=!0}function i(e){delete c[e]}function o(e){return c[e]}var s,a=e("./ReactElement"),l=e("./invariant"),c={},u={injectEmptyComponent:function(e){s=a.createFactory(e)}},d={deregisterNullComponentID:i,getEmptyComponent:n,injection:u,isNullComponentID:o,registerNullComponentID:r};t.exports=d},{"./ReactElement":52,"./invariant":126}],55:[function(e,t){var n={guard:function(e){return e}};t.exports=n},{}],56:[function(e,t){function n(e){r.enqueueEvents(e),r.processEventQueue()}var r=e("./EventPluginHub"),i={handleTopLevel:function(e,t,i,o){var s=r.extractEvents(e,t,i,o);n(s)}};t.exports=i},{"./EventPluginHub":18}],57:[function(e,t){function n(e){var t=u.getID(e),n=c.getReactRootIDFromNodeID(t),r=u.findReactContainerForID(n),i=u.getFirstReactDOM(r);return i}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){for(var t=u.getFirstReactDOM(h(e.nativeEvent))||window,r=t;r;)e.ancestors.push(r),r=n(r);for(var i=0,o=e.ancestors.length;o>i;i++){t=e.ancestors[i];var s=u.getID(t)||"";f._handleTopLevel(e.topLevelType,t,s,e.nativeEvent)}}function o(e){var t=m(window);e(t)}var s=e("./EventListener"),a=e("./ExecutionEnvironment"),l=e("./PooledClass"),c=e("./ReactInstanceHandles"),u=e("./ReactMount"),d=e("./ReactUpdates"),p=e("./Object.assign"),h=e("./getEventTarget"),m=e("./getUnboundedScrollPosition");p(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(r,l.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:a.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){var r=n;if(r)return s.listen(r,t,f.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,n){var r=n;if(r)return s.capture(r,t,f.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=o.bind(null,e);s.listen(window,"scroll",t),s.listen(window,"resize",t)},dispatchEvent:function(e,t){if(f._enabled){var n=r.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{r.release(n)}}}};t.exports=f},{"./EventListener":17,"./ExecutionEnvironment":22,"./Object.assign":27,"./PooledClass":28,"./ReactInstanceHandles":60,"./ReactMount":63,"./ReactUpdates":79,"./getEventTarget":117,"./getUnboundedScrollPosition":122}],58:[function(e,t){var n=e("./DOMProperty"),r=e("./EventPluginHub"),i=e("./ReactComponent"),o=e("./ReactCompositeComponent"),s=e("./ReactEmptyComponent"),a=e("./ReactBrowserEventEmitter"),l=e("./ReactNativeComponent"),c=e("./ReactPerf"),u=e("./ReactRootIndex"),d=e("./ReactUpdates"),p={Component:i.injection,CompositeComponent:o.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:a.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:u.injection,Updates:d.injection};t.exports=p},{"./DOMProperty":11,"./EventPluginHub":18,"./ReactBrowserEventEmitter":30,"./ReactComponent":32,"./ReactCompositeComponent":34,"./ReactEmptyComponent":54,"./ReactNativeComponent":66,"./ReactPerf":68,"./ReactRootIndex":75,"./ReactUpdates":79}],59:[function(e,t){function n(e){return i(document.documentElement,e)}var r=e("./ReactDOMSelection"),i=e("./containsNode"),o=e("./focusNode"),s=e("./getActiveElement"),a={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t=s(),r=e.focusedElem,i=e.selectionRange;t!==r&&n(r)&&(a.hasSelectionCapabilities(r)&&a.setSelection(r,i),o(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if("undefined"==typeof i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};t.exports=a},{"./ReactDOMSelection":46,"./containsNode":101,"./focusNode":111,"./getActiveElement":113}],60:[function(e,t){function n(e){return p+e.toString(36)}function r(e,t){return e.charAt(t)===p||t===e.length}function i(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function o(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(p)):""}function a(e,t){if(d(i(e)&&i(t),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),d(o(e,t),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;for(var n=e.length+h,s=n;s<t.length&&!r(t,s);s++);return t.substr(0,s)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var o=0,s=0;n>=s;s++)if(r(e,s)&&r(t,s))o=s;else if(e.charAt(s)!==t.charAt(s))break;var a=e.substr(0,o);return d(i(a),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,a),a}function c(e,t,n,r,i,l){e=e||"",t=t||"",d(e!==t,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var c=o(t,e);d(c||o(e,t),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var u=0,p=c?s:a,h=e;;h=p(h,t)){var f;if(i&&h===e||l&&h===t||(f=n(h,c,r)),f===!1||h===t)break;d(u++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t)}}var u=e("./ReactRootIndex"),d=e("./invariant"),p=".",h=p.length,m=100,f={createReactRootID:function(){return n(u.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=l(e,t);o!==e&&c(e,o,n,r,!1,!0),o!==t&&c(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:a,isAncestorIDOf:o,SEPARATOR:p};t.exports=f},{"./ReactRootIndex":75,"./invariant":126}],61:[function(e,t){function n(){if(h._isLegacyCallWarningEnabled){var e=s.current,t=e&&e.constructor?e.constructor.displayName:"";t||(t="Something"),u.hasOwnProperty(t)||(u[t]=!0,c(!1,t+" is calling a React component directly. Use a factory or JSX instead. See: http://fb.me/react-legacyfactory"),l("react_legacy_factory_call",{version:3,name:t}))}}function r(e){var t=e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent;if(t)c(!1,"Did not expect to get a React class here. Use `Component` instead of `Component.type` or `this.constructor`.");else{if(!e._reactWarnedForThisType){try{e._reactWarnedForThisType=!0}catch(n){}l("react_non_component_in_jsx",{version:3,name:e.name})}c(!1,"This JSX uses a plain function. Only React components are valid in React's JSX transform.")}}function i(e){c(!1,"Do not pass React.DOM."+e.type+' to JSX or createFactory. Use the string "'+e.type+'" instead.')}function o(e,t){if("function"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if("function"==typeof r){var i=r.bind(t);for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);e[n]=i}else e[n]=r}}var s=e("./ReactCurrentOwner"),a=e("./invariant"),l=e("./monitorCodeUse"),c=e("./warning"),u={},d={},p={},h={};h.wrapCreateFactory=function(e){var t=function(t){return"function"!=typeof t?e(t):t.isReactNonLegacyFactory?(i(t),e(t.type)):t.isReactLegacyFactory?e(t.type):(r(t),t)};return t},h.wrapCreateElement=function(e){var t=function(t){if("function"!=typeof t)return e.apply(this,arguments);var n;return t.isReactNonLegacyFactory?(i(t),n=Array.prototype.slice.call(arguments,0),n[0]=t.type,e.apply(this,n)):t.isReactLegacyFactory?(t._isMockFunction&&(t.type._mockedReactClassConstructor=t),n=Array.prototype.slice.call(arguments,0),n[0]=t.type,e.apply(this,n)):(r(t),t.apply(null,Array.prototype.slice.call(arguments,1)))};return t},h.wrapFactory=function(e){a("function"==typeof e,"This is suppose to accept a element factory");var t=function(){return n(),e.apply(this,arguments)};return o(t,e.type),t.isReactLegacyFactory=d,t.type=e.type,t},h.markNonLegacyFactory=function(e){return e.isReactNonLegacyFactory=p,e},h.isValidFactory=function(e){return"function"==typeof e&&e.isReactLegacyFactory===d},h.isValidClass=function(e){return c(!1,"isValidClass is deprecated and will be removed in a future release. Use a more specific validator instead."),h.isValidFactory(e)},h._isLegacyCallWarningEnabled=!0,t.exports=h},{"./ReactCurrentOwner":36,"./invariant":126,"./monitorCodeUse":136,"./warning":145}],62:[function(e,t){var n=e("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME);i=i&&parseInt(i,10);var o=n(e);return o===i}};t.exports=r},{"./adler32":98}],63:[function(e,t){function n(e){var t=_(e);return t&&M.getID(t)}function r(e){var t=i(e);if(t)if(A.hasOwnProperty(t)){var n=A[t];n!==e&&(E(!a(n,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",x,t),A[t]=e)}else A[t]=e;return t}function i(e){return e&&e.getAttribute&&e.getAttribute(x)||""}function o(e,t){var n=i(e);n!==t&&delete A[n],e.setAttribute(x,t),A[t]=e}function s(e){return A.hasOwnProperty(e)&&a(A[e],e)||(A[e]=M.findReactNodeByID(e)),A[e]}function a(e,t){if(e){E(i(e)===t,"ReactMount: Unexpected modification of `%s`",x);var n=M.findReactContainerForID(t);if(n&&b(n,e))return!0}return!1}function l(e){delete A[e]}function c(e){var t=A[e];return t&&a(t,e)?(D=t,void 0):!1}function u(e){D=null,v.traverseAncestors(e,c);var t=D;return D=null,t}var d=e("./DOMProperty"),p=e("./ReactBrowserEventEmitter"),h=e("./ReactCurrentOwner"),m=e("./ReactElement"),f=e("./ReactLegacyElement"),v=e("./ReactInstanceHandles"),g=e("./ReactPerf"),b=e("./containsNode"),y=e("./deprecated"),_=e("./getReactRootElementInContainer"),w=e("./instantiateReactComponent"),E=e("./invariant"),S=e("./shouldUpdateReactComponent"),T=e("./warning"),k=f.wrapCreateElement(m.createElement),C=v.SEPARATOR,x=d.ID_ATTRIBUTE_NAME,A={},L=1,N=9,I={},O={},R={},P=[],D=null,M={_instancesByReactRootID:I,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,r,i){var o=t.props;return M.scrollMonitor(r,function(){e.replaceProps(o,i)}),R[n(r)]=_(r),e},_registerComponent:function(e,t){E(t&&(t.nodeType===L||t.nodeType===N),"_registerComponent(...): Target container is not a DOM element."),p.ensureScrollValueMonitoring();var n=M.registerContainer(t);return I[n]=e,n},_renderNewRootComponent:g.measure("ReactMount","_renderNewRootComponent",function(e,t,n){T(null==h.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var r=w(e,null),i=M._registerComponent(r,t);return r.mountComponentIntoNode(i,t,n),R[i]=_(t),r}),render:function(e,t,r){E(m.isValidElement(e),"renderComponent(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":f.isValidFactory(e)?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":"undefined"!=typeof e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var i=I[n(t)];if(i){var o=i._currentElement;if(S(o,e))return M._updateRootComponent(i,e,t,r);M.unmountComponentAtNode(t)}var s=_(t),a=s&&M.isRenderedByReact(s),l=a&&!i,c=M._renderNewRootComponent(e,t,l);return r&&r.call(c),c},constructAndRenderComponent:function(e,t,n){var r=k(e,t);return M.render(r,n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return E(r,'Tried to get element with id of "%s" but it is not present on the page.',n),M.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=n(e);return t&&(t=v.getReactRootIDFromNodeID(t)),t||(t=v.createReactRootID()),O[t]=e,t},unmountComponentAtNode:function(e){T(null==h.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var t=n(e),r=I[t];return r?(M.unmountComponentFromNode(r,e),delete I[t],delete O[t],delete R[t],!0):!1},unmountComponentFromNode:function(e,t){for(e.unmountComponent(),t.nodeType===N&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=v.getReactRootIDFromNodeID(e),n=O[t],r=R[t];if(r&&r.parentNode!==n){E(i(r)===t,"ReactMount: Root element ID differed from reactRootID.");var o=n.firstChild;o&&t===i(o)?R[t]=o:console.warn("ReactMount: Root element has been removed from its original container. New container:",r.parentNode)}return n},findReactNodeByID:function(e){var t=M.findReactContainerForID(e);return M.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=M.getID(e);return t?t.charAt(0)===C:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(M.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=P,r=0,i=u(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,s=n[r++];s;){var a=M.getID(s);a?t===a?o=s:v.isAncestorIDOf(a,t)&&(n.length=r=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,E(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,M.getID(e))},getReactRootID:n,getID:r,setID:o,getNode:s,purgeID:l};M.renderComponent=y("ReactMount","renderComponent","render",this,M.render),t.exports=M},{"./DOMProperty":11,"./ReactBrowserEventEmitter":30,"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactInstanceHandles":60,"./ReactLegacyElement":61,"./ReactPerf":68,"./containsNode":101,"./deprecated":106,"./getReactRootElementInContainer":120,"./instantiateReactComponent":125,"./invariant":126,"./shouldUpdateReactComponent":142,"./warning":145}],64:[function(e,t){function n(e,t,n){m.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:f.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function r(e,t,n){m.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function i(e,t){m.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function o(e,t){m.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){m.length&&(l.BackendIDOperations.dangerouslyProcessChildrenUpdates(m,f),a())}function a(){m.length=0,f.length=0}var l=e("./ReactComponent"),c=e("./ReactMultiChildUpdateTypes"),u=e("./flattenChildren"),d=e("./instantiateReactComponent"),p=e("./shouldUpdateReactComponent"),h=0,m=[],f=[],v={Mixin:{mountChildren:function(e,t){var n=u(e),r=[],i=0;this._renderedChildren=n;for(var o in n){var s=n[o];if(n.hasOwnProperty(o)){var a=d(s,null);n[o]=a;var l=this._rootNodeID+o,c=a.mountComponent(l,t,this._mountDepth+1);a._mountIndex=i,r.push(c),i++}}return r},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{h--,h||(t?a():s())}},updateChildren:function(e,t){h++;var n=!0;try{this._updateChildren(e,t),n=!1}finally{h--,h||(n?a():s())}},_updateChildren:function(e,t){var n=u(e),r=this._renderedChildren;if(n||r){var i,o=0,s=0;for(i in n)if(n.hasOwnProperty(i)){var a=r&&r[i],l=a&&a._currentElement,c=n[i];if(p(l,c))this.moveChild(a,s,o),o=Math.max(a._mountIndex,o),a.receiveComponent(c,t),a._mountIndex=s;else{a&&(o=Math.max(a._mountIndex,o),this._unmountChildByName(a,i));var h=d(c,null);this._mountChildByNameAtIndex(h,i,s,t)}s++}for(i in r)!r.hasOwnProperty(i)||n&&n[i]||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var e=this._renderedChildren;for(var t in e){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r){var i=this._rootNodeID+t,o=e.mountComponent(i,r,this._mountDepth+1);e._mountIndex=n,this.createChild(e,o),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[t]=e},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null,e.unmountComponent(),delete this._renderedChildren[t]}}};t.exports=v},{"./ReactComponent":32,"./ReactMultiChildUpdateTypes":65,"./flattenChildren":110,"./instantiateReactComponent":125,"./shouldUpdateReactComponent":142}],65:[function(e,t){var n=e("./keyMirror"),r=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=r},{"./keyMirror":132}],66:[function(e,t){function n(e,t,n){var r=s[e];return null==r?(i(o,"There is no registered component for the tag %s",e),new o(e,t)):n===e?(i(o,"There is no registered component for the tag %s",e),new o(e,t)):new r.type(t)}var r=e("./Object.assign"),i=e("./invariant"),o=null,s={},a={injectGenericComponentClass:function(e){o=e},injectComponentClasses:function(e){r(s,e)}},l={createInstanceForTag:n,injection:a};t.exports=l},{"./Object.assign":27,"./invariant":126}],67:[function(e,t){var n=e("./emptyObject"),r=e("./invariant"),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(i.isValidOwner(n),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(i.isValidOwner(n),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.refs[t]===e&&n.detachRef(t)},Mixin:{construct:function(){this.refs=n},attachRef:function(e,t){r(t.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",e);var i=this.refs===n?this.refs={}:this.refs;i[e]=t},detachRef:function(e){delete this.refs[e]}}};t.exports=i},{"./emptyObject":108,"./invariant":126}],68:[function(e,t){function n(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:n,measure:function(e,t,n){var i=null,o=function(){return r.enableMeasure?(i||(i=r.storedMeasure(e,t,n)),i.apply(this,arguments)):n.apply(this,arguments)};return o.displayName=e+"_"+t,o},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],69:[function(e,t){function n(e){return function(t,n,r){t[n]=t.hasOwnProperty(n)?e(t[n],r):r}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=d[n];r&&d.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var i=e("./Object.assign"),o=e("./emptyFunction"),s=e("./invariant"),a=e("./joinClasses"),l=e("./warning"),c=!1,u=n(function(e,t){return i({},t,e)}),d={children:o,className:n(a),style:u},p={TransferStrategies:d,mergeProps:function(e,t){return r(i({},e),t)},Mixin:{transferPropsTo:function(e){return s(e._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,"string"==typeof e.type?e.type:e.type.displayName),c||(c=!0,l(!1,"transferPropsTo is deprecated. See http://fb.me/react-transferpropsto for more information.")),r(e.props,this.props),e}}};t.exports=p},{"./Object.assign":27,"./emptyFunction":107,"./invariant":126,"./joinClasses":131,"./warning":145}],70:[function(e,t){var n={};n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],71:[function(e,t){var n=e("./keyMirror"),r=n({prop:null,context:null,childContext:null});t.exports=r},{"./keyMirror":132}],72:[function(e,t){function n(e){function t(t,n,r,i,o){if(i=i||_,null!=n[r])return e(n,r,i,o);var s=g[o];return t?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+i+"`.")):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,r,i){var o=t[n],s=m(o);if(s!==e){var a=g[i],l=f(o);return new Error("Invalid "+a+" `"+n+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}}return n(t)}function i(){return n(y.thatReturns())}function o(e){function t(t,n,r,i){var o=t[n];if(!Array.isArray(o)){var s=g[i],a=m(o);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<o.length;l++){var c=e(o,l,r,i);if(c instanceof Error)return c}}return n(t)}function s(){function e(e,t,n,r){if(!v.isValidElement(e[t])){var i=g[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}}return n(e)}function a(e){function t(t,n,r,i){if(!(t[n]instanceof e)){var o=g[i],s=e.name||_;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}}return n(t)}function l(e){function t(t,n,r,i){for(var o=t[n],s=0;s<e.length;s++)if(o===e[s])return;var a=g[i],l=JSON.stringify(e);return new Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return n(t)}function c(e){function t(t,n,r,i){var o=t[n],s=m(o);if("object"!==s){var a=g[i];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,r,i);if(c instanceof Error)return c}}return n(t)}function u(e){function t(t,n,r,i){for(var o=0;o<e.length;o++){var s=e[o];if(null==s(t,n,r,i))return}var a=g[i];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return n(t)}function d(){function e(e,t,n,r){if(!h(e[t])){var i=g[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}}return n(e)}function p(e){function t(t,n,r,i){var o=t[n],s=m(o);if("object"!==s){var a=g[i];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,r,i);if(u)return u}}}return n(t,"expected `object`")}function h(e){switch(typeof e){case"number":case"string":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(v.isValidElement(e))return!0;for(var t in e)if(!h(e[t]))return!1;return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function f(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var v=e("./ReactElement"),g=e("./ReactPropTypeLocationNames"),b=e("./deprecated"),y=e("./emptyFunction"),_="<<anonymous>>",w=s(),E=d(),S={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:i(),arrayOf:o,element:w,instanceOf:a,node:E,objectOf:c,oneOf:l,oneOfType:u,shape:p,component:b("React.PropTypes","component","element",this,w),renderable:b("React.PropTypes","renderable","node",this,E)};t.exports=S},{"./ReactElement":52,"./ReactPropTypeLocationNames":70,"./deprecated":106,"./emptyFunction":107}],73:[function(e,t){function n(){this.listenersToPut=[]}var r=e("./PooledClass"),i=e("./ReactBrowserEventEmitter"),o=e("./Object.assign");o(n.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];i.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(n),t.exports=n},{"./Object.assign":27,"./PooledClass":28,"./ReactBrowserEventEmitter":30}],74:[function(e,t){function n(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=a.getPooled()}var r=e("./CallbackQueue"),i=e("./PooledClass"),o=e("./ReactBrowserEventEmitter"),s=e("./ReactInputSelection"),a=e("./ReactPutListenerQueue"),l=e("./Transaction"),c=e("./Object.assign"),u={initialize:s.getSelectionInformation,close:s.restoreSelection},d={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[h,u,d,p],f={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};c(n.prototype,l.Mixin,f),i.addPoolingTo(n),t.exports=n},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactBrowserEventEmitter":30,"./ReactInputSelection":59,"./ReactPutListenerQueue":73,"./Transaction":95}],75:[function(e,t){var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};t.exports=r},{}],76:[function(e,t){function n(e){c(i.isValidElement(e),"renderToString(): You must pass a valid ReactElement.");var t;try{var n=o.createReactRootID();return t=a.getPooled(!1),t.perform(function(){var r=l(e,null),i=r.mountComponent(n,t,0);return s.addChecksumToMarkup(i)},null)}finally{a.release(t)}}function r(e){c(i.isValidElement(e),"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{var n=o.createReactRootID();return t=a.getPooled(!0),t.perform(function(){var r=l(e,null);return r.mountComponent(n,t,0)},null)}finally{a.release(t)}}var i=e("./ReactElement"),o=e("./ReactInstanceHandles"),s=e("./ReactMarkupChecksum"),a=e("./ReactServerRenderingTransaction"),l=e("./instantiateReactComponent"),c=e("./invariant");t.exports={renderToString:n,renderToStaticMarkup:r}},{"./ReactElement":52,"./ReactInstanceHandles":60,"./ReactMarkupChecksum":62,"./ReactServerRenderingTransaction":77,"./instantiateReactComponent":125,"./invariant":126}],77:[function(e,t){function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.putListenerQueue=o.getPooled()
}var r=e("./PooledClass"),i=e("./CallbackQueue"),o=e("./ReactPutListenerQueue"),s=e("./Transaction"),a=e("./Object.assign"),l=e("./emptyFunction"),c={initialize:function(){this.reactMountReady.reset()},close:l},u={initialize:function(){this.putListenerQueue.reset()},close:l},d=[u,c],p={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};a(n.prototype,s.Mixin,p),r.addPoolingTo(n),t.exports=n},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactPutListenerQueue":73,"./Transaction":95,"./emptyFunction":107}],78:[function(e,t){var n=e("./DOMPropertyOperations"),r=e("./ReactComponent"),i=e("./ReactElement"),o=e("./Object.assign"),s=e("./escapeTextForBrowser"),a=function(){};o(a.prototype,r.Mixin,{mountComponent:function(e,t,i){r.Mixin.mountComponent.call(this,e,t,i);var o=s(this.props);return t.renderToStaticMarkup?o:"<span "+n.createMarkupForID(e)+">"+o+"</span>"},receiveComponent:function(e){var t=e.props;t!==this.props&&(this.props=t,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}});var l=function(e){return new i(a,null,null,null,null,e)};l.type=a,t.exports=l},{"./DOMPropertyOperations":12,"./Object.assign":27,"./ReactComponent":32,"./ReactElement":52,"./escapeTextForBrowser":109}],79:[function(e,t){function n(){f(C.ReactReconcileTransaction&&_,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled()}function i(e,t,r){n(),_.batchedUpdates(e,t,r)}function o(e,t){return e._mountDepth-t._mountDepth}function s(e){var t=e.dirtyComponentsLength;f(t===g.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,g.length),g.sort(o);for(var n=0;t>n;n++){var r=g[n];if(r.isMounted()){var i=r._pendingCallbacks;if(r._pendingCallbacks=null,r.performUpdateIfNecessary(e.reconcileTransaction),i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],r)}}}function a(e,t){return f(!t||"function"==typeof t,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),n(),v(null==d.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),_.isBatchingUpdates?(g.push(e),t&&(e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t]),void 0):(_.batchedUpdates(a,e,t),void 0)}function l(e,t){f(_.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),b.enqueue(e,t),y=!0}var c=e("./CallbackQueue"),u=e("./PooledClass"),d=e("./ReactCurrentOwner"),p=e("./ReactPerf"),h=e("./Transaction"),m=e("./Object.assign"),f=e("./invariant"),v=e("./warning"),g=[],b=c.getPooled(),y=!1,_=null,w={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[w,E];m(r.prototype,h.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),u.addPoolingTo(r);var T=p.measure("ReactUpdates","flushBatchedUpdates",function(){for(;g.length||y;){if(g.length){var e=r.getPooled();e.perform(s,null,e),r.release(e)}if(y){y=!1;var t=b;b=c.getPooled(),t.notifyAll(),c.release(t)}}}),k={injectReconcileTransaction:function(e){f(e,"ReactUpdates: must provide a reconcile transaction class"),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){f(e,"ReactUpdates: must provide a batching strategy"),f("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),f("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),_=e}},C={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:a,flushBatchedUpdates:T,injection:k,asap:l};t.exports=C},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactCurrentOwner":36,"./ReactPerf":68,"./Transaction":95,"./invariant":126,"./warning":145}],80:[function(e,t){var n=e("./DOMProperty"),r=n.injection.MUST_USE_ATTRIBUTE,i={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=i},{"./DOMProperty":11}],81:[function(e,t){function n(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e){if(!g&&null!=m&&m==l()){var t=n(m);if(!v||!d(v,t)){v=t;var r=a.getPooled(h.select,f,e);return r.type="select",r.target=m,o.accumulateTwoPhaseDispatches(r),r}}}var i=e("./EventConstants"),o=e("./EventPropagators"),s=e("./ReactInputSelection"),a=e("./SyntheticEvent"),l=e("./getActiveElement"),c=e("./isTextInputElement"),u=e("./keyOf"),d=e("./shallowEqual"),p=i.topLevelTypes,h={select:{phasedRegistrationNames:{bubbled:u({onSelect:null}),captured:u({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},m=null,f=null,v=null,g=!1,b={eventTypes:h,extractEvents:function(e,t,n,i){switch(e){case p.topFocus:(c(t)||"true"===t.contentEditable)&&(m=t,f=n,v=null);break;case p.topBlur:m=null,f=null,v=null;break;case p.topMouseDown:g=!0;break;case p.topContextMenu:case p.topMouseUp:return g=!1,r(i);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return r(i)}}};t.exports=b},{"./EventConstants":16,"./EventPropagators":21,"./ReactInputSelection":59,"./SyntheticEvent":87,"./getActiveElement":113,"./isTextInputElement":129,"./keyOf":133,"./shallowEqual":141}],82:[function(e,t){var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},{}],83:[function(e,t){var n=e("./EventConstants"),r=e("./EventPluginUtils"),i=e("./EventPropagators"),o=e("./SyntheticClipboardEvent"),s=e("./SyntheticEvent"),a=e("./SyntheticFocusEvent"),l=e("./SyntheticKeyboardEvent"),c=e("./SyntheticMouseEvent"),u=e("./SyntheticDragEvent"),d=e("./SyntheticTouchEvent"),p=e("./SyntheticUIEvent"),h=e("./SyntheticWheelEvent"),m=e("./getEventCharCode"),f=e("./invariant"),v=e("./keyOf"),g=e("./warning"),b=n.topLevelTypes,y={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},_={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var w in _)_[w].dependencies=[w];var E={eventTypes:y,executeDispatch:function(e,t,n){var i=r.executeDispatch(e,t,n);g("boolean"!=typeof i,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),i===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var v=_[e];if(!v)return null;var g;switch(e){case b.topInput:case b.topLoad:case b.topError:case b.topReset:case b.topSubmit:g=s;break;case b.topKeyPress:if(0===m(r))return null;case b.topKeyDown:case b.topKeyUp:g=l;break;case b.topBlur:case b.topFocus:g=a;break;case b.topClick:if(2===r.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:g=c;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:g=u;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:g=d;break;case b.topScroll:g=p;break;case b.topWheel:g=h;break;case b.topCopy:case b.topCut:case b.topPaste:g=o}f(g,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var y=g.getPooled(v,n,r);return i.accumulateTwoPhaseDispatches(y),y}};t.exports=E},{"./EventConstants":16,"./EventPluginUtils":20,"./EventPropagators":21,"./SyntheticClipboardEvent":84,"./SyntheticDragEvent":86,"./SyntheticEvent":87,"./SyntheticFocusEvent":88,"./SyntheticKeyboardEvent":90,"./SyntheticMouseEvent":91,"./SyntheticTouchEvent":92,"./SyntheticUIEvent":93,"./SyntheticWheelEvent":94,"./getEventCharCode":114,"./invariant":126,"./keyOf":133,"./warning":145}],84:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":87}],85:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":87}],86:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),i={dataTransfer:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticMouseEvent":91}],87:[function(e,t){function n(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];this[i]=s?s(n):n[i]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=a?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=e("./PooledClass"),i=e("./Object.assign"),o=e("./emptyFunction"),s=e("./getEventTarget"),a={type:null,target:s,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=a,n.augmentClass=function(e,t){var n=this,o=Object.create(n.prototype);i(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.threeArgumentPooler)},r.addPoolingTo(n,r.threeArgumentPooler),t.exports=n},{"./Object.assign":27,"./PooledClass":28,"./emptyFunction":107,"./getEventTarget":117}],88:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i={relatedTarget:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticUIEvent":93}],89:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":87}],90:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./getEventCharCode"),o=e("./getEventKey"),s=e("./getEventModifierState"),a={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(n,a),t.exports=n},{"./SyntheticUIEvent":93,"./getEventCharCode":114,"./getEventKey":115,"./getEventModifierState":116}],91:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./ViewportMetrics"),o=e("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(n,s),t.exports=n},{"./SyntheticUIEvent":93,"./ViewportMetrics":96,"./getEventModifierState":116}],92:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./getEventModifierState"),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(n,o),t.exports=n},{"./SyntheticUIEvent":93,"./getEventModifierState":116}],93:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i=e("./getEventTarget"),o={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(n,o),t.exports=n},{"./SyntheticEvent":87,"./getEventTarget":117}],94:[function(e,t){function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticMouseEvent":91}],95:[function(e,t){var n=e("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,i,o,s,a,l){n(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,r,i,o,s,a,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){n(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,r=e;r<t.length;r++){var o,s=t[r],a=this.wrapperInitData[r];try{o=!0,a!==i.OBSERVED_ERROR&&s.close&&s.close.call(this,a),o=!1}finally{if(o)try{this.closeAll(r+1)}catch(l){}}}this.wrapperInitData.length=0}},i={Mixin:r,OBSERVED_ERROR:{}};t.exports=i},{"./invariant":126}],96:[function(e,t){var n=e("./getUnboundedScrollPosition"),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var e=n(window);r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{"./getUnboundedScrollPosition":122}],97:[function(e,t){function n(e,t){if(r(null!=t,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n&&i?(e.push.apply(e,t),e):n?(e.push(t),e):i?[e].concat(t):[e,t]}var r=e("./invariant");t.exports=n},{"./invariant":126}],98:[function(e,t){function n(e){for(var t=1,n=0,i=0;i<e.length;i++)t=(t+e.charCodeAt(i))%r,n=(n+t)%r;return t|n<<16}var r=65521;t.exports=n},{}],99:[function(e,t){function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule camelize
 * @typechecks
 */
var r=/-(.)/g;t.exports=n},{}],100:[function(e,t){function n(e){return r(e.replace(i,"ms-"))}var r=e("./camelize"),i=/^-ms-/;t.exports=n},{"./camelize":99}],101:[function(e,t){function n(e,t){return e&&t?e===t?!0:r(e)?!1:r(t)?n(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule containsNode
 * @typechecks
 */
var r=e("./isTextNode");t.exports=n},{"./isTextNode":130}],102:[function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return n(e)?Array.isArray(e)?e.slice():i(e):[e]}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createArrayFrom
 * @typechecks
 */
var i=e("./toArray");t.exports=r},{"./toArray":143}],103:[function(e,t){function n(e){var t=i.createFactory(e),n=r.createClass({displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){o(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return t(this.props)}});return n}var r=e("./ReactCompositeComponent"),i=e("./ReactElement"),o=e("./invariant");t.exports=n},{"./ReactCompositeComponent":34,"./ReactElement":52,"./invariant":126}],104:[function(e,t){function n(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var r=l;a(!!l,"createNodesFromMarkup dummy not initialized");var i=n(e),c=i&&s(i);if(c){r.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)r=r.lastChild}else r.innerHTML=e;var d=r.getElementsByTagName("script");d.length&&(a(t,"createNodesFromMarkup(...): Unexpected <script> element rendered."),o(d).forEach(t));for(var p=o(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return p}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createNodesFromMarkup
 * @typechecks
 */
var i=e("./ExecutionEnvironment"),o=e("./createArrayFrom"),s=e("./getMarkupWrap"),a=e("./invariant"),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},{"./ExecutionEnvironment":22,"./createArrayFrom":102,"./getMarkupWrap":118,"./invariant":126}],105:[function(e,t){function n(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=e("./CSSProperty"),i=r.isUnitlessNumber;t.exports=n},{"./CSSProperty":4}],106:[function(e,t){function n(e,t,n,o,s){var a=!1,l=function(){return i(a,e+"."+t+" will be deprecated in a future version. "+("Use "+e+"."+n+" instead.")),a=!0,s.apply(o,arguments)};return l.displayName=e+"_"+t,r(l,s)}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule deprecated
 */
var r=e("./Object.assign"),i=e("./warning");t.exports=n},{"./Object.assign":27,"./warning":145}],107:[function(e,t){/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule emptyFunction
 */
function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},t.exports=r},{}],108:[function(e,t){var n={};Object.freeze(n),t.exports=n},{}],109:[function(e,t){function n(e){return i[e]}function r(e){return(""+e).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=r},{}],110:[function(e,t){function n(e,t,n){var r=e,o=!r.hasOwnProperty(n);if(s(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),o&&null!=t){var a,l=typeof t;a="string"===l?i(t):"number"===l?i(""+t):t,r[n]=a}}function r(e){if(null==e)return e;var t={};return o(e,n,t),t}var i=e("./ReactTextComponent"),o=e("./traverseAllChildren"),s=e("./warning");t.exports=r},{"./ReactTextComponent":78,"./traverseAllChildren":144,"./warning":145}],111:[function(e,t){function n(e){try{e.focus()}catch(t){}}t.exports=n},{}],112:[function(e,t){var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=n},{}],113:[function(e,t){/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getActiveElement
 * @typechecks
 */
function n(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],114:[function(e,t){function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=n},{}],115:[function(e,t){function n(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var r=e("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{"./getEventCharCode":114}],116:[function(e,t){function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function r(){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},{}],117:[function(e,t){function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],118:[function(e,t){function n(e){return i(!!o,"Markup wrapping node not initialized"),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(o.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?d[e]:null}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getMarkupWrap
 */
var r=e("./ExecutionEnvironment"),i=e("./invariant"),o=r.canUseDOM?document.createElement("div"):null,s={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:u,defs:u,ellipse:u,g:u,line:u,linearGradient:u,path:u,polygon:u,polyline:u,radialGradient:u,rect:u,stop:u,text:u};t.exports=n},{"./ExecutionEnvironment":22,"./invariant":126}],119:[function(e,t){function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,s=0;i;){if(3==i.nodeType){if(s=o+i.textContent.length,t>=o&&s>=t)return{node:i,offset:t-o};o=s}i=n(r(i))}}t.exports=i},{}],120:[function(e,t){function n(e){return e?e.nodeType===r?e.documentElement:e.firstChild:null}var r=9;t.exports=n},{}],121:[function(e,t){function n(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=e("./ExecutionEnvironment"),i=null;t.exports=n},{"./ExecutionEnvironment":22}],122:[function(e,t){function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],123:[function(e,t){function n(e){return e.replace(r,"-$1").toLowerCase()}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule hyphenate
 * @typechecks
 */
var r=/([A-Z])/g;t.exports=n},{}],124:[function(e,t){function n(e){return r(e).replace(i,"-ms-")}var r=e("./hyphenate"),i=/^ms-/;t.exports=n},{"./hyphenate":123}],125:[function(e,t){function n(e,t){var n;if(r(e&&("function"==typeof e.type||"string"==typeof e.type),"Only functions or strings can be mounted as React components."),e.type._mockedReactClassConstructor){o._isLegacyCallWarningEnabled=!1;try{n=new e.type._mockedReactClassConstructor(e.props)}finally{o._isLegacyCallWarningEnabled=!0}i.isValidElement(n)&&(n=new n.type(n.props));var l=n.render;if(l)return l._isMockFunction&&!l._getMockImplementation()&&l.mockImplementation(a.getEmptyComponent),n.construct(e),n;e=a.getEmptyComponent()}return n="string"==typeof e.type?s.createInstanceForTag(e.type,e.props,t):new e.type(e.props),r("function"==typeof n.construct&&"function"==typeof n.mountComponent&&"function"==typeof n.receiveComponent,"Only React Components can be mounted."),n.construct(e),n}var r=e("./warning"),i=e("./ReactElement"),o=e("./ReactLegacyElement"),s=e("./ReactNativeComponent"),a=e("./ReactEmptyComponent");t.exports=n},{"./ReactElement":52,"./ReactEmptyComponent":54,"./ReactLegacyElement":61,"./ReactNativeComponent":66,"./warning":145}],126:[function(e,t){var n=function(e,t,n,r,i,o,s,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}],127:[function(e,t){/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var s=document.createElement("div");s.setAttribute(n,"return;"),o="function"==typeof s[n]}return!o&&r&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r,i=e("./ExecutionEnvironment");i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{"./ExecutionEnvironment":22}],128:[function(e,t){/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isNode
 * @typechecks
 */
function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],129:[function(e,t){function n(e){return e&&("INPUT"===e.nodeName&&r[e.type]||"TEXTAREA"===e.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],130:[function(e,t){function n(e){return r(e)&&3==e.nodeType}/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isTextNode
 * @typechecks
 */
var r=e("./isNode");t.exports=n},{"./isNode":128}],131:[function(e,t){function n(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=n},{}],132:[function(e,t){var n=e("./invariant"),r=function(e){var t,r={};n(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};t.exports=r},{"./invariant":126}],133:[function(e,t){/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyOf
 */
var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],134:[function(e,t){function n(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}var r=Object.prototype.hasOwnProperty;t.exports=n},{}],135:[function(e,t){function n(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}t.exports=n},{}],136:[function(e,t){function n(e){r(e&&!/[^a-z0-9_]/.test(e),"You must provide an eventName using only the characters [a-z0-9_]")}var r=e("./invariant");t.exports=n},{"./invariant":126}],137:[function(e,t){function n(e){return i(r.isValidElement(e),"onlyChild must be passed a children with exactly one child."),e}var r=e("./ReactElement"),i=e("./invariant");t.exports=n},{"./ReactElement":52,"./invariant":126}],138:[function(e,t){var n,r=e("./ExecutionEnvironment");r.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{"./ExecutionEnvironment":22}],139:[function(e,t){/**
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule performanceNow
 * @typechecks
 */
var n=e("./performance");n&&n.now||(n=Date);var r=n.now.bind(n);t.exports=r},{"./performance":138}],140:[function(e,t){var n=e("./ExecutionEnvironment"),r=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if(n.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML="ï»¿"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{"./ExecutionEnvironment":22}],141:[function(e,t){function n(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=n},{}],142:[function(e,t){function n(e,t){return e&&t&&e.type===t.type&&e.key===t.key&&e._owner===t._owner?!0:!1}t.exports=n},{}],143:[function(e,t){function n(e){var t=e.length;if(r(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e),"toArray: Array-like object expected"),r("number"==typeof t,"toArray: Object needs a length property"),r(0===t||t-1 in e,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var i=Array(t),o=0;t>o;o++)i[o]=e[o];return i}/**
 * Copyright 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule toArray
 * @typechecks
 */
var r=e("./invariant");t.exports=n},{"./invariant":126}],144:[function(e,t){function n(e){return p[e]}function r(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function i(e){return(""+e).replace(h,n)}function o(e){return"$"+i(e)}function s(e,t,n){return null==e?0:m(e,"",0,t,n)}var a=e("./ReactElement"),l=e("./ReactInstanceHandles"),c=e("./invariant"),u=l.SEPARATOR,d=":",p={"=":"=0",".":"=1",":":"=2"},h=/[=.:]/g,m=function(e,t,n,i,s){var l,p,h=0;if(Array.isArray(e))for(var f=0;f<e.length;f++){var v=e[f];l=t+(t?d:u)+r(v,f),p=n+h,h+=m(v,l,p,i,s)}else{var g=typeof e,b=""===t,y=b?u+r(e,0):t;if(null==e||"boolean"===g)i(s,null,y,n),h=1;else if("string"===g||"number"===g||a.isValidElement(e))i(s,e,y,n),h=1;else if("object"===g){c(!e||1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");for(var _ in e)e.hasOwnProperty(_)&&(l=t+(t?d:u)+o(_)+d+r(e[_],0),p=n+h,h+=m(e[_],l,p,i,s))}}return h};t.exports=s},{"./ReactElement":52,"./ReactInstanceHandles":60,"./invariant":126}],145:[function(e,t){var n=e("./emptyFunction"),r=n;r=function(e,t){var n=Array.prototype.slice.call(arguments,2);if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){var r=0;console.warn("Warning: "+t.replace(/%s/g,function(){return n[r++]}))}},t.exports=r},{"./emptyFunction":107}]},{},[1])(1)}),define("vs/base/react",["vs/misc/react"],function(e){if(!e.isProxy){var t=function(t,n){return e.createClass({getDisplayName:function(){return n},getInitialState:function(){return{value:this.props.value}},onChange:function(e){this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},componentWillReceiveProps:function(e){this.setState({value:e.value})},render:function(){var e={};for(var n in this.props)this.props.hasOwnProperty(n)&&(e[n]=this.props[n]);return e.value=this.state.value,e.onChange=this.onChange,t(e)}})};e.DOM.input=e.createFactory(t(e.DOM.input,"input")),e.DOM.textarea=e.createFactory(t(e.DOM.textarea,"textarea")),e.DOM.option=e.createFactory(t(e.DOM.option,"option"))}"undefined"==typeof e.DOM.webview&&(e.DOM.webview="undefined"!=typeof self.process?e.createFactory(e.createClass({componentDidMount:function(){var e=document.createElement("webview");e.src=this.props.src;var t=this.getDOMNode();t.appendChild(e)},render:function(){return e.DOM.div()}})):e.createFactory(e.createClass({render:function(){return e.DOM.iframe({src:this.props.src})}})));var n=e;return n.BaseComponent=function(){},n.createFactoryForTS=function(t){var n={};for(var r in t)"constructor"!==r&&t.hasOwnProperty(r)&&"function"==typeof t[r]&&(n[r]=t[r]);return e.createFactory(e.createClass(n))},n}),define("vs/css!vs/workbench/ui/parts/editor/media/editorstatus",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editorStatus",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/react","vs/base/objects","vs/base/strings","vs/base/errors","vs/base/ui/actions","vs/editor/modes/modesExtensions","vs/platform/platform","vs/base/lifecycle","vs/editor/editor","vs/workbench/events","vs/workbench/ui/parts/editor/textEditor","vs/editor/core/constants","vs/css!./media/editorstatus"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t,n=e.getModel();return t=n&&n.modified?n.modified:n}function v(e){var t=e.getControl();return t.getEditorType()===m.EditorType.ICodeEditor&&t.getConfiguration().tabFocusMode}function g(e){var t=e.getControl();return t.getEditorType()===m.EditorType.ICodeEditor&&!t.getConfiguration().readOnly}var b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.toDispose=[this.props.eventService.addListener2(p.EventType.EDITOR_INPUT_CHANGED,function(t){return e.onEditorInputChange(t.editor)}),this.props.eventService.addListener2(p.EventType.TEXT_EDITOR_SELECTION_CHANGED,function(t){return e.onSelectionChange(t.editor)}),this.props.eventService.addListener2(p.EventType.TEXT_EDITOR_MODE_CHANGED,function(t){return e.onModeChange(t.editor)}),this.props.eventService.addListener2(p.EventType.TEXT_EDITOR_CONTENT_CHANGED,function(t){return e.onEOLChange(t.editor)}),this.props.eventService.addListener2(p.EventType.TEXT_EDITOR_CONFIGURATION_CHANGED,function(t){return e.onTabFocusModeChange(t.editor)})]},t.prototype.getInitialState=function(){return{selectionStatus:null,mode:null,EOL:null,tabFocusMode:!1}},t.prototype.render=function(){var e=[];this.state.tabFocusMode&&this.state.tabFocusMode===!0&&e.push(r.createElement("a",{className:"editor-status-tabfocusmode",onClick:this.onTabFocusModeClick},t.nlsTabFocusMode));var n=this.getSelectionLabel();return n&&e.push(r.createElement("a",{className:"editor-status-selection",onClick:this.onSelectionClick},n)),this.state.EOL&&e.push(r.createElement("a",{className:"editor-status-eol",onClick:this.onEOLClick},"\r\n"===this.state.EOL?t.nlsEOLCRLF:t.nlsEOLLF)),this.state.mode&&e.push(r.createElement("a",{className:"editor-status-mode",onClick:this.onModeClick},this.state.mode)),r.createElement("div",{className:"editor-statusbar-item",children:e})},t.prototype.onModeClick=function(){this.props.onModeClick()},t.prototype.onSelectionClick=function(){this.props.onSelectionClick()},t.prototype.onEOLClick=function(){this.props.onEOLClick()},t.prototype.onTabFocusModeClick=function(){this.props.onTabFocusModeClick()},t.prototype.getSelectionLabel=function(){var e=this.state.selectionStatus;return e&&e.selections?1===e.selections.length?e.charactersSelected?o.format(t.nlsSingleSelectionRange,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):o.format(t.nlsSingleSelection,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?o.format(t.nlsMultiSelectionRange,e.selections.length,e.charactersSelected):o.format(t.nlsMultiSelection,e.selections.length):null},t.prototype.onEditorInputChange=function(e){this.onSelectionChange(e),this.onModeChange(e),this.onEOLChange(e),this.onTabFocusModeChange(e)},t.prototype.onModeChange=function(e){if(!e||this.isActiveEditor(e)){var t={mode:null};if(e instanceof h.BaseTextEditor){var n=e.getControl(),r=f(n),i=c.Registry.as(l.Extensions.EditorModes);if(r.getMode){var o=r.getMode();t={mode:i.getLanguageName(o.getId())}}}this.updateState(t)}},t.prototype.onSelectionChange=function(e){if(!e||this.isActiveEditor(e)){var t={};if(e instanceof h.BaseTextEditor){var n=e.getControl(),r=f(n);if(t.selections=n.getSelections()||[],t.charactersSelected=0,t.selections.forEach(function(e){t.charactersSelected+=r.getValueLengthInRange(e)}),1===t.selections.length){var i=n.getVisibleColumnFromPosition(n.getPosition()),o=t.selections[0].clone();o.positionColumn=i,t.selections[0]=o}}this.updateState({selectionStatus:t})}},t.prototype.onEOLChange=function(e){if(!e||this.isActiveEditor(e)){var t={EOL:null};if(e instanceof h.BaseTextEditor&&g(e)){var n=e.getControl(),r=f(n);t={EOL:r.getEOL()}}this.updateState(t)}},t.prototype.onTabFocusModeChange=function(e){if(!e||this.isActiveEditor(e)){var t={tabFocusMode:!1};e instanceof h.BaseTextEditor&&v(e)&&(t={tabFocusMode:!0}),this.updateState(t)}},t.prototype.isActiveEditor=function(e){var t=this.props.editorService.getActiveEditor();return t&&e&&t===e},t.prototype.updateState=function(e,t){this.setState(i.mixin(e,this.state,!1),t)},t.nlsSingleSelectionRange=n.localize("vs_workbench_ui_parts_editor_editorStatus",0),t.nlsSingleSelection=n.localize("vs_workbench_ui_parts_editor_editorStatus",1),t.nlsMultiSelectionRange=n.localize("vs_workbench_ui_parts_editor_editorStatus",2),t.nlsMultiSelection=n.localize("vs_workbench_ui_parts_editor_editorStatus",3),t.nlsEOLLF=n.localize("vs_workbench_ui_parts_editor_editorStatus",4),t.nlsEOLCRLF=n.localize("vs_workbench_ui_parts_editor_editorStatus",5),t.nlsTabFocusMode=n.localize("vs_workbench_ui_parts_editor_editorStatus",6),t}(r.BaseComponent),y=r.createFactoryForTS(b.prototype),_=function(){function e(e){this.eventService=e.eventService,this.editorService=e.editorService,this.quickOpenService=e.quickOpenService,this.instantiationService=e.instantiationService}return e.prototype.render=function(e){var t=this;return r.render(y({editorService:this.editorService,eventService:this.eventService,quickOpenService:this.quickOpenService,onModeClick:function(){return t.onModeClick()},onSelectionClick:function(){return t.onSelectionClick()},onEOLClick:function(){return t.onEOLClick()},onTabFocusModeClick:function(){return t.onTabFocusModeClick()}}),e),u.toDisposable(function(){return r.unmountComponentAtNode(e)})},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(w);e.run().done(null,s.onUnexpectedError),e.dispose()},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(E);e.run().done(null,s.onUnexpectedError),e.dispose()},e.prototype.onTabFocusModeClick=function(){var e=this.editorService.getActiveEditor();e instanceof h.BaseTextEditor&&v(e)&&e.getControl().updateOptions({tabFocusMode:!1})},e}();t.EditorStatus=_;var w=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.editorService=n.editorService,this.quickOpenService=n.quickOpenService}return __extends(t,e),t.prototype.run=function(){var e=this,t=c.Registry.as(l.Extensions.EditorModes),r=t.getRegisteredLanguageNames(),i=this.editorService.getActiveEditor();return i instanceof h.BaseTextEditor?this.quickOpenService.pick(r.sort(),{placeHolder:n.localize("vs_workbench_ui_parts_editor_editorStatus",8)}).then(function(n){if(n&&(i=e.editorService.getActiveEditor(),i instanceof h.BaseTextEditor)){var r=i.getControl(),o=f(r);o.getMode&&(o.setMode(t.getOrCreateModeByLanguageName(n)),i.focus())}}):this.quickOpenService.pick([{label:n.localize("vs_workbench_ui_parts_editor_editorStatus",7)}])},t.ID="workbench.action.editor.changeLanguageMode",t.LABEL=n.localize("vs_workbench_ui_parts_editor_editorStatus",9),t}(a.Action);t.ChangeModeAction=w;var E=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.editorService=n.editorService,this.quickOpenService=n.quickOpenService}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!(t instanceof h.BaseTextEditor))return this.quickOpenService.pick([{label:n.localize("vs_workbench_ui_parts_editor_editorStatus",10)}]);if(!g(t))return this.quickOpenService.pick([{label:n.localize("vs_workbench_ui_parts_editor_editorStatus",11)}]);var r=[{label:b.nlsEOLLF,eol:d.EndOfLineSequence.LF},{label:b.nlsEOLCRLF,eol:d.EndOfLineSequence.CRLF}];return this.quickOpenService.pick(r,{placeHolder:n.localize("vs_workbench_ui_parts_editor_editorStatus",12)}).then(function(n){if(n&&(t=e.editorService.getActiveEditor(),t instanceof h.BaseTextEditor&&g(t))){var r=t.getControl(),i=f(r);i.setEOL(n.eol),t.focus()}})},t.ID="workbench.action.editor.changeEOL",t.LABEL=n.localize("vs_workbench_ui_parts_editor_editorStatus",13),t}(a.Action);t.ChangeEOLAction=E});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editor.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/workbench/ui/parts/statusbar/statusbar","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/ui/parts/editor/stringEditor","vs/workbench/ui/parts/editor/diffEditorInput","vs/workbench/ui/parts/editor/untitledEditorInput","vs/workbench/ui/parts/editor/textDiffEditor","vs/workbench/ui/parts/editor/binaryDiffEditor","vs/workbench/ui/parts/editor/resourceEditorInput","vs/workbench/ui/parts/editor/binaryEditor","vs/workbench/ui/parts/editor/iframeEditor","vs/workbench/ui/parts/editor/iframeEditorInput","vs/workbench/ui/parts/editor/editorStatus","vs/workbench/ui/actionRegistry","vs/platform/actionRegistry","vs/workbench/ui/actionBarRegistry"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w){n.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(c.StringEditor.ID,o.localize("vs_workbench_ui_parts_editor_editor.contribution",0),"vs/workbench/ui/parts/editor/stringEditor","StringEditor"),[new r.SyncDescriptor(l.StringEditorInput),new r.SyncDescriptor(m.ResourceEditorInput),new r.SyncDescriptor(d.UntitledEditorInput)]),n.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(p.TextDiffEditor.ID,o.localize("vs_workbench_ui_parts_editor_editor.contribution",1),"vs/workbench/ui/parts/editor/textDiffEditor","TextDiffEditor"),[new r.SyncDescriptor(u.DiffEditorInput)]),n.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(h.BinaryResourceDiffEditor.ID,o.localize("vs_workbench_ui_parts_editor_editor.contribution",2),"vs/workbench/ui/parts/editor/binaryDiffEditor","BinaryResourceDiffEditor"),[new r.SyncDescriptor(u.DiffEditorInput)]),n.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(f.BinaryResourceEditor.ID,o.localize("vs_workbench_ui_parts_editor_editor.contribution",3),"vs/workbench/ui/parts/editor/binaryEditor","BinaryResourceEditor"),[new r.SyncDescriptor(m.ResourceEditorInput)]),n.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(v.IFrameEditor.ID,o.localize("vs_workbench_ui_parts_editor_editor.contribution",4),"vs/workbench/ui/parts/editor/iframeEditor","IFrameEditor"),[new r.SyncDescriptor(g.IFrameEditorInput)]);var E=n.Registry.as(s.Extensions.Statusbar);E.registerStatusbarItem(new s.StatusbarItemDescriptor(b.EditorStatus,s.StatusbarAlignment.RIGHT,10));var S=n.Registry.as(y.Extensions.WorkbenchActions);S.registerWorkbenchAction(new _.SyncActionDescriptor(b.ChangeModeAction,b.ChangeModeAction.ID,b.ChangeModeAction.LABEL));var T=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActionsForEditorInput=function(e){return i.isWeb&&e.input instanceof g.IFrameEditorInput},t.prototype.getSecondaryActionsForEditorInput=function(){return i.isWeb?[this.instantiationService.createInstance(v.ToggleJavaScriptInIFrameEditorInputAction)]:[]},t}(a.EditorInputActionContributor),k=n.Registry.as(w.Extensions.Actionbar);k.registerActionBarContributor(w.Scope.EDITOR,T)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/editor/editorPart",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/services","vs/base/performance/timer","vs/base/ui/events","vs/base/dom/builder","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/base/assert","vs/base/arrays","vs/base/types","vs/base/errors","vs/base/env","vs/workbench/core/memento","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/parts/part","vs/workbench/ui/services","vs/workbench/events","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/textEditor","vs/platform/handlerService","vs/workbench/ui/parts/editor/sideBySideEditorControl","vs/workbench/ui/parts/editor/quickstart","vs/base/severity","vs/css!./media/editorpart","vs/workbench/ui/parts/editor/editor.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C){var x=a.$,A="editorpart.editorState",L=function(e){function t(t,n){e.call(this,n),this.messageService=t.messageService,this.eventService=t.eventService,this.telemetryService=t.telemetryService,this.handlerService=t.handlerService,this.storageService=t.storageService,this.partService=t.partService,this.visibleInputs=[],this.visibleInputListeners=[],this.visibleEditors=[],this.editorOpenToken=[];for(var r=0;r<i.POSITIONS.length;r++)this.editorOpenToken[r]=0;this.editorSetInputErrorCounter=[];for(var r=0;r<i.POSITIONS.length;r++)this.editorSetInputErrorCounter[r]=0;this.visibleEditorListeners=this.createPositionArray(!0),this.instantiatedEditors=this.createPositionArray(!0),this.mapEditorToEditorContainers=this.createPositionArray(!1),this.mapActionsToEditors=this.createPositionArray(!1),this.mapEditorLoadingPromiseToEditor=this.createPositionArray(!1),this.mapEditorCreationPromiseToEditor=this.createPositionArray(!1)}return __extends(t,e),t.prototype.setInstantiationService=function(e){this.instantiationService=e},t.prototype.createPositionArray=function(e){for(var t=[],n=0;n<i.POSITIONS.length;n++)t[n]=e?[]:{};return t},t.prototype.getActiveEditorInput=function(){var e=this.sideBySideControl.getActiveEditor();return e?e.input:null},t.prototype.getActiveEditor=function(){return this.sideBySideControl.getActiveEditor()},t.prototype.getVisibleEditors=function(){return this.visibleEditors?this.visibleEditors.filter(function(e){return!!e}):[]},t.prototype.setEditors=function(e){var t=this;return this.closeEditors().then(function(){return t.restoreEditorState(e)})},t.prototype.openEditor=function(e,t,a,d){var p=this;e||(e=null),t||(t=null);var m=this.findPosition(a,d);if(null===m)return n.TPromise.as(null);if(Object.keys(this.mapEditorLoadingPromiseToEditor[m]).length>0||Object.keys(this.mapEditorCreationPromiseToEditor[m]).length>0)return n.TPromise.as(null);if(this.sideBySideControl.isDragging())return n.TPromise.as(null);this.editorOpenToken[m]++;var f=this.editorOpenToken[m];if(e&&m!==i.Position.LEFT&&this.telemetryService.log("workbenchSideEditorOpened",{position:m}),e&&m!==i.Position.LEFT&&(t=this.findSideOptions(e,t,m)),e&&this.quickStartControl&&this.quickStartControl.isVisible()&&(this.quickStartControl.hide(),this.quickStartTimer&&this.quickStartTimer.stop()),this.visibleInputs[m]=e,this.visibleInputListeners[m]&&(this.visibleInputListeners[m](),this.visibleInputListeners[m]=null),e&&(this.visibleInputListeners[m]=e.addListener(s.EventType.DISPOSE,function(){p.closeEditors(e).done(null,h.onUnexpectedError)})),null===e)return this.visibleEditors[m]?(this.editorSetInputErrorCounter[m]=0,this.emit(y.EventType.EDITOR_INPUT_CHANGING,new y.EditorEvent(null,null,null,null,m)),this.hideEditor(this.visibleEditors[m],m,!0).then(function(){p.emit(y.EventType.EDITOR_INPUT_CHANGED,new y.EditorEvent(null,null,null,null,m));var e=p.sideBySideControl.getActiveEditor();return e?p.openEditor(e.input,null,e.position).then(function(){return p.onEditorFocusChanged(),e}):n.TPromise.as(null)})):n.TPromise.as(null);var v=r.Registry.as(_.Extensions.Editors).getEditor(e);u.ok(v,c.format("Can not find a registered editor for the input {0}",e));var g,b=n.TPromise.timeout(800).then(function(){f===p.editorOpenToken[m]&&p.partService.isCreated()&&(p.sideBySideControl.getProgressBar(m).infinite().getContainer().show(),p.sideBySideControl.setLoading(m,e))});if(this.visibleEditors[m]){if(v.describes(this.visibleEditors[m])){var w=this.mapEditorCreationPromiseToEditor[m][v.getId()];return w||(w=n.TPromise.as(null)),w.then(function(){return p.setInput(p.visibleEditors[m],e,t,m,b)})}g=this.hideEditor(this.visibleEditors[m],m,!1)}else g=n.TPromise.as(null);return g.then(function(){var r,i=o.start(o.Topic.WORKBENCH,c.format("Creating Editor: {0}",v.getName())),s=p.mapEditorToEditorContainers[m][v.getId()];s||(s=x().div({class:"editor-container",id:v.getId(),role:"presentation","aria-label":l.localize("vs_workbench_ui_parts_editor_editorPart",0)},function(e){r=e}),p.mapEditorToEditorContainers[m][v.getId()]=s);var a,u=p.getEditorFromCache(v,m);if(null===u){var h=p.mapEditorLoadingPromiseToEditor[m][v.getId()];if(h)a=h;else{var g=!1;a=p.createEditor(v,r.getHTMLElement(),m).then(function(e){return g=!0,p.instantiatedEditors[m].push(e),delete p.mapEditorLoadingPromiseToEditor[m][v.getId()],e},function(e){return g=!0,delete p.mapEditorLoadingPromiseToEditor[m][v.getId()],n.Promise.wrapError(e)}),g||(p.mapEditorLoadingPromiseToEditor[m][v.getId()]=a)}}else a=n.TPromise.as(u);return a.then(function(o){if(f!==p.editorOpenToken[m])return i.stop(),b.cancel(),null;p.visibleEditors[m]=o,p.visibleEditorListeners[m].push(p.eventService.addEmitter(p.visibleEditors[m],p.visibleEditors[m].getId()));var a;if(r){var l=!1;a=o.create(r).then(function(){l=!0,delete p.mapEditorCreationPromiseToEditor[m][v.getId()]},function(e){return l=!0,delete p.mapEditorCreationPromiseToEditor[m][v.getId()],n.Promise.wrapError(e)}),l||(p.mapEditorCreationPromiseToEditor[m][v.getId()]=a)}else{var c=p.mapEditorCreationPromiseToEditor[m][v.getId()];a=c?c:n.TPromise.as(null)}return a.then(function(){return p.visibleEditors[m]&&o.getId()===p.visibleEditors[m].getId()?(p.sideBySideControl.show(o,s,m,t&&t.preserveFocus,d),o.setVisible(!0,m).then(function(){return p.sideBySideControl.layout(m),p.emit(y.EventType.EDITOR_OPENED,new y.EditorEvent(o,o.getId(),e,t,m)),i.stop(),p.setInput(o,e,t,m,b)})):(i.stop(),b.cancel(),null)},function(e){return p.showError(e)})})})},t.prototype.closeEditors=function(e){for(var t=[],r=this.getVisibleEditors(),i=0;i<r.length;i++){var o=r[i];e&&e!==o.input||t.push(this.openEditor(null,null,o.position))}return n.Promise.join(t)},t.prototype.findPosition=function(e,t){if(t&&p.isNumber(e))return e;var n=this.getVisibleEditors(),r=this.getActiveEditor();if(0===n.length||!r)return i.Position.LEFT;if(p.isUndefinedOrNull(e)||e===!1){var o=this.sideBySideControl.getActivePosition();return o||i.Position.LEFT}if(e===!0){switch(r.position){case i.Position.LEFT:return i.Position.CENTER;case i.Position.CENTER:return i.Position.RIGHT;case i.Position.RIGHT:return null}return null}return e},t.prototype.findSideOptions=function(e,t,n){if(this.visibleEditors[n]&&e.matches(this.visibleEditors[n].input))return t;if(t instanceof w.TextEditorOptions&&t.hasOptionsDefined())return t;for(var r=null,i=this.getVisibleEditors(),o=0;o<i.length;o++){var s=i[o];if(s instanceof E.BaseTextEditor&&e.matches(s.input)){var a=s.getControl();r=a.saveViewState();break}}if(r){var l=null;return t instanceof w.TextEditorOptions?(l=t,l.viewState(r),l):(l=new w.TextEditorOptions,l.viewState(r),t&&(l.forceOpen=t.forceOpen,l.preserveFocus=t.preserveFocus),l)}return t},t.prototype.rochade=function(e,t){if(p.isUndefinedOrNull(t)){var n=e;switch(n){case T.Rochade.CENTER_TO_LEFT:this.rochade(i.Position.CENTER,i.Position.LEFT);break;case T.Rochade.RIGHT_TO_CENTER:this.rochade(i.Position.RIGHT,i.Position.CENTER);break;case T.Rochade.CENTER_AND_RIGHT_TO_LEFT:this.rochade(i.Position.CENTER,i.Position.LEFT),this.rochade(i.Position.RIGHT,i.Position.CENTER)}}else{var r=e,o=t;this.doRochade(this.visibleInputs,r,o,null),this.doRochade(this.visibleInputListeners,r,o,null),this.doRochade(this.visibleEditors,r,o,null),this.doRochade(this.editorOpenToken,r,o,null),this.doRochade(this.mapEditorLoadingPromiseToEditor,r,o,{}),this.doRochade(this.mapEditorCreationPromiseToEditor,r,o,{}),this.doRochade(this.visibleEditorListeners,r,o,[]),this.doRochade(this.instantiatedEditors,r,o,[]),this.doRochade(this.mapEditorToEditorContainers,r,o,{}),this.doRochade(this.mapActionsToEditors,r,o,{})}},t.prototype.doRochade=function(e,t,n,r){e[n]=e[t],e[t]=r},t.prototype.moveEditor=function(e,t){if(this.visibleEditors[e]&&this.visibleEditors[t]&&e!==t){this.sideBySideControl.move(e,t),d.move(this.visibleInputs,e,t),d.move(this.visibleInputListeners,e,t),d.move(this.visibleEditors,e,t),d.move(this.visibleEditorListeners,e,t),d.move(this.editorOpenToken,e,t),d.move(this.mapEditorLoadingPromiseToEditor,e,t),d.move(this.mapEditorCreationPromiseToEditor,e,t),d.move(this.instantiatedEditors,e,t),d.move(this.mapEditorToEditorContainers,e,t),d.move(this.mapActionsToEditors,e,t),this.updateEditorTitleArea();var n=this.sideBySideControl.getActiveEditor();this.openEditor(n.input,null,n.position).done(null,h.onUnexpectedError)}},t.prototype.setInput=function(e,t,n,r,i){var s=this,a=e.getInput(),l=e.getOptions(),u=!a||!a.matches(t)||n&&n.forceOpen;u?this.emit(y.EventType.EDITOR_INPUT_CHANGING,new y.EditorEvent(e,e.getId(),t,n,r)):l&&l.matches(n)||this.emit(y.EventType.EDITOR_OPTIONS_CHANGING,new y.EditorEvent(e,e.getId(),t,n,r));var d=o.start(o.Topic.WORKBENCH,c.format("Set Editor Input: {0}",t.getName()));return e.setInput(t,n).then(function(){return s.editorSetInputErrorCounter[r]=0,i.cancel(),s.visibleInputs[r]!==t?(d.stop(),e):(n&&n.preserveFocus||e.focus(),s.sideBySideControl.getProgressBar(r).done().getContainer().hide(),u&&s.updateEditorTitleArea(),u&&s.emit(y.EventType.EDITOR_INPUT_CHANGED,new y.EditorEvent(e,e.getId(),t,n,r)),d.stop(),e)},function(o){s.editorSetInputErrorCounter[r]++,i.cancel(),s.onSetInputError(o,e,t,n,r),!a&&s.visibleInputs[r]===t&&t?s.openEditor(null,null,r).done(null,h.onUnexpectedError):s.editorSetInputErrorCounter[r]>1?s.openEditor(null,null,r).done(null,h.onUnexpectedError):a&&s.openEditor(a,null,r).done(null,h.onUnexpectedError)})},t.prototype.getEditorFromCache=function(e,t){for(var n=0;n<this.instantiatedEditors[t].length;n++)if(e.describes(this.instantiatedEditors[t][n]))return this.instantiatedEditors[t][n];return null},t.prototype.createEditor=function(e,t,n){var r={progressService:new b.WorkbenchProgressService({eventService:this.eventService},this.sideBySideControl.getProgressBar(n),e.getId(),!0),handlerService:new S.FocusTrackingHandlerService(this.handlerService,document.body,t)},i=this.instantiationService.createChild(r);return i.createInstance(e)},t.prototype.hideEditor=function(e,t,n){var r=this,i=this.mapEditorToEditorContainers[t][e.getId()],o=this.sideBySideControl.hide(e,i,t,n);for(this.sideBySideControl.getProgressBar(t).stop().getContainer().hide();this.visibleEditorListeners[t].length;)this.visibleEditorListeners[t].pop()();return e.clearInput(),e.setVisible(!1).then(function(){return r.visibleEditors[t]=null,r.rochade(o),r.sideBySideControl.clearTitle(t),r.emit(y.EventType.EDITOR_CLOSED,new y.EditorEvent(e,e.getId(),null,null,t)),e})},t.prototype.updateEditorTitleArea=function(){for(var e=this.sideBySideControl.getActivePosition(),t=0;t<i.POSITIONS.length;t++){var n=this.visibleEditors[t],r=n?n.input:null;r&&n&&this.doUpdateEditorTitleArea(n,r,t,e===t)}},t.prototype.doUpdateEditorTitleArea=function(e,t,n,r){var i=[],o=[];if(r){var s=this.mapActionsToEditors[n][e.getId()];s||(s=this.getEditorActionsForContext(e,e,n),this.mapActionsToEditors[n][e.getId()]=s),i=i.concat(s.primary);var a=this.getEditorActionsForContext({input:t,editor:e,position:n},e,n);i=i.concat(a.primary),o=s.secondary.concat(a.secondary)}this.sideBySideControl.setTitle(n,t,v.prepareActions(i),v.prepareActions(o),r)},t.prototype.getEditorActionsForContext=function(e){var t=[],n=[];e instanceof _.BaseEditor&&(t=t.concat(e.getActions()),n=n.concat(e.getSecondaryActions()));var i=r.Registry.as(v.Extensions.Actionbar);return t=t.concat(i.getActionBarActionsForContext(v.Scope.EDITOR,e)),n=n.concat(i.getSecondaryActionBarActionsForContext(v.Scope.EDITOR,e)),{primary:t,secondary:n}},t.prototype.createContentArea=function(e){var n=this,r=x(e).div().addClass("content");this.sideBySideControl=this.instantiationService.createInstance(T.SideBySideEditorControl,r),this.toUnbind.push(this.sideBySideControl.addListener(T.EventType.EDITOR_FOCUS_CHANGED,function(){n.onEditorFocusChanged()}));var o=!m.enableQuickStart||this.storageService.getBoolean(t.hideQuickStartSettingskey);return o||(this.quickStartControl=new k.QuickStartControl(r),this.quickStartTimer=this.telemetryService.start("QuickStartShown",{trigger:"default"},!0),this.quickStartControl.show(),this.storageService.store(t.hideQuickStartSettingskey,!0,i.StorageScope.GLOBAL)),this.loadMemento(this.storageService,f.Scope.WORKSPACE).then(function(e){n.memento=e}),r},t.prototype.showQuickStart=function(){var e=this,t=this.getVisibleEditors();n.Promise.join(t.map(function(t){return e.openEditor(null,null,t.position)})).then(function(){e.quickStartControl||(e.quickStartTimer=e.telemetryService.start("QuickStartShown",{trigger:"user"},!0),e.quickStartControl=new k.QuickStartControl(e.getContentArea())),e.quickStartControl.show()}).done(null,h.onUnexpectedError)},t.prototype.restoreEditorState=function(e){var t,i,o,s=this;if(e&&e.length)i=e,o=3===i.length?[.33,.33,.34]:2===i.length?[.5,.5]:[1];else if(this.memento[A]){var a=this.memento[A];if(a&&a.editors){var l=r.Registry.as(_.Extensions.Editors),c=[];o=a.widthRatio;for(var u=0;u<a.editors.length;u++){var d=a.editors[u],m=l.getEditorInputFactory(d.inputId);if(m&&p.isString(d.inputValue)){var f=m.deserialize(this.instantiationService,d.inputValue);f&&(d.hasFocus&&(t=f),c.push(f))}}c.length&&(i=c)}}if(i&&i.length){!t&&i.length&&(t=i[0]),o&&o.length!==i.length&&(o=2===i.length?[.5,.5]:null);var v=w.EditorOptions.create({preserveFocus:!1}),g=w.EditorOptions.create({preserveFocus:!0}),b=[];return i.forEach(function(e,n){b.push(s.openEditor(e,e===t?v:g,n,o))}),n.Promise.join(b).then(function(){s.getVisibleEditors().length!==i.length&&s.closeEditors().done(null,h.onUnexpectedError),s.sideBySideControl.layout(s.dimension)})}return n.TPromise.as(null)},t.prototype.onEditorFocusChanged=function(){var e=this.sideBySideControl.getActiveEditor();e&&(this.emit(y.EventType.EDITOR_INPUT_CHANGING,new y.EditorEvent(e,e.getId(),e.input,null,e.position)),this.emit(y.EventType.EDITOR_INPUT_CHANGED,new y.EditorEvent(e,e.getId(),e.input,null,e.position))),this.updateEditorTitleArea()},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.dimension=n[1],this.sideBySideControl.layout(this.dimension),n},t.prototype.onSetInputError=function(e,t,n,r,i){if(this.partService.isCreated()){var o,s=l.localize("vs_workbench_ui_parts_editor_editorPart",1,n.getName(),h.toErrorMessage(e));o=e&&e.actions&&e.actions.length?h.error(s,e.actions):s,this.showError(o)}this.sideBySideControl.getProgressBar(i).done().getContainer().hide(),this.emit(y.EventType.EDITOR_SET_INPUT_ERROR,new y.EditorEvent(t,t.getId(),n,r,i))},t.prototype.showError=function(e){return this.messageService.show(C.Error,p.isString(e)?new Error(e):e)},t.prototype.beforeShutdown=function(){var t;this.saveEditorState();for(var n=0;n<this.instantiatedEditors.length;n++)for(var r=0;r<this.instantiatedEditors[n].length;r++){var i=this.instantiatedEditors[n][r].beforeShutdown();t||(t=i)}var o=e.prototype.beforeShutdown.call(this);return t||(t=o),t},t.prototype.saveEditorState=function(){var e=r.Registry.as(_.Extensions.Editors),t=this.getVisibleEditors(),n=this.getActiveEditor(),i=this.sideBySideControl.getWidthRatios(),o={editors:[],widthRatio:i};this.memento[A]=o;for(var s=0;s<t.length;s++){var a=t[s],l=a.input;if(l){var c=e.getEditorInputFactory(l.getId());if(c){var u=c.serialize(l);o.editors.push({inputId:l.getId(),inputValue:u,hasFocus:n===a})}}}},t.prototype.dispose=function(){var t=this;this.mapEditorToEditorContainers=null,this.mapActionsToEditors=null,this.editorOpenToken=[];for(var n=0;n<i.POSITIONS.length;n++)this.editorOpenToken[n]=0;this.sideBySideControl.dispose();for(var n=0;n<this.visibleEditorListeners.length;n++)for(;this.visibleEditorListeners[n].length;)this.visibleEditorListeners[n].pop()();for(var n=0;n<this.visibleInputListeners.length;n++){var r=this.visibleInputListeners[n];r&&r(),this.visibleInputListeners=[]}this.visibleEditors.forEach(function(e){e&&e.dispose()});for(var n=0;n<this.instantiatedEditors.length;n++)for(var o=0;o<this.instantiatedEditors[n].length;o++)this.visibleEditors.some(function(e){return e===t.instantiatedEditors[n][o]})||this.instantiatedEditors[n][o].dispose();this.visibleEditors=null,this.visibleInputs=null,e.prototype.dispose.call(this)},t.hideQuickStartSettingskey="workbench.hide.quickstart",t}(g.Part);t.EditorPart=L}),define("vs/css!vs/workbench/ui/parts/sidebar/sidebarpart",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/sidebar/sidebarPart",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/platform/services","vs/base/dom/builder","vs/base/uuid","vs/base/ui/events","vs/base/performance/timer","vs/base/strings","vs/base/types","vs/base/errors","vs/base/ui/widgets/toolbar/toolbar","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/progressbar","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/parts/part","vs/workbench/ui/services","vs/workbench/events","vs/workbench/ui/parts/viewlet","vs/base/severity","vs/platform/configuration/keybindings","vs/css!./sidebarpart"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E){var S="workbench.view.explorer",T=s.$,k=function(e){function t(t,n){e.call(this,n),this.messageService=t.messageService,this.storageService=t.storageService,this.eventService=t.eventService,this.telemetryService=t.telemetryService,this.partService=t.partService,this.contextMenuService=t.contextMenuService,this.keybindingService=t.keybindingService,this.activeViewletListeners=[],this.instantiatedViewletListeners=[],this.mapViewletToViewletContainer={},this.mapActionsBindingToViewlet={},this.mapProgressServiceToViewlet={},this.activeViewlet=null,this.instantiatedViewlets=[],this.viewletLoaderPromises={},this.registry=i.Registry.as(_.Extensions.Viewlets),this.explorerAvailable=!d.isUndefinedOrNull(this.registry.getViewlet(S))}return __extends(t,e),t.prototype.setInstantiationService=function(e){this.instantiationService=e},t.prototype.openViewlet=function(e,t){if(this.blockOpeningViewlet)return n.TPromise.as(null);if(this.partService.isSideBarHidden())try{this.blockOpeningViewlet=!0,this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return this.activeViewlet&&this.activeViewlet.getId()===e?(t&&this.activeViewlet.focus(),n.TPromise.as(this.activeViewlet)):this.doOpenViewlet(e,t)},t.prototype.doOpenViewlet=function(e,t){var r=this,i=c.start(c.Topic.WORKBENCH,u.format("Open Viewlet {0}",e.substr(e.lastIndexOf(".")+1))),o=a.generateUuid();this.currentViewletOpenToken=o,this.emit(y.EventType.VIEWLET_OPENING,new y.ViewletEvent(e));var s;return s=this.activeViewlet?this.hideActiveViewlet():n.TPromise.as(null),s.then(function(){return r.updateTitle(e),r.createViewlet(e,!0).then(function(e){return r.currentViewletOpenToken!==o||r.activeViewlet&&r.activeViewlet.getId()!==e.getId()?(i.stop(),n.TPromise.as(null)):r.activeViewlet&&r.activeViewlet.getId()===e.getId()?(t&&e.focus(),i.stop(),n.TPromise.as(e)):r.showViewlet(e).then(function(){return t&&e.focus(),i.stop(),e})})})},t.prototype.createViewlet=function(e,t){for(var r=this,i=0;i<this.instantiatedViewlets.length;i++)if(this.instantiatedViewlets[i].getId()===e)return n.TPromise.as(this.instantiatedViewlets[i]);var o=this.registry.getViewlet(e);if(o){var s=this.viewletLoaderPromises[e];if(!s){var a=new b.WorkbenchProgressService({eventService:this.eventService},this.progressBar,o.id,t),l={progressService:a},c=this.instantiationService.createChild(l);s=c.createInstance(o).then(function(t){return r.mapProgressServiceToViewlet[t.getId()]=a,r.instantiatedViewlets.push(t),r.instantiatedViewletListeners.push(t.addListener(_.EventType.INTERNAL_VIEWLET_TITLE_AREA_UPDATE,function(e){r.onTitleAreaUpdate(e)})),delete r.viewletLoaderPromises[e],t}),this.partService.isCreated()&&a.showWhile(s,800),this.viewletLoaderPromises[e]=s}return s}throw new Error(u.format("Unable to find viewlet with id {0}",e))},t.prototype.showViewlet=function(e){var r=this;this.activeViewlet=e,this.storageService.store(t.activeViewletSettingsKey,this.activeViewlet.getId(),o.StorageScope.WORKSPACE),this.activeViewletListeners.push(this.eventService.addEmitter(this.activeViewlet,this.activeViewlet.getId()));var i,s=this.mapViewletToViewletContainer[e.getId()];s?i=n.TPromise.as(null):(s=T().div({class:"viewlet",id:e.getId()},function(t){i=e.create(t)}),this.mapViewletToViewletContainer[e.getId()]=s);var a=this.mapProgressServiceToViewlet[e.getId()];return a&&!s&&this.partService.isCreated()&&this.mapProgressServiceToViewlet[e.getId()].showWhile(i,800),i.then(function(){if(r.activeViewlet&&e.getId()===r.activeViewlet.getId()){s.build(r.getContentArea()),s.show(),r.toolBar.actionRunner=e.getActionRunner();var t=r.registry.getViewlet(e.getId());t&&t.name!==e.getTitle()&&r.updateTitle(e.getId(),e.getTitle());var n=r.mapActionsBindingToViewlet[e.getId()];return n||(n=r.collectViewletActions(e),r.mapActionsBindingToViewlet[e.getId()]=n),n(),r.telemetryActionsListener&&(r.telemetryActionsListener.dispose(),r.telemetryActionsListener=null),r.telemetryActionsListener=r.toolBar.actionRunner.addListener2(l.EventType.RUN,function(e){e.error&&!p.isPromiseCanceledError(e.error)&&r.messageService.show(w.Error,e.error),r.telemetryService&&r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"sideBar"})}),e.setVisible(!0).then(function(){r.activeViewlet&&e.getId()===r.activeViewlet.getId()&&(r.contentAreaSize&&e.layout(r.contentAreaSize),r.emit(y.EventType.VIEWLET_OPENED,new y.ViewletEvent(r.activeViewlet.getId())))})}},function(e){return r.onError(e)})},t.prototype.onTitleAreaUpdate=function(e){if(this.activeViewlet&&this.activeViewlet.getId()===e.viewletId){this.updateTitle(this.activeViewlet.getId(),this.activeViewlet.getTitle());var t=this.collectViewletActions(this.activeViewlet);this.mapActionsBindingToViewlet[this.activeViewlet.getId()]=t,t()}else delete this.mapActionsBindingToViewlet[e.viewletId]},t.prototype.updateTitle=function(e,t){var n=this.registry.getViewlet(e);if(n){t||(t=n.name);var i=null,o=E.lookupKeyBindingsAsLabels(this.keybindingService,e);o&&o.length&&(i=o[0]),this.titleLabel.safeInnerHtml(t),this.titleLabel.title(i?r.localize("vs_workbench_ui_parts_sidebar_sidebarPart",0,t,i):t)}},t.prototype.collectViewletActions=function(e){var t=e.getActions(),n=e.getSecondaryActions(),r=i.Registry.as(v.Extensions.Actionbar);return t=t.concat(r.getActionBarActionsForContext(v.Scope.VIEW,e)),n=n.concat(r.getSecondaryActionBarActionsForContext(v.Scope.VIEW,e)),this.toolBar.setActions(v.prepareActions(t),v.prepareActions(n))},t.prototype.getActiveViewlet=function(){return this.activeViewlet},t.prototype.hideActiveViewlet=function(){var e=this;if(!this.activeViewlet)return n.TPromise.as(null);var t=this.activeViewlet;this.activeViewlet=null;var r=this.mapViewletToViewletContainer[t.getId()];return t.setVisible(!1).then(function(){for(r.offDOM(),r.hide(),e.progressBar.stop().getContainer().hide(),e.toolBar.setActions([])();e.activeViewletListeners.length;)e.activeViewletListeners.pop()();e.emit(y.EventType.VIEWLET_CLOSED,new y.ViewletEvent(t.getId()))})},t.prototype.createTitleArea=function(e){var t=this,n=T(e).div({class:"title"});return T(n).div({class:"title-actions"},function(e){t.toolBar=new h.ToolBar(e.getHTMLElement(),t.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:m.ActionsOrientation.HORIZONTAL})}),T(n).div({class:"title-label"},function(e){t.titleLabel=e.span()}),n},t.prototype.actionItemProvider=function(e){var t;if(this.activeViewlet&&(t=this.activeViewlet.getActionItem(e)),!t){var n=i.Registry.as(v.Extensions.Actionbar);t=n.getActionItemForContext(v.Scope.VIEW,h.CONTEXT,e)}return t},t.prototype.createContentArea=function(e){var t=this;return T(e).div({class:"content"},function(e){t.progressBar=new f.ProgressBar(e),t.progressBar.getContainer().hide()})},t.prototype.onError=function(e){this.messageService.show(w.Error,d.isString(e)?new Error(e):e)},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.contentAreaSize=n[1],this.activeViewlet&&this.activeViewlet.layout(this.contentAreaSize),n},t.prototype.beforeShutdown=function(){for(var t=0;t<this.instantiatedViewlets.length;t++){var n=this.instantiatedViewlets[t].beforeShutdown();if(n)return n}return e.prototype.beforeShutdown.call(this)},t.prototype.dispose=function(){this.mapViewletToViewletContainer=null,this.mapProgressServiceToViewlet=null,this.mapActionsBindingToViewlet=null;for(var t=0;t<this.instantiatedViewlets.length;t++)this.instantiatedViewlets[t].dispose();for(this.instantiatedViewlets=[];this.activeViewletListeners.length;)this.activeViewletListeners.pop()();for(;this.instantiatedViewletListeners.length;)this.instantiatedViewletListeners.pop()();this.progressBar.dispose(),this.toolBar.dispose(),e.prototype.dispose.call(this)},t.activeViewletSettingsKey="workbench.sidebar.activeviewletid",t}(g.Part);t.SidebarPart=k}),define("vs/css!vs/workbench/ui/parts/statusbar/statusbarPart",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/parts/statusbar/statusbarPart",["require","exports","vs/base/dom/dom","vs/base/lifecycle","vs/base/dom/builder","vs/platform/platform","vs/workbench/ui/parts/part","./statusbar","vs/css!./statusbarPart"],function(e,t,n,r,i,o,s,a){var l=i.$,c=function(e){function t(t,n){e.call(this,n),this.instantiationService=t.instantiationService,this.toDispose=[]}return __extends(t,e),t.prototype.createContentArea=function(e){var t=this,r=l(e),i=o.Registry.as(a.Extensions.Statusbar),s=i.items.slice(0).sort(function(e,t){return e.order-t.order}),c=s.map(function(e){var i=t.instantiationService.createInstance(e),o=document.createElement("div");return n.addClass(o,"statusbar-item"),e.alignment===a.StatusbarAlignment.RIGHT&&n.addClass(o,"right"),r.append(o),i.render(o)});return this.toDispose=this.toDispose.concat(c),r},t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(s.Part);t.StatusbarPart=c}),define("vs/workbench/ui/layout",["require","exports","vs/platform/services","vs/base/dom/builder","vs/workbench/constants","vs/workbench/events","vs/base/ui/widgets/sash","vs/workbench/ui/services"],function(e,t,n,r,i,o,s,a){var l=170,c=50,u=[i.Preferences.THEME],d=function(){function e(){this.margin=new r.Box(0,0,0,0)}return e.prototype.setMargin=function(e){return this.margin=e,this},e}();t.LayoutOptions=d;var p=function(){function e(t,r,i,o,a,l,c,u,p){this.storageService=t.storageService,this.eventService=t.eventService,this.contextViewService=t.contextViewService,this.editorService=t.editorService,this.contextService=t.contextService,this.partService=t.partService,this.parent=r,this.workbenchContainer=i,this.activitybar=o,this.editor=a,this.sidebar=l,this.statusbar=c,this.quickopen=u,this.options=p||new d,this.toUnbind=[],this.computedStyles=null,this.sash=new s.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:5}),this.sidebarWidth=this.storageService.getInteger(e.sashWidthSettingsKey,n.StorageScope.GLOBAL,-1),this.registerListeners(),this.registerSashListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener(n.StorageEventType.STORAGE,function(t){return e.onPreferenceChange(t)})),this.toUnbind.push(this.eventService.addListener(o.EventType.EDITOR_INPUT_CHANGING,function(t){return e.onEditorInputChanging(t)}))},e.prototype.registerSashListeners=function(){var t=this,r=0;this.sash.addListener("start",function(e){t.startSidebarWidth=t.sidebarWidth,r=e.startX}),this.sash.addListener("change",function(e){var n=!1,i=t.partService.getSideBarPosition(),o=t.partService.isSideBarHidden(),s=i===a.Position.LEFT?t.startSidebarWidth+e.currentX-r:t.startSidebarWidth-e.currentX+r;if(o)(i===a.Position.LEFT&&e.currentX-r>=t.computedStyles.sidebar.minWidth||i===a.Position.RIGHT&&r-e.currentX>=t.computedStyles.sidebar.minWidth)&&(t.startSidebarWidth=t.computedStyles.sidebar.minWidth-(i===a.Position.LEFT?e.currentX-r:r-e.currentX),t.sidebarWidth=t.computedStyles.sidebar.minWidth,t.partService.setSideBarHidden(!1));else if(s+c<t.computedStyles.sidebar.minWidth){var u=l-c;t.partService.setSideBarHidden(!0),r=i===a.Position.LEFT?Math.max(t.computedStyles.activitybar.minWidth,e.currentX-u):Math.min(e.currentX+u,t.workbenchSize.width-t.computedStyles.activitybar.minWidth),t.sidebarWidth=t.startSidebarWidth}else t.sidebarWidth=Math.max(t.computedStyles.sidebar.minWidth,s),n=s>=t.computedStyles.sidebar.minWidth;n&&t.layout()}),this.sash.addListener("end",function(){t.storageService.store(e.sashWidthSettingsKey,t.sidebarWidth,n.StorageScope.GLOBAL)})},e.prototype.onEditorInputChanging=function(){if(this.workbenchSize&&this.sidebarWidth){var e=this.editorService.getVisibleEditors().length;e>1&&this.workbenchSize.width-this.sidebarWidth<e*l&&this.layout()}},e.prototype.onPreferenceChange=function(e){e.key&&u.indexOf(e.key)>=0&&(this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle(),this.layout())},e.prototype.computeStyle=function(){var e=this.sidebar.getContainer().getComputedStyle(),t=this.editor.getContainer().getComputedStyle(),n=this.activitybar.getContainer().getComputedStyle();if(this.computedStyles={activitybar:{minWidth:parseInt(n.getPropertyValue("min-width"),10)||0},sidebar:{minWidth:parseInt(e.getPropertyValue("min-width"),10)||l},editor:{minWidth:parseInt(t.getPropertyValue("min-width"),10)||l},statusbar:{height:0}},this.statusbar){var r=this.statusbar.getContainer().getComputedStyle();this.computedStyles.statusbar.height=parseInt(r.getPropertyValue("height"),10)||18}},e.prototype.layout=function(t){t&&(this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle()),this.computedStyles||this.computeStyle(),this.workbenchSize=this.getWorkbenchArea();var i,o=this.partService.isSideBarHidden(),s=this.partService.getSideBarPosition();o?i=0:-1!==this.sidebarWidth?i=Math.max(this.computedStyles.sidebar.minWidth,this.sidebarWidth):(i=this.workbenchSize.width/5,this.sidebarWidth=i);var c=new r.Dimension(i,this.workbenchSize.height-this.computedStyles.statusbar.height),u=this.computedStyles.activitybar.minWidth,d=new r.Dimension(u,c.height),p={width:0,height:0,remainderLeft:0,remainderRight:0},h=new r.Dimension(this.workbenchSize.width-c.width-d.width,c.height);p.width=h.width,p.height=this.editorHeight=h.height,o&&(p.width=Math.min(this.workbenchSize.width-d.width,this.workbenchSize.width-u),s===a.Position.LEFT?(p.remainderLeft=Math.round((this.workbenchSize.width-p.width+d.width)/2),p.remainderRight=this.workbenchSize.width-p.width-p.remainderLeft):(p.remainderRight=Math.round((this.workbenchSize.width-p.width+d.width)/2),p.remainderLeft=this.workbenchSize.width-p.width-p.remainderRight));var m=this.computedStyles.editor.minWidth,f=this.editorService.getVisibleEditors().length;if(f>1&&(m*=f),p.width<m){var v=m-p.width;p.width=m,c.width-=v,c.width=Math.max(l,c.width)}o||(this.sidebarWidth=c.width,this.storageService.store(e.sashWidthSettingsKey,this.sidebarWidth,n.StorageScope.GLOBAL)),this.workbenchContainer.position(this.options.margin.top,this.options.margin.right,this.options.margin.bottom,this.options.margin.left,"relative").size(this.workbenchSize.width,this.workbenchSize.height),this.workbenchContainer.getHTMLElement().scrollTop>0&&(this.workbenchContainer.getHTMLElement().scrollTop=0),this.editor.getContainer().size(p.width,p.height),o?this.editor.getContainer().position(0,p.remainderRight,0,p.remainderLeft):s===a.Position.LEFT?this.editor.getContainer().position(0,0,0,c.width+d.width):this.editor.getContainer().position(0,c.width,0,0),this.activitybar.getContainer().size(null,d.height),s===a.Position.LEFT?(this.activitybar.getContainer().getHTMLElement().style.right="",this.activitybar.getContainer().position(0,null,0,0)):(this.activitybar.getContainer().getHTMLElement().style.left="",this.activitybar.getContainer().position(0,0,0,null)),this.sidebar.getContainer().size(c.width,c.height),s===a.Position.LEFT?this.sidebar.getContainer().position(0,p.width,0,d.width):this.sidebar.getContainer().position(0,null,0,p.width),this.statusbar&&this.statusbar.getContainer().position(this.workbenchSize.height-this.computedStyles.statusbar.height),this.quickopen.layout(this.workbenchSize),this.sash.layout(),this.editor.layout(new r.Dimension(p.width,p.height)),this.sidebar.layout(c),this.contextViewService&&this.contextViewService.layout()},e.prototype.getWorkbenchArea=function(){var e=this.parent.getClientArea();return e.substract(this.options.margin)},e.prototype.getVerticalSashTop=function(){return 0},e.prototype.getVerticalSashLeft=function(){var e=this.partService.isSideBarHidden(),t=this.partService.getSideBarPosition(),n=this.computedStyles.activitybar.minWidth;return t===a.Position.LEFT?e?n:this.sidebarWidth+n:e?this.workbenchSize.width-n:this.workbenchSize.width-this.sidebarWidth-n},e.prototype.getVerticalSashHeight=function(){return this.editorHeight},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e.sashWidthSettingsKey="workbench.sidebar.width",e}();t.WorkbenchLayout=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/quickopen/quickOpenViewer",["require","exports","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/ui/widgets/highlightedLabel","vs/base/ui/widgets/quickopen/quickOpenModel","vs/base/ui/widgets/tree/actionsRenderer"],function(e,t,n,r,i,o,s){var a=r.$,l=function(){function e(){}return e.prototype.getId=function(t,n){return n instanceof o.QuickOpenModel?e.ROOT:n instanceof o.QuickOpenEntry?n.getId():null},e.prototype.hasChildren=function(e,t){return t instanceof o.QuickOpenModel?t.getEntries().length>0:!1},e.prototype.getChildren=function(e,t){return t instanceof o.QuickOpenModel?n.Promise.as(t.getEntries()):n.Promise.as([])},e.prototype.getParent=function(){return n.Promise.as(null)},e.ROOT="__root__",e}();t.DataSource=l;var c=function(){function e(){}return e.prototype.isVisible=function(e,t){return t instanceof o.QuickOpenEntry?!t.isHidden():!0},e}();t.Filter=c;var u=function(){function e(){}return e.prototype.hasActions=function(){return!1},e.prototype.getActions=function(){return n.Promise.as(null)},e.prototype.hasSecondaryActions=function(){return!1},e.prototype.getSecondaryActions=function(){return n.Promise.as(null)},e.prototype.getActionItem=function(){return null},e}(),d=function(e){function t(t,n){void 0===t&&(t=new u),void 0===n&&(n=null),e.call(this,{actionProvider:t,actionRunner:n})}return __extends(t,e),t.prototype.getHeight=function(e,t){return t instanceof o.QuickOpenEntryItem?t.getHeight():24},t.prototype.renderContents=function(e,t,n,r){var i=this,s=[];if(t instanceof o.QuickOpenEntry){var l=t;if(l instanceof o.QuickOpenEntryItem)return t.render(e,n,r);if(l instanceof o.QuickOpenEntryGroup){var c=l;c.showBorder()&&a(n).addClass("results-group-separator"),c.getGroupLabel()&&a(n).div(function(e){e.addClass("results-group"),e.attr({text:c.getGroupLabel()})})}a(n).div(function(e){e.addClass("quick-open-entry"),l.getIcon()&&e.append(a("span",{class:"quick-open-entry-icon "+l.getIcon()}));var t=l.getHighlights(),n=t[0];n&&n.length>0?s.push(i.createHighlight(e,"labelHighlight",n,l.getLabel())):l.getLabel()&&e.span({text:l.getLabel(),class:"quick-open-entry-label"}),l.getMeta()&&e.span({text:l.getMeta(),class:"quick-open-entry-meta"});var r=t[1];r&&r.length>0?s.push(i.createHighlight(e.span({class:"quick-open-entry-description"}),"descriptionHighlight",r,l.getDescription())):l.getDescription()&&e.span({text:l.getDescription(),class:"quick-open-entry-description"})})}return function(){s.forEach(function(e){return e()})}},t.prototype.createHighlight=function(e,t,n,r){var o=e.getProperty(t);o||(o=new i.HighlightedLabel(e),e.setProperty(t,o));var s=function(){o.destroy()};return o.setValue(r,n),s},t}(s.ActionsRenderer);t.Renderer=d}),define("vs/css!vs/base/ui/widgets/quickopen/quickopen",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/quickopen/quickOpenWidget",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/ui/events","vs/base/types","vs/base/errors","vs/base/uuid","vs/base/ui/widgets/quickopen/quickOpenViewer","vs/base/ui/widgets/quickopen/quickOpenModel","vs/base/dom/builder","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/progressbar","vs/base/dom/keyboardEvent","vs/base/ui/widgets/tree/treeDefaults","vs/base/dom/dom","vs/css!./quickopen"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v){var g=u.$,b=function(){function e(e,t,n,r){this.toUnbind=[],this.container=e,this.callbacks=t,this.options=n,this.usageLogger=r}return e.prototype.setCallbacks=function(e){this.callbacks=e},e.prototype.create=function(){var e=this;this.builder=g().div(function(t){t.on(v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);"Escape"===n.key&&(v.EventHelper.stop(t,!0),e.hide(!0))}).on(v.EventType.FOCUS,function(){return e.gainingFocus()},null,!0).on(v.EventType.CONTEXT_MENU,function(e){return v.EventHelper.stop(e,!0)}).on(v.EventType.BLUR,function(){return e.loosingFocus()},null,!0),e.progressBar=new h.ProgressBar(t.clone()),e.progressBar.getContainer().hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new d.InputBox(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:e.options.inputAriaLabel}),e.inputBox.$input.on(v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);("Tab"===n.key||"DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)&&(v.EventHelper.stop(t,!0),e.navigateInTree(n.key,n.shiftKey))}).on(v.EventType.KEY_UP,function(t){var n=new m.KeyboardEvent(t);if("Enter"===n.key){var i=e.tree.getFocus();i&&e.elementSelected(i,t)}else!r.browser.isIE9||"Backspace"!==n.key&&"Delete"!==n.key||e.onType()}).on(v.EventType.INPUT,function(){e.onType()}).attr({wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}).clone()});var n=new l.DataSource;e.renderer=new l.Renderer(e.options.actionProvider),e.treeContainer=t.div({class:"quick-open-tree"},function(t){e.tree=new p.Tree(t.getHTMLElement(),{dataSource:n,controller:new f.DefaultController({clickBehavior:f.ClickBehavior.ON_MOUSE_DOWN}),renderer:e.renderer,filter:new l.Filter},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:"visible"}),e.toUnbind.push(e.tree.addListener(i.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener(i.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);e.quickNavigateConfiguration&&("DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)&&(v.EventHelper.stop(t,!0),e.navigateInTree(n.key))}).on(v.EventType.KEY_UP,function(t){var n=new m.KeyboardEvent(t),i=n.key;if(e.quickNavigateConfiguration){var o=e.quickNavigateConfiguration.keybindings,s="Enter"===i||o.some(function(e){if(e.shift&&"Shift"===i)return!0;if(e.alt&&"Alt"===i)return!0;if(r.isMacintosh){if(e.ctrlCmd&&"Meta"===i)return!0;if(e.winCtrl&&"Ctrl"===i)return!0}else{if(e.ctrlCmd&&"Ctrl"===i)return!0;if(e.winCtrl&&"Meta"===i)return!0}return!1});if(s){var a=e.tree.getFocus();a&&e.elementSelected(a,t)}}}).clone()}).addClass("quick-open-widget").addClass(r.browser.isIE10orEarlier?" no-shadow":"").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.quickNavigate=function(e,t){this.isVisible&&(this.quickNavigateConfiguration||(this.tree.DOMFocus(),this.quickNavigateConfiguration=e),this.navigateInTree(t?"DownArrow":"UpArrow"))},e.prototype.navigateInTree=function(e,t){var n=this.tree.getInput()?this.tree.getInput().getEntries(!0):[],r=this.tree.getFocus(),i=!1,o=!1;if(n.length>1&&(!("UpArrow"===e||"Tab"===e&&t)||r!==n[0]&&r?"DownArrow"!==e&&("Tab"!==e||t)||r!==n[n.length-1]||(this.tree.focusFirst(),i=!0):(this.tree.focusLast(),i=!0)),!i)switch(e){case"DownArrow":this.tree.focusNext();break;case"UpArrow":this.tree.focusPrevious();break;case"PageDown":this.tree.focusNextPage();break;case"PageUp":this.tree.focusPreviousPage();break;case"Tab":t?this.tree.focusPrevious():this.tree.focusNext()}r=this.tree.getFocus(),r&&(o?this.tree.reveal(r,0):this.tree.reveal(r))},e.prototype.elementFocused=function(e,t){if(e instanceof c.QuickOpenEntry&&this.isVisible()){var n={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};e.run(c.Mode.PREVIEW,n)}},e.prototype.elementSelected=function(e,t){var n=!0,r=this.tree.getInput();if(e instanceof c.QuickOpenEntry&&this.isVisible()){var i={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};n=e.run(c.Mode.OPEN,i)}if(this.usageLogger){var o=r.entries.indexOf(e),s=r.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:o,count:s,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}n&&this.hide()},e.prototype.show=function(e,t,n){o.isUndefined(t)&&(t={}),this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=n,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.options.enableAnimations&&this.treeContainer.removeClass("transition"),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.options.enableAnimations&&this.treeContainer.addClass("transition"),this.builder.show(),this.inputBox.$input.domFocus()),this.helpText&&(this.quickNavigateConfiguration||o.isString(e)?this.helpText.hide():this.helpText.show()),o.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var n=this,r=a.generateUuid();this.currentInputToken=r,this.setTreeHeightForInput(e).then(function(){n.currentInputToken===r&&n.tree.setInput(e).done(function(){n.tree.layout(),e&&e.getEntries(!0).length>0&&n.autoFocus(e,t)},s.onUnexpectedError)})},e.prototype.autoFocus=function(e,t){if(t.autoFocusPrefixMatch){for(var n,r,i=e.getEntries(!0),o=t.autoFocusPrefixMatch,s=o.toLowerCase(),a=0;a<i.length;a++){var l=i[a];if(n||0!==l.getLabel().indexOf(o)?r||0!==l.getLabel().toLowerCase().indexOf(s)||(r=l):n=l,n&&r)break}var c=n||r;if(c)return this.tree.setFocus(c),this.tree.reveal(c,0),void 0}t.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus(),0)):t.autoFocusSecondEntry&&e.getEntries(!0).length>1&&this.tree.focusNth(1)},e.prototype.refresh=function(e,t){var n=this;this.isVisible()&&this.setTreeHeightForInput(e).then(function(){n.tree.refresh().done(function(){n.tree.layout(),!n.tree.getFocus()&&e&&e.getEntries(!0).length>0&&n.autoFocus(e,t)},s.onUnexpectedError)})},e.prototype.setTreeHeightForInput=function(e){var t=this,r=this.getHeight(e)+"px",i=this.treeContainer.style("height");return this.treeContainer.style({height:r}),this.treeContainer.hasClass("transition")&&i!==r?new n.Promise(function(e){var n=[],r=!1,i=function(){if(!r){for(r=!0;n.length;)n.pop()();e(null)}};t.treeContainer.once("webkitTransitionEnd",i,n),t.treeContainer.once("transitionend",i,n)}):n.Promise.as(null)},e.prototype.getHeight=function(t){if(!t){var n=this.renderer.getHeight(this.tree,null);return this.options.minItemsToShow?this.options.minItemsToShow*n:0}var r,i=0;this.layoutDimensions&&this.layoutDimensions.height&&(r=.4*(this.layoutDimensions.height-50)),(!r||r>e.MAX_ITEMS_HEIGHT)&&(r=e.MAX_ITEMS_HEIGHT);for(var o=t.getEntries(!0),s=this.options.maxItemsToShow||o.length,a=0;s>a&&a<o.length;a++){var l=this.renderer.getHeight(this.tree,o[a]);if(!(r>=i+l))break;i+=l}return i},e.prototype.hide=function(e){if(void 0===e&&(e=!1),this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e){var t=this.tree.getInput();if(t){var n=t.getEntries(!0).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:n,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}}this.inputBox.value="",this.tree.setInput(null);var r=this.renderer.getHeight(this.tree,null);this.treeContainer.style({height:(this.options.minItemsToShow?this.options.minItemsToShow*r:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.$input.hasFocus()&&this.inputBox.$input.domBlur(),e?this.callbacks.onCancel():this.callbacks.onOk(),this.callbacks.onHide&&this.callbacks.onHide()}},e.prototype.setPlaceHolder=function(e){this.inputBox&&this.inputBox.setPlaceHolder(e)},e.prototype.setInput=function(e,t){this.isVisible()&&this.setInputAndLayout(e,t)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.runFocus=function(){var e=this.tree.getFocus();return e?(this.elementSelected(e),!0):!1},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var n=Math.min(.62*this.layoutDimensions.width,e.MAX_WIDTH);this.builder&&(this.builder.style({width:n+"px",marginLeft:"-"+n/2+"px"}),this.inputContainer.style({width:n-12+"px"}))},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(){var e=this;this.isVisible()&&(this.isLoosingFocus=!0,n.Promise.timeout(0).then(function(){e.isLoosingFocus&&e.hide(!1)}))},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=480,e}();t.QuickOpenWidget=b});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/quickopen/editorHistoryModel",["require","exports","vs/platform/platform","vs/base/filters","vs/base/strings","vs/base/types","vs/base/ui/events","vs/base/ui/comparers","vs/base/ui/widgets/quickopen/quickOpenModel","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/quickopen/quickOpen"],function(e,t,n,r,i,o,s,a,l,c,u){var d=200,p=function(e){function t(t,n,r,i){e.call(this,t.editorService),this.contextService=t.contextService,this.input=n,this.model=i;var s=c.asResourceEditorInput(n);if(s)this.resource=s.getResource();else{var a=n;o.isFunction(a.getResource)&&(this.resource=a.getResource())}this.setHighlights(r)}return __extends(t,e),t.prototype.clone=function(e){return new t({editorService:this.editorService,contextService:this.contextService},this.input,e,this.model)},t.prototype.getLabel=function(){var e=this.input.getStatus();return e&&e.decoration?e.decoration+" "+this.input.getName():this.input.getName()},t.prototype.getDescription=function(){return this.input.getDescription(!0)},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.matches=function(e){return this.input.matches(e)},t.prototype.run=function(e,t){var n=this;if(e===l.Mode.OPEN){var r=t.event,i=!t.quickNavigateConfiguration&&r&&(r.ctrlKey||r.metaKey||r.payload&&r.payload.originalEvent&&(r.payload.originalEvent.ctrlKey||r.payload.originalEvent.metaKey));return this.editorService.openEditor(this.input,null,i).done(function(){n.input.matches(n.editorService.getActiveEditorInput())||n.model.remove(n.input)}),!0}return!1},t}(u.EditorQuickOpenEntry);
t.EditorHistoryEntry=p;var h=function(e){function t(t){e.call(this),this.editorService=t.editorService,this.instantiationService=t.instantiationService,this.contextService=t.contextService}return __extends(t,e),t.prototype.add=function(e){var t=this;if(e.getName()){var n=e.addListener(s.EventType.DISPOSE,function(){t.remove(e),n()});this.remove(e),this.entries.unshift(new p({editorService:this.editorService,contextService:this.contextService},e,null,this)),this.entries.length>d&&(this.entries=this.entries.slice(0,d))}},t.prototype.remove=function(e){var t=this.indexOf(e);t>=0&&this.entries.splice(t,1)},t.prototype.indexOf=function(e){for(var t=0;t<this.entries.length;t++){var n=this.entries[t];if(n.matches(e))return t}return-1},t.prototype.saveTo=function(e){for(var t=n.Registry.as(c.Extensions.Editors),r=[],i=this.entries.length-1;i>=0;i--){var s=this.entries[i],a=s.getInput(),l=t.getEditorInputFactory(a.getId());if(l){var u=l.serialize(a);o.isString(u)&&r.push({id:a.getId(),value:u})}}r.length>0&&(e.entries=r)},t.prototype.loadFrom=function(e){var t=n.Registry.as(c.Extensions.Editors),r=e.entries;if(r&&r.length>0)for(var i=0;i<r.length;i++){var s=r[i],a=t.getEditorInputFactory(s.id);if(a&&o.isString(s.value)){var l=a.deserialize(this.instantiationService,s.value);l&&this.add(l)}}},t.prototype.getEntries=function(){return this.entries.slice(0)},t.prototype.getResults=function(e){var t=this;e=e.trim();for(var n=[],i=0;i<this.entries.length;i++){var o=this.entries[i];if(o.getResource()){var s=r.CombinedMatcher.matches(e,o.getInput().getName());s&&n.push(o.clone(s))}}return e?n.sort(function(n,r){return t.sort(n,r,e.toLowerCase())}):n},t.prototype.sort=function(e,t,n){var r=e.getInput().getName().toLowerCase(),o=t.getInput().getName().toLowerCase(),s=e.getResource().path.lastIndexOf("."),l=t.getResource().path.lastIndexOf(".");if(s>0&&l>0){var c=e.getResource().path.substring(0,s),u=t.getResource().path.substring(0,l),d=e.getResource().path.substring(s),p=t.getResource().path.substring(l);if(!(c!==u||".ts"!==d&&".ts"!==p||".js"!==d&&".js"!==p))return".ts"===d?-1:1}var h=0===r.indexOf(n),m=0===o.indexOf(n);if(h!==m)return h?-1:1;var f=a.compareFileNames(r,o);return 0!==f?f:i.localeCompare(e.getResource().path,t.getResource().path)},t}(l.QuickOpenModel);t.EditorHistoryModel=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/ui/quickopen/quickOpenController",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/builder","vs/base/strings","vs/base/filters","vs/base/uuid","vs/base/types","vs/base/ui/widgets/quickopen/quickOpenModel","vs/base/ui/widgets/quickopen/quickOpenWidget","vs/workbench/ui/actionBarRegistry","vs/platform/platform","vs/workbench/core/component","vs/workbench/events","vs/workbench/constants","vs/workbench/core/memento","vs/workbench/ui/quickopen/quickOpen","vs/workbench/ui/quickopen/editorHistoryModel","vs/base/severity","vs/base/errors"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_){var w="workbench.component.quickopen",E="quickopen.editorhistory",S="?",T=5,k="inQuickOpen",C=function(e){function t(t){e.call(this,w),this.eventService=t.eventService,this.editorService=t.editorService,this.viewletService=t.viewletService,this.storageService=t.storageService,this.messageService=t.messageService,this.telemetryService=t.telemetryService,this.contextService=t.contextService,this.mapResolvedHandlersToPrefix={},this.autoSaveHistoryCounter=0,this.inQuickOpenMode=t.keybindingService.createKey(k,!1)}return __extends(t,e),t.prototype.setInstantiationService=function(e){this.instantiationService=e},t.prototype.getEditorHistoryModel=function(){return this.editorHistoryModel},t.prototype.create=function(){var e=this;this.toUnbind.push(this.eventService.addListener(m.EventType.EDITOR_INPUT_CHANGING,function(t){return e.onEditorInputChanging(t)})),this.toUnbind.push(this.eventService.addListener(m.EventType.EDITOR_SET_INPUT_ERROR,function(t){return e.onEditorInputSetError(t)})),this.editorHistoryModel=new b.EditorHistoryModel({editorService:this.editorService,instantiationService:this.instantiationService,contextService:this.contextService}),this.loadMemento(this.storageService,v.Scope.WORKSPACE).then(function(t){e.memento=t,t[E]&&e.editorHistoryModel.loadFrom(t[E])})},t.prototype.onEditorInputChanging=function(e){if(e.editorInput){var t=this.editorService.getActiveEditor();if(t&&e.editor&&t!==e.editor)return;this.editorHistoryModel.add(e.editorInput),this.autoSaveHistoryCounter++>=T&&(this.saveEditorHistory(!0),this.autoSaveHistoryCounter=0)}},t.prototype.onEditorInputSetError=function(e){e.editorInput&&this.removeEditorHistoryEntry(e.editorInput)},t.prototype.getEditorHistory=function(){return this.editorHistoryModel?this.editorHistoryModel.getEntries().map(function(e){return e.getInput()}):[]},t.prototype.removeEditorHistoryEntry=function(e){this.editorHistoryModel.remove(e)},t.prototype.quickNavigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.quickNavigate(e,t)},t.prototype.pick=function(e,t){var l=this,d={autoFocusFirstEntry:!!t&&t.autoFocusFirst},p=a.generateUuid();this.currentPickerToken=p,this.pickOpenWidget?this.pickOpenWidget.setPlaceHolder(t&&t.placeHolder||""):(this.pickOpenWidget=new u.QuickOpenWidget(i.withElementById(f.Identifiers.WORKBENCH_CONTAINER).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(){}},{inputPlaceHolder:t&&t.placeHolder||""},this.telemetryService),this.pickOpenWidget.create()),this.layoutDimensions&&this.pickOpenWidget.layout(this.layoutDimensions);var h=e;return e instanceof n.Promise||(h=n.Promise.as(e)),new n.TPromise(function(e,i){var a=!1;h.then(function(n){if(l.currentPickerToken===p){a=!0,l.pickOpenWidget.getProgressBar().stop().getContainer().hide();var i=new c.QuickOpenModel,u=n.map(function(e){if("string"==typeof e)return new A(e);var t=e;return t.height&&t.render?new L(t.label,t.description,t.height,t.render.bind(t)):new A(t.label,t.description)});0===n.length&&u.push(new A(r.localize("vs_workbench_ui_quickopen_quickOpenController",0))),i.setEntries(u),l.pickOpenWidget.setCallbacks({onOk:function(){if(0===n.length)return null;var t=-1;u.forEach(function(e,n){e.selected&&(t=n)}),e(n[t]||null)},onCancel:function(){return e(null)},onType:function(e){if(0!==n.length){var r,a;if(e=e?o.trim(e):e){var p=[];u.forEach(function(n){var r=s.CombinedMatcher.matches(e,n.getLabel()),i=null;t&&t.matchOnDescription&&(i=s.CombinedMatcher.matches(e,n.getDescription())),r||i?(n.setHighlights(r,i),p.push(n)):n.setHighlights(null,null)}),r=new c.QuickOpenModel(p),a={autoFocusFirstEntry:!0}}else r=i,a=d,u.forEach(function(e){return e.setHighlights(null)});l.pickOpenWidget.setInput(r,a)}}}),l.pickOpenWidget.isVisible()?l.pickOpenWidget.setInput(i,d):l.pickOpenWidget.show(i,d)}},i),n.Promise.timeout(800).then(function(){a||l.currentPickerToken!==p||l.pickOpenWidget.getProgressBar().infinite().getContainer().show()}),a||l.pickOpenWidget.show(new c.QuickOpenModel)})},t.prototype.show=function(e,t){var n=this,o=p.Registry.as(g.Extensions.Quickopen),s=o.getQuickOpenHandler(e);if(!s){var a=o.getDefaultQuickOpenHandlers();a.length>0&&(s=a[0])}if(s&&this.telemetryService.publicLog("quickOpenWidgetShown",{mode:s.getId(),quickNavigate:!!t}),!this.quickOpenWidget){var l=new d.ContributableActionProvider;this.quickOpenWidget=new u.QuickOpenWidget(i.withElementById(f.Identifiers.WORKBENCH_CONTAINER).getHTMLElement(),{onOk:function(){return n.onClose(!1)},onCancel:function(){return n.onCancel()},onType:function(e){return n.onType(e||"")},onShow:function(){return n.inQuickOpenMode.set(!0)},onHide:function(){return n.inQuickOpenMode.reset()}},{inputPlaceHolder:this.hasHandler(S)?r.localize("vs_workbench_ui_quickopen_quickOpenController",1):"",actionProvider:l},this.telemetryService),this.quickOpenWidget.create()}if(this.layoutDimensions&&this.quickOpenWidget.layout(this.layoutDimensions),!this.quickOpenWidget.isVisible()||t)if(e)this.quickOpenWidget.show(e);else{var c=this.getEditorHistoryModelWithGroupLabel();c.getEntries().length<2&&(t=null);var h;if(t){var m=this.editorService.getVisibleEditors().length;h={autoFocusFirstEntry:0===m,autoFocusSecondEntry:0!==m}}else h={autoFocusFirstEntry:!0};this.quickOpenWidget.show(c,h,t)}else this.quickOpenWidget.show(e||"")},t.prototype.hasHandler=function(e){return!!p.Registry.as(g.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryModelWithGroupLabel=function(){var e=this.editorHistoryModel.getEntries();e.length>0&&(e[0]=new c.QuickOpenEntryGroup(e[0],r.localize("vs_workbench_ui_quickopen_quickOpenController",2,e.length),!1));var t=new c.QuickOpenModel;return t.setEntries(e),t},t.prototype.onCancel=function(e){void 0===e&&(e=!0),e&&this.onClose(!0);var t=this.editorService.getActiveEditor();if(t)return t.focus(),void 0;var n=this.viewletService.getActiveViewlet();n&&n.focus()},t.prototype.onClose=function(e){for(var t in this.mapResolvedHandlersToPrefix)if(this.mapResolvedHandlersToPrefix.hasOwnProperty(t)){var n=this.mapResolvedHandlersToPrefix[t];n.onClose(e)}},t.prototype.onType=function(e){var t=this,r=a.generateUuid();this.currentResultToken=r,this.quickOpenWidget.getProgressBar().stop().getContainer().hide(),this.quickOpenWidget.setExtraClass(null);var i=o.trim(e);if(!i)return this.quickOpenWidget.setInput(this.getEditorHistoryModelWithGroupLabel(),{autoFocusFirstEntry:!0}),void 0;var s,c=!1,u=p.Registry.as(g.Extensions.Quickopen),d=u.getQuickOpenHandler(e);if(d)s=this.handleSpecificHandler(d,e,r);else{var h=u.getDefaultQuickOpenHandlers();s=this.handleDefaultHandlers(h,e,r)}n.Promise.timeout(800).then(function(){c||r!==t.currentResultToken||t.quickOpenWidget.getProgressBar().infinite().getContainer().show()}),s.done(function(){c=!0,r===t.currentResultToken&&t.quickOpenWidget.getProgressBar().getContainer().hide()},function(e){c=!0,_.onUnexpectedError(e),t.messageService.show(y.Error,l.isString(e)?new Error(e):e)})},t.prototype.handleDefaultHandlers=function(e,t,i){var o=this,s=new c.QuickOpenModel,a=this.editorHistoryModel.getResults(t);if(a.length>0&&(a[0]=new c.QuickOpenEntryGroup(a[0],r.localize("vs_workbench_ui_quickopen_quickOpenController",3,a.length),!1),s.setEntries(a)),this.quickOpenWidget.setInput(s,{autoFocusFirstEntry:!0}),0===e.length)return n.TPromise.as(null);var u=[];return e.forEach(function(e){u.push(o.resolveHandler(e))}),n.Promise.join(u).then(function(e){var r=[];return e.forEach(function(e){var n=e.canRun();l.isUndefinedOrNull(n)||"boolean"==typeof n&&!n||"string"==typeof n||r.push(e.getResults(t).then(function(t){if(o.currentResultToken===i){var n;n=t instanceof c.QuickOpenModel?t.getEntries():t,o.mergeResults(s,n,e.getGroupLabel())}}))}),n.TPromise.join(r)})},t.prototype.mergeResults=function(e,t,n){for(var i=this.mapEntriesToResource(e),o=[],s=0;s<t.length;s++){var a=t[s],l=a.getResource();l&&i[l.toString()]||o.push(a)}if(o.length>0){var u=e.getEntries().length>0;o[0]=new c.QuickOpenEntryGroup(o[0],r.localize("vs_workbench_ui_quickopen_quickOpenController",4,n,o.length),u),e.addEntries(o),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0})}else 0===e.getEntries().length&&(e.addEntries([new x(r.localize("vs_workbench_ui_quickopen_quickOpenController",5))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,i){var o=this;return this.resolveHandler(e).then(function(s){t=t.substr(e.prefix.length);var a=s.canRun();if(l.isUndefinedOrNull(a)||"boolean"==typeof a&&!a||"string"==typeof a){var u="string"==typeof a?a:r.localize("vs_workbench_ui_quickopen_quickOpenController",6),d=new x(u);return o.showResults([d],null,s.getEmptyLabel(t),{autoFocusFirstEntry:!0}),n.TPromise.as(null)}var p=s.getClass();return p&&o.quickOpenWidget.setExtraClass(p),s.getResults(t).then(function(e){o.currentResultToken===i&&(e instanceof c.QuickOpenModel?o.showModel(e,s.getAutoFocus(t)):o.showResults(e,s.getGroupLabel(),s.getEmptyLabel(t),s.getAutoFocus(t)))})})},t.prototype.showModel=function(e,t){return this.quickOpenWidget.getInput()===e?(this.quickOpenWidget.refresh(e,t),void 0):(this.quickOpenWidget.setInput(e,t),void 0)},t.prototype.showResults=function(e,t,n,i){var o=new c.QuickOpenModel;if(0===e.length)return e.push(new x(n)),o.setEntries(e),this.quickOpenWidget.setInput(o,{autoFocusFirstEntry:!0}),void 0;for(var s=this.mapEntriesToResource(this.editorHistoryModel),a=[],l=[],u=0;u<e.length;u++){var d=e[u],p=d.getResource();p&&s[p.toString()]?a.push(d):l.push(d)}var h=[];if(a.length>0&&(h=h.concat(a),l.length>0)){var m=h[0];h[0]=new c.QuickOpenEntryGroup(m,r.localize("vs_workbench_ui_quickopen_quickOpenController",7,l.length),!1)}if(h=h.concat(l),l.length>0){var f=h[a.length];a.length>0?h[a.length]=new c.QuickOpenEntryGroup(f,r.localize("vs_workbench_ui_quickopen_quickOpenController",8,a.length),!0):t&&(h[a.length]=new c.QuickOpenEntryGroup(f,t,!1))}o.setEntries(h),this.quickOpenWidget.setInput(o,i)},t.prototype.mapEntriesToResource=function(e){var t=e.getEntries(),n={};return t.forEach(function(e){e.getResource()&&(n[e.getResource().toString()]=e)}),n},t.prototype.resolveHandler=function(e){var t=this,r=e.getId();return this.mapResolvedHandlersToPrefix[r]?n.TPromise.as(this.mapResolvedHandlersToPrefix[r]):this.instantiationService.createInstance(e).then(function(e){return t.mapResolvedHandlersToPrefix[r]=e,e},function(t){return n.TPromise.wrapError("Unable to instanciate quick open handler "+e.moduleName+" - "+e.ctorName+": "+JSON.stringify(t))})},t.prototype.beforeShutdown=function(){return this.saveEditorHistory(!1),e.prototype.beforeShutdown.call(this)},t.prototype.saveEditorHistory=function(e){this.memento[E]||(this.memento[E]={}),this.editorHistoryModel.saveTo(this.memento[E]),e&&this.saveMemento()},t.prototype.layout=function(e){this.layoutDimensions=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.layoutDimensions),this.pickOpenWidget&&this.pickOpenWidget.layout(this.layoutDimensions)},t.prototype.dispose=function(){this.quickOpenWidget&&this.quickOpenWidget.dispose(),this.pickOpenWidget&&this.pickOpenWidget.dispose(),e.prototype.dispose.call(this)},t}(h.WorkbenchComponent);t.QuickOpenController=C;var x=function(e){function t(t){e.call(this),this.placeHolderLabel=t}return __extends(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(c.QuickOpenEntry),A=function(e){function t(t,n){e.call(this,t),this.description=n}return __extends(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e){return e===c.Mode.OPEN?(this._selected=!0,!0):!1},t}(x),L=function(e){function t(t,n,r,i){e.call(this),this.label=t,this.description=n,this.height=r,this.renderFn=i}return __extends(t,e),t.prototype.getHeight=function(){return this.height},t.prototype.render=function(e,t,n){return this.renderFn(e,t,n)},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),t.prototype.getLabel=function(){return this.label},t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e){return e===c.Mode.OPEN?(this._selected=!0,!0):!1},t}(c.QuickOpenEntryItem)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/mirrorModel",["require","exports","vs/base/network","vs/editor/core/constants","vs/editor/core/view/model/prefixSumComputer","vs/editor/core/model/textModelWithTokens","vs/editor/core/model/modelLine","vs/base/lifecycle","vs/editor/core/model/textModel"],function(e,t,n,r,i,o,s,a,l){function c(e,t,n,r,i,o){return new h(e,t,l.TextModel.toRawText(n),r,i,o)}var u=function(e){function t(t,n,i,o,s,a){e.call(this,t.concat([r.EventType.ModelDispose]),i,!1,o),a||(a={}),this._setVersionId(n),this._associatedResource=s,this._extraProperties=a}return __extends(t,e),t.prototype.getModeId=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getModeId: Model is disposed");return this.getMode().getId()},t.prototype.getEmbeddedAtPosition=function(){return null},t.prototype.getAllEmbedded=function(){return[]},t.prototype._constructLines=function(t){e.prototype._constructLines.call(this,t),this._EOL="\n"},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this.emit(r.EventType.ModelDispose),e.prototype.dispose.call(this)},t.prototype.getAssociatedResource=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAssociatedResource: Model is disposed");return this._associatedResource},t.prototype.getProperty=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getProperty: Model is disposed");return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype._ensurePrefixSum=function(){if(!this._lineStarts){for(var e=[],t=this.getEOL().length,n=0,r=this._lines.length;r>n;n++)e.push(this._lines[n].text.length+t);this._lineStarts=new i.PrefixSumComputer(e)}},t.prototype.getRangeFromOffsetAndLength=function(e,t){if(this._isDisposed)throw new Error("AbstractMirrorModel.getRangeFromOffsetAndLength: Model is disposed");var n=this.getPositionFromOffset(e),r=this.getPositionFromOffset(e+t);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}},t.prototype.getOffsetAndLengthFromRange=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getOffsetAndLengthFromRange: Model is disposed");var t=this.getOffsetFromPosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this.getOffsetFromPosition({lineNumber:e.endLineNumber,column:e.endColumn});return{offset:t,length:n-t}},t.prototype.getPositionFromOffset=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getPositionFromOffset: Model is disposed");this._ensurePrefixSum();var t={index:0,remainder:0};return this._lineStarts.getIndexOf(e,t),{lineNumber:t.index+1,column:this.getEOL().length+t.remainder}},t.prototype.getOffsetFromPosition=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getOffsetFromPosition: Model is disposed");return this.getLineStart(e.lineNumber)+e.column-1},t.prototype.getLineStart=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getLineStart: Model is disposed");this._ensurePrefixSum();var t=Math.min(e,this._lines.length)-1;return this._lineStarts.getAccumulatedValue(t-1)},t.prototype.getAllWordsWithRange=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllWordsWithRange: Model is disposed");if(this._lines.length>1e4)return[];var e,t=[],n=function(n){var i=r.text.substring(n.start,n.end),o={startLineNumber:e+1,startColumn:n.start+1,endLineNumber:e+1,endColumn:n.end+1};t.push({text:i,range:o})};for(e=0;e<this._lines.length;e++){var r=this._lines[e];this.wordenize(r.text).forEach(n)}return t},t.prototype.getAllWords=function(){var e=this;if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllWords: Model is disposed");var t=[];return this._lines.forEach(function(n){e.wordenize(n.text).forEach(function(e){t.push(n.text.substring(e.start,e.end))})}),t},t.prototype.getAllUniqueWords=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllUniqueWords: Model is disposed");var t=!1,n={};return this.getAllWords().filter(function(r){return e&&!t&&e===r?(t=!0,!1):n[r]?!1:(n[r]=!0,!0)})},t.prototype.wordenize=function(e){for(var t,n=[],r=this._getWordDefinition();t=r.exec(e);)n.push({start:t.index,end:t.index+t[0].length});return n},t.prototype.getWord=function(e,t,n){for(var r=this.wordenize(e),i=0;i<r.length&&t>=r[i].start;i++){var o=r[i];if(t<=o.end)return n(e,o.start,o.end)}return n(e,-1,-1)},t}(o.TextModelWithTokens);t.AbstractMirrorModel=u;var d=function(e){function t(n,r,i,o){e.call(this,["changed"],n.getVersionId(),t._getMirrorValueWithinRanges(n,r),i,o),this._actualModel=n}return __extends(t,e),t._getMirrorValueWithinRanges=function(e,t){var n,r="",i=1,o=1;for(n=0;n<t.length;n++){var s=t[n];r+=e.getEmptiedValueInRange({startLineNumber:i,startColumn:o,endLineNumber:s.startLineNumber,endColumn:s.startColumn}," "),r+=e.getValueInRange(s),i=s.endLineNumber,o=s.endColumn}var a=e.getLineCount(),c=e.getLineMaxColumn(a);return r+=e.getEmptiedValueInRange({startLineNumber:i,startColumn:o,endLineNumber:a,endColumn:c}," "),l.TextModel.toRawText(r)},t.prototype.setIncludedRanges=function(e){var n=this.getVersionId();this._lineStarts=null,this._constructLines(t._getMirrorValueWithinRanges(this._actualModel,e)),this._resetTokenizationState(),this._setVersionId(n+1),this.emit("changed",{})},t}(u);t.MirrorModelEmbedded=d;var p=function(){function e(e){this.mode=e,this.ranges=[]}return e}();t.createMirrorModelFromString=c;var h=function(e){function t(t,n,r,i,o,s){e.call(this,["changed"],n,r,i,o,s),this._resourceService=t,this._embeddedModels={},this._updateEmbeddedModels()}return __extends(t,e),t.prototype.getEmbeddedAtPosition=function(e){if(this._isDisposed)throw new Error("MirrorModel.getEmbeddedAtPosition: Model is disposed");var t=this.getModeAtPosition(e.lineNumber,e.column);return this._embeddedModels.hasOwnProperty(t.getId())?this._embeddedModels[t.getId()]:null},t.prototype.getAllEmbedded=function(){var e=this;if(this._isDisposed)throw new Error("MirrorModel.getAllEmbedded: Model is disposed");return Object.keys(this._embeddedModels).map(function(t){return e._embeddedModels[t]})},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this);var n=Object.keys(this._embeddedModels).map(function(e){return t._embeddedModels[e]});n.forEach(function(e){return t._resourceService.remove(e.getAssociatedResource())}),a.disposeAll(n),this._embeddedModels={}},t._getModesRanges=function(e){for(var t={},n=function(e,n){return t.hasOwnProperty(e)||(t[e]=new p(n)),t[e]},r=e.getLineCount(),i=e.getMode().getId(),o=e.getMode(),s=1,a=1,l=1;r>=l;l++)for(var c=e._getLineModeTransitions(l),u=0;u<c.length;u++){var d=c[u];if(d.mode.getId()!==i){var h=n(i,o);h.ranges.push({startLineNumber:s,startColumn:a,endLineNumber:l,endColumn:d.startIndex+1}),i=d.mode.getId(),o=d.mode,s=l,a=d.startIndex+1}}var m=r,f=e.getLineMaxColumn(m);if(s!==m||a!==f){var h=n(i,o);h.ranges.push({startLineNumber:s,startColumn:a,endLineNumber:m,endColumn:f})}return t},t.prototype._updateEmbeddedModels=function(){if(!this._resourceService||!this.getMode().tokenizationSupport||!this.getMode().tokenizationSupport.shouldGenerateEmbeddedModels)return!1;for(var e=t._getModesRanges(this),r=Object.keys(this._embeddedModels),i=0;i<r.length;i++){var o=r[i];e.hasOwnProperty(o)||this._embeddedModels[o].setIncludedRanges([{startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1}])}for(var s=Object.keys(e),i=0;i<s.length;i++){var a=s[i];if(this._embeddedModels.hasOwnProperty(a))this._embeddedModels[a].setIncludedRanges(e[a].ranges);else{var l=new n.URL(this.getAssociatedResource().toString()+"#"+a);this._embeddedModels[a]=new d(this,e[a].ranges,e[a].mode,l),this._resourceService.insert(this._embeddedModels[a].getAssociatedResource(),this._embeddedModels[a])}}return!1},t.prototype.onEvents=function(e){if(this._isDisposed)throw new Error("MirrorModel.onEvents: Model is disposed");for(var t=!1,n=0,i=e.length;i>n;n++){var o=e[n];switch(o.type){case r.EventType.ModelContentChanged:var s=o;switch(this._lineStarts=null,this._setVersionId(s.versionId),s.changeType){case r.EventType.ModelContentChangedFlush:this._onLinesFlushed(s),t=!0;break;case r.EventType.ModelContentChangedLinesDeleted:this._onLinesDeleted(s),t=!0;break;case r.EventType.ModelContentChangedLinesInserted:this._onLinesInserted(s),t=!0;break;case r.EventType.ModelContentChangedLineChanged:this._onLineChanged(s),t=!0}break;case r.EventType.ModelPropertiesChanged:this._extraProperties=o.properties;break;default:console.warn("Unknown model event: "+o.type)}}var a=!1;return t&&(this.emit("changed",{}),a=this._updateEmbeddedModels()),a},t.prototype._onLinesFlushed=function(e){this._lineStarts=null,this._constructLines(e.detail),this._resetTokenizationState()},t.prototype._onLineChanged=function(e){if(this._lineStarts){var t=this.getEOL().length,n=e.detail.length+t;this._lineStarts.changeValue(e.lineNumber-1,n)}this._lines[e.lineNumber-1].removeText({},1,this._lines[e.lineNumber-1].text.length+1,!1,!1),this._lines[e.lineNumber-1].insertText({},1,{text:e.detail,markers:null},!1),this._invalidateLine(e.lineNumber-1)},t.prototype._onLinesDeleted=function(e){var t=e.fromLineNumber-1,n=e.toLineNumber-1;this._lineStarts&&this._lineStarts.removeValues(t,n-t+1);var r=this._lines[t].getState();this._lines.splice(t,n-t+1),t<this._lines.length&&(this._lines[t].setState(r),this._invalidateLine(t))},t.prototype._onLinesInserted=function(e){var t,n,r=this.getEOL().length,i=e.detail.split("\n");for(t=e.fromLineNumber-1,n=0;t<e.toLineNumber;t++,n++)this._lineStarts&&this._lineStarts.insertValue(t,i[n].length+r),this._lines.splice(t,0,new s.ModelLine(0,i[n]));e.fromLineNumber>=2&&this._invalidateLine(e.fromLineNumber-2)},t}(u);t.MirrorModel=h}),define("vs/editor/modes/boundModels",["require","exports","vs/editor/core/model/mirrorModel","vs/editor/editor","vs/base/collections","vs/base/severity","vs/editor/core/range","vs/platform/thread/attribute","vs/editor/core/constants","vs/base/eventSource"],function(e,t,n,r,i,o,s,a,l,c){var u=function(){function e(e){this.model=e,this.toUnbind=null}return e.prototype.dispose=function(){this._decorationIds=this.model.deltaDecorations(this._decorationIds,[]),this.model=null,this.toUnbind&&(this.toUnbind(),this.toUnbind=null)},e.prototype.deltaMarkers=function(e){var t=this;e=e.slice(0,500);var n=e.map(function(e){return{range:t._createDecorationRange(e),options:t._createDecorationOption(e)}});this._decorationIds=this.model.deltaDecorations(this._decorationIds,n)},e.prototype._createDecorationRange=function(e){var t=this.model.validateRange(new s.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),n=new s.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn);if(n.isEmpty()){var r=this.model.getWordAtPosition(n.getStartPosition(),!1);if(r)n.startColumn=r.startColumn,n.endColumn=r.endColumn;else{var i=this.model.getLineLastNonWhitespaceColumn(t.startLineNumber)||this.model.getLineMaxColumn(t.startLineNumber);1===i||(n.endColumn>=i?(n.endColumn=i,n.startColumn=i-1):n.endColumn+=1)}}else if(e.endColumn===Number.MAX_VALUE&&1===e.startColumn&&n.startLineNumber===n.endLineNumber){var o=this.model.getLineFirstNonWhitespaceColumn(e.startLineNumber);o<n.endColumn&&(n.startColumn=o,e.startColumn=o)}return n},e.prototype._createDecorationOption=function(e){var t=e.severity===o.Error,n=null;return"string"==typeof e.message?n=[{isText:!0,text:e.message}]:Array.isArray(e.message)?n=e.message:e.message&&(n=[e.message]),{stickiness:r.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!0,className:t?l.ClassName.EditorErrorDecoration:l.ClassName.EditorWarningDecoration,htmlMessage:n,overviewRuler:{color:t?"rgba(255,18,18,0.7)":"rgba(18,136,18,0.7)",position:r.OverviewRulerLane.Right}}},e}(),d=function(){function e(e,t,n,r){this._resourceService=n,this._markerService=t,this._models={},this._modeInstantiator=r,this._onModelAdded=new c,this._onModelRemoved=new c,this._markerService&&e.isInMainThread&&this._markerService.onMarkerChanged.add(this._handleMarkerChange,this),e.registerInstance(this)}return e.prototype.dispose=function(){this._markerService&&this._markerService.onMarkerChanged.remove(this._handleMarkerChange,this)},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var n=t._models[e.toString()];n&&n.deltaMarkers(t._markerService.read({resource:e,take:500}))})},e.prototype.addModel=function(e){var t=this,n=e.getAssociatedResource().toString(),r=new u(e);r.toUnbind=e.addBulkListener(function(e){return t._onModelEvents(n,e)}),this._markerService&&r.deltaMarkers(this._markerService.read({resource:e.getAssociatedResource()})),this._models[n]=r,this._modelInitialize(this._getBoundModelData(e)),this._onModelAdded.fire(e)},e.prototype.removeModel=function(e){var t=this,n=e.getAssociatedResource().toString();if(this._modelDispose(e.getAssociatedResource()),this._models[n].dispose(),delete this._models[n],this._markerService){var r=this._markerService.read({resource:e.getAssociatedResource()}),i=Object.create(null);r.forEach(function(e){return i[e.owner]=t}),Object.keys(i).forEach(function(n){return t._markerService.changeOne(n,e.getAssociatedResource(),[])})}this._onModelRemoved.fire(e)},e.prototype.getModels=function(){var e=[];return i.forEach(this._models,function(t){return e.push(t.value.model)}),e},e.prototype.getModel=function(e){var t=this._models[e.toString()];return t?t.model:this._resourceService?this._resourceService.get(e):null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.value:null},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return e._ID},e.prototype.getSerializableState=function(){var e=this,t={};return Object.keys(this._models).forEach(function(n){t[n]=e._getBoundModelData(e._models[n].model)}),t},e.prototype.setData=function(e){var t=this;Object.keys(e).forEach(function(n){t._addMirrorModel(e[n])})},e.prototype._getBoundModelData=function(e){return{url:e.getAssociatedResource(),versionId:e.getVersionId(),properties:e.getProperties(),value:e.toRawText(),modeId:e.getMode().getId()}},e.prototype._onModelEvents=function(e,t){var n,r,i=[],o=!1;for(n=0,r=t.length;r>n;n++){var s=t[n],a=s.getData();switch(s.getType()){case l.EventType.ModelContentChanged:switch(a.changeType){case l.EventType.ModelContentChangedFlush:i.push(this._mixinProperties({type:s.getType()},a,["changeType","detail","versionId"]));break;case l.EventType.ModelContentChangedLinesDeleted:i.push(this._mixinProperties({type:s.getType()},a,["changeType","fromLineNumber","toLineNumber","versionId"]));break;case l.EventType.ModelContentChangedLinesInserted:i.push(this._mixinProperties({type:s.getType()},a,["changeType","fromLineNumber","toLineNumber","detail","versionId"]));break;case l.EventType.ModelContentChangedLineChanged:i.push(this._mixinProperties({type:s.getType()},a,["changeType","lineNumber","detail","versionId"]))}o=!0;break;case l.EventType.ModelPropertiesChanged:i.push(this._mixinProperties({type:s.getType()},a,["properties"]))}}i.length>0&&this._modelEvents(this._models[e].model.getAssociatedResource(),i)},e.prototype._mixinProperties=function(e,t,n){for(var r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e},e.prototype._addMirrorModel=function(e){var t=this;return this._modeInstantiator(e.modeId).then(function(r){t._resourceService.insert(e.url,new n.MirrorModel(t._resourceService,e.versionId,e.value,r,e.url,e.properties))})},e.prototype._modelInitialize=function(e){return this._addMirrorModel(e)},e.prototype._modelEvents=function(e,t){var n=this._resourceService.get(e);if(!n)throw new Error("Received model events for missing model "+e.toString());n.onEvents(t)},e.prototype._modelDispose=function(e){var t=this._resourceService.get(e);this._resourceService.remove(e),t&&t.dispose()},e._ID="boundModels",e.$_modelInitialize=a.AllWorkers(e,e.prototype._modelInitialize),e.$_modelEvents=a.AllWorkers(e,e.prototype._modelEvents),e.$_modelDispose=a.AllWorkers(e,e.prototype._modelDispose),e}();t.BoundModels=d}),define("vs/editor/codeEditorService",["require","exports"],function(e,t){var n=function(){function e(){this._codeEditors=Object.create(null)}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e
},e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]},e.prototype.getCodeEditor=function(e){return this._codeEditors[e]||null},e}();t.CodeEditorService=n}),define("vs/platform/telemetry/abstractTelemetryService",["require","exports","vs/base/uuid","vs/base/performance/timer","vs/base/errors","vs/base/types","vs/base/objects","vs/platform/platform","vs/base/env","vs/base/hash"],function(e,t,n,r,i,o,s,a,l,c){var u={enableTelemetry:!0,publicOnly:!0,enableHardIdel:!0,enableSoftIdle:!0},d=function(){function e(e,t){var o=this;if(void 0===e&&(e=null),this.contextService=e,this.config=s.withDefaults(t,u),this.sessionID=this.config.sessionID||n.generateUuid()+Date.now(),this.timeKeeper=new r.TimeKeeper,this.toUnbind=[],this.appenders=[],this.timeKeeperListener=function(e){return o.onTelemetryTimerEventStop(e)},this.timeKeeper.addListener(this.timeKeeperListener),this.toUnbind.push(i.errorHandler.addListener(this.onErrorEvent.bind(this))),this.startTime=new Date,this.eventCount=0,this.enableGlobalErrorHandler(),this.contextService&&this.contextService.getConfiguration()&&this.contextService.getConfiguration().profile){var a=this.contextService.getConfiguration().profile.userEmail;a&&(this.userIdHash=c.computeMurmur2StringHashCode(a).toString())}}return e.prototype.loadTelemetryAppendersFromRegistery=function(){for(var e=a.Registry.as(t.Extenstions.TelemetryAppenders).getTelemetryAppenderDescriptors(),n=0;n<e.length;n++){var r=e[n],i=this.instantiationService.createInstance(r);this.appenders.push(i)}},e.prototype._safeStringify=function(e){return s.safeStringify(e)},e.prototype.onTelemetryTimerEventStop=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.data||{};r.duration=n.timeTaken(),"public"===n.topic?this.publicLog(n.name,r):this.log(n.name,r)}},e.prototype.onErrorEvent=function(e){Array.isArray(e.stack)&&(e.stack=e.stack.join("\n")),e.detail&&e.detail.stack&&(e=e.detail),e.stack&&(e.message||(e.message=this._safeStringify(e)),e.stack=this.cleanupStack(e.stack),this.publicLog("UnhandledError",e))},e.prototype.cleanupStack=function(e){var t=new RegExp("file:///.*?/resources/app/","gi"),n=e.replace(t,"");return n},e.prototype.enableGlobalErrorHandler=function(){o.isFunction(self.onerror)&&(this.oldOnError=self.onerror);var e=this,t=function(t,n,r,i,o){e.onUncaughtError(t,n,r,i,o),e.oldOnError&&e.oldOnError.apply(this,arguments)};self.onerror=t},e.prototype.onUncaughtError=function(t,n,r,i,s){if(!o.isString(t)||!e.FILTERS.some(function(e){return t.indexOf(e)>=0})){n=this.cleanupStack(n);var a={message:t,filename:n,line:r,column:i};s&&(a.error={name:s.name,message:s.message},s.stack&&(Array.isArray(s.stack)&&(s.stack=s.stack.join("\n")),a.stack=this.cleanupStack(s.stack))),this.publicLog("UncaughtError",a)}},e.prototype.handleEvent=function(e,t,n){if(this.config.enableTelemetry){this.eventCount++,n=this.addCommonProperties(n);for(var r=0;r<this.appenders.length;r++)this.appenders[r].log(e,t,n)}},e.prototype.addCommonProperties=function(e){e=e||{};var t=new Date;return e.sessionID=this.sessionID,e.timestamp=t,e.version=l.version,e.userId=this.userIdHash,e["common.platform"]=l.Platform[l.platform],e["common.timesincesessionstart"]=t.getTime()-this.startTime.getTime(),e["common.sequence"]=this.eventCount,e},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.timeKeeper.removeListener(this.timeKeeperListener),this.timeKeeper.dispose(),this.oldOnError&&(self.onerror=this.oldOnError);for(var e=0;e<this.appenders.length;e++)this.appenders[e].dispose()},e.prototype.setInstantiationService=function(e){this.instantiationService=e,this.instantiationService&&this.loadTelemetryAppendersFromRegistery()},e.prototype.start=function(e,t,n){var r=n?"public":"private",i=this.timeKeeper.start(r,e);return t&&(i.data=t),i},e.prototype.log=function(e,t){this.config.publicOnly||this.handleEvent(e,!1,t)},e.prototype.publicLog=function(e,t){this.handleEvent(e,!0,t)},e.prototype.getAppendersCount=function(){return this.appenders.length},e.prototype.getAppenders=function(){return this.appenders},e.prototype.addTelemetryAppender=function(e){this.appenders.push(e)},e.prototype.removeTelemetryAppender=function(e){var t=this.appenders.indexOf(e);t>-1&&this.appenders.splice(t,1)},e.FILTERS=["NPObject"],e}();t.AbstractTelemetryService=d,t.Extenstions={TelemetryAppenders:"telemetry.appenders"};var p=function(){function e(){this.telemetryAppenderDescriptors=[]}return e.prototype.registerTelemetryAppenderDescriptor=function(e){this.telemetryAppenderDescriptors.push(e)},e.prototype.getTelemetryAppenderDescriptors=function(){return this.telemetryAppenderDescriptors},e}();a.Registry.add(t.Extenstions.TelemetryAppenders,new p)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/time/idleMonitor",["require","exports","vs/base/dom/dom","vs/base/lifecycle","vs/base/eventEmitter","vs/base/dom/browserService"],function(e,t,n,r,i,o){!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(t.UserStatus||(t.UserStatus={}));var s=t.UserStatus;t.DEFAULT_IDLE_TIME=36e5;var a=function(){function e(e){var n=this;void 0===e&&(e=t.DEFAULT_IDLE_TIME),this.instance=c.INSTANCE,this.instance.increment(),this.status=null,this.idleCheckTimeout=-1,this.lastActiveTime=-1,this.idleTime=e,this.toDispose=[],this.eventEmitter=new i.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push({dispose:this.instance.addListener(function(){return n.onUserActive()})}),this.onUserActive()}return e.prototype.addOneTimeActiveListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onActive",e)},e.prototype.addOneTimeIdleListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onIdle",e)},e.prototype.getStatus=function(){return this.status},e.prototype.dispose=function(){this.cancelIdleCheck(),this.toDispose=r.disposeAll(this.toDispose),this.instance.decrement()},e.prototype.onUserActive=function(){this.lastActiveTime=(new Date).getTime(),this.status!==s.Active&&(this.status=s.Active,this.scheduleIdleCheck(),this.eventEmitter.emit("onActive"))},e.prototype.onUserIdle=function(){this.status!==s.Idle&&(this.status=s.Idle,this.eventEmitter.emit("onIdle"))},e.prototype.scheduleIdleCheck=function(){var e=this;if(-1===this.idleCheckTimeout){var t=this.lastActiveTime+this.idleTime;this.idleCheckTimeout=setTimeout(function(){e.idleCheckTimeout=-1,e.checkIfUserIsIdle()},t-(new Date).getTime())}},e.prototype.cancelIdleCheck=function(){-1!==this.idleCheckTimeout&&(clearTimeout(this.idleCheckTimeout),this.idleCheckTimeout=-1)},e.prototype.checkIfUserIsIdle=function(){var e=(new Date).getTime()-this.lastActiveTime;e>=this.idleTime?this.onUserIdle():this.scheduleIdleCheck()},e}();t.IdleMonitor=a;var l=function(){function e(){this.referenceCount=0}return e.prototype.increment=function(){0===this.referenceCount&&this.construct(),this.referenceCount++},e.prototype.decrement=function(){this.referenceCount>0&&(this.referenceCount--,0===this.referenceCount&&this.dispose())},e.prototype.construct=function(){throw new Error("Implement me")},e.prototype.dispose=function(){throw new Error("Implement me")},e}(),c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.construct=function(){var e=this;this.toDispose=[],this.eventEmitter=new i.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push(n.addDisposableListener(o.getService().document,"mousemove",function(){return e.onUserActive()})),this.toDispose.push(n.addDisposableListener(o.getService().document,"keydown",function(){return e.onUserActive()})),this.onUserActive()},t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose)},t.prototype.onUserActive=function(){this.eventEmitter.emit("onActive")},t.prototype.addListener=function(e){return this.eventEmitter.addListener("onActive",e)},t.INSTANCE=new t,t}(l)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/telemetry/mainTelemetryService",["require","exports","vs/platform/telemetry/abstractTelemetryService","vs/base/time/idleMonitor"],function(e,t,n,r){var i=function(e){function t(n,i){var o=this;void 0===n&&(n=null),e.call(this,n,i),this.config.enableHardIdle&&(this.hardIdleMonitor=new r.IdleMonitor),this.config.enableSoftIdle&&(this.softIdleMonitor=new r.IdleMonitor(t.SOFT_IDLE_TIME),this.softIdleMonitor.addOneTimeActiveListener(function(){return o.onUserActive()}),this.softIdleMonitor.addOneTimeIdleListener(function(){return o.onUserIdle()}))}return __extends(t,e),t.prototype.dispose=function(){this.hardIdleMonitor&&this.hardIdleMonitor.dispose(),this.softIdleMonitor&&this.softIdleMonitor.dispose(),e.prototype.dispose.call(this)},t.prototype.handleEvent=function(t,n,i){this.hardIdleMonitor&&this.hardIdleMonitor.getStatus()===r.UserStatus.Idle||e.prototype.handleEvent.call(this,t,n,i)},t.prototype.onUserIdle=function(){var e=this;this.publicLog(t.IDLE_START_EVENT_NAME),this.softIdleMonitor.addOneTimeIdleListener(function(){return e.onUserIdle()})},t.prototype.onUserActive=function(){var e=this;this.publicLog(t.IDLE_STOP_EVENT_NAME),this.softIdleMonitor.addOneTimeActiveListener(function(){return e.onUserActive()})},t.SOFT_IDLE_TIME=12e4,t.IDLE_START_EVENT_NAME="UserIdleStart",t.IDLE_STOP_EVENT_NAME="UserIdleStop",t}(n.AbstractTelemetryService);t.MainTelemetryService=i}),define("vs/platform/configuration/model",["require","exports","vs/base/objects","vs/platform/platform","vs/base/types","vs/base/json","vs/platform/configuration/configurationRegistry"],function(e,t,n,r,i,o,s){function a(e,t,n){var r=t.split("."),i=r.pop(),o=e;r.forEach(function(e){var n=o[e];switch(typeof n){case"undefined":n=o[e]={};break;case"object":break;default:console.log("Conflicting configuration setting: "+t+" at "+e+" with "+JSON.stringify(n))}o=n}),o[i]=n}function l(e){try{var t={},n=JSON.parse(o.stripComments(e));for(var r in n)a(t,r,n[r]);return{contents:t}}catch(i){return{contents:{},parseError:i}}}function c(e,t,n){Object.keys(t).forEach(function(r){r in e?i.isObject(e[r])&&i.isObject(t[r])?c(e[r],t[r],n):n&&(e[r]=t[r]):e[r]=t[r]})}function u(e){var r={},i=[],o=/\/(team\.)?([^\.]*)*\.json/;return Object.keys(e).forEach(function(s){var a=n.clone(e[s]),l=o.exec(s);if(l){var u=!!l[1],d=r;if(l&&l[2]&&l[2]!==t.CONFIG_DEFAULT_NAME){var p=l[2],h=d[p];h||(h={},d[p]=h),d=h}c(d,a.contents,!u),a.parseError&&i.push(s)}}),{contents:r,parseErrors:i}}function d(e){var t=r.Registry.as(s.Extensions.Configuration).getConfigurations();t=t.filter(function(e){return!e.workspace&&!e.container});var n=function(t,r){e(t,r),Array.isArray(t.anyOf)&&t.anyOf.forEach(function(e){n(e,!1)})};t.sort(function(e,t){return e.order-t.order}).forEach(function(e){n(e,!0)})}function p(){var e={},t=function(t){t.properties&&Object.keys(t.properties).forEach(function(n){var r=t.properties[n],o=r.default;i.isUndefined(r.default)&&(o=f(r.type)),a(e,n,o)})};return d(t),e}function h(){var e=-1,t=[];t.push("{");var n=function(n,r){n.title&&(r?(t.push(""),t.push("	//-------- "+n.title+" --------")):t.push("	// "+n.title),t.push("")),n.properties&&Object.keys(n.properties).forEach(function(r){var o=n.properties[r],s=o.default;i.isUndefined(s)&&(s=f(o.type)),o.description&&t.push("	// "+o.description);var a=JSON.stringify(s,null,"	");a&&"object"==typeof s&&(a=m(a)),-1!==e&&(t[e]+=","),e=t.length,t.push("	"+JSON.stringify(r)+": "+a),t.push("")})};return d(n),t.push("}"),t.join("\n")}function m(e){return e.split("\n").join("\n	")}function f(e){switch(e){case"boolean":return!1;case"integer":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}t.CONFIG_DEFAULT_NAME="settings",t.newConfigFile=l,t.merge=c,t.consolidate=u,t.getDefaultValues=p,t.getDefaultValuesContent=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/configuration/configurationService",["require","exports","vs/base/paths","vs/platform/services","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/objects","vs/platform/configuration/model","vs/base/lifecycle","vs/base/collections"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(t,n){var i=this;void 0===n&&(n="/.settings"),e.call(this),this._fileService=t.fileService,this._contextService=t.contextService,this._eventService=t.eventService,this._workspaceSettingsRootFolder=n,this._workspaceFilePathToConfiguration=Object.create(null),this._callOnDispose=this._eventService.addListener(r.Files.EventType.FILE_CHANGES,function(e){return i._handleFileEvents(e)})}return __extends(t,e),t.prototype.dispose=function(){this._callOnDispose=l.cAll(this._callOnDispose),e.prototype.dispose.call(this)},t.prototype.loadConfiguration=function(e){var t=this;return this.loadGlobalConfiguration().then(function(n){return t.loadWorkspaceConfiguration().then(function(t){var r=a.consolidate(t),i=s.mixin(n.contents,r.contents,!0),o=e?i[e]:i,l=r.parseErrors;return n.parseErrors&&l.push.apply(l,n.parseErrors),l.length>0&&(o||(o={}),o.$parseErrors=l),o})})},t.prototype.loadGlobalConfiguration=function(){return i.TPromise.as({contents:a.getDefaultValues()})},t.prototype.hasWorkspaceConfiguration=function(){return!!this._workspaceFilePathToConfiguration["/.settings/"+a.CONFIG_DEFAULT_NAME+".json"]},t.prototype.loadWorkspaceConfiguration=function(){var e=this;return this._bulkFetchFromWorkspacePromise||(this._bulkFetchFromWorkspacePromise=this._fileService.resolveFileStats(this._workspaceSettingsRootFolder,"**/.settings/*.json").then(function(t){return e._fileService.resolveContents(t.map(function(e){return e.path}))},function(e){if(404===e.status)return[];throw e}).then(function(t){t.forEach(function(t){return e._workspaceFilePathToConfiguration[t.path]=i.TPromise.as(a.newConfigFile(t.value))})})),this._loadConfigurationPromise||(this._loadConfigurationPromise=this._bulkFetchFromWorkspacePromise.then(function(){return i.TPromise.join(e._workspaceFilePathToConfiguration)})),this._loadConfigurationPromise},t.prototype._reloadAndEmit=function(){var e=this;return this._reloadConfiguration().then(function(t){return e.emit(r.ConfigurationServiceEventTypes.UPDATED,{config:t})})},t.prototype._reloadConfiguration=function(e){return this._loadConfigurationPromise=null,this.loadConfiguration(e)},t.prototype._handleFileEvents=function(e){for(var t=e.changes,i=!1,o=0,s=t.length;s>o;o++)if(t[o].path===this._workspaceSettingsRootFolder&&t[o].type===r.Files.FileChangeType.DELETED&&(this._workspaceFilePathToConfiguration=Object.create(null),i=!0),n.isEqualOrParent(t[o].path,this._workspaceSettingsRootFolder)&&".json"===n.extname(t[o].path))switch(t[o].type){case r.Files.FileChangeType.DELETED:i=c.remove(this._workspaceFilePathToConfiguration,t[o].path);break;case r.Files.FileChangeType.UPDATED:case r.Files.FileChangeType.ADDED:this._workspaceFilePathToConfiguration[t[o].path]=this._fileService.resolveContent(t[o].resource).then(function(e){return a.newConfigFile(e.value)}),i=!0}i&&this._reloadAndEmit()},t}(o.EventEmitter);t.ConfigurationService=u;var d=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.loadConfiguration=function(){return i.Promise.as({})},t.prototype.hasWorkspaceConfiguration=function(){return!1},t}(o.EventEmitter);t.NullConfigurationService=d,t.nullService=new d}),define("vs/base/worker/workerProtocol",["require","exports","vs/base/lib/winjs.base"],function(e,t,n){t.MessageType={INITIALIZE:"$initialize",REPLY:"$reply",PRINT:"$print"},t.ReplyType={COMPLETE:"complete",ERROR:"error",PROGRESS:"progress"},t.PrintType={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};var r=function(){function e(e){this._requester=e,this._bigHandler=null}return e.prototype.callOnRemote=function(e,t,n){return this._requester.request("_proxyObj",{proxyId:e,path:t,args:n})},e.prototype.registerBigHandler=function(e){this._bigHandler=e},e.prototype.handleMessage=function(e){if(!this._bigHandler)throw new Error("got message before big handler attached!");return this._invokeHandler(e.proxyId,e.path,e.args)},e.prototype._invokeHandler=function(e,t,r){try{return n.TPromise.as(this._bigHandler.handle(e,t,r))}catch(i){return n.Promise.wrapError(i)}},e}();t.RemoteCom=r}),define("vs/base/worker/workerClient",["require","exports","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/performance/timer","vs/base/errors","vs/base/worker/workerProtocol","vs/base/env","vs/base/remote/remote","vs/base/worker/marshalling"],function(e,t,n,r,i,o,s,a,l,c){function u(t,n){return e.toUrl("./"+t+"?"+encodeURIComponent(n))}t.WorkerMain="workerMain.js";var d=a.getCrossOriginWorkerScriptUrl||u,p=function(){function e(e,n,r){this.id=e,this.worker=new Worker(d(t.WorkerMain,n)),this.worker.onmessage=function(e){r(e.data)}}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker.postMessage(e)},e.prototype.terminate=function(){this.worker.terminate()},e}(),h=function(){function t(t,n){var i=this;this.id=t,this.loaded=!1,this.beforeLoadMessages=[],this.iframe=document.createElement("iframe"),this.iframe.id=this.iframeId(),this.iframe.src=e.toUrl("./workerMainCompatibility.html"),this.iframe.frameborder=this.iframe.height=this.iframe.width="0",this.iframe.style.display="none",r.addListener(this.iframe,"load",function(){return i.onLoaded()}),this.onMessage=function(e){n(e.data)},r.addListener(window,"message",this.onMessage),document.body.appendChild(this.iframe)}return t.prototype.iframeId=function(){return"worker_iframe_"+this.id},t.prototype.onLoaded=function(){for(this.loaded=!0;this.beforeLoadMessages.length>0;)this.postMessage(this.beforeLoadMessages.shift())},t.prototype.getId=function(){return this.id},t.prototype.postMessage=function(e){if(this.loaded===!0){var t=window.frames[this.iframeId()];t.postMessage?t.postMessage(e,"*"):t.contentWindow.postMessage(e,"*")}else this.beforeLoadMessages.push(e)},t.prototype.terminate=function(){window.removeEventListener("message",this.onMessage),window.frames[this.iframeId()].close()},t}(),m=function(){function e(){}return e.prototype.create=function(e,t,n){void 0===n&&(n=null);var r=null;try{r=new p(e,"service"+e,t)}catch(i){r=new h(e,t)}return r},e}();t.DefaultWorkerFactory=m;var f=function(){function e(t,n,r,i,o){var a=this;void 0===o&&(o=++e.LAST_WORKER_ID),this._decodeMessageName=r,this._lastMessageId=0,this._promises={},this._messageHandlers={},this._messagesQueue=[],this._processQueueTimeout=-1,this._waitingForWorkerReply=!1,this._lastTimerEvent=null,this._workerId=o,this._worker=t.create(o,function(e){return a._onSerializedMessage(e)},function(){i(a)});var c=null,u=window.require;"function"==typeof u.getConfig?c=u.getConfig():"undefined"!=typeof window.requirejs&&(c=window.requirejs.s.contexts._.config);var d=window.MonacoEnvironment||null;this.onModuleLoaded=this._sendMessage(s.MessageType.INITIALIZE,{id:this._worker.getId(),moduleId:n,loaderConfiguration:c,MonacoEnvironment:d}),this.onModuleLoaded.then(null,function(){return a._onError("Worker failed to load "+n)}),this._remoteCom=new s.RemoteCom(this),this._proxiesMarshalling=new l.ProxiesMarshallingContribution(this._remoteCom)}return e.prototype.getRemoteCom=function(){return this._remoteCom},Object.defineProperty(e.prototype,"workerId",{get:function(){return this._workerId},enumerable:!0,configurable:!0}),e.prototype.getQueueSize=function(){return this._messagesQueue.length+(this._waitingForWorkerReply?1:0)},e.prototype.request=function(e,t,r){var i=this;if("$"===e.charAt(0))throw new Error("Illegal requestName: "+e);var o,s=!1;return new n.Promise(function(n,a,l){i.onModuleLoaded.then(function(){s||(o=i._sendMessage(e,t,r).then(n,a,l))},a,l)},function(){o?o.cancel():s=!0})},e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){var e=Object.keys(this._promises);if(e.length>0){console.warn("Terminating a worker with "+e.length+" pending promises:"),console.warn(this._promises);for(var t in this._promises)e.hasOwnProperty(t)&&this._promises[t].error("Worker forcefully terminated")}this._worker.terminate()},e.prototype.addMessageHandler=function(e,t){this._messageHandlers[e]=t},e.prototype.removeMessageHandler=function(e){delete this._messageHandlers[e]},e.prototype._sendMessage=function(e,t,r){var i=this;void 0===r&&(r=(new Date).getTime());var o,s,a,l={id:++this._lastMessageId,type:e,timestamp:r,payload:t},c=new n.Promise(function(e,t,n){o=e,s=t,a=n},function(){i._removeMessage(l.id)});return this._promises[l.id]={complete:o,error:s,progress:a,type:e,payload:t},this._enqueueMessage(l),c},e.prototype._enqueueMessage=function(e){var t,n=-1;for(t=this._messagesQueue.length-1;t>=0;t--)if(this._messagesQueue[t].timestamp<=e.timestamp){n=t;break}this._messagesQueue.splice(n+1,0,e),this._processMessagesQueue()},e.prototype._removeMessage=function(e){for(var t=0,n=this._messagesQueue.length;n>t;t++)if(this._messagesQueue[t].id===e)return this._promises.hasOwnProperty(String(e))&&delete this._promises[String(e)],this._messagesQueue.splice(t,1),this._processMessagesQueue(),void 0},e.prototype._processMessagesQueue=function(){var e=this;if(-1!==this._processQueueTimeout&&(clearTimeout(this._processQueueTimeout),this._processQueueTimeout=-1),0!==this._messagesQueue.length&&!this._waitingForWorkerReply){var t=this._messagesQueue[0].timestamp-(new Date).getTime();t=Math.max(0,t),this._processQueueTimeout=setTimeout(function(){if(e._processQueueTimeout=-1,0!==e._messagesQueue.length){e._waitingForWorkerReply=!0;var t=e._messagesQueue.shift();e._lastTimerEvent=i.start(i.Topic.WORKER,e._decodeMessageName(t)),e._postMessage(t)}},t)}},e.prototype._postMessage=function(e){this._worker.postMessage(c.marshallObject(e,this._proxiesMarshalling))},e.prototype._onSerializedMessage=function(e){var t=null;try{t=c.demarshallObject(e,this._proxiesMarshalling)}catch(n){}t&&this._onmessage(t)},e.prototype._onmessage=function(e){if(e.monacoWorker&&(!e.from||e.from===this._worker.getId())){switch(e.type){case s.MessageType.REPLY:var t=e;if(this._waitingForWorkerReply=!1,this._lastTimerEvent&&this._lastTimerEvent.stop(),!this._promises.hasOwnProperty(String(t.id)))return this._onError("Received unexpected message from Worker:",e),void 0;switch(t.action){case s.ReplyType.COMPLETE:this._promises[t.id].complete(t.payload),delete this._promises[t.id];break;case s.ReplyType.ERROR:this._onError("Main Thread sent to worker the following message:",{type:this._promises[t.id].type,payload:this._promises[t.id].payload}),this._onError("And the worker replied with an error:",t.payload),o.onUnexpectedError(t.payload),this._promises[t.id].error(t.payload),delete this._promises[t.id];break;case s.ReplyType.PROGRESS:this._promises[t.id].progress(t.payload)}break;case s.MessageType.PRINT:var n=e;this._consoleLog(n.level,n.payload);break;default:this._dispatchRequestFromWorker(e)}this._processMessagesQueue()}},e.prototype._dispatchRequestFromWorker=function(e){var t=this;this._handleWorkerRequest(e).then(function(n){var r={id:0,type:s.MessageType.REPLY,timestamp:(new Date).getTime(),seq:e.req,payload:n instanceof Error?o.transformErrorForSerialization(n):n,err:null};t._postMessage(r)},function(n){var r={id:0,type:s.MessageType.REPLY,timestamp:(new Date).getTime(),seq:e.req,payload:null,err:n instanceof Error?o.transformErrorForSerialization(n):n};t._postMessage(r)})},e.prototype._handleWorkerRequest=function(e){return"_proxyObj"===e.type?this._remoteCom.handleMessage(e.payload):"function"==typeof this[e.type]?this._invokeHandler(this[e.type],this,e.payload):"function"==typeof this._messageHandlers[e.type]?this._invokeHandler(this._messageHandlers[e.type],null,e.payload):(this._onError("Received unexpected message from Worker:",e),n.Promise.wrapError(new Error("No handler found")))},e.prototype._invokeHandler=function(e,t,r){try{return n.Promise.as(e.call(t,r))}catch(i){return n.Promise.wrapError(i)}},e.prototype._consoleLog=function(e,t){switch(e){case s.PrintType.LOG:console.log(t);break;case s.PrintType.DEBUG:console.info(t);break;case s.PrintType.INFO:console.info(t);break;case s.PrintType.WARN:console.warn(t);break;case s.PrintType.ERROR:console.error(t);break;default:this._onError("Received unexpected message from Worker:",t)}},e.prototype._onError=function(e,t){console.error(e),console.info(t)},e.LAST_WORKER_ID=0,e}();t.WorkerClient=f});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/thread/mainThreadService",["require","exports","vs/base/lib/winjs.base","vs/base/worker/workerClient","vs/platform/services","vs/platform/thread/abstractThreadService","vs/base/env","vs/base/errors","vs/base/performance/timer","vs/platform/plugins"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(i,o,s){var a=this;if(void 0===s&&(s=new r.DefaultWorkerFactory),e.call(this),this._contextService=i,this._telemetryService=o,this._workerFactory=s,!this.isInMainThread)throw new Error("Incorrect Service usage: this service must be used only in the main thread");this._workerPool=[],this._affinityScrambler={},this._listeners=[],this._workersCreatedPromise=new n.Promise(function(e){a._triggerWorkersCreatedPromise=e},function(){}),n.Promise.timeout(t.MAXIMUM_WORKER_CREATION_DELAY).then(function(){return a.ensureWorkers()})}return __extends(t,e),t.prototype.ensureWorkers=function(){if(this._triggerWorkersCreatedPromise){var e=s.workersCount;s.hasWebWorkerSupport()||(e=Math.min(e,1));for(var t=0;e>t;t++)this._createWorker();var n=this._triggerWorkersCreatedPromise;this._triggerWorkersCreatedPromise=null,n(null)}},t.prototype.addStatusListener=function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return;this._listeners.push(e)},t.prototype.removeStatusListener=function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return this._listeners.splice(t,1),void 0},t.prototype._afterWorkers=function(){var e=this,t=!1;return new n.Promise(function(n,r,i){e._workersCreatedPromise.then(function(){t||n(null)},r,i)},function(){t=!0})},t.prototype._createWorker=function(){this._workerPool.push(this._doCreateWorker())},t.prototype._massagePluginDescriptions=function(e){return e.filter(function(e){return e.isFake})},t.prototype._shortName=function(e,t){return e.substring(e.length-14)+"."+t.substr(0,14)},t.prototype._doCreateWorker=function(e){var t=this,i=new r.WorkerClient(this._workerFactory,"vs/editor/worker/editorWorkerServer",function(e){return"threadService"===e.type?t._shortName(e.payload[0],e.payload[1]):e.type},function(e){for(var n=0;n<t._workerPool.length&&e!==t._workerPool[n];n++);var r=t._doCreateWorker(e.workerId);e===t._workerPool[n]?t._workerPool[n]=r:t._workerPool.push(r)},e);return i.getRemoteCom().registerBigHandler(this),i.onModuleLoaded=i.request("initialize",{threadService:this._getRegisteredObjectsData(),telemetryService:{enableTelemetry:s.enableTelemetry,enablePrivateTelemetry:s.enablePrivateTelemetry,telemetrySessionID:this._telemetryService.sessionID},contextService:{workspace:this._contextService.getWorkspace(),configuration:this._contextService.getConfiguration(),options:this._contextService.getOptions()},plugins:this._massagePluginDescriptions(c.getAllPluginDescriptions())}),i.addMessageHandler("threadService",function(e){var r=e.identifier,i=e.memberName,o=e.args;if(!t._boundObjects.hasOwnProperty(r))throw new Error("Object "+r+" was not found on the main thread.");var s=t._boundObjects[r];return n.Promise.as(s[i].apply(s,o))}),i.addMessageHandler("telemetryService",function(e){var n=e.eventName,r=e.isPublic,i=e.data;r?t._telemetryService.publicLog(n,i):t._telemetryService.log(n,i)}),i},t.prototype._getRegisteredObjectsData=function(){var e=this,t={};return Object.keys(this._boundObjects).forEach(function(n){var r=e._boundObjects[n];r.getSerializableState&&(t[n]=r.getSerializableState())}),t},t.prototype.MainThread=function(e,t,n,r){return n.apply(e,r)},t.prototype._getWorkerIndex=function(e,t){if(t===i.ThreadAffinity.None){for(var n=[0],r=this._workerPool[0].getQueueSize(),o=1;o<this._workerPool.length;o++){var s=this._workerPool[o].getQueueSize();r>s?(r=s,n=[o]):s===r&&n.push(o)}return n[Math.floor(Math.random()*n.length)]}var a=0;return this._affinityScrambler.hasOwnProperty(e.getId())?a=this._affinityScrambler[e.getId()]:(a=Math.floor(Math.random()*this._workerPool.length),this._affinityScrambler[e.getId()]=a),(a+t)%this._workerPool.length},t.prototype.OneWorker=function(e,t,n,r,i){var o=this;return this._afterWorkers().then(function(){if(0===o._workerPool.length)throw new Error("Cannot fulfill request...");var n=o._getWorkerIndex(e,i);return o._remoteCall(o._workerPool[n],e,t,r)})},t.prototype.AllWorkers=function(e,t,r,i){var o=this;return this._afterWorkers().then(function(){return n.Promise.join(o._workerPool.map(function(n){return o._remoteCall(n,e,t,i)}))})},t.prototype.Everywhere=function(e,t,n,r){var i=this;return this._afterWorkers().then(function(){i._workerPool.forEach(function(n){i._remoteCall(n,e,t,r).done(null,a.onUnexpectedError)})}),n.apply(e,r)},t.prototype._remoteCall=function(e,t,r,i){var o=this,s=t.getId();if(!s)throw new Error("Synchronizable Objects must have an identifier");var a=l.start(l.Topic.LANGUAGES,this._shortName(s,r)),c=function(){a.stop(),o._pingListenersIfNecessary()},u=n.decoratePromise(e.request("threadService",[s,r,i]),c,c);return this._pingListenersIfNecessary(),u},t.prototype._pingListenersIfNecessary=function(){if(this._listeners.length>0){var e=this._buildStatus(),t=this._listeners.slice(0);try{for(var n=0;n<t.length;n++)t[n].onThreadServiceStatus(e)}catch(r){a.onUnexpectedError(r)}}},t.prototype._buildStatus=function(){var e=this._workerPool.map(function(e){return{queueSize:e.getQueueSize()}});return{workers:e}},t.prototype.registerAndInstantiateMainProcessActor=function(e,t){return this._createAndRegisterLocalInstance2(e,t)},t.prototype.registerAndInstantiatePluginHostActor=function(){throw new Error("Not supported in this runtime context: Cannot communicate to non-existant Plugin Host!")},t.prototype.registerAndInstantiateWorkerActor=function(e,t,n){var r=this._createWorkerProxyHelper(n);return this._createAndRegisterProxyInstance(r,e,t)},t.prototype._createWorkerProxyHelper=function(e){var t=this;return{callOnRemote:function(n,r,i){return t._callOnWorker(e,n,r,i)}}},t.prototype._callOnWorker=function(e,t,r,o){var s=this;return e===i.ThreadAffinity.None?n.Promise.as(null):this._afterWorkers().then(function(){if(e===i.ThreadAffinity.All){var a=s._workerPool.map(function(e){return e.getRemoteCom()}).map(function(e){return e.callOnRemote(t,r,o)});return n.Promise.join(a)}var l=e%s._workerPool.length,c=s._workerPool[l];return c.getRemoteCom().callOnRemote(t,r,o)})},t.MAXIMUM_WORKER_CREATION_DELAY=500,t}(o.AbstractThreadService);t.MainThreadService=u}),define("vs/platform/lifecycle/nullLifecycleService",["require","exports","vs/base/eventSource"],function(e,t,n){var r=function(){function e(){this._onBeforeShutdown=new n,this._onShutdown=new n}return Object.defineProperty(e.prototype,"onBeforeShutdown",{get:function(){return this._onBeforeShutdown.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.value},enumerable:!0,configurable:!0}),e.prototype.setThreadService=function(){},e}();t.Instance=new r}),define("vs/platform/lifecycle/lifecycleService",["require","exports","vs/base/arrays","vs/base/eventSource"],function(e,t,n,r){var i=function(){function e(){this._onBeforeShutdown=new r,this._onShutdown=new r}return e.prototype.fireBeforeShutdown=function(){var e=this._onBeforeShutdown.fire();
return Array.isArray(e)?n.coalesce(e):[]},e.prototype.fireShutdown=function(){this._onShutdown.fire()},Object.defineProperty(e.prototype,"onBeforeShutdown",{get:function(){return this._onBeforeShutdown.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.value},enumerable:!0,configurable:!0}),e}();return i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/lifecycle/mainThreadLifecycleService",["require","exports","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/platform/lifecycle/lifecycleService"],function(e,t,n,r,i,o){var s=function(e){function t(){var t=this;e.call(this),window.onbeforeunload=function(e){return t.onBeforeUnload(e)}}return __extends(t,e),t.prototype.collectVeto=function(){for(var e,t=this.fireBeforeShutdown(),n=[],r=0;r<t.length;r++)"string"!=typeof t[r]||i.isFalsyOrWhitespace(t[r])?t[r]===!0&&(e=!0):n.push(t[r]);return n.length>0?n.join("\n\n"):e},t.prototype.onBeforeUnload=function(e){var t=this.collectVeto();if(!t)return this.fireShutdown(),document.$isUnloading=!0,void 0;var i;return t===!0?r.localize("vs_platform_lifecycle_mainThreadLifecycleService",0):"string"==typeof t&&(i=t),n.browser.isFirefox&&!n.isTesting()&&alert(i),e.returnValue=i,i},t}(o);return s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/eventService",["require","exports","vs/base/eventEmitter"],function(e,t,n){var r=function(e){function t(){e.call(this)}return __extends(t,e),t}(n.EventEmitter);t.EventService=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/configuration/keybindingService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/dom/dom","vs/base/dom/keyboardEvent","vs/platform/configuration/keybindings","vs/base/env"],function(e,t,n,r,i,o,s){function a(e,t){return e.weight!==t.weight?e.weight-t.weight:e.command<t.command?-1:e.command>t.command?1:0}function l(e,t){return e.length<t?e+new Array(t-e.length).join(" "):e}function c(e){return e.chord?{ctrlCmd:e.ctrlCmd,shift:e.shift,alt:e.alt,winCtrl:e.winCtrl,key:e.key}:e}var u="data-keybinding-context",d=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){this._value[e]=t},e.prototype.removeValue=function(e){delete this._value[e]},e.prototype.getValue=function(){var e=this._parent?this._parent.getValue():Object.create(null);for(var t in this._value)e[t]=this._value[t];return e},e}();t.KeybindingContext=d;var p=function(){function e(e,t,n){this._parent=e,this._key=t,this._defaultValue=n,"undefined"!=typeof this._defaultValue&&this._parent.setContext(this._key,this._defaultValue)}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){"undefined"==typeof this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e}(),h=function(){function e(e,t){this._domNode=e,this._myContextId=t,this._instantiationService=null,this._messageService=null}return e.prototype.setMessageService=function(e){this._messageService=e},e.prototype.createKey=function(e,t){return new p(this,e,t)},e.prototype.setInstantiationService=function(e){this._instantiationService=e},e.prototype.createScoped=function(e){return new v(this,e)},e.prototype.setContext=function(e,t){this.getContext(this._myContextId).setValue(e,t)},e.prototype.removeContext=function(e){this.getContext(this._myContextId).removeValue(e)},e.prototype.customKeybindingsCount=function(){throw new Error("Not implemented")},e.prototype.getContext=function(){throw new Error("Not implemented")},e.prototype.createChildContext=function(){throw new Error("Not implemented")},e.prototype.disposeContext=function(){throw new Error("Not implemented")},e.prototype.getDefaultKeybindings=function(){throw new Error("Not implemented")},e.prototype.lookupKeybinding=function(){throw new Error("Not implemented")},e.prototype.executeCommand=function(){throw new Error("Not implemented")},e}();t.AbstractKeybindingService=h;var m=function(){function e(e,t){t(e)}return e}(),f=function(e){function t(t){var n=this;this._lastContextId=-1,e.call(this,t,++this._lastContextId),this._contexts=Object.create(null),this._contexts[String(this._myContextId)]=new d(this._myContextId,null),this._toDispose=r.addDisposableListener(this._domNode,r.EventType.KEY_DOWN,function(e){var t=new i.KeyboardEvent(e);n._dispatch(t)}),this._createOrUpdateResolver(!0),this._commands=o.getCommands(),this._currentChord=null,this._currentChordStatusMessage=null}return __extends(t,e),t.prototype.dispose=function(){this._toDispose.dispose(),this._toDispose=null},t.prototype.updateResolver=function(){this._createOrUpdateResolver(!1)},t.prototype._createOrUpdateResolver=function(e){this._resolver=new y(o.getDefaultKeybindings(),this._getExtraKeybindings(e))},t.prototype._getExtraKeybindings=function(){return[]},t.prototype.getDefaultKeybindings=function(){return this._resolver.getDefaultKeybindings()+"\n\n"+this._getAllCommandsAsComment()},t.prototype.customKeybindingsCount=function(){return 0},t.prototype.lookupKeybinding=function(e){return this._resolver.lookupKeybinding(e)},t.prototype._getAllCommandsAsComment=function(){var e=this._resolver.getDefaultBoundCommands(),t=Object.keys(this._commands).filter(function(t){return!e[t]}),r=t.join("\n// - ");return"// "+n.localize("vs_platform_configuration_keybindingService",0)+"\n// - "+r},t.prototype._dispatch=function(e){var t="Ctrl"===e.key||"Shift"===e.key||"Alt"===e.key||"Meta"===e.key;if(!t){var r=this._findContextAttr(e.target),i=this.getContext(r),s=i.getValue(),a=this._resolver.resolveKeyboardEvent(s,this._currentChord,e);if(a&&a.enterChord)return e.preventDefault(),this._currentChord=a.enterChord,this._messageService&&(this._currentChordStatusMessage=this._messageService.setStatusMessage(n.localize("vs_platform_configuration_keybindingService",1,o.toLabel(this._currentChord.keybinding)))),void 0;if(this._messageService&&this._currentChord&&(a&&a.commandId||(this._messageService.setStatusMessage(n.localize("vs_platform_configuration_keybindingService",2,o.toLabel(this._currentChord.keybinding),o.toLabel(e.asKeybinding())),1e4),e.preventDefault())),this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=null,a&&a.commandId){/^\^/.test(a.commandId)||e.preventDefault();var l=a.commandId.replace(/^\^/,""),c=this._commands[l];if(!c)return console.warn("No handler found for "+l),void 0;this._instantiationService.createInstance(m,function(e){c(e,{context:s})})}}},t.prototype._findContextAttr=function(e){for(;e;){if(e.hasAttribute(u))return parseInt(e.getAttribute(u),10);e=e.parentElement}return this._myContextId},t.prototype.getContext=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new d(t,this.getContext(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t.prototype.executeCommand=function(e,t){if(void 0===t&&(t={}),!t.context){var n=this._findContextAttr(document.activeElement),r=this.getContext(n),i=r.getValue();t.context=i}var o=this._commands[e];return o?(this._instantiationService.createInstance(m,function(e){o(e,t)}),void 0):(console.warn("No handler found for "+e),void 0)},t}(h);t.KeybindingService=f;var v=function(e){function t(t,n){this._parent=t,e.call(this,n,this._parent.createChildContext()),this._domNode.setAttribute(u,String(this._myContextId))}return __extends(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(u)},t.prototype.getDefaultKeybindings=function(){return this._parent.getDefaultKeybindings()},t.prototype.customKeybindingsCount=function(){return this._parent.customKeybindingsCount()},t.prototype.lookupKeybinding=function(e){return this._parent.lookupKeybinding(e)},t.prototype.getContext=function(e){return this._parent.getContext(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t.prototype.executeCommand=function(e,t){this._parent.executeCommand(e,t)},t}(h),g=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=g;var b=function(){function e(){}return e.writeKeybindingItem=function(t,n){t.write('{ "key": '+l('"'+e.writeKeybinding(n.keybinding).replace(/\\/g,"\\\\")+'",',25)+' "command": '),n.context?(t.write('"'+n.command+'",'),t.writeLine(),n.context.length>0?(t.write('                                     "when": "'),e.writeKeybindingContexts(t,n.context),t.write('" ')):t.write('"when": "" ')):t.write('"'+n.command+'" '),t.write("}")},e.readKeybindingItem=function(t){var n=e.readKeybinding(t.key),r=e.readKeybindingContexts(t.when);return{keybinding:n,command:t.command,context:r,weight:1e3}},e.writeKeybinding=function(e){var t=o.asString(e,"+").toLowerCase().replace(/arrow/g,"");return s.isMacintosh?t=t.replace(/meta/g,"cmd"):s.isWindows&&(t=t.replace(/meta/g,"win")),t},e.readKeybinding=function(t){if(!t)return null;t=t.toLowerCase().trim();for(var n=!1,r=!1,i=!1,o=!1,a="";/^(ctrl|shift|alt|meta|win|cmd)(\+|\-)/.test(t);)/^ctrl(\+|\-)/.test(t)&&(s.isMacintosh?o=!0:n=!0,t=t.substr("ctrl-".length)),/^shift(\+|\-)/.test(t)&&(r=!0,t=t.substr("shift-".length)),/^alt(\+|\-)/.test(t)&&(i=!0,t=t.substr("alt-".length)),/^meta(\+|\-)/.test(t)&&(s.isMacintosh?n=!0:o=!0,t=t.substr("meta-".length)),/^win(\+|\-)/.test(t)&&(s.isMacintosh?n=!0:o=!0,t=t.substr("win-".length)),/^cmd(\+|\-)/.test(t)&&(s.isMacintosh?n=!0:o=!0,t=t.substr("cmd-".length));/^(up|down|left|right)/.test(t)&&(t=t.replace(/^(up|down|left|right)/,function(e){return e+"arrow"}));var l=null,c=t.indexOf(" ");return c>0?(a=t.substring(0,c),l=e.readKeybinding(t.substring(c))):a=t,{ctrlCmd:n,shift:r,alt:i,winCtrl:o,key:e.capitalizeKey(a),chord:l}},e.capitalizeKey=function(e){if(!e||0===e.length)return e;switch(e){case"pausebreak":return"PauseBreak";case"capslock":return"CapsLock";case"pageup":return"PageUp";case"pagedown":return"PageDown";case"leftarrow":return"LeftArrow";case"uparrow":return"UpArrow";case"rightarrow":return"RightArrow";case"downarrow":return"DownArrow";case"contextmenu":return"ContextMenu";case"numlock":return"NumLock";case"scrolllock":return"ScrollLock"}return e.charAt(0).toUpperCase()+e.substr(1)},e.writeKeybindingContexts=function(t,n){var r=n.length-1;n.forEach(function(n,i){e.writeKeybindingContent(t,n),i!==r&&t.write(" && ")})},e.readKeybindingContexts=function(t){if(!t)return void 0;for(var n=[],r=t.split("&&"),i=0;i<r.length;i++)n.push(e.readKeybindingContext(r[i]));return n},e.writeKeybindingContent=function(e,t){return t.operator&&(t.operator===o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL&&t.operand===!0||t.operator===o.KEYBINDING_CONTEXT_OPERATOR_EQUAL&&t.operand===!1)?(e.write("!"+t.key),void 0):(e.write(t.key),t.operator&&(t.operator===o.KEYBINDING_CONTEXT_OPERATOR_EQUAL?e.write(" == "):e.write(" != "),"boolean"==typeof t.operand?e.write(t.operand):e.write("'"+t.operand+"'")),void 0)},e.readKeybindingContext=function(e){e=e.trim();var t,n=null;if(e.indexOf("!=")>=0)t=e.split("!="),n=o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL;else{if(!(e.indexOf("==")>=0))return/^\!\s*/.test(e)?{key:e.substr(1).trim(),operator:o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}:{key:e};t=e.split("=="),n=o.KEYBINDING_CONTEXT_OPERATOR_EQUAL}var r=t[1].trim();if("true"===r)r=!0;else if("false"===r)r=!1;else{var i=/^'([^']*)'$/.exec(r);i&&(r=i[1])}return{key:t[0].trim(),operator:n,operand:r}},e}();t.IOSupport=b;var y=function(){function e(t,n){t=t.slice(0).sort(a),this._defaultKeybindings=t,this._defaultBoundCommands=Object.create(null);for(var r=0,i=t.length;i>r;r++)this._defaultBoundCommands[t[r].command]=!0;this._map=Object.create(null),this._lookupMap=Object.create(null),this._lookupMapUnreachable=Object.create(null),this._chords=Object.create(null);for(var s=t.concat(n),r=0,i=s.length;i>r;r++){var l=s[r];if(l.keybinding)if(l.context&&(l.context=l.context.map(e.normalizeRule)),l.keybinding.chord){var u=o.asString(c(l.keybinding)).toLowerCase(),d=o.asString(c(l.keybinding.chord)).toLowerCase();this._chords[u]=this._chords[u]||Object.create(null),this._chords[u][d]=this._chords[u][d]||[],this._chords[u][d].push({context:l.context,chord:!1,commandId:l.command}),this._addKeyPress(u,{context:l.context,chord:!0,commandId:l.command},l)}else{var p=o.asString(l.keybinding).toLowerCase();this._addKeyPress(p,{context:l.context,chord:!1,commandId:l.command},l)}}}return e.prototype._addKeyPress=function(t,n,r){if(!this._map[t])return this._map[t]=[n],this._addToLookupMap(r),void 0;for(var i=this._map[t],o=i.length-1;o>=0;o--){var s=i[o];s.commandId!==r.command&&e.contextIsEntirelyIncluded(!0,s.context,r.context)&&(this._lookupMapUnreachable[s.commandId]=this._lookupMapUnreachable[s.commandId]||[],this._lookupMapUnreachable[s.commandId].push(t))}i.push(n),this._addToLookupMap(r)},e.contextIsEntirelyIncluded=function(t,n,r){if(!r||0===r.length)return!0;if(!n||0===n.length)return!1;t||(n=n.map(e.normalizeRule),r=r.map(e.normalizeRule));for(var i=Object.create(null),o=0,s=n.length;s>o;o++)i[e._ruleToString(n[o])]=!0;for(var o=0,s=r.length;s>o;o++)if(!i[e._ruleToString(r[o])])return!1;return!0},e._ruleToString=function(e){var t=e.key;return t+="undefined"==typeof e.operator?";"+o.KEYBINDING_CONTEXT_OPERATOR_EQUAL:";"+e.operator,t+="undefined"==typeof e.operand?";"+!0:";"+e.operand},e.normalizeRule=function(e){return e.operator===o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL&&"boolean"==typeof e.operand?{key:e.key,operator:o.KEYBINDING_CONTEXT_OPERATOR_EQUAL,operand:!e.operand}:e},e.prototype._addToLookupMap=function(e){e.command&&(this._lookupMap[e.command]=this._lookupMap[e.command]||[],this._lookupMap[e.command].push(e))},e.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},e.prototype.getDefaultKeybindings=function(){var e=new g;return e.writeLine("["),this._defaultKeybindings.forEach(function(t){b.writeKeybindingItem(e,t),e.writeLine(",")}),e.writeLine("]"),e.toString()},e.prototype.lookupKeybinding=function(e){var t=this._lookupMap[e];if(!t)return[];var n=this._lookupMapUnreachable[e]||[];return t.filter(function(e){var t=o.asString(c(e.keybinding)).toLowerCase();return-1===n.indexOf(t)}).reverse()},e.prototype.resolve=function(e,t,n){return this._resolve(e,t,{asString:o.asString(n).toLowerCase(),keybinding:n})},e.prototype.resolveKeyboardEvent=function(e,t,n){return this._resolve(e,t,{asString:n.asString().toLowerCase(),keybinding:n.asKeybinding()})},e.prototype._resolve=function(e,t,n){if(t){var r=this._chords[t.asString];return r?this._findCommand(e,r[n.asString],null):null}return this._findCommand(e,this._map[n.asString],n)},e.prototype._findCommand=function(t,n,r){if(!n)return null;for(var i=n.length-1;i>=0;i--){var o=n[i],s=o.context;if(e.contextMatchesRules(t,s))return o.chord&&r?{enterChord:r,commandId:null}:{enterChord:null,commandId:o.commandId}}return null},e.keybindingsEqual=function(e,t){return e.key===t.key&&e.ctrlCmd===t.ctrlCmd&&e.shift===t.shift&&e.alt===t.alt&&e.winCtrl===t.winCtrl},e.contextMatchesRules=function(t,n){if(!n||0===n.length)return!0;for(var r=0,i=n.length;i>r;r++)if(!e.contextMatchesRule(t,n[r]))return!1;return!0},e.contextMatchesRule=function(e,t){var n="undefined"==typeof t.operator?o.KEYBINDING_CONTEXT_OPERATOR_EQUAL:t.operator,r="undefined"==typeof t.operand?!0:t.operand;switch(n){case o.KEYBINDING_CONTEXT_OPERATOR_EQUAL:return r===!1?!e[t.key]:e[t.key]===r;case o.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL:return e[t.key]!==r;default:console.warn("Unknown operator "+n)}return!0},e}();t.KeybindingResolver=y}),define("vs/css!vs/workbench/ui/workbench",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/workbench/ui/workbench",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/types","vs/base/collections","vs/base/lifecycle","vs/base/strings","vs/base/dom/dom","vs/base/dom/builder","vs/base/async","vs/base/assert","vs/base/performance/timer","vs/base/graph","vs/base/env","vs/base/ui/widgets/shell/shell","vs/base/errors","vs/platform/contextview/contextviewService","vs/platform/platform","vs/platform/storage/storage","vs/platform/handlerService","vs/platform/markers/markerService2","vs/workbench/constants","vs/workbench/events","vs/base/ui/events","vs/workbench/core/extensions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/ui/services","vs/workbench/core/history/browserHistoryService","vs/workbench/core/history/simpleHistoryService","vs/workbench/ui/parts/activitybar/activitybarPart","vs/workbench/ui/parts/editor/editorPart","vs/workbench/ui/parts/sidebar/sidebarPart","vs/workbench/ui/parts/statusbar/statusbarPart","vs/workbench/ui/layout","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/parts/viewlet","vs/workbench/ui/quickopen/quickOpenController","vs/editor/modes/boundModels","vs/editor/codeEditorService","vs/editor/modes/modesExtensions","vs/platform/telemetry/mainTelemetryService","vs/platform/configuration/configurationService","vs/platform/thread/mainThreadService","vs/platform/thread/nullThreadService","vs/platform/instantiation/instantiationService","vs/platform/lifecycle/nullLifecycleService","vs/platform/lifecycle/mainThreadLifecycleService","vs/platform/eventService","vs/platform/configuration/keybindingService","vs/css!./workbench"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,N,I,O,R,P,D,M,F,V,B,H,W,U,$,j,G,z,q,K,Y){var X="workbench.view.explorer",Q=c.$,J=function(){function e(e,t,r,o,s){var a=this;if(this.validateParams(e,r,o),i.isString(e)){var l=c.withElementById(e.toString());this.container=l.getHTMLElement()}else this.container=e;this.workbenchParams={workspace:t,configuration:r,options:o,services:s},this.currentTheme=null,this.extensions=[],this.toDispose=[],this.toBeforeShutdown=[],this.explorerAvailable=!i.isUndefinedOrNull(b.Registry.as(M.Extensions.Viewlets).getViewlet(X)),this.editorBackgroundDelayer=new u.Delayer(50),this.creationPromise=new n.TPromise(function(e){a.creationPromiseComplete=e})}return e.prototype.validateParams=function(e){if(d.ok(e,"Workbench requires a container to be created with"),i.isString(e)){var t=c.withElementById(e.toString());d.ok(t,a.format("Can not find HTMLElement with id '{0}'.",e))}},e.prototype.startup=function(e){var t=this;d.ok(!this.workbenchStarted,"Can not start a workbench that was already started"),d.ok(!this.workbenchShutdown,"Can not start a workbench that was shutdown");try{this.workbenchStarted=!0,this.callbacks=e,this.createWorkbench(),this.initServices(),this.callbacks&&this.callbacks.onServicesCreated&&this.callbacks.onServicesCreated(),this.registerListeners(),this.initSettings(),this.renderWorkbench(),this.createWorkbenchLayout(),this.registerEmitters(),this.initExtensions();var o=[];if(!this.sideBarHidden){var s=this.storageService.get(O.SidebarPart.activeViewletSettingsKey,r.StorageScope.WORKSPACE,X),l=p.start(p.Topic.STARTUP,a.format("Opening Viewlet: {0}",s));i.isUndefinedOrNull(b.Registry.as(M.Extensions.Viewlets).getViewlet(s))?this.explorerAvailable&&o.push(this.sidebarPart.openViewlet(X,!1).then(function(){return l.stop()})):o.push(this.sidebarPart.openViewlet(s,!1).then(function(){return l.stop()}))}var c=p.start(p.Topic.STARTUP,a.format("Restoring Editor(s)")),u=n.Promise.as(null);this.workbenchParams.options&&this.workbenchParams.options.filesToOpen&&this.workbenchParams.options.filesToOpen.length?u=n.Promise.join(this.workbenchParams.options.filesToOpen.map(function(e){return t.editorService.inputToType(e)})):this.workbenchParams.workspace||(u=n.Promise.as([this.untitledEditorService.createOrGet()])),o.push(u.then(function(e){return t.editorPart.restoreEditorState(e).then(function(){t.onEditorOpenedOrClosed(),c.stop()})})),n.Promise.join(o).then(function(){t.workbenchCreated=!0,t.eventService.emit(S.EventType.WORKBENCH_CREATED),t.creationPromiseComplete(!0);var e={innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth};t.telemetryService.publicLog("workspaceLoad",{userAgent:navigator.userAgent,windowSize:e,azureWebSiteMode:m.azureWebSiteMode,azureWebSiteName:m.azureWebSiteName,azureWebSiteScmType:m.azureWebSiteScmType,azureWebSiteAppsettingScmType:m.azureWebSiteAppsettingScmType,azureWebsiteComputeMode:m.azureWebSiteComputeMode,azureWebSiteProjectType:m.azureWebSiteProjectType,azureWebSiteTryMode:m.azureWebSiteTryMode,autoSaveEnabled:t.contextService.isAutoSaveEnabled&&t.contextService.isAutoSaveEnabled(),emptyWorkbench:!t.contextService.getWorkspace(),customKeybindingsCount:t.keybindingService.customKeybindingsCount()})},v.onUnexpectedError)}catch(h){throw console.error(v.toErrorMessage(h,!0)),h}},e.prototype.initServices=function(){var e=this,t=this.workbenchParams.services||{};o.insert(t,this,function(){return"partService"}),this.eventService=o.lookupOrInsert(t,"eventService",function(){var t=new K.EventService;return e.toDispose.push(t),t}),this.storageService=o.lookupOrInsert(t,"storageService",function(){var t=new y.Storage(e.workbenchParams.workspace);return e.toDispose.push(t),t});var n=o.lookupOrInsert(t,"handlerService",function(){var t=new _.HandlerService(window);return e.toDispose.push(t),t});this.keybindingService=o.lookupOrInsert(t,"keybindingService",function(){var t=new Y.KeybindingService(window);return e.toDispose.push(t),t}),this.contextService=o.lookupOrInsert(t,"contextService",function(){return new x.WorkspaceContextService({eventService:e.eventService},e.workbenchParams.workspace,e.workbenchParams.configuration,e.workbenchParams.options)}),this.telemetryService=o.lookupOrInsert(t,"telemetryService",function(){var t=new W.MainTelemetryService(e.contextService,{enableTelemetry:m.enableTelemetry,publicOnly:!m.enablePrivateTelemetry});return t});var s=o.lookupOrInsert(t,"messageService",function(){return new x.WorkbenchMessageService({eventService:e.eventService,telemetryService:e.telemetryService,keybindingService:e.keybindingService})});this.keybindingService.setMessageService(s);var a=o.lookupOrInsert(t,"threadService",function(){return m.isTesting()?j.NULL_THREAD_SERVICE:new $.MainThreadService(e.contextService,e.telemetryService)});this.lifecycleService=o.lookupOrInsert(t,"lifecycleService",function(){return m.isTesting()?z.Instance:new q}),this.lifecycleService.onBeforeShutdown.add(this.beforeUnload,this),this.untitledEditorService=new x.UntitledEditorService,o.insert(t,this.untitledEditorService,function(){return"untitledEditorService"});var l=o.lookupOrInsert(t,"markerService",function(){return new w.MarkerService(a)});o.lookupOrInsert(t,"modelService",function(){return new V.BoundModels(a,l,null,null)}),o.lookupOrInsert(t,"codeEditorService",function(){return new B.CodeEditorService});var c=o.lookupOrInsert(t,"requestService",function(){return new r.BaseRequestService({contextService:e.contextService,telemetryService:e.telemetryService})}),u=o.lookup(t,"fileService");m.isTesting()||d.ok(!!u,"Workbench needs to be passed in a file service implementation!"),o.lookupOrInsert(t,"configurationService",function(){return new U.ConfigurationService({contextService:e.contextService,eventService:e.eventService,fileService:u})});var p=o.lookupOrInsert(t,"contextViewService",function(){return new g.ContextViewService(e.workbenchContainer.getHTMLElement(),e.telemetryService,s)}),f=o.lookupOrInsert(t,"contextMenuService",function(){return p});this.sidebarPart=new O.SidebarPart({contextMenuService:f,eventService:this.eventService,messageService:s,storageService:this.storageService,telemetryService:this.telemetryService,partService:this,keybindingService:this.keybindingService},E.Identifiers.SIDEBAR_PART),this.toDispose.push(this.sidebarPart),this.toBeforeShutdown.push(this.sidebarPart),o.insert(t,this.sidebarPart,function(){return"viewletService"}),this.activitybarPart=new N.ActivitybarPart({contextMenuService:f,eventService:this.eventService,messageService:s,telemetryService:this.telemetryService,viewletService:this.sidebarPart,keybindingService:this.keybindingService},E.Identifiers.ACTIVITYBAR_PART),this.toDispose.push(this.activitybarPart),this.toBeforeShutdown.push(this.activitybarPart),o.insert(t,this.activitybarPart,function(){return"activityService"}),this.editorPart=new I.EditorPart({eventService:this.eventService,handlerService:n,messageService:s,storageService:this.storageService,telemetryService:this.telemetryService,partService:this},E.Identifiers.EDITOR_PART),this.toDispose.push(this.editorPart),this.toBeforeShutdown.push(this.editorPart),this.editorService=new x.WorkbenchEditorService({contextService:this.contextService,requestService:c,storageService:this.storageService,untitledEditorService:this.untitledEditorService},this.editorPart),o.insert(t,this.editorService,function(){return"editorService"}),this.quickOpen=new F.QuickOpenController({editorService:this.editorService,eventService:this.eventService,messageService:s,storageService:this.storageService,telemetryService:this.telemetryService,viewletService:this.sidebarPart,contextService:this.contextService,keybindingService:this.keybindingService}),this.toDispose.push(this.quickOpen),this.toBeforeShutdown.push(this.quickOpen),o.insert(t,this.quickOpen,function(){return"quickOpenService"}),o.lookupOrInsert(t,"selectionService",function(){return new x.WorkbenchSelectionService({viewletService:e.sidebarPart,editorService:e.editorService})});var v=o.lookupOrInsert(t,"historyService",function(){var t;return t=m.isNative?new L.SimpleHistoryService({contextService:e.contextService,editorService:e.editorService,eventService:e.eventService,quickOpenService:e.quickOpen}):new A.BrowserHistoryService({contextService:e.contextService,editorService:e.editorService,eventService:e.eventService,fileService:u,messageService:s,partService:e})});this.instantiationService=G.create(t);var S=b.Registry.as(k.Extensions.Services),T=S.getServices(),R=new h.Graph(function(e){return e});for(T.forEach(function(e){var t=e.getId(),n=e.getServiceDependencies();R.lookupOrInsertNode(t),n.forEach(function(e){return R.insertEdge(t,e)})});R.length;){var P=R.roots();if(0===P.length)throw new Error("Panic: Cyclic contributed service dependencies detected");P.forEach(function(t){var n=t.data,r=S.getService(n);if(r){var o=e.instantiationService.createInstance(r);e.instantiationService.registerService(n,o),i.isFunction(o.beforeShutdown)&&e.toBeforeShutdown.push(o),i.isFunction(o.dispose)&&e.toDispose.push(o)}R.removeNode(t.data)})}a.setInstantiationService(this.instantiationService),this.telemetryService.setInstantiationService(this.instantiationService),this.quickOpen.setInstantiationService(this.instantiationService),this.activitybarPart.setInstantiationService(this.instantiationService),this.sidebarPart.setInstantiationService(this.instantiationService),this.editorPart.setInstantiationService(this.instantiationService),this.untitledEditorService.setInstantiationService(this.instantiationService),this.editorService.setInstantiationService(this.instantiationService),v instanceof A.BrowserHistoryService&&v.setInstantiationService(this.instantiationService),b.Registry.as(H.Extensions.EditorModes).setThreadService(a),this.keybindingService.setInstantiationService(this.instantiationService),b.Registry.as(D.Extensions.Actionbar).setInstantiationService(this.instantiationService),b.Registry.as(k.Extensions.Workbench).setInstantiationService(this.instantiationService),b.Registry.as(C.Extensions.Editors).setInstantiationService(this.instantiationService)},e.prototype.initExtensions=function(){var e=this;this.extensions=b.Registry.as(k.Extensions.Workbench).getWorkbenchExtensions().map(function(t){return i.isFunction(t.beforeShutdown)&&e.toBeforeShutdown.push(t),i.isFunction(t.dispose)&&e.toDispose.push(t),t})},e.prototype.initSettings=function(){this.sideBarHidden=this.storageService.getBoolean(e.sidebarHiddenSettingKey,r.StorageScope.WORKSPACE,!1),this.workbenchParams.options&&this.workbenchParams.options.singleFileMode&&(this.sideBarHidden=!0);var t=this.storageService.get(e.sidebarPositionSettingKey,r.StorageScope.GLOBAL,"left");this.sideBarPosition="left"===t?x.Position.LEFT:x.Position.RIGHT},e.prototype.isStarted=function(){return this.workbenchStarted&&!this.workbenchShutdown},e.prototype.isCreated=function(){return this.workbenchCreated&&this.workbenchStarted},e.prototype.joinCreation=function(){return this.creationPromise},e.prototype.hasFocus=function(e){var t=document.activeElement;if(!t)return!1;var n=null;switch(e){case x.Parts.ACTIVITYBAR_PART:n=this.activitybarPart.getContainer();break;case x.Parts.SIDEBAR_PART:n=this.sidebarPart.getContainer();break;case x.Parts.EDITOR_PART:n=this.editorPart.getContainer();break;case x.Parts.STATUSBAR_PART:if(!this.statusbarPart)return!1;n=this.statusbarPart.getContainer()}return l.isAncestor(t,n.getHTMLElement())},e.prototype.isVisible=function(e){return e===x.Parts.SIDEBAR_PART?!this.sideBarHidden:e===x.Parts.STATUSBAR_PART&&this.workbenchParams.options&&this.workbenchParams.options.statusBar===!1?!1:!0},e.prototype.showQuickStart=function(){this.editorPart.showQuickStart()},e.prototype.isSideBarHidden=function(){return this.sideBarHidden},e.prototype.setSideBarHidden=function(t,n){if(this.sideBarHidden=t,t?this.workbench.addClass("nosidebar"):this.workbench.removeClass("nosidebar"),t&&this.sidebarPart.getActiveViewlet()){this.sidebarPart.hideActiveViewlet();var i=this.editorPart.getActiveEditor();i&&i.focus()}else if(!t&&!this.sidebarPart.getActiveViewlet()){var o=this.storageService.get(O.SidebarPart.activeViewletSettingsKey,r.StorageScope.WORKSPACE,X);this.sidebarPart.openViewlet(o,!0).done(null,v.onUnexpectedError)}n||this.workbenchLayout.layout(!0),this.storageService.store(e.sidebarHiddenSettingKey,t?"true":"false",r.StorageScope.WORKSPACE)},e.prototype.getSideBarPosition=function(){return this.sideBarPosition},e.prototype.setSideBarPosition=function(t){this.sideBarHidden&&this.setSideBarHidden(!1,!0);var n=t===x.Position.LEFT?"left":"right",i=this.sideBarPosition===x.Position.LEFT?"left":"right";this.sideBarPosition=t,this.activitybarPart.getContainer().removeClass(i),this.sidebarPart.getContainer().removeClass(i),this.activitybarPart.getContainer().addClass(n),this.sidebarPart.getContainer().addClass(n),this.workbenchLayout.layout(!0),this.storageService.store(e.sidebarPositionSettingKey,t===x.Position.LEFT?"left":"right",r.StorageScope.GLOBAL)},e.prototype.shutdown=function(e){if(this.isStarted()){if(!e){var t=this.beforeUnload();if(t)return m.isTesting()||alert(t),t}this.eventService.emit(S.EventType.WORKBENCH_DISPOSING),this.workbenchShutdown=!0,this.dispose()}return null},e.prototype.dispose=function(){this.toDispose=s.disposeAll(this.toDispose),this.lifecycleService.onBeforeShutdown.remove(this.beforeUnload,this),this.eventService.emit(S.EventType.WORKBENCH_DISPOSED)},e.prototype.layout=function(){this.isStarted()&&this.workbenchLayout.layout()},e.prototype.beforeUnload=function(){for(var e,t=[],n=0;n<this.toBeforeShutdown.length;n++){var r=this.toBeforeShutdown[n].beforeShutdown();
"string"==typeof r?t.push(r):r===!0&&(e=!0)}var i=null;return this.callbacks&&this.callbacks.onBeforeUnload&&(i=this.callbacks.onBeforeUnload()),!i&&t.length>0&&(i=t.join("\n\n")),i?i:e},e.prototype.registerEmitters=function(){this.hookPartListeners(this.activitybarPart),this.hookPartListeners(this.editorPart),this.hookPartListeners(this.sidebarPart),this.toDispose.push(this.toDisposable(this.eventService.addEmitter(this.storageService)))},e.prototype.hookPartListeners=function(e){this.toDispose.push(this.toDisposable(this.eventService.addEmitter(e,e.getId())))},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.toDisposable(this.eventService.addListener(T.EventType.ERROR,function(e){v.onUnexpectedError(e)}))),this.toDispose.push(this.toDisposable(this.eventService.addListener(r.StorageEventType.STORAGE,function(t){switch(t.key){case E.Preferences.THEME:e.applyTheme(t.newValue)}}))),this.toDispose.push(this.toDisposable(this.eventService.addListener(S.EventType.WORKBENCH_OPTIONS_CHANGED,function(t){return e.onOptionsChanged(t)}))),this.toDispose.push(this.toDisposable(this.eventService.addListener(S.EventType.EDITOR_CLOSED,function(){return e.onEditorOpenedOrClosed()}))),this.toDispose.push(this.toDisposable(this.eventService.addListener(S.EventType.EDITOR_OPENED,function(){return e.onEditorOpenedOrClosed()})))},e.prototype.onEditorOpenedOrClosed=function(){var e=this,t=this.editorService.getVisibleEditors().length;0===t?this.editorBackgroundDelayer.trigger(function(){return e.editorPart.getContainer().addClass("empty")}):this.editorBackgroundDelayer.trigger(function(){return e.editorPart.getContainer().removeClass("empty")})},e.prototype.onOptionsChanged=function(e){"readOnly"===e.key&&(this.contextService.getOptions().readOnly?this.workbench.addClass("readonly"):this.workbench.removeClass("readonly"))},e.prototype.toDisposable=function(e){return{dispose:function(){e()}}},e.prototype.createWorkbenchLayout=function(){var e=new P.LayoutOptions;e.setMargin(new c.Box(0,0,0,0)),this.workbenchLayout=this.instantiationService.createInstance(P.WorkbenchLayout,Q(this.container),this.workbench,this.activitybarPart,this.editorPart,this.sidebarPart,this.statusbarPart,this.quickOpen,e),this.toDispose.push(this.workbenchLayout)},e.prototype.createWorkbench=function(){this.workbenchContainer=Q(".monaco-workbench-container"),this.workbench=Q().div({class:"monaco-workbench",id:E.Identifiers.WORKBENCH_CONTAINER}).appendTo(this.workbenchContainer)},e.prototype.renderWorkbench=function(){this.sideBarHidden&&this.workbench.addClass("nosidebar"),this.workbenchParams.options&&this.workbenchParams.options.readOnly&&this.workbench.addClass("readonly"),this.createActivityBarPart(),this.createSidebarPart(),this.createEditorPart(),this.createStatusbarPart(),this.createQuickOpen();var e=this.storageService.get(E.Preferences.THEME,r.StorageScope.GLOBAL,f.toString(f.Theme.VS));this.applyTheme(e),this.workbenchContainer.build(this.container)},e.prototype.applyTheme=function(e){this.currentTheme&&this.workbench.removeClass(this.currentTheme),this.currentTheme=e||null,this.currentTheme&&this.workbench.addClass(this.currentTheme)},e.prototype.createActivityBarPart=function(){var e=Q(this.workbench).div({class:["part","activitybar",this.sideBarPosition===x.Position.LEFT?"left":"right"],id:E.Identifiers.ACTIVITYBAR_PART});this.activitybarPart.create(e)},e.prototype.createSidebarPart=function(){var e=Q(this.workbench).div({class:["part","sidebar",this.sideBarPosition===x.Position.LEFT?"left":"right"],id:E.Identifiers.SIDEBAR_PART});this.sidebarPart.create(e)},e.prototype.createEditorPart=function(){var e=Q(this.workbench).div({class:["part","editor"],id:E.Identifiers.EDITOR_PART});this.editorPart.create(e)},e.prototype.createStatusbarPart=function(){if(!this.workbenchParams.options||this.workbenchParams.options.statusBar){var e=Q(this.workbench).div({class:["part","statusbar"],id:E.Identifiers.STATUSBAR_PART});this.workbenchParams.workspace||Q(e).addClass("no-workspace"),this.statusbarPart=this.instantiationService.createInstance(R.StatusbarPart,E.Identifiers.STATUSBAR_PART),this.toDispose.push(this.statusbarPart),this.toBeforeShutdown.push(this.statusbarPart),this.statusbarPart.create(e)}},e.prototype.createQuickOpen=function(){this.quickOpen.create()},e.prototype.getEditorPart=function(){return d.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.editorPart},e.prototype.getSidebarPart=function(){return d.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.sidebarPart},e.prototype.getInstantiationService=function(){return d.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.instantiationService},e.sidebarPositionSettingKey="workbench.sidebar.position",e.sidebarHiddenSettingKey="workbench.sidebar.hidden",e}();t.Workbench=J}),require.config({ignoreDuplicateModules:["vs/workbench/contrib/build/buildEvents","vs/workbench/contrib/build/buildConstants","vs/workbench/contrib/search/searchModel","vs/workbench/contrib/search/searchQuery","vs/workbench/contrib/search/searchServices","vs/workbench/ui/parts/editor/textEditorWorker"]}),define("vs/workbench/workbench.common",["vs/editor/editor.all","vs/languages/languages.main","vs/workbench/contrib/actions/toggleSidebarVisibility","vs/workbench/contrib/actions/toggleSidebarPosition","vs/workbench/contrib/actions/triggerQuickOpen","vs/workbench/contrib/actions/triggerSplitEditor","vs/workbench/contrib/actions/triggerNavigation","vs/workbench/contrib/quickopen/gotoSymbolHandler","vs/workbench/contrib/quickopen/commandsHandler","vs/workbench/contrib/quickopen/gotoLineHandler","vs/workbench/contrib/quickopen/helpHandler","vs/workbench/contrib/quickopen/markersHandler","vs/workbench/contrib/files/explorerViewlet","vs/workbench/contrib/files/fileActions.contribution","vs/workbench/contrib/files/files.contribution","vs/workbench/contrib/search/search.contribution","vs/workbench/contrib/build/build.contribution","vs/workbench/contrib/git/gitQuickOpen","vs/workbench/contrib/git/git.contribution","vs/workbench/contrib/git/gitActions.contribution","vs/workbench/contrib/output/output.contribution","vs/workbench/contrib/output/outputActions.contribution","vs/workbench/contrib/markdown/markdown.contribution","vs/workbench/contrib/markdown/markdownActions.contribution","vs/workbench/ui/workbench"],function(){}),define("vs/css!vs/workbench/contrib/actions/media/enhancedTheme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/actions/enhancedTheme",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/css!./media/enhancedTheme"],function(e,t,n,r,i,o,s,a,l){var c=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.contextService=n.contextService}return __extends(t,e),t.prototype.run=function(){return this.contextService.updateOptions("editor",{theme:"vs enhanced"}),n.Promise.as(null)},t.ID="workbench.action.enhancedLightEditorThemeAction",t.LABEL=a.localize("vs_workbench_contrib_actions_enhancedTheme",0),t}(i.Action),u=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.contextService=n.contextService}return __extends(t,e),t.prototype.run=function(){return this.contextService.updateOptions("editor",{theme:"vs-dark enhanced"}),n.Promise.as(null)},t.ID="workbench.action.enhancedDarkEditorThemeAction",t.LABEL=a.localize("vs_workbench_contrib_actions_enhancedTheme",1),t}(i.Action);if(l.enableEnhancedEditorTheme){var d=r.Registry.as(s.Extensions.WorkbenchActions);d.registerWorkbenchAction(new o.SyncActionDescriptor(c,c.ID,c.LABEL)),d.registerWorkbenchAction(new o.SyncActionDescriptor(u,u.ID,u.LABEL))}}),define("vs/platform/tasks/tasks",["require","exports"],function(e,t){function n(e){return s[e]}var r;!function(e){e.shortcut="shortcut",e.command="command"}(r=t.Triggers||(t.Triggers={})),function(e){e[e.Clean=0]="Clean"}(t.ProblemHandlingStrategy||(t.ProblemHandlingStrategy={}));t.ProblemHandlingStrategy;!function(e){e[e.Auto=0]="Auto",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute"}(t.FileLocationKind||(t.FileLocationKind={}));var i,i=t.FileLocationKind;!function(e){function t(t){return t=t.toLowerCase(),"absolute"===t?e.Absolute:"relative"===t?e.Relative:void 0}e.fromString=t}(i=t.FileLocationKind||(t.FileLocationKind={})),function(e){e[e.stdout=0]="stdout",e[e.stderr=1]="stderr"}(t.Source||(t.Source={}));t.Source;!function(e){e[e.Always=0]="Always",e[e.Silent=1]="Silent",e[e.Never=2]="Never"}(t.ShowOutput||(t.ShowOutput={}));var o,o=t.ShowOutput;!function(e){function t(t){return t=t.toLowerCase(),"always"===t?e.Always:"silent"===t?e.Silent:"never"===t?e.Never:void 0}e.fromString=t}(o=t.ShowOutput||(t.ShowOutput={}));var s=Object.create(null);s.msCompile={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(\w{1,2}\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},s["gulp-tsc"]={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(\d+)\s+(.*)$/,file:1,location:2,code:3,message:4},s.tsc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(TS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},s.cpp={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(C\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},s.csc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(CS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},s.vb={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(BC\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},s.lessCompile={regexp:/^\s*(.*) in file (.*) line no. (\d+)$/,message:1,file:2,line:3},s.jshint={regexp:/^(.*):\s+line\s+(\d+),\s+col\s+(\d+),\s(.*)\s+\((\w)(.*)\)$/,file:1,line:2,column:3,message:4,severity:5,code:6},t.defaultPattern=n}),define("vs/workbench/contrib/tasks.native/languageServiceTaskSystem",["require","exports","vs/base/lib/winjs.base","vs/editor/modes/modesExtensions","vs/platform/tasks/tasks"],function(e,t,n,r,i){var o=function(){function e(e,t){this.configuration=e,this.telemetryService=t}return e.prototype.build=function(){return this.processMode(function(e){return e.taskSupport&&e.taskSupport.build?e.taskSupport.build():null},"build",i.Triggers.shortcut)},e.prototype.rebuild=function(){return this.processMode(function(e){return e.taskSupport&&e.taskSupport.rebuild?e.taskSupport.rebuild():null},"rebuild",i.Triggers.shortcut)},e.prototype.clean=function(){return this.processMode(function(e){return e.taskSupport&&e.taskSupport.clean?e.taskSupport.clean():null},"clean",i.Triggers.shortcut)},e.prototype.runTest=function(){return n.TPromise.wrapError("Not implemented yet.")},e.prototype.run=function(){return n.TPromise.wrapError("Not implemented yet.")},e.prototype.isActive=function(){return n.TPromise.as(!1)},e.prototype.isActiveSync=function(){return!1},e.prototype.terminate=function(){return n.TPromise.as({success:!0})},e.prototype.terminateSync=function(){return{success:!0}},e.prototype.tasks=function(){var e=[];return n.TPromise.as(e)},e.prototype.processMode=function(t,i,o){var s=this,a={trigger:o,success:!0};return n.Promise.join(this.configuration.modes.map(function(e){return r.getOrCreateMode(e)})).then(function(e){var r=[];return e.forEach(function(e){var n=t(e);n&&r.push(n)}),n.Promise.join(r)}).then(function(t){return s.telemetryService.publicLog(e.TelemetryEventName,a),t},function(t){return a.success=!1,s.telemetryService.publicLog(e.TelemetryEventName,a),n.Promise.wrapError(t)})},e.TelemetryEventName="taskService",e}();return o}),define("vs/platform/tasks/taskRunner",["require","exports","vs/base/lib/winjs.base","vs/base/types","child_process","string_decoder","vs/base/env","./tasks"],function(e,t,n,r,i,o,s,a){var l=function(){function e(e){void 0===e&&(e="utf8"),this.stringDecoder=new o.StringDecoder(e),this.remaining=null}return e.prototype.write=function(e){var t=[],n=this.remaining?this.remaining+this.stringDecoder.write(e):this.stringDecoder.write(e);if(n.length<1)return t;for(var r,i=0;i<n.length&&(13===(r=n.charCodeAt(i))||10===r);)i++;for(var o=i;o<n.length;)if(r=n.charCodeAt(o),13===r||10===r){for(t.push(n.substring(i,o)),o++;o<n.length&&(13===(r=n.charCodeAt(o))||10===r);)o++;i=o}else o++;return this.remaining=i<n.length?n.substr(i):null,t},e.prototype.end=function(){return this.remaining},e}(),c=function(){function e(e,t,n,r){this.cmd=e,this.args=t,this.shell=n,this.options=r,this.childProcess=null,this.terminateRequested=!1}return e.prototype.run=function(){var e=this;return this.useExec().then(function(t){var o,c,u,d=new n.PPromise(function(e,t,n){o=e,c=t,u=n});if(t){var p=e.cmd;e.args&&(p=p+" "+e.args.join(" ")),e.childProcess=i.exec(p,e.options,function(t,n,r){var i=t;i&&i.killed?c({killed:e.terminateRequested,stdout:n.toString(),stderr:r.toString()}):([n,r].forEach(function(e,t){var n=new l,r=n.write(e);r.forEach(function(e){u({line:e,source:0===t?a.Source.stdout:a.Source.stderr})});var i=n.end();i&&u({line:i,source:0===t?a.Source.stdout:a.Source.stderr})}),o({terminated:e.terminateRequested,error:t}))})}else{if(e.shell&&s.isWindows){var h=["/s","/c",e.cmd];e.args&&(h=h.concat(e.args)),e.childProcess=i.spawn("cmd.exe",h,e.options)}else e.childProcess=i.spawn(e.cmd,e.args,e.options);e.childProcess.on("error",function(t){e.childProcess=null,c({terminated:e.terminateRequested,error:t})});var m=new l,f=new l;e.childProcess.pid&&(e.childProcess.stdout.on("data",function(e){var t=m.write(e);t.forEach(function(e){return u({line:e,source:a.Source.stdout})})}),e.childProcess.stderr.on("data",function(e){var t=f.write(e);t.forEach(function(e){return u({line:e,source:a.Source.stderr})})}),e.childProcess.on("close",function(t){e.childProcess=null,[m.end(),f.end()].forEach(function(e,t){e&&u({line:e,source:0===t?a.Source.stdout:a.Source.stderr})});var n={terminated:e.terminateRequested};e.shell&&s.isWindows&&r.isNumber(t)&&(n.cmdCode=t),o(n)}),e.childProcess.on("exit",function(t){if(e.childProcess=null,e.terminateRequested){[m.end(),f.end()].forEach(function(e,t){e&&u({line:e,source:0===t?a.Source.stdout:a.Source.stderr})});var n={terminated:e.terminateRequested};e.shell&&s.isWindows&&r.isNumber(t)&&(n.cmdCode=t),o(n)}}))}return d})},e.prototype.terminate=function(){if(this.childProcess)if(s.isWindows)try{i.execFileSync("taskkill",["/T","/F","/PID",this.childProcess.pid.toString()],{cwd:this.options.cwd})}catch(e){return{success:!1,error:e}}else this.terminateRequested=!0,this.childProcess.kill();return{success:!0}},e.prototype.useExec=function(){var e=this;return new n.TPromise(function(t){e.shell&&s.isWindows||t(!1);var n=i.spawn("cmd.exe",["/s","/c"]);n.on("error",function(){t(!0)}),n.on("exit",function(){t(!1)})})},e}();return c}),define("vs/platform/tasks/abstractMarkerManager",["require","exports","vs/base/paths","vs/base/network","vs/base/severity","./tasks"],function(e,t,n,r,i,o){var s={E:"error",W:"warning",I:"info"},a=function(){function e(e){this.markerDescriptions=e,this._numberOfMatches=0}return Object.defineProperty(e.prototype,"numberOfMatches",{get:function(){return this._numberOfMatches},enumerable:!0,configurable:!0}),e.prototype.tryFindMarker=function(e){for(var t=0;t<this.markerDescriptions.length;t++){var n=this.markerDescriptions[t],r=n.pattern.regexp.exec(e);if(r){this._numberOfMatches++;var i=this.getMarkerMatch(r,n);if(i)return i}}return null},e.prototype.getResource=function(e,t){var i,s=t.fileLocation;return s===o.FileLocationKind.Absolute?i=e:s===o.FileLocationKind.Relative&&(i=n.join(t.filePrefix,e)),i=i.replace(/\\/g,"/"),"/"!==i[0]&&(i="/"+i),r.URL.fromValue("file://"+i)},e.prototype.getMarkerMatch=function(e,t){var n=t.pattern,r=e[n.file],i=e[n.message],o=n.code?e[n.code]:null,s=this.getLocation(e,n);if(r&&s&&i){var a={severity:this.getSeverity(e,t),startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.startLineNumber,endColumn:s.endColumn,message:i};return o&&(a.code=o),{description:t,resource:this.getResource(r,t),marker:a}}},e.prototype.getLocation=function(e,t){if(t.location)return this.parseLocationInfo(e[t.location]);if(!t.line)return null;var n=parseInt(e[t.line]),r=t.column?parseInt(e[t.column]):void 0,i=t.endLine?parseInt(e[t.endLine]):void 0,o=t.endColumn?parseInt(e[t.endColumn]):void 0;return this.createLocation(n,r,i,o)},e.prototype.parseLocationInfo=function(e){if(!e||!e.match(/(\d+|\d+,\d+|\d+,\d+,\d+,\d+)/))return null;var t=e.split(","),n=parseInt(t[0]),r=t.length>1?parseInt(t[1]):void 0;return t.length>3?this.createLocation(n,r,parseInt(t[2]),parseInt(t[3])):this.createLocation(n,r,void 0,void 0)},e.prototype.createLocation=function(e,t,n,r){return e&&t&&n&&r?{startLineNumber:e,startColumn:t,endLineNumber:n,endColumn:r}:e&&t?{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:Number.MAX_VALUE}},e.prototype.getSeverity=function(e,t){if(t.severity)return t.severity;var n=null;if(t.pattern.severity){var r=e[t.pattern.severity];r&&r.length>0&&(1===r.length&&s[r[0]]&&(r=s[r[0]]),n=i.fromValue(r))}return(null===n||n===i.Ignore)&&(n=i.Error),n},e}();return a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/tasks/startStopMarkerManager",["require","exports","./tasks","./abstractMarkerManager"],function(e,t,n,r){var i=function(e){function t(t,r,i){var o=this;void 0===i&&(i=n.ProblemHandlingStrategy.Clean),e.call(this,t),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null);var s=Object.create(null);t.forEach(function(e){return s[e.owner]=!0}),this.owners=Object.keys(s),this.markerService=r,this.strategy=i,this.currentResourcesWithMarkers=Object.create(null),this.reportedResourcesWithMarkers=Object.create(null),this.owners.forEach(function(e){o.currentResourcesWithMarkers[e]=o.markerService.readResources({owner:e}),o.reportedResourcesWithMarkers[e]=Object.create(null)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)}return __extends(t,e),t.prototype.processLine=function(e){var t=this,n=this.tryFindMarker(e);if(n){var r=n.description.owner,i=n.resource,o=i.toString();this.currentResourceAsString!==o&&(this.currentResource&&(Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,i,t.markers[e])}),this.markers=Object.create(null)),this.reportedResourcesWithMarkers[r][o]=i,this.currentResource=i,this.currentResourceAsString=o);var s=this.markers[r];s||(s=[],this.markers[r]=s),s.push(n.marker)}},t.prototype.done=function(){var e=this;this.currentResource&&Object.keys(this.markers).forEach(function(t){e.markerService.changeOne(t,e.currentResource,e.markers[t])}),this.strategy===n.ProblemHandlingStrategy.Clean&&Object.keys(this.currentResourcesWithMarkers).forEach(function(t){var n=[],r=e.reportedResourcesWithMarkers[t];e.currentResourcesWithMarkers[t].forEach(function(e){r[e.toString()]||n.push(e)}),e.markerService.remove(t,n)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(r);return i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/tasks/watchingMarkerManager",["require","exports","./abstractMarkerManager"],function(e,t,n){var r=function(e){function t(t,n,r,i){e.call(this,t),this.beginMatchers=n,this.finishMatchers=r,this.markerService=i,this.resetCurrentResource(),this.resourcesToClean=Object.create(null)}return __extends(t,e),t.prototype.processLine=function(e){if(!this.tryBegin(e)&&!this.tryFinish(e)){var t=this.tryFindMarker(e);if(t){var n=t.resource,r=t.description.owner,i=n.toString();this.currentResourceAsString!==i&&(this.removeResourceToClean(r,i),this.currentResource&&this.deliverMarkersForCurrentResource(),this.currentResource=n,this.currentResourceAsString=i);var o=this.markers[r];o||(o=[],this.markers[r]=o),o.push(t.marker)}}},t.prototype.forceDelivery=function(){var e=this;this.deliverMarkersForCurrentResource(!1),Object.keys(this.resourcesToClean).forEach(function(t){e.cleanMarkers(t,!1)}),this.resourcesToClean=Object.create(null)},t.prototype.tryBegin=function(e){for(var t=!1,n=0;n<this.beginMatchers.length;n++){var r=this.beginMatchers[n],i=r.regexp.exec(e);if(i){t=!0;var o=r.owner;if(i[1]){var s=this.getResource(i[1],r);this.currentResourceAsString&&this.currentResourceAsString===s.toString()&&this.resetCurrentResource(),this.recordResourceToClean(o,s)}else this.recordResourcesToClean(o),this.resetCurrentResource()}}return t},t.prototype.tryFinish=function(e){for(var t=!1,n=0;n<this.finishMatchers.length;n++){var r=this.finishMatchers[n],i=r.regexp.exec(e);if(i){t=!0;var o=r.owner;this.cleanMarkers(o),this.deliverMarkersForCurrentResource()}}return t},t.prototype.recordResourcesToClean=function(e){var t=this.getResourceSetToClean(e);this.markerService.readResources({owner:e}).forEach(function(e){return t[e.toString()]=e})},t.prototype.recordResourceToClean=function(e,t){this.getResourceSetToClean(e)[t.toString()]=t},t.prototype.removeResourceToClean=function(e,t){var n=this.resourcesToClean[e];n&&delete n[t]},t.prototype.cleanMarkers=function(e,t){void 0===t&&(t=!0);var n=this.resourcesToClean[e];n&&(this.markerService.remove(e,Object.keys(n).map(function(e){return n[e]})),t&&delete this.resourcesToClean[e])},t.prototype.deliverMarkersForCurrentResource=function(e){var t=this;void 0===e&&(e=!0),this.currentResource&&Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),e&&this.resetCurrentResource()},t.prototype.getResourceSetToClean=function(e){var t=this.resourcesToClean[e];return t||(t=Object.create(null),this.resourcesToClean[e]=t),t},t.prototype.resetCurrentResource=function(){this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(n);return r}),define("vs/workbench/contrib/tasks.native/taskError",["require","exports"],function(){var e=function(){function e(e,t,n){void 0===n&&(n=-1),this.severity=e,this.message=t,this.code=n}return e}();return e}),define("vs/workbench/contrib/tasks.native/taskRunnerSystem",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/types","vs/base/objects","vs/base/strings","vs/base/severity","vs/base/lib/winjs.base","vs/base/async","vs/base/env","vs/base/uuid","vs/platform/tasks/tasks","vs/platform/tasks/taskRunner","vs/platform/tasks/startStopMarkerManager","vs/platform/tasks/watchingMarkerManager","./taskError"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=Object.create(null);v.msCompile={owner:"msCompile",fileLocation:d.FileLocationKind.Absolute,pattern:d.defaultPattern("msCompile")},v.lessCompile={owner:"lessCompile",fileLocation:d.FileLocationKind.Absolute,pattern:d.defaultPattern("lessCompile"),severity:s.Error},v.tsc={owner:"typescript",fileLocation:d.FileLocationKind.Relative,filePrefix:"${cwd}",pattern:d.defaultPattern("tsc")},v["gulp-tsc"]={owner:"typescript",fileLocation:d.FileLocationKind.Relative,filePrefix:"${cwd}",pattern:d.defaultPattern("gulp-tsc")},v.jshint={owner:"javascript",fileLocation:d.FileLocationKind.Absolute,pattern:d.defaultPattern("jshint")};var g;!function(e){e[e.OK=0]="OK",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal"}(g||(g={}));var b;!function(e){e[e.Unknown=0]="Unknown",e[e.String=1]="String",e[e.ProblemMatcher=2]="ProblemMatcher",e[e.Array=3]="Array"}(b||(b={}));var y=function(){function e(){this._state=g.OK}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){e>this._state&&(this._state=e)},enumerable:!0,configurable:!0}),e}(),_=function(){function e(e,t,n,r,i,o,s){void 0===s&&(s=!0),this.fileConfig=e,this.variables=t,this.markerService=n,this.outputChannel=o,this.outputService=i,this.telemetryService=r,this.defaultBuildTaskIdentifier=null,this.defaultTestTaskIdentifier=null,this.taskRunner=null,s&&this.clearOutput(),this.errorsShown=!1,this.validationStatus=new y,this.namedProblemMatchers=Object.create(null),this.configuration=this.createTaskRunnerConfiguration(e),this.validationStatus.state!==g.OK&&this.outputService.showOutput(this.outputChannel,!1,!0)}return e.prototype.createTaskRunnerConfiguration=function(e){var t=this.createBaseTaskRunnerConfiguration(e);if(this.validationStatus.state===g.Fatal)return t;var n=null;return e.windows&&c.platform===c.Platform.Windows?n=this.createBaseTaskRunnerConfiguration(e.windows,!1):e.osx&&c.platform===c.Platform.Mac?n=this.createBaseTaskRunnerConfiguration(e.osx,!1):e.linux&&c.platform===c.Platform.Linux&&(n=this.createBaseTaskRunnerConfiguration(e.linux,!1)),n&&this.validationStatus.state!==g.Fatal&&this.mergeTaskRunnerConigurations(t,n),this.validationStatus.state!==g.Fatal&&r.isUndefined(t.options.cwd)&&(t.options.cwd="${workspaceRoot}"),t},e.prototype.mergeTaskRunnerConigurations=function(e,t){if(t.command&&(e.command=t.command),t.args&&(e.args=e.args?e.args.concat(t.args):t.args),r.isUndefined(t.isShellCommand)||(e.isShellCommand=t.isShellCommand),t.options&&(r.isString(t.options.cwd)&&(e.options.cwd=t.options.cwd),t.options.env)){var n=t.options.env,i=e.options.env;i?Object.keys(n).forEach(function(e){i[e]=n[e]}):e.options.env=n}if(t.tasks){var o=Object.create(null);Object.keys(e.tasks).forEach(function(t){var n=e.tasks[t];o[n.name]=n.id});var s=Object.create(null);Object.keys(t.tasks).forEach(function(e){var n=t.tasks[e];s[n.name]=n.id}),Object.keys(s).forEach(function(n){var r=o[n],i=s[n];r&&delete e.tasks[r],e.tasks[i]=t.tasks[i]})}},e.prototype.createBaseTaskRunnerConfiguration=function(e,t){void 0===t&&(t=!0);var i={command:void 0};if(r.isString(e.command)&&(i.command=e.command),!i.command)return this.validationStatus.state=g.Fatal,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",0)),i;r.isUndefined(e.isShellCommand)||(i.isShellCommand=e.isShellCommand);var o=r.isUndefined(e.args);this.isStringArray(e.args)&&(o=!0,i.args=e.args.slice()),o||(this.validationStatus.state=g.Fatal,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",1,e.args?JSON.stringify(e.args,null,4):"undefined")));var s=void 0;r.isString(e.showOutput)&&(s=d.ShowOutput.fromString(e.showOutput)),r.isUndefined(s)&&(s=d.ShowOutput.Always),i.options=this.createCommandOptions(e.options),t&&(this.namedProblemMatchers=this.createNamedProblemMatchers(e));var a=!r.isUndefined(e.problemMatcher),l=r.isArray(e.tasks);if(l){var c={showOutput:s,isMain:t};i.tasks=this.createTasks(e.tasks,c),a&&(this.validationStatus.state=g.Warning,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",2)))}else if(t){var p={id:u.generateUuid(),name:i.command,suppressTaskName:!0,showOutput:s};if(a){var h=this.createMatcherInfos(e.problemMatcher);p.problemMatchers=h.problemMatchers,p.watchedTaskBeginsMatchers=h.beginMatchers,p.watchedTaskEndsMatchers=h.finishMatchers}else p.problemMatchers=[],p.watchedTaskBeginsMatchers=[],p.watchedTaskEndsMatchers=[];this.defaultBuildTaskIdentifier=p.id,i.tasks=Object.create(null),i.tasks[p.id]=p}return i},e.prototype.createCommandOptions=function(e){var t={};return e&&(r.isUndefined(e.cwd)||(r.isString(e.cwd)?t.cwd=e.cwd:(this.validationStatus.state=g.Warning,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",3,e.cwd)))),r.isUndefined(e.env)||(t.env=i.clone(e.env))),t},e.prototype.createNamedProblemMatchers=function(e){var t=this,n=Object.create(null);if(!r.isArray(e.declares))return n;var i=e.declares;return i.forEach(function(e){var r=t.createNamedProblemMatcher(e);r&&(n[r.name]=r)}),n},e.prototype.createNamedProblemMatcher=function(e){var t=this.createTaskProblemMatcher(e);if(!this.checkProblemMatcherValid(t,e))return null;e.name||(this.validationStatus.state=g.Error,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",4,JSON.stringify(e,[],4))));var r={name:e.name,problemMatcher:t},i=this.createWatchedTaskBeginMatcher(e,t);i&&(r.beginMatcher=i);var o=this.createWatchedTaskEndMatcher(e,t);o&&(r.finishMatcher=o)},e.prototype.createTasks=function(e,t){var n=this,i=Object.create(null);if(!e)return i;var o={id:null,exact:-1},s={id:null,exact:-1};return e.forEach(function(e){var a=e.taskName,l=n.createMatcherInfos(e.problemMatcher),c={id:u.generateUuid(),name:a,showOutput:t.showOutput};n.isStringArray(e.args)&&(c.args=e.args.slice()),r.isUndefined(e.isWatching)||(c.isWatching=e.isWatching),r.isString(e.showOutput)&&(c.showOutput=d.ShowOutput.fromString(e.showOutput)),r.isUndefined(c.showOutput)&&(c.showOutput=t.showOutput),l&&(c.problemMatchers=l.problemMatchers,c.watchedTaskBeginsMatchers=l.beginMatchers,c.watchedTaskEndsMatchers=l.finishMatchers),i[c.id]=c,!r.isUndefined(e.isBuildCommand)&&e.isBuildCommand&&o.exact<2?(o.id=c.id,o.exact=2):"build"===a&&o.exact<2&&(o.id=c.id,o.exact=1),!r.isUndefined(e.isTestCommand)&&e.isTestCommand&&s.exact<2?(s.id=c.id,s.exact=2):"test"===a&&s.exact<2&&(s.id=c.id,s.exact=1)}),o.exact>0&&(this.defaultBuildTaskIdentifier=o.id),s.exact>0&&(this.defaultTestTaskIdentifier=s.id),i},e.prototype.createMatcherInfos=function(e){var t=this,i={problemMatchers:[],beginMatchers:[],finishMatchers:[]};if(r.isUndefined(e))return i;var o=this.getProblemMatcherKind(e);if(o===b.Unknown)return this.validationStatus.state=g.Warning,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",5,JSON.stringify(e,null,4))),i;if(o===b.String||o===b.ProblemMatcher)this.addInfo(i,this.createMatcherInfo(e));else if(o===b.Array){var s=e;s.forEach(function(e){return t.addInfo(i,t.createMatcherInfo(e))})}return i},e.prototype.getProblemMatcherKind=function(e){return r.isString(e)?b.String:r.isArray(e)?b.Array:r.isUndefined(e)?b.Unknown:b.ProblemMatcher},e.prototype.addInfo=function(e,t){t&&(t.problemMatcher&&e.problemMatchers.push(t.problemMatcher),t.beginMatcher&&e.beginMatchers.push(t.beginMatcher),t.finishMatcher&&e.finishMatchers.push(t.finishMatcher))},e.prototype.createMatcherInfo=function(e){var t={},o=null,s=null,a=!1;if(r.isString(e)){a=!0;var l=e;if(l.length>1&&"$"===l[0]){if(l=l.substring(1),o=v[l])return t.problemMatcher=i.clone(o),t;var c=this.namedProblemMatchers[l];if(c)return t.problemMatcher=i.clone(c.problemMatcher),c.beginMatcher&&(t.beginMatcher=i.clone(c.beginMatcher)),c.finishMatcher&&(t.finishMatcher=i.clone(c.finishMatcher)),t}return this.validationStatus.state=g.Error,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",6,e)),t}if(s=e,o=this.createTaskProblemMatcher(s),!this.checkProblemMatcherValid(o,s))return t;if(t.problemMatcher=o,s){var u=this.createWatchedTaskBeginMatcher(s,o);u&&(t.beginMatcher=u);var d=this.createWatchedTaskEndMatcher(s,o);d&&(t.finishMatcher=d)}return t},e.prototype.checkProblemMatcherValid=function(e,t){return e&&e.pattern&&e.owner&&!r.isUndefined(e.fileLocation)?!0:(this.validationStatus.state=g.Fatal,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",7,JSON.stringify(t,null,4))),!1)},e.prototype.createTaskProblemMatcher=function(e){var t,o=null,a=e.owner?e.owner:"external",l=void 0,c=void 0;if(r.isUndefined(e.fileLocation))l=d.FileLocationKind.Relative,c="${cwd}";else if(r.isString(e.fileLocation))t=d.FileLocationKind.fromString(e.fileLocation),t&&(l=t,t===d.FileLocationKind.Relative&&(c="${cwd}"));else if(this.isStringArray(e.fileLocation)){var u=e.fileLocation;u.length>0&&(t=d.FileLocationKind.fromString(u[0]),1===u.length&&t===d.FileLocationKind.Absolute?l=t:2===u.length&&t===d.FileLocationKind.Relative&&u[1]&&(l=t,c=u[1]))
}var p=e.pattern?this.createTaskProblemPattern(e.pattern):void 0,h=e.severity?s.fromValue(e.severity):void 0;if(h===s.Ignore&&(this.validationStatus.state=g.Info,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",8,e.severity)),h=s.Error),r.isString(e.base)){var m=e.base;if(m.length>1&&"$"===m[0]){var f=v[m.substring(1)];f&&(o=i.clone(f),e.owner&&(o.owner=a),l&&(o.fileLocation=l),c&&(o.filePrefix=c),e.pattern&&(o.pattern=p),e.severity&&(o.severity=h))}}else l&&(o={owner:a,fileLocation:l,pattern:p},c&&(o.filePrefix=c),h&&(o.severity=h));return o},e.prototype.createTaskProblemPattern=function(e){var t=null;if(r.isString(e)){var n=e;n.length>1&&"$"===n[0]&&(t=d.defaultPattern(n.substring(1)))}else{var o=e;t=o.location?i.mixin(i.clone(o),{file:1,message:4},!1):i.mixin(i.clone(o),{file:1,line:2,column:3,message:4},!1),t.regexp=this.createRegularExpression(o.regexp)}return t},e.prototype.createWatchedTaskBeginMatcher=function(e,t){var n=null,r=this.createRegularExpression(e.watchedTaskBeginsRegExp);return r&&(n={owner:t.owner,fileLocation:t.fileLocation,filePrefix:t.filePrefix,regexp:r}),n},e.prototype.createWatchedTaskEndMatcher=function(e,t){var n=null,r=this.createRegularExpression(e.watchedTaskEndsRegExp);return r&&(n={owner:t.owner,fileLocation:t.fileLocation,filePrefix:t.filePrefix,regexp:r}),n},e.prototype.createRegularExpression=function(e){var t=null;if(!e)return t;try{t=new RegExp(e),o.regExpLeadsToEndlessLoop(t)&&(t=null,this.validationStatus.state=g.Fatal,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",9,e)))}catch(r){this.validationStatus.state=g.Fatal,this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",10,e))}return t},e.prototype.build=function(){if(!this.defaultBuildTaskIdentifier)throw new f(s.Info,n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",11),1);return this.executeTask(this.defaultBuildTaskIdentifier,d.Triggers.shortcut)},e.prototype.rebuild=function(){throw new Error("Task - Rebuild: not implemented yet")},e.prototype.clean=function(){throw new Error("Task - Clean: not implemented yet")},e.prototype.runTest=function(){if(!this.defaultTestTaskIdentifier)throw new f(s.Info,n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",12),1);return this.executeTask(this.defaultTestTaskIdentifier,d.Triggers.shortcut)},e.prototype.run=function(e){return this.executeTask(e)},e.prototype.isActive=function(){return a.TPromise.as(!!this.taskRunner)},e.prototype.isActiveSync=function(){return!!this.taskRunner},e.prototype.terminate=function(){return this.taskRunner&&a.TPromise.as(this.taskRunner.terminate()),a.TPromise.as({success:!0})},e.prototype.terminateSync=function(){return this.taskRunner?this.taskRunner.terminate():{success:!0}},e.prototype.tasks=function(){var e,t=this;return e=this.configuration&&this.configuration.tasks?Object.keys(this.configuration.tasks).map(function(e){return t.configuration.tasks[e]}):[],a.TPromise.as(e)},e.prototype.executeTask=function(t,r){var i=this;if(void 0===r&&(r=d.Triggers.command),this.validationStatus.state===g.Fatal)throw new f(s.Error,n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",13));var o=this.configuration.tasks[t];if(!o)throw new f(s.Info,n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",14));var l={trigger:r,success:!0};try{return this.doExecuteTask(o).then(function(t){return i.telemetryService.publicLog(e.TelemetryEventName,l),t},function(t){return l.success=!1,i.telemetryService.publicLog(e.TelemetryEventName,l),a.TPromise.as(t)})}catch(c){if(l.success=!1,this.telemetryService.publicLog(e.TelemetryEventName,l),c instanceof f)throw c;if(c instanceof Error){var u=c;throw this.outputService.append(this.outputChannel,u.message),new f(s.Error,u.message)}throw this.outputService.append(this.outputChannel,c.toString()),new f(s.Error,n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",15))}},e.prototype.doExecuteTask=function(e){var t=this,r={},i=this.configuration;this.validationStatus.state===g.OK||this.errorsShown?this.clearOutput():(this.showOutput(),this.errorsShown=!0);var o=this.configuration.args?this.configuration.args.slice():[];e.args&&(o=o.concat(e.args)),e.suppressTaskName||(this.fileConfig.taskSelector?o.push(this.fileConfig.taskSelector+e.name):o.push(e.name));var s=this.resolveVariable(i.command);if(this.taskRunner=new p(s,this.resolveVariables(o),!!i.isShellCommand,this.resolveOptions(i.options)),(e.showOutput===d.ShowOutput.Always||e.showOutput===d.ShowOutput.Silent&&0===e.problemMatchers.length)&&this.showOutput(),this.configuration.options&&this.configuration.options.cwd&&(this.variables.cwd=this.configuration.options.cwd),e.isWatching){var c,u=new m(this.resolveMatchers(e.problemMatchers),this.resolveMatchers(e.watchedTaskBeginsMatchers),this.resolveMatchers(e.watchedTaskEndsMatchers),this.markerService),f=null,v=new a.Promise(function(e){c=e}),b=this.taskRunner.run().then(function(r){t.taskRunner=null,t.checkTerminated(r)||t.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",16)),r.cmdCode&&1===r.cmdCode&&0===u.numberOfMatches&&e.showOutput!==d.ShowOutput.Never&&t.showOutput()},function(e){t.taskRunner=null,t.handleError(e)},function(e){c(null),t.outputService.append(t.outputChannel,e.line+"\n"),u.processLine(e.line),null===f&&(f=new l.Delayer(500)),f.trigger(function(){return u.forceDelivery(),null}).then(function(){f=null})});return a.TPromise.any([b,a.Promise.timeout(3e3),v]).then(function(){return v.done(),r},function(){return v.done(),r})}var y=new h(this.resolveMatchers(e.problemMatchers),this.markerService);return this.taskRunner.run().then(function(n){return y.done(),t.taskRunner=null,t.checkTerminated(n),n.cmdCode&&1===n.cmdCode&&0===y.numberOfMatches&&e.showOutput!==d.ShowOutput.Never&&t.showOutput(),r},function(e){return t.taskRunner=null,t.handleError(e)},function(e){t.outputService.append(t.outputChannel,e.line+"\n"),y.processLine(e.line)})},e.prototype.handleError=function(e){var t=!1;if(e.error&&!e.terminated){var r=this.configuration.args?this.configuration.args.join(" "):"";this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",17,this.configuration.command,r)),this.outputService.append(this.outputChannel,e.error.message),t=!0}return e.stdout&&(this.outputService.append(this.outputChannel,e.stdout),t=!0),e.stderr&&(this.outputService.append(this.outputChannel,e.stderr),t=!0),t=this.checkTerminated(e)||t,t&&this.showOutput(),a.Promise.wrapError(e)},e.prototype.checkTerminated=function(e){return e.terminated?(this.log(n.localize("vs_workbench_contrib_tasks.native_taskRunnerSystem",18)),!0):!1},e.prototype.resolveOptions=function(e){var t=this,n={cwd:this.resolveVariable(e.cwd)};return e.env&&(n.env=Object.create(null),Object.keys(e.env).forEach(function(r){n.env[r]=t.resolveVariable(e.env[r])})),n},e.prototype.resolveVariables=function(e){var t=this;return e.map(function(e){return t.resolveVariable(e)})},e.prototype.resolveMatchers=function(e){var t=this;if(0===e.length)return e;var n=[];return e.forEach(function(e){if(e.filePrefix){var r=i.clone(e);r.filePrefix=t.resolveVariable(r.filePrefix),n.push(r)}else n.push(e)}),n},e.prototype.resolveVariable=function(e){var t=this,n=/\$\{(.*)\}/g;return e.replace(n,function(e,n){var r=t.variables[n];return r?r:e})},e.prototype.log=function(e){this.outputService.append(this.outputChannel,e+"\n")},e.prototype.showOutput=function(){this.outputService.showOutput(this.outputChannel,!0,!0)},e.prototype.clearOutput=function(){this.outputService.clearOutput(this.outputChannel)},e.prototype.isStringArray=function(e){return r.isArray(e)&&e.every(function(e){return r.isString(e)})},e.TelemetryEventName="taskService",e}();return _}),define("vs/workbench/contrib/tasks.native/taskRunnerDetector",["require","exports","vs/base/strings","vs/platform/tasks/tasks","vs/platform/tasks/taskRunner"],function(e,t,n,r,i){var o="build",s="test",a=function(){function e(e,t,n){void 0===n&&(n=null),this.fileService=e,this.variables=t,this.taskConfiguration=n,this._stderr=[]}return e.supports=function(t){return e.SupportedRunners[t]},e.detectorConfig=function(t){return e.TaskPatterns[t]},Object.defineProperty(e.prototype,"stderr",{get:function(){return this._stderr},enumerable:!0,configurable:!0}),e.prototype.detect=function(t){var n=this;if(void 0===t&&(t=!1),this.taskConfiguration&&this.taskConfiguration.command&&e.supports(this.taskConfiguration.command)){var r=e.detectorConfig(this.taskConfiguration.command),o=(this.taskConfiguration.args||[]).concat(r.arg),s=this.taskConfiguration.options?this.variables.resolve(s):{cwd:this.variables.workspaceRoot},a=!!this.taskConfiguration.isShellCommand;return this.runDetection(new i(this.taskConfiguration.command,this.variables.resolve(o),a,s),this.taskConfiguration.command,a,r.regExp,e.DefaultProblemMatchers,t)}return this.tryDetectGulp(t).then(function(e){return e?e:n.tryDetectJake(t).then(function(e){return e?e:{config:null,stderr:[]}})})},e.prototype.tryDetectGulp=function(t){var n=this;return this.fileService.resolveFileStat("gulpfile.js").then(function(){var r=new i("gulp",["--tasks-simple","--no-color"],!0,{cwd:n.variables.workspaceRoot});return n.runDetection(r,"gulp",!0,/^([^\s]+)$/,e.DefaultProblemMatchers,t)},function(){return null})},e.prototype.tryDetectJake=function(t){var n=this;return this.fileService.resolveFileStat("Jakefile").then(function(){var r=new i("jake",["--tasks"],!0,{cwd:n.variables.workspaceRoot});return n.runDetection(r,"jake",!0,/^jake\s+([^\s]+)\s/,e.DefaultProblemMatchers,t)},function(){return null})},e.prototype.runDetection=function(t,i,o,s,a,l){var c=this,u=[];return t.run().then(function(){var t={version:e.Version,command:i,isShellCommand:o};"gulp"===i&&(t.args=["--no-color"]);var n=[];if(l)u.forEach(function(e){n.push({taskName:e,args:[],isWatching:!1})});else{var r={build:{index:-1,exact:-1},test:{index:-1,exact:-1}};u.forEach(function(e,t){c.testBuild(r.build,e,t),c.testTest(r.test,e,t)}),-1!==r.build.index&&n.push({taskName:u[r.build.index],args:[],isBuildCommand:!0,isWatching:!1,problemMatcher:a}),-1!==r.test.index&&n.push({taskName:u[r.test.index],args:[],isTestCommand:!0})}return t.tasks=n,{config:t,stderr:c._stderr}},function(){return null},function(e){if(e.source===r.Source.stderr)return c._stderr.push(e.line),void 0;var t=n.removeAnsiEscapeCodes(e.line),i=s.exec(t);i&&i.length>0&&u.push(i[1])})},e.prototype.testBuild=function(e,t,r){t===o?(e.index=r,e.exact=3):(n.startsWith(t,o)||n.endsWith(t,o))&&e.exact<3?(e.index=r,e.exact=2):-1!==t.indexOf(o)&&e.exact<2&&(e.index=r,e.exact=1)},e.prototype.testTest=function(e,t,r){t===s?(e.index=r,e.exact=3):(n.startsWith(t,s)||n.endsWith(t,s))&&e.exact<3?(e.index=r,e.exact=2):-1!==t.indexOf(s)&&e.exact<2&&(e.index=r,e.exact=1)},e.Version="0.1.0",e.SupportedRunners={gulp:!0,jake:!0},e.TaskPatterns={gulp:{regExp:/^(.*)$/,arg:"--tasks-simple"},jake:{regExp:/^jake\s+([^\s]+)\s/,arg:"--tasks"}},e.DefaultProblemMatchers=["$lessCompile","$tsc","$jshint"],e}();return a}),define("vs/workbench/contrib/tasks.native/systemVariables",["require","exports","vs/workbench/ui/parts/editor/baseEditor","vs/base/types","vs/base/paths"],function(e,t,n,r,i){var o=function(){function e(e,t){this.editorService=e,this._workspaceRoot=i.normalize(t.path,!0),this._cwd=null}return Object.defineProperty(e.prototype,"cwd",{get:function(){return null===this._cwd?this.workspaceRoot:this.resolve(this._cwd)},set:function(e){this._cwd=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceRoot",{get:function(){return this._workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return this.getFilePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileBasename",{get:function(){return i.basename(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileDirname",{get:function(){return i.dirname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileExtname",{get:function(){return i.extname(this.getFilePath())},enumerable:!0,configurable:!0}),e.prototype.getFilePath=function(){var e=this.editorService.getActiveEditorInput();if(!e)return"";var t=n.asFileEditorInput(e);if(!t)return"";var r=t.getResource();return i.normalize(r.path,!0)},e.prototype.resolve=function(e){return r.isString(e)?this.__resolveString(e):r.isArray(e)?this.__resolveArray(e):r.isObject(e)?this.__resolveLiteral(e):void 0},e.prototype.__resolveString=function(e){var t=this,n=/\$\{(.*)\}/g;return e.replace(n,function(e,n){var i=t[n];return r.isString(i)?i:e})},e.prototype.__resolveLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(r){var i=e[r];n[r]=t.resolve(i)}),n},e.prototype.__resolveArray=function(e){var t=this;return e.map(function(e){return t.__resolveString(e)})},e}();return o}),define("vs/css!vs/workbench/contrib/tasks.native/media/task.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/tasks.native/taskQuickOpen",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/objects","vs/base/filters","vs/workbench/ui/quickopen/quickOpen","vs/base/ui/widgets/quickopen/quickOpenModel"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n,r){void 0===r&&(r=[]),e.call(this,r),this.taskService=t,this.task=n}return __extends(t,e),t.prototype.getLabel=function(){return this.task.name},t.prototype.run=function(e){return e===s.Mode.PREVIEW?!1:(this.taskService.run(this.task.id),!0)},t}(s.QuickOpenEntry),l=function(e){function t(t){e.call(this),this.quickOpenService=t.quickOpenService,this.taskService=t.taskService}return __extends(t,e),t.prototype.getResults=function(e){var t=this;return this.taskService.tasks().then(function(n){return n.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(t){return new r.Tuple(t,i.matchesContiguousSubString(e,t.name))}).filter(function(e){return!!e.second}).map(function(e){return new a(t.taskService,e.first,e.second)})},function(){return[]})},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t.prototype.onClose=function(){},t.prototype.getGroupLabel=function(){return null},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("vs_workbench_contrib_tasks.native_taskQuickOpen",0):n.localize("vs_workbench_contrib_tasks.native_taskQuickOpen",1)},t}(o.QuickOpenHandler);t.QuickOpenHandler=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/tasks.native/task.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/base/severity","vs/base/objects","vs/base/ui/actions","vs/base/dom/dom","vs/base/lifecycle","vs/base/eventEmitter","vs/base/dom/builder","vs/base/uri","vs/platform/platform","vs/platform/services","vs/platform/actionRegistry","vs/platform/configuration/configurationRegistry","vs/workbench/core/extensions","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/statusbar/statusbar","vs/workbench/ui/quickopen/quickOpen","vs/workbench/contrib/output/output","./languageServiceTaskSystem","./taskRunnerSystem","./taskRunnerDetector","./systemVariables","./taskError","vs/css!./media/task.contribution","vs/workbench/contrib/tasks.native/taskQuickOpen"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C){var x=d.$,A=function(e){function t(t,n,r){e.call(this,n,r),this.taskService=t[V.SERVICE_ID],this.telemetryService=t.telemetryService}return __extends(t,e),t}(a.Action),L=function(e){function t(n){e.call(this,n,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){return this.taskService.build()},t.ID="workbench.action.tasks.build",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",0),t}(A),N=function(e){function t(n){e.call(this,n,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){return this.taskService.runTest()},t.ID="workbench.action.tasks.test",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",1),t}(A),I=(function(e){function t(n){e.call(this,n,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){return this.taskService.rebuild()},t.ID="workbench.action.tasks.rebuild",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",2),t}(A),function(e){function t(n){e.call(this,n,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){return this.taskService.clean()},t.ID="workbench.action.tasks.clean",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",3),t}(A),function(t){function r(e){t.call(this,r.ID,r.TEXT),this.configurationService=e.configurationService,this.editorService=e.editorService,this.fileService=e.fileService,this.contextService=e.contextService,this.outputService=e.outputService}return __extends(r,t),r.prototype.run=function(t){var r=this,o=!(!t||!t.ctrlKey&&!t.metaKey);return this.fileService.resolveFileStat("/.settings/tasks.json").then(function(e){return e},function(){var t=new T(r.fileService,new k(r.editorService,r.contextService.getWorkspace().resource));return t.detect(!1).then(function(t){var n=t.config;t.stderr&&t.stderr.length>0&&t.stderr.forEach(function(e){r.outputService.append(e+"\n"),r.outputService.showOutput(V.OutputChannel,!1,!0)});var o;if(n)o=i.TPromise.as(JSON.stringify(n,null,4));else{var s=p.parse(e.toUrl("vs/workbench/contrib/tasks.native/taskSampleConfig.json"));o=r.fileService.resolveContent(s).then(function(e){return e.value},function(){var e={version:"0.1.0",command:"msbuild.exe",args:["/property:GenerateFullPaths=true"],taskConfiguration:{build:{problemMatcher:"$msbuild"}}};return JSON.stringify(e,null,4)})}return o.then(function(e){return r.fileService.createFile("/.settings/tasks.json",e)})})}).then(function(e){return r.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}},o)},function(){throw new Error(n.localize("vs_workbench_contrib_tasks.native_task.contribution",4))})},r.ID="workbench.action.tasks.configureTaskRunner",r.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",5),r}(a.Action)),O=function(e){function t(){e.call(this,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){return this.closeFunction&&this.closeFunction(),i.Promise.as(null)},t.ID="workbench.action.build.closeMessage",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",6),t}(a.Action),R=function(e){function t(n){e.call(this,n,t.ID,t.TEXT)}return __extends(t,e),t.prototype.run=function(){var e=this;return this.taskService.isActive().then(function(t){return t?e.taskService.terminate().then(function(e){return e.success?void 0:i.Promise.wrapError(n.localize("vs_workbench_contrib_tasks.native_task.contribution",7))}):void 0})},t.ID="workbench.action.tasks.terminate",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",8),t}(A),P=function(e){function t(n){e.call(this,n,t.ID,t.TEXT),this.outputService=n.outputService}return __extends(t,e),t.prototype.run=function(){return this.outputService.showOutput(V.OutputChannel)},t.ID="workbench.action.tasks.showLog",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",9),t}(A),D=function(e){function t(n){e.call(this,t.ID,t.TEXT),this.quickOpenService=n.quickOpenService}return __extends(t,e),t.prototype.run=function(){return this.quickOpenService.show("task "),i.Promise.as(null)},t.ID="workbench.action.tasks.runTask",t.TEXT=n.localize("vs_workbench_contrib_tasks.native_task.contribution",10),t}(a.Action),M=function(){function e(e){this.quickOpenService=e.quickOpenService,this.markerService=e.markerService,this.outputService=e.outputService,this.taskService=e.taskService}return e.prototype.render=function(t){var r=this,i=[],o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("a"),u=document.createElement("div"),d=document.createElement("div"),p=document.createElement("div");l.addClass(o,"task-statusbar-item"),l.addClass(s,"task-statusbar-item-progress"),o.appendChild(s),s.innerHTML=e.progressChars[0],x(s).hide(),l.addClass(a,"task-statusbar-item-label"),o.appendChild(a),l.addClass(u,"task-statusbar-item-label-error"),u.innerHTML="0",a.appendChild(u),l.addClass(d,"task-statusbar-item-label-warning"),d.innerHTML="0",a.appendChild(d),l.addClass(p,"task-statusbar-item-label-info"),a.appendChild(p),x(p).hide(),i.push(l.addListener(a,"click",function(){r.quickOpenService.show("!")}));var h=function(e,t){return t>0?(e.innerHTML=t.toString(),x(e).show(),!0):(x(e).hide(),!1)},m=n.localize("vs_workbench_contrib_tasks.native_task.contribution",11),f=function(e){u.innerHTML=e.errors<100?e.errors.toString():m,d.innerHTML=e.warnings<100?e.warnings.toString():m,h(p,e.infos)};return this.markerService.onMarkerChanged.add(function(){f(r.markerService.getStatistics())}),i.push(this.taskService.addListener(F.Started,function(){var t=1,n=e.progressChars;s.innerHTML=n[0],r.intervalToken=setInterval(function(){s.innerHTML=n[t],t++,t>=n.length&&(t=0)},50),x(s).show()})),i.push(this.taskService.addListener(F.Finished,function(){x(s).hide(),clearInterval(r.intervalToken)})),t.appendChild(o),{dispose:function(){return c.cAll(i)}}},e.progressChars="|/-\\",e}(),F=function(){function e(){}return e.Started="started",e.Summary="summary",e.Finished="finished",e.ConfigChanged="configChanged",e}(),V=function(e){function t(t){var n=this;e.call(this),this.configurationService=t.configurationService,this.markerService=t.markerService,this.outputService=t.outputService,this.messageService=t.messageService,this.editorService=t.editorService,this.fileService=t.fileService,this.contextService=t.contextService,this.telemetryService=t.telemetryService,this.textFileService=t.textFileService,this.configurationService.addListener(m.ConfigurationServiceEventTypes.UPDATED,function(){n.emit(F.ConfigChanged),n._taskSystem=null,n._taskSystemPromise=null})}return __extends(t,e),Object.defineProperty(t.prototype,"taskSystemPromise",{get:function(){var e=this;if(!this._taskSystemPromise){var r=new k(this.editorService,this.contextService.getWorkspace().resource),a=!0;this._taskSystemPromise=this.configurationService.loadConfiguration("tasks").then(function(l){var c=l?l.$parseErrors:null;if(c){for(var u=!1,d=0;d<c.length;d++)if(/tasks\.json$/.test(c[d])){u=!0;break}if(u)return e.outputService.append(t.OutputChannel,n.localize("vs_workbench_contrib_tasks.native_task.contribution",12)),e.outputService.showOutput(t.OutputChannel,!0,!0),i.TPromise.wrapError({})}var p;if(l)if(e.isRunnerConfig(l)&&e.hasDetectorSupport(l)){var h=l;p=new T(e.fileService,r,h).detect(!0).then(function(t){a=e.printStderr(t.stderr);var n=t.config;if(!n)return l;var r=s.clone(h),i=Object.create(null);return r.tasks?(r.tasks.forEach(function(e){return i[e.taskName]=e}),n.tasks.forEach(function(e){i[e.taskName]||r.tasks.push(e)})):n.tasks&&(r.tasks=n.tasks),r})}else p=i.TPromise.as(l);else p=new T(e.fileService,r).detect(!0).then(function(t){return a=e.printStderr(t.stderr),t.config});return p.then(function(i){if(!i)throw new C(o.Info,n.localize("vs_workbench_contrib_tasks.native_task.contribution",13),1);var s=null;if("service"===i.buildSystem?s=new E(i,e.telemetryService):e.isRunnerConfig(i)&&(s=new S(i,r,e.markerService,e.telemetryService,e.outputService,t.OutputChannel,a)),null===s)throw new C(o.Info,n.localize("vs_workbench_contrib_tasks.native_task.contribution",14));return e._taskSystem=s,s})})}return this._taskSystemPromise},enumerable:!0,configurable:!0}),t.prototype.printStderr=function(e){var n=this,r=!0;return e&&e.length>0&&(e.forEach(function(e){r=!1,n.outputService.append(t.OutputChannel,e+"\n")}),this.outputService.showOutput(t.OutputChannel,!0,!0)),r},t.prototype.isRunnerConfig=function(e){return!e.buildSystem||"program"===e.buildSystem},t.prototype.hasDetectorSupport=function(e){return e.command?T.supports(e.command):!1},t.prototype.build=function(){return this.executeTarget(function(e){return e.build()})},t.prototype.rebuild=function(){return this.executeTarget(function(e){return e.rebuild()})},t.prototype.clean=function(){return this.executeTarget(function(e){return e.clean()})},t.prototype.runTest=function(){return this.executeTarget(function(e){return e.runTest()})},t.prototype.run=function(e){return this.executeTarget(function(t){return t.run(e)})},t.prototype.executeTarget=function(e){var t=this;return this.emit(F.Started,{}),this.textFileService.saveAll().then(function(){return t.taskSystemPromise.then(function(t){return t.isActive().then(function(r){if(r)throw new C(o.Warning,n.localize("vs_workbench_contrib_tasks.native_task.contribution",15),2);return e(t)})}).then(function(e){return t.emit(F.Summary,e),t.emit(F.Finished,{}),e},function(e){t.emit(F.Finished,{error:e}),t.handleError(e)})})},t.prototype.isActive=function(){return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.isActive()}):i.TPromise.as(!1)},t.prototype.terminate=function(){var e=this;return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.terminate()}).then(function(t){return t.success&&(e._taskSystem=null),t}):i.TPromise.as({success:!0})},t.prototype.tasks=function(){return this.taskSystemPromise.then(function(e){return e.tasks()})},t.prototype.beforeShutdown=function(){return this._taskSystem&&this._taskSystem.isActiveSync()?this.messageService.confirm({message:n.localize("vs_workbench_contrib_tasks.native_task.contribution",16),primaryButton:"Terminate Task",secondaryButton:"Cancel Shutdown"})?this._taskSystem.terminateSync().success?(this._taskSystem=null,!1):!0:!0:!1},t.prototype.dispose=function(){},t.prototype.handleError=function(e){var r=!0;if(e instanceof C){var i=e;if(1===i.code||2===i.code){var s=new O,a={configurationService:this.configurationService,fileService:this.fileService,editorService:this.editorService,contextService:this.contextService,telemetryService:this.telemetryService,outputService:this.outputService,taskService:this},l=1===i.code?new I(a):new R(a);s.closeFunction=this.messageService.show(i.severity,{message:i.message,actions:[s,l]})}else this.messageService.show(i.severity,i.message)}else if(e instanceof Error){var c=e;this.messageService.show(o.Error,c.message)}else this.messageService.show(o.Error,n.localize("vs_workbench_contrib_tasks.native_task.contribution",17));r&&this.outputService.showOutput(t.OutputChannel,!1,!0)},t.SERVICE_ID="taskService",t.OutputChannel="Tasks",t}(u.EventEmitter);if(r.enableBuildNative){var B=h.Registry.as(g.Extensions.Services);B.registerService(new g.WorkbenchServiceDescriptor(V,V.SERVICE_ID,[w.OUTPUT_SERVICE_ID]));var H=n.localize("vs_workbench_contrib_tasks.native_task.contribution",18),W=h.Registry.as(b.Extensions.WorkbenchActions);W.registerWorkbenchAction(new f.SyncActionDescriptor(L,L.ID,L.TEXT,{ctrlCmd:!0,shift:!0,key:"B"}),H),W.registerWorkbenchAction(new f.SyncActionDescriptor(N,N.ID,N.TEXT,{ctrlCmd:!0,shift:!0,key:"T"}),H),W.registerWorkbenchAction(new f.SyncActionDescriptor(R,R.ID,R.TEXT),H),W.registerWorkbenchAction(new f.SyncActionDescriptor(I,I.ID,I.TEXT),H),W.registerWorkbenchAction(new f.SyncActionDescriptor(P,P.ID,P.TEXT),H),W.registerWorkbenchAction(new f.SyncActionDescriptor(D,D.ID,D.TEXT),H),h.Registry.as(_.Extensions.Quickopen).registerQuickOpenHandler(new _.QuickOpenHandlerDescriptor("vs/workbench/contrib/tasks.native/taskQuickOpen","QuickOpenHandler","task ",n.localize("vs_workbench_contrib_tasks.native_task.contribution",19)));var U=h.Registry.as(y.Extensions.Statusbar);U.registerStatusbarItem(new y.StatusbarItemDescriptor(M,y.StatusbarAlignment.LEFT,10));var $=h.Registry.as(w.Extensions.OutputChannels);$.registerChannel(V.OutputChannel);var j=h.Registry.as(v.Extensions.Configuration);j.registerConfiguration({id:"tasks",workspace:!0,container:!0,description:"Task definition file",type:"object",default:{version:"0.1.0",command:"myCommand",isShellCommand:!1,args:[],showOutput:"always",tasks:[{taskName:"build",showOutput:"silent",isBuildCommand:!0,problemMatcher:["$tsc","$lessCompile"]}]},definitions:{showOutputType:{type:"string",enum:["always","silent","never"],default:"silent"},patternType:{oneOf:[{type:"string",enum:["$tsc","$msCompile","$lessCompile","$jshint","$gulp-tsc","$cpp","$csc","$vb"]},{$ref:"#/definitions/pattern"}]},pattern:{default:{regexp:"^([^\\\\s].*)\\\\((\\\\d+,\\\\d+)\\\\):\\\\s*(.*)$",file:1,location:2,message:3},properties:{regexp:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",20)},file:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",21)},location:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",22)},line:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",23)},column:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",24)},endLine:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",25)},endColumn:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",26)},severity:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",27)},code:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",28)},message:{type:"integer",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",29)}}},problemMatcherType:{oneOf:[{type:"string",enum:["$tsc","$msCompile","$lessCompile","$jshint","$gulp-tsc"]},{$ref:"#/definitions/problemMatcher"},{type:"array",items:{anyOf:[{$ref:"#/definitions/problemMatcher"},{type:"string",enum:["$tsc","$msCompile","$lessCompile","$jshint","$gulp-tsc"]}]}}]},problemMatcher:{type:"object",properties:{base:{type:"string",enum:["$tsc","$msCompile","$lessCompile","$jshint","$gulp-tsc"],description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",30)},owner:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",31)},pattern:{$ref:"#/definitions/pattern",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",32)},fileLocation:{oneOf:[{type:"string",enum:["absolute","relative"]},{type:"array",items:{type:"string"}}],description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",33)},watchedTaskBeginsRegExp:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",34)},watchedTaskEndsRegExp:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",35)}}},baseTaskRunnerConfiguration:{type:"object",required:["command"],properties:{command:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",36)},isShellCommand:{type:"boolean",default:!0,description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",37)},args:{type:"array",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",38),items:{type:"string"}},options:{type:"object",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",39),properties:{cwd:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",40)},env:{type:"object",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",41)}},additionalProperties:{type:["string","array","object"]}},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",42)},taskSelector:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",43)},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",44)},tasks:{type:"array",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",45),items:{type:"object",$ref:"#/definitions/taskDescription"}}}},taskDescription:{type:"object",required:["taskName"],properties:{taskName:{type:"string",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",46)},args:{type:"array",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",47),items:{type:"string"}},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",48)},isWatching:{type:"boolean",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",49),default:!0},isBuildCommand:{type:"boolean",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",50),default:!0},isTestCommand:{type:"boolean",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",51),default:!0},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",52)}}}},allOf:[{type:"object",required:["version"],properties:{version:{type:"string",enum:["0.1.0"],description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",53)},windows:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",54)},osx:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",55)},linux:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize("vs_workbench_contrib_tasks.native_task.contribution",56)}}},{$ref:"#/definitions/baseTaskRunnerConfiguration"}]})
}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/nativeFileActions",["require","exports","vs/base/lib/winjs.base","vs/base/ui/actions","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/paths","vs/base/env","remote","vs/workbench/contrib/files/files","ipc"],function(e,t,n,r,i,o,s,a,l,c){var u=a.require("shell"),d=function(e){function t(t,n){e.call(this,"workbench.action.files.revealInWindows",s.isWindows?i.localize("vs_workbench_contrib_files_nativeFileActions",0):s.isMacintosh?i.localize("vs_workbench_contrib_files_nativeFileActions",1):i.localize("vs_workbench_contrib_files_nativeFileActions",2)),this.resource=n,this.order=45}return __extends(t,e),t.prototype.run=function(){return u.showItemInFolder(o.normalize(this.resource.path,!0)),n.Promise.as(!0)},t}(r.Action);t.RevealInOSAction=d;var p=function(e){function t(t,n,r,i,o,s){e.call(this,o,s),this.textFileService=t.textFileService,this.untitledEditorService=t.untitledEditorService,this.ipcMsg=n,this.ipcValue=r,this.confirmSave=i}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.confirmSave&&this.textFileService.getDirty().length>0;if(!t)return c.send(this.ipcMsg,this.ipcValue),n.Promise.as(!0);var r=this.textFileService.confirmSave();if(r===l.ConfirmResult.CANCEL)return n.Promise.as(!1);var i;return i=r===l.ConfirmResult.DONT_SAVE?this.textFileService.revertAll():this.textFileService.saveAll(!0),i.then(function(t){t.results.forEach(function(t){if(t.success&&"untitled"===t.source.scheme){var n=e.untitledEditorService.get(t.source);n&&n.dispose()}}),t.results.some(function(e){return!e.success})||c.send(e.ipcMsg,e.ipcValue)})},t}(r.Action);t.BaseOpenAction=p,t.OPEN_FILE_ID="workbench.action.files.openFile",t.OPEN_FILE_LABEL=i.localize("vs_workbench_contrib_files_nativeFileActions",3);var h=function(e){function n(n){e.call(this,n,"ticino:openFilePicker",void 0,!1,t.OPEN_FILE_ID,t.OPEN_FILE_LABEL)}return __extends(n,e),n}(p);t.OpenFileAction=h,t.OPEN_FOLDER_ID="workbench.action.files.openFolder",t.OPEN_FOLDER_LABEL=i.localize("vs_workbench_contrib_files_nativeFileActions",4);var m=function(e){function n(n){e.call(this,n,"ticino:openFolderPicker",void 0,!0,t.OPEN_FOLDER_ID,t.OPEN_FOLDER_LABEL)}return __extends(n,e),n}(p);t.OpenFolderAction=m,t.OPEN_FILE_FOLDER_ID="workbench.action.files.openFileFolder",t.OPEN_FILE_FOLDER_LABEL=i.localize("vs_workbench_contrib_files_nativeFileActions",5);var f=function(e){function n(n){e.call(this,n,"ticino:openFileFolderPicker",void 0,!0,t.OPEN_FILE_FOLDER_ID,t.OPEN_FILE_FOLDER_LABEL)}return __extends(n,e),n}(p);t.OpenFileFolderAction=f,t.OPEN_RECENT_FOLDER_ID="workbench.action.files.openRecentFolder",t.OPEN_RECENT_FOLDER_LABEL=i.localize("vs_workbench_contrib_files_nativeFileActions",6);var v=function(e){function n(n,r){e.call(this,n,"ticino:openRecentFolder",r,!0,t.OPEN_RECENT_FOLDER_ID,t.OPEN_RECENT_FOLDER_LABEL)}return __extends(n,e),n}(p);t.OpenRecentFolderAction=v}),define("vs/workbench/contrib/files/nativeFileTracker",["require","exports","vs/workbench/contrib/files/files","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/nativeFileActions","vs/base/env","vs/base/errors","vs/base/uri","vs/workbench/events","remote","ipc"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){if(this.eventService=e.eventService,this.contextService=e.contextService,this.textFileService=e.textFileService,this.instantiationService=e.instantiationService,this.partService=e.partService,this.toUnbind=[],this.isDocumentedEdited=!1,o.platform===o.Platform.Mac){var t=c.getCurrentWindow();t.setDocumentEdited(!1)}this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener(l.EventType.UNTITLED_FILE_DELETED,function(){return e.onUntitledDeletedEvent()})),this.toUnbind.push(this.eventService.addListener(l.EventType.UNTITLED_FILE_DIRTY,function(){return e.onUntitledDirtyEvent()})),this.toUnbind.push(this.eventService.addListener(n.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toUnbind.push(this.eventService.addListener(n.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toUnbind.push(this.eventService.addListener(n.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)})),this.toUnbind.push(this.eventService.addListener(n.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),u.on("ticino:openFiles",function(t){var n=e.instantiationService.createInstance(r.OpenResourcesAction,t.map(function(e){return{resource:a.file(e)}}));n.run().done(null,s.onUnexpectedError),n.dispose()}),u.on("ticino:openRecentFolder",function(t){if(!e.partService.isCreated())return u.send("ticino:openRecentFolder",t),void 0;var n=e.instantiationService.createInstance(i.OpenRecentFolderAction,t);n.run().done(function(){return n.dispose()},s.onUnexpectedError)})},e.prototype.onUntitledDirtyEvent=function(){this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onUntitledDeletedEvent=function(){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.onTextFileDirty=function(){this.contextService.isAutoSaveEnabled()||this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onTextFileSaved=function(){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.onTextFileSaveError=function(){this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onTextFileReverted=function(){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.updateDocumentEdited=function(){if(o.platform===o.Platform.Mac){var e=c.getCurrentWindow(),t=e.isDocumentEdited(),n=this.textFileService.isDirty();this.isDocumentedEdited=n,n!==t&&e.setDocumentEdited(n)}},e.prototype.getId=function(){return"vs.files.nativeFileTracker"},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e}();t.NativeFileTracker=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/nativeTextFileServices",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lib/winjs.base","vs/platform/platform","vs/base/errors","vs/base/paths","vs/base/uri","vs/base/ui/actions","vs/workbench/contrib/files/textFileServices","vs/workbench/contrib/files/editors/textFileEditorModel","vs/workbench/contrib/files/files","vs/workbench/ui/actionRegistry","vs/platform/actionRegistry","remote","ipc"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=m.require("dialog"),g=function(e){function t(t){e.call(this,t),this.messageService=t.messageService,this.fileService=t.fileService,this.instantiationService=t.instantiationService,this.untitledEditorService=t.untitledEditorService,this.registerAutoSaveActions()}return __extends(t,e),t.prototype.onOptionsChanged=function(){e.prototype.onOptionsChanged.call(this),this.registerAutoSaveActions()},t.prototype.registerAutoSaveActions=function(){var e=i.Registry.as(p.Extensions.WorkbenchActions);e.unregisterWorkbenchAction(b.ID),e.registerWorkbenchAction(new h.SyncActionDescriptor(b,b.ID,this.contextService.isAutoSaveEnabled()?n.localize("vs_workbench_contrib_files_nativeTextFileServices",0):n.localize("vs_workbench_contrib_files_nativeTextFileServices",1)))},t.prototype.handleDirtyFilesOnShutdown=function(){var e=this,t=!1;if(this.getDirty().length){var n=this.confirmSave();n===d.ConfirmResult.SAVE?(this.saveAll(!0).done(function(t){t.results.forEach(function(t){if(t.success&&"untitled"===t.source.scheme){var n=e.untitledEditorService.get(t.source);n&&n.dispose()}}),t.results.some(function(e){return!e.success})||f.send("ticino:quit")},o.onUnexpectedError),t=!0):n===d.ConfirmResult.CANCEL&&(t=!0)}return t},t.prototype.revertAll=function(t){var n=this;return e.prototype.revertAll.call(this,t).then(function(e){var r=n.untitledEditorService.getAll(t);return r.forEach(function(t){t&&(t.dispose(),e.results.push({source:t.getResource(),success:!0}))}),e})},t.prototype.getDirty=function(t){var n=e.prototype.getDirty.call(this,t);if(t){var r=this.untitledEditorService.get(t);r&&r.isDirty()&&n.push(r.getResource())}else n=n.concat(this.untitledEditorService.getDirty());return n},t.prototype.isDirty=function(t){return e.prototype.isDirty.call(this,t)?!0:this.untitledEditorService.getDirty().some(function(e){return!t||e.toString()===t.toString()})},t.prototype.confirmSave=function(e){var t=this.getDirty(e);if(0===t.length)return d.ConfirmResult.DONT_SAVE;var r=[1===t.length?n.localize("vs_workbench_contrib_files_nativeTextFileServices",2,s.basename(t[0].path)):n.localize("vs_workbench_contrib_files_nativeTextFileServices",3)];t.length>1&&(r.push(""),r=r.concat(t.map(function(e){return n.localize("vs_workbench_contrib_files_nativeTextFileServices",4,s.basename(e.path))})),r.push(""));var i={title:n.localize("vs_workbench_contrib_files_nativeTextFileServices",5),message:r.join("\n"),detail:n.localize("vs_workbench_contrib_files_nativeTextFileServices",6),buttons:[t.length>1?n.localize("vs_workbench_contrib_files_nativeTextFileServices",7):n.localize("vs_workbench_contrib_files_nativeTextFileServices",8),"Cancel",n.localize("vs_workbench_contrib_files_nativeTextFileServices",9)]},o=v.showMessageBox(m.getCurrentWindow(),i);switch(o){case 0:return d.ConfirmResult.SAVE;case 1:return d.ConfirmResult.CANCEL}return d.ConfirmResult.DONT_SAVE},t.prototype.saveAll=function(e){var t=this,n=[];Array.isArray(e)?e.forEach(function(e){n=n.concat(t.getDirty(e))}):n=this.getDirty();var r=[],i=[];return n.forEach(function(t){"file"===t.scheme?r.push(t):!Array.isArray(e)&&e!==!0||"untitled"!==t.scheme||i.push(t)}),this.doSaveAll(r,i)},t.prototype.doSaveAll=function(t,n){for(var i=this,o=[],s=0;s<n.length;s++){var l=this.untitledEditorService.get(n[s]);if(l){var c=this.promptForPathSync(this.suggestFileName(n[s]));if(!c)return r.Promise.as({results:t.concat(n).map(function(e){return{source:e}})});o.push(a.file(c))}}return e.prototype.saveAll.call(this,t).then(function(e){var t=[];return o.forEach(function(r,o){var s=i.saveAs(n[o],r).then(function(t){e.results.push({source:n[o],target:t,success:!!t})});t.push(s)}),r.Promise.join(t).then(function(){return e})})},t.prototype.saveAs=function(e,t){var n=this,i=r.TPromise.as(null);if("file"===e.scheme)i=r.TPromise.as(u.CACHE.get(e));else if("untitled"===e.scheme){var o=this.untitledEditorService.get(e);o&&(i=o.resolve())}return i.then(function(i){if(i){var o;if(t)o=r.Promise.as(t);else{var s=e.path;"untitled"===e.scheme&&(s=n.suggestFileName(e)),o=n.promptForPathAsync(s).then(function(e){return e?a.file(e):null})}return o.then(function(t){return t?e.toString()===t.toString()?n.save(e).then(function(){return e}):n.fileService.updateContent({resource:t,value:i.getValue()}).then(function(){return t}):null})}})},t.prototype.suggestFileName=function(e){var t=this.contextService.getWorkspace();return t?s.join(t.resource.path,this.untitledEditorService.get(e).suggestFileName()):this.untitledEditorService.get(e).suggestFileName()},t.prototype.promptForPathAsync=function(e){return new r.TPromise(function(t){v.showSaveDialog(m.getCurrentWindow(),{defaultPath:e?s.normalize(e,!0):void 0},function(e){t(e)})})},t.prototype.promptForPathSync=function(e){return v.showSaveDialog(m.getCurrentWindow(),{defaultPath:e?s.normalize(e,!0):void 0})},t}(c.TextFileService);t.NativeTextFileService=g;var b=function(e){function t(r){e.call(this,t.ID,r.contextService.isAutoSaveEnabled()?n.localize("vs_workbench_contrib_files_nativeTextFileServices",10):n.localize("vs_workbench_contrib_files_nativeTextFileServices",11))}return __extends(t,e),t.prototype.run=function(){return f.send("ticino:toggleAutoSave"),r.Promise.as(!0)},t.ID="workbench.action.files.toggleAutoSave",t}(l.Action)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/files/files.native.contribution",["require","exports","vs/platform/platform","vs/workbench/ui/actionBarRegistry","vs/workbench/ui/actionRegistry","vs/platform/actionRegistry","vs/base/env","remote","vs/workbench/contrib/files/files","vs/workbench/core/extensions","vs/workbench/contrib/files/nativeFileTracker","vs/workbench/contrib/files/fileActions","vs/workbench/contrib/files/nativeTextFileServices","vs/workbench/contrib/files/nativeFileActions"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=(a.require("shell"),function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!l.asFileResource(t)},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=l.asFileResource(e.element);t.push(this.instantiationService.createInstance(h.RevealInOSAction,n.resource))}return t},t}(r.ActionBarContributor)),f=n.Registry.as(i.Extensions.WorkbenchActions);f.registerWorkbenchAction(new o.SyncActionDescriptor(d.SaveFileAsAction,d.SaveFileAsAction.ID,d.SaveFileAsAction.LABEL,{ctrlCmd:!0,alt:!0,key:"S"})),f.registerWorkbenchAction(new o.SyncActionDescriptor(d.GlobalNewFileAction,d.GlobalNewFileAction.ID,d.GlobalNewFileAction.LABEL,{ctrlCmd:!0,key:"N"})),s.isMacintosh?f.registerWorkbenchAction(new o.SyncActionDescriptor(h.OpenFileFolderAction,h.OPEN_FILE_FOLDER_ID,h.OPEN_FILE_FOLDER_LABEL,{ctrlCmd:!0,alt:!0,key:"O"})):(f.registerWorkbenchAction(new o.SyncActionDescriptor(h.OpenFileAction,h.OPEN_FILE_ID,h.OPEN_FILE_LABEL,{ctrlCmd:!0,alt:!0,key:"O"})),f.registerWorkbenchAction(new o.SyncActionDescriptor(h.OpenFolderAction,h.OPEN_FOLDER_ID,h.OPEN_FOLDER_LABEL)));var v=n.Registry.as(r.Extensions.Actionbar);v.registerActionBarContributor(r.Scope.VIEWER,m),n.Registry.as(c.Extensions.Workbench).registerWorkbenchExtension(u.NativeFileTracker),n.Registry.as(c.Extensions.Services).registerService(new c.WorkbenchServiceDescriptor(p.NativeTextFileService,l.TEXT_FILE_SERVICE_ID))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/execution/executionService",["require","exports","vs/base/errors","vs/base/hash","vs/base/lib/winjs.base","vs/base/objects","child_process"],function(e,t,n,r,i,o,s){var a=function(){function e(){this._executions=Object.create(null)}return e.prototype.exec=function(e,t,i){var s,a=o.clone(process.env);"string"==typeof i?s={cwd:i,env:a}:(o.mixin(a,i.env),i.env=a,s=i);var l=t.concat([e,s.cwd]).reduce(function(e,t){return r.combine(r.computeMurmur2StringHashCode(t),e)},17);this._executions[l]&&(this._executions[l].cancel(),delete this._executions[l]);var c=this.doExec(e,t,s);return this._executions[l]=c,c.then(function(e){return e},function(e){if(!n.isPromiseCanceledError(e))throw e})},e.prototype.doExec=function(){throw n.notImplemented()},e}();t.AbstractExecutionService=a;var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.doExec=function(e,t,n){var r;return new i.TPromise(function(i,o,a){t=["/c","start","/wait",e].concat(t),r=s.spawn("cmd.exe",t,n),r.on("exit",i),r.on("error",o),a(r)},function(){r&&s.exec("taskkill /F /T /PID "+r.pid,function(e){e&&console.error(e)})})},t}(a);t.WinExecutionService=l;var c=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.doExec=function(t,n,r){var o;return new i.TPromise(function(i,a,l){n=[e.toUrl("vs/workbench/contrib/execution/macHelper.scpt").replace(/^file:\/\//,""),"cd",r.cwd,";",t].concat(n),o=s.spawn("/usr/bin/osascript",n,r),o.on("exit",i),o.on("error",a),l(o)},function(){o&&o.kill("SIGTERM")})},n}(a);t.MacExecutionService=c}),define("vs/workbench/contrib/execution/terminalService",["require","exports","vs/base/errors","vs/base/uri","vs/base/severity","vs/base/lib/winjs.base","child_process"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this._configurationService=e.configurationService,this._messageService=e.messageService,this._executionService=e.executionService}return e.prototype.openTerminal=function(e){var t=this;this._configurationService.loadConfiguration("terminal").then(function(){return t._executionService.exec("",[],e)}).done(null,function(e){return t._messageService.show(i.Error,e)})},e}();t.WinTerminalService=a;var l=function(){function t(){}return t.prototype.openTerminal=function(e){this.getTerminalHelperScriptPath().done(function(t){s.spawn("/usr/bin/osascript",[t,e])},n.onUnexpectedError)},t.prototype.getTerminalHelperScriptPath=function(){return this._terminalApplicationScriptPath?this._terminalApplicationScriptPath:this._terminalApplicationScriptPath=new o.TPromise(function(e,t){var n=s.spawn("/usr/bin/osascript",["-e",'exists application "iTerm"']);n.on("error",t),n.on("exit",function(t){e(0===t?"iterm.scpt":"terminal.scpt")})}).then(function(t){return r.parse(e.toUrl("vs/workbench/contrib/execution/"+t)).path})},t}();t.MacTerminalService=l;var c=function(){function e(){}return e.prototype.openTerminal=function(e){s.spawn("x-terminal-emulator",[],{cwd:e})},e}();t.LinuxTerminalService=c}),define("vs/workbench/contrib/execution/execution.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/workbench/core/extensions","./executionService","./terminalService"],function(e,t,n,r,i,o,s){var a=r.Registry.as(i.Extensions.Services);n.isWindows?(a.registerService(new i.WorkbenchServiceDescriptor(o.WinExecutionService,"executionService")),a.registerService(new i.WorkbenchServiceDescriptor(s.WinTerminalService,"nativeTerminalService",["executionService"]))):n.isMacintosh?(a.registerService(new i.WorkbenchServiceDescriptor(o.MacExecutionService,"executionService")),a.registerService(new i.WorkbenchServiceDescriptor(s.MacTerminalService,"nativeTerminalService",["executionService"]))):n.isLinux&&a.registerService(new i.WorkbenchServiceDescriptor(s.LinuxTerminalService,"nativeTerminalService",["executionService"]))}),define("vs/css!vs/workbench/contrib/terminal/media/terminalActions.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/terminal/terminal.native.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/base/ui/actions","vs/base/uri","vs/base/paths","vs/platform/platform","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/actionBarRegistry","vs/workbench/contrib/files/files","vs/css!./media/terminalActions.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(e){function t(n){e.call(this,t.ID,t.Label),this.contextService=n.contextService,this.terminalService=n.nativeTerminalService,this.class="terminal-action open-global-console",this.order=49}return __extends(t,e),t.prototype.setResource=function(e){this.resource=e,this.label=t.ScopedLabel},t.prototype.run=function(){return this.terminalService.openTerminal(this.resource?this.resource.path:this.contextService.getWorkspace().resource.path),i.Promise.as(null)},t.ID="workbench.action.terminal.openNativeConsole",t.Label=n.localize("vs_workbench_contrib_terminal_terminal.native.contribution",0),t.ScopedLabel=n.localize("vs_workbench_contrib_terminal_terminal.native.contribution",1),t}(o.Action);t.OpenConsoleAction=h;var m=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){return!!p.asFileResource(e.element)},t.prototype.getSecondaryActions=function(e){var t=p.asFileResource(e.element),n=t.resource;t.isDirectory||(n=s.file(a.dirname(n.path)));var r=this.instantiationService.createInstance(h);return r.setResource(n),[r]},t}(d.ActionBarContributor);if(r.enableNativeConsole){var f=l.Registry.as(d.Extensions.Actionbar);f.registerActionBarContributor(d.Scope.VIEWER,m),l.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(h,h.ID,h.Label,{ctrlCmd:!0,shift:!0,key:"C"}))}}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsightsTelemetryAppender",["require","exports","vs/base/objects","vs/base/types","vs/base/hash"],function(e,t,n,r,i){var o={instrumentationKey:void 0,url:"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",endpointUrl:"https://dc.services.visualstudio.com/v2/track",accountId:void 0,autoCollectErrors:void 0,appUserId:void 0,diagnosticLogInterval:void 0,disableTelemetry:!1,enableDebug:!1,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,maxPayloadSizeInBytes:void 0,sessionExpirationMs:void 0,sessionRenewalMs:void 0,verboseLogging:void 0},s=function(){function e(e,t,r){if(this.addCommonMetrics=function(e){for(var t in this.commonMetrics)e["common."+t]=this.commonMetrics[t];return e},this.commonProperties={},this.commonMetrics={},e&&e.contextService&&(this.contextService=e.contextService),this.appInsightsConfig=n.withDefaults(t,o),this.contextService&&this.contextService.getConfiguration()&&this.contextService.getConfiguration().profile){var s=this.contextService.getConfiguration().profile.userEmail;if(s){var a=i.computeMurmur2StringHashCode(s).toString();this.appInsightsConfig.appUserId=a}}return r?(this.appInsights=r,void 0):(this.appInsightsConfig.instrumentationKey&&(window.appInsights=window.appInsights||function(e){function t(e){i[e]=function(){var t=arguments;i.queue.push(function(){i[e].apply(i,t)})}}var n,r,i={config:e},o=document,s=window,a="script",l=o.createElement(a);for(l.src=e.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",o.getElementsByTagName(a)[0].parentNode.appendChild(l),i.cookie=o.cookie,i.queue=[],n=["Event","Exception","Metric","PageView","Trace"];n.length;)t("track"+n.pop());return e.disableExceptionTracking||(n="onerror",t("_"+n),r=s[n],s[n]=function(e,t,o,s,a){var l=r&&r(e,t,o,s,a);return l!==!0&&i["_"+n](e,t,o,s,a),l}),i}(this.appInsightsConfig),this.appInsights=window.appInsights,this.appInsights.trackPageView("monacoWorkbench",window.location.origin)),void 0)}return e.prototype.log=function(t,n,r){if(this.appInsights){"UnhandledError"===t&&r&&this.appInsights.trackException(r);var i=this.getData(n,r);this.appInsights.trackEvent(e.EVENT_NAME_PREFIX+t,i.properties,i.measurements)}},e.prototype.dispose=function(){this.appInsights=null,window.appInsights=null},e.prototype.getData=function(e,t){var n={},i={};n.isPublic=e?"public":"restricted";var o=this.flaten(t);for(var s in o){var a=s&&s.length>150?s.substr(s.length-149):s,l=o[s];if(r.isNumber(l))i[a]=l;else if(r.isBoolean(l))i[a]=l?1:0;else if(r.isString(l)){var c=l&&l.length>1024?l.substring(0,1023):l;n[a]=c}else r.isUndefined(l)||null===l||(n[a]=l)}return n=this.addCommonProperties(n),i=this.addCommonMetrics(i),{properties:n,measurements:i}},e.prototype.flaten=function(e,t,i){void 0===t&&(t=0);for(var o={},s=e?Object.getOwnPropertyNames(e):[],a=0;a<s.length;a++){var l=s[a],c=i?i+l:l;if(r.isArray(e[l]))o[c]=n.safeStringify(e[l]);else if(e[l]instanceof Date)o[c]=e[l].toISOString();else if(r.isObject(e[l]))if(2>t){var u=this.flaten(e[l],t+1,c+".");for(var d in u)o[d]=u[d]}else o[c]=n.safeStringify(e[l]);else o[c]=e[l]}return o},e.prototype.addCommonProperties=function(e){for(var t in this.commonProperties)e["common."+t]=this.commonProperties[t];return e},e.EVENT_NAME_PREFIX="monacoworkbench/",e}();t.AppInsightsTelemetryAppender=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/nativeAppInsightsTelemetryAppender",["require","exports","vs/base/uuid","./appInsightsTelemetryAppender","applicationinsights","winreg","getmac","crypto"],function(e,t,n,r,i,o,s,a){var l=function(){function e(){}return e.MachineId="telemetry.machineId",e.SQMUserId="telemetry.sqm.userId",e.SQMachineId="telemetry.sqm.machineId",e.lastSessionDate="telemetry.lastSessionDate",e}(),c=function(e){function t(t,n){n.enableCacheOnError=!0;var r=new i.NodeAppInsights(n);this.storageService=t.storageService,r.context.device&&r.context.device.id&&(r.context.device.id=""),e.call(this,t,n,r),this.loadAddtionaProperties()}return __extends(t,e),t.prototype.loadAddtionaProperties=function(){var e=this;if(process.versions&&(this.commonProperties["version.shell"]=process.versions["atom-shell"],this.commonProperties["version.renderer"]=process.versions.chrome),"win32"===process.platform){var r=this.storageService.get(l.SQMUserId);r?this.commonProperties["sqm.userid"]=r:this.getWinRegKeyData(t.SQM_KEY,"UserId",o.HKCU,function(t,n){!t&&n&&(e.commonProperties["sqm.userid"]=n,e.storageService.store(l.SQMUserId,n))});var i=this.storageService.get(l.SQMachineId);i?this.commonProperties["sqm.machineid"]=i:this.getWinRegKeyData(t.SQM_KEY,"MachineId",o.HKLM,function(t,n){!t&&n&&(e.commonProperties["sqm.machineid"]=n,e.storageService.store(l.SQMachineId,n))})}var c=this.storageService.get(l.MachineId);c?this.commonProperties.machineId=c:s.getMac(function(t,r){c=t?n.generateUuid():a.createHash("sha256").update(r,"utf8").digest("hex"),e.commonProperties.machineId=c,e.storageService.store(l.MachineId,c)});var u=this.storageService.get(l.lastSessionDate);u?(this.commonMetrics.isNewSession=0,this.commonProperties.lastSessionDate=u):this.commonMetrics.isNewSession=1,this.storageService.store(l.lastSessionDate,(new Date).toUTCString())},t.prototype.getWinRegKeyData=function(e,t,n,r){if("win32"===process.platform){var i=new o({hive:n,key:e});i.get(t,function(e,t){e||!t?r(e,null):r(null,t.value)})}else r(null,null)},t.SQM_KEY="\\Software\\Microsoft\\SQMClient",t}(r.AppInsightsTelemetryAppender);t.NativeAppInsightsTelemetryAppender=c}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/nativeAppInsights.Telemetry.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/platform/telemetry/abstractTelemetryService","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/nativeAppInsightsTelemetryAppender","vs/base/env"],function(e,t,n,r,i,o,s){if(s.appInsightsInstrumentationKey){var a=new r.SyncDescriptor(o.NativeAppInsightsTelemetryAppender,{instrumentationKey:s.appInsightsInstrumentationKey});n.Registry.as(i.Extenstions.TelemetryAppenders).registerTelemetryAppenderDescriptor(a)}}),define("vs/workbench/workbench.native",["vs/workbench/workbench.common","vs/workbench/contrib/actions/enhancedTheme","vs/workbench/contrib/tasks.native/task.contribution","vs/workbench/contrib/files/files.native.contribution","vs/workbench/contrib/execution/execution.contribution","vs/workbench/contrib/terminal/terminal.native.contribution","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/nativeAppInsights.Telemetry.contribution"],function(){});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/native/nativeGitWidgets",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/react","vs/base/objects","vs/base/strings","vs/base/lifecycle","vs/workbench/contrib/git/git"],function(e,t,n,r,i,o,s,a){var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.serviceListeners=[this.props.gitService.addBulkListener2(function(){return e.onGitServiceChange()})]},t.prototype.getInitialState=function(){return{serviceState:a.ServiceState.NotInitialized,isBusy:!1,HEAD:null,ps1:""}},t.prototype.render=function(){if(this.state.serviceState!==a.ServiceState.OK)return r.createElement("span",{className:"git-statusbar-item disabled",title:n.localize("vs_workbench_contrib_git_native_nativeGitWidgets",0)},"Â ");var e,t=this.state.HEAD,i="git-statusbar-item",s=null;return this.state.isBusy?i+=" busy":s=this.onClick,t?t.name?e=t.commit&&t.upstream&&(t.ahead||t.behind)?o.format("{0} {1}â {2}â",this.state.ps1,t.behind,t.ahead):this.state.ps1:(e=this.state.ps1,i+=" headless"):e=this.state.ps1,r.createElement("a",{className:i,onClick:s},e)},t.prototype.onGitServiceChange=function(){var e=this.props.gitService,t=e.getModel();this.updateState({serviceState:e.getState(),isBusy:e.getRunningOperations().some(function(e){return e.id===a.ServiceOperations.CHECKOUT||e.id===a.ServiceOperations.BRANCH}),HEAD:t.getHEAD(),ps1:t.getPS1()})},t.prototype.updateState=function(e,t){this.setState(i.mixin(e,this.state,!1),t)},t.prototype.onClick=function(){this.props.quickOpenService.show("git checkout ")},t}(r.BaseComponent),c=r.createFactoryForTS(l.prototype),u=function(){function e(e){this.instantiationService=e.instantiationService,this.gitService=e.gitService,this.quickOpenService=e.quickOpenService}return e.prototype.render=function(e){return r.render(c({instantiationService:this.instantiationService,gitService:this.gitService,quickOpenService:this.quickOpenService}),e),s.toDisposable(function(){return r.unmountComponentAtNode(e)})},e}();t.GitStatusbarItem=u}),define("vs/workbench/contrib/git/native/nativeGitOutput",["require","exports","vs/workbench/contrib/git/git"],function(e,t,n){var r=function(){function e(e){var t=this;this.gitService=e.gitService,this.outputService=e.outputService,e.gitService.addListener2(n.ServiceEvents.OPERATION_START,function(){return t.setup()})}return e.prototype.getId=function(){return e.ID},e.prototype.beforeShutdown=function(){return!1},e.prototype.setup=function(){var e=this;this.promise||(this.promise=this.gitService.onOutput().then(function(){e.promise=null},function(t){t&&"Canceled"===t.name?e.promise=null:console.error(t)},function(t){return e.onOutput(t)}))},e.prototype.onOutput=function(e){this.outputService.append("Git",e)},e.prototype.dispose=function(){this.promise&&(this.promise.cancel(),this.promise=null)},e.ID="Monaco.IDE.UI.Viewlets.GitViewlet.Workbench.GitOutput",e}();t.GitOutput=r}),define("vs/css!vs/workbench/contrib/git/native/git.native.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/workbench/contrib/git/native/git.native.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/workbench/ui/parts/statusbar/statusbar","./nativeGitWidgets","./nativeGitOutput","vs/workbench/core/extensions","vs/workbench/contrib/output/output","vs/css!./git.native.contribution"],function(e,t,n,r,i,o,s,a,l){if(n.enableGit){r.Registry.as(i.Extensions.Statusbar).registerStatusbarItem(new i.StatusbarItemDescriptor(o.GitStatusbarItem,i.StatusbarAlignment.LEFT,-10));var c=r.Registry.as(l.Extensions.OutputChannels);c.registerChannel("Git"),r.Registry.as(a.Extensions.Workbench).registerWorkbenchExtension(s.GitOutput)}}),define("vs/workbench/contrib/debug/debug",["require","exports","vs/base/uri"],function(e,t,n){function r(e,t){if(0===e.getLineLastNonWhitespaceColumn(t))return!1;if(e.getAssociatedResource().isInMemory())return!1;var n=e?e.getMode():null,r=n?n.getId():null;return"javascript"===r||"cpp"===r||"csharp"===r}t.VIEWLET_ID="workbench.view.debug",t.DEBUG_SERVICE_ID="debugService",t.CONTEXT_IN_DEBUG_MODE="inDebugMode";var i=function(){function e(t,r,i){void 0===i&&(i=0),this.name=t,this.reference=i,this.uri=n.parse(decodeURI(r)),this.inMemory=0===r.indexOf(e.INTERNAL_URI_PREFIX)}return e.prototype.isInMemory=function(){return this.inMemory},e.prototype.toRawSource=function(){return this.inMemory?{name:this.name}:{path:encodeURI(this.uri.toString())}},e.fromRawSource=function(t){var n=t.path?t.path:e.INTERNAL_URI_PREFIX+t.name;
return new e(t.name,n,t.reference)},e.fromUri=function(t){var n=t.toString();return new e(n.substr(n.lastIndexOf("/")+1),n)},e.INTERNAL_URI_PREFIX="file:///internal/",e}();t.Source=i,t.ModelEvents={BREAKPOINTS_UPDATED:"BreakpointsUpdated",EXCEPTION_BREAKPOINT_UPDATED:"ExceptionBreakpointUpdated",THREADS_UPDATED:"ThreadsUpdated"},t.ViewModelEvents={FOCUSED_STACK_FRAME_UPDATED:"FocusedStackFrameUpdated"},t.ServiceEvents={STATE_CHANGED:"StateChanged"},t.SessionEvents={STOPPED:"stopped",DEBUGEE_TERMINATED:"terminated",SERVER_EXIT:"exit",RUNNING:"running",THREAD:"thread"},function(e){e[e.Inactive=0]="Inactive",e[e.Initializing=1]="Initializing",e[e.Stopped=2]="Stopped",e[e.Running=3]="Running"}(t.State||(t.State={}));t.State;t.canSetBreakpointIn=r}),define("vs/workbench/contrib/debug/debugEditorModelManager",["require","exports","vs/base/lifecycle","vs/editor/core/constants","vs/editor/editor","vs/workbench/contrib/debug/debug"],function(e,t,n,r,i,o){function s(e){for(var t={},n=0,r=e.length;r>n;n++)t[e[n]]=!0;return t}var a=function(){function e(e){this.modelService=e.modelService,this.editorService=e.editorService,this.debugService=e.debugService,this.modelData={},this.toDispose=[],this.registerListeners()}return e.prototype.getId=function(){return e.ID},e.prototype.beforeShutdown=function(){return null},e.prototype.dispose=function(){this.modelService.onModelAdded.remove(this.onModelAdded,this),this.modelService.onModelAdded.remove(this.onModelRemoved,this);var e;for(e in this.modelData)if(this.modelData.hasOwnProperty(e)){var t=this.modelData[e];n.disposeAll(t.toDispose),t.model.deltaDecorations(t.breakpointDecorationIds,[]),t.model.deltaDecorations(t.currentStackDecorations,[])}this.toDispose=n.disposeAll(this.toDispose),this.modelData=null},e.prototype.registerListeners=function(){var e=this;this.modelService.onModelAdded.add(this.onModelAdded,this),this.modelService.onModelRemoved.add(this.onModelRemoved,this),this.toDispose.push(this.debugService.getModel().addListener2(o.ModelEvents.BREAKPOINTS_UPDATED,function(){return e.onBreakpointChanged()})),this.toDispose.push(this.debugService.getViewModel().addListener2(o.ViewModelEvents.FOCUSED_STACK_FRAME_UPDATED,function(){return e.updateCallStack()}));for(var t=this.modelService.getModels(),n=0,r=t.length;r>n;n++)this.onModelAdded(t[n])},e.prototype.onModelAdded=function(e){var t=this,n=e.getAssociatedResource(),i=n.toString(),o=this.debugService.getModel().getBreakpoints().filter(function(e){return e.source.uri.toString()===n.toString()}),a=e.deltaDecorations([],this.createCallStackDecorations(i)),l=e.deltaDecorations([],this.createBreakpointDecorations(o)),c=[];c.push(e.addListener2(r.EventType.ModelDecorationsChanged,function(e){t.onModelDecorationsChanged(i,e)}));var u={model:e,toDispose:c,breakpointDecorationIds:l,breakpointLines:o.map(function(e){return e.lineNumber}),breakpointDecorationsAsMap:s(l),currentStackDecorations:a,topStackFrameRange:null};this.modelData[i]=u},e.prototype.createBreakpointDecorations=function(t){return t.map(function(t){return{options:t.enabled?e.BREAKPOINT_DECORATION:e.BREAKPOINT_DISABLED_DECORATION,range:{startLineNumber:t.lineNumber,startColumn:1,endLineNumber:t.lineNumber,endColumn:2}}})},e.prototype.createCallStackDecorations=function(t){var n=[],r=this.debugService.getViewModel().getFocusedStackFrame(),i=this.debugService.getModel().getThreads();for(var o in i)if(i.hasOwnProperty(o))for(var s=i[o].callStack.length>0?i[o].callStack[0]:null,a=i[o].callStack.filter(function(e){return e.source.uri.toString()===t}),l=0,c=a.length;c>l;l++){var u=a[l],d={startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:u.lineNumber,endColumn:Number.MAX_VALUE};u===s?(n.push({options:e.TOP_STACK_FRAME_DECORATION,range:d}),this.modelData[t]&&(this.modelData[t].topStackFrameRange&&this.modelData[t].topStackFrameRange.startLineNumber===d.startLineNumber&&this.modelData[t].topStackFrameRange.startColumn!==d.startColumn&&n.push({options:e.TOP_STACK_FRAME_COLUMN_DECORATION,range:d}),this.modelData[t].topStackFrameRange=d)):u===r&&n.push({options:e.FOCUSED_STACK_FRAME_DECORATION,range:d})}return n},e.prototype.onModelDecorationsChanged=function(e,t){for(var n,r=this.modelData[e],i=r.breakpointDecorationsAsMap,o=0,s=t.addedOrChangedDecorations.length;s>o;o++){var a=t.addedOrChangedDecorations[o];if(i.hasOwnProperty(a.id)){n=!0;break}}if(n){for(var l=r.model,c=l.getAssociatedResource(),u=[],d=this.debugService.getModel().getBreakpoints().filter(function(t){return t.source.uri.toString()===e}),p={},o=0;o<d.length;o++)p[d[o].lineNumber]=d[o].enabled;for(var o=0,s=r.breakpointDecorationIds.length;s>o;o++){var h=l.getDecorationRange(r.breakpointDecorationIds[o]);h.endColumn-h.startColumn>0&&u.push({lineNumber:h.startLineNumber,enabled:p[r.breakpointLines[o]]})}this.debugService.getModel().setBreakpointsForModel(c,u)}},e.prototype.onModelRemoved=function(e){var t=e.getAssociatedResource();if(this.modelData.hasOwnProperty(t.toString())){var r=this.modelData[t.toString()];delete this.modelData[t.toString()],n.disposeAll(r.toDispose)}},e.prototype.updateBreakpoints=function(e,t){var n=e.model;e.breakpointDecorationIds=n.deltaDecorations(e.breakpointDecorationIds,this.createBreakpointDecorations(t)),e.breakpointDecorationsAsMap=s(e.breakpointDecorationIds),e.breakpointLines=t.map(function(e){return e.lineNumber})},e.prototype.updateCallStack=function(){var e;for(e in this.modelData)if(this.modelData.hasOwnProperty(e)){var t=this.modelData[e],n=t.model;t.currentStackDecorations=n.deltaDecorations(t.currentStackDecorations,this.createCallStackDecorations(e))}},e.prototype.onBreakpointChanged=function(){for(var e=this.debugService.getModel().getBreakpoints(),t={},n=0;n<e.length;n++){var r=e[n].source.uri.toString();t[r]?t[r].push(e[n]):t[r]=[e[n]]}for(var i in t)t.hasOwnProperty(i)&&this.modelData.hasOwnProperty(i)&&this.updateBreakpoints(this.modelData[i],t[i]);for(var i in this.modelData)this.modelData.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&this.updateBreakpoints(this.modelData[i],[])},e.ID="breakpointManager",e.BREAKPOINT_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph",stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_DISABLED_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph-disabled",stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-top-stack-frame-line",glyphMarginClassName:"debug-top-stack-frame-glyph",stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_COLUMN_DECORATION={isWholeLine:!1,className:"debug-top-stack-frame-column",stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.FOCUSED_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-focussed-stack-frame-line",glyphMarginClassName:"debug-focused-stack-frame-glyph",stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e}();t.DebugEditorModelManager=a}),define("vs/base/monoHelper.native",["require","exports","child_process","vs/base/lib/winjs.base","semver"],function(e,t,n,r,i){function o(e){return new r.TPromise(function(t,r){var o;try{o=n.spawn("mono",["--version"])}catch(r){return r(!1)}var a="";o.stdout.on("data",function(e){a+=e.toString()}),o.stdout.on("close",function(){var n,r=s.exec(a);n=r?e?i.satisfies(r[1],e):!0:!1,t(n)})})}var s=/(\d+\.\d+\.\d+)/;t.hasMono=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/v8Protocol",["require","exports","vs/base/eventEmitter","vs/base/lib/winjs.base"],function(e,t,n,r){var i=function(e){function t(){e.call(this),this.emittedCount=0}return __extends(t,e),t.prototype.emit=function(t,n){this.emittedCount++,e.prototype.emit.call(this,t,n)},t.prototype.connect=function(e,t){var n=this;this._sequence=1,this._pendingRequests={},this._contentLength=-1,this._rawData=new Buffer(0),this._outputStream=t,e.on("data",function(e){n._rawData=Buffer.concat([n._rawData,e]),n.handleData()})},t.prototype.send=function(e,t){var n=this;return new r.Promise(function(r,i){n.doSend(e,t,function(e){e.success?r(e):i(e)})})},t.prototype.doSend=function(e,n,r){var i={type:"request",seq:this._sequence++,command:e};n&&Object.keys(n).length>0&&(i.arguments=n),this._pendingRequests[i.seq]=r;var o=JSON.stringify(i);this._outputStream.write("Content-Length: "+o.length+t.TWO_CRLF),this._outputStream.write(o)},t.prototype.handleData=function(){for(;;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){var e=this._rawData.toString("utf8",0,this._contentLength);this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0&&this.dispatch(e);continue}}else{var n=this._rawData.toString("utf8",0,this._rawData.length),r=n.indexOf(t.TWO_CRLF);if(-1!==r){var i=/Content-Length: (\d+)/.exec(n);if(i&&i[1]){this._contentLength=Number(i[1]),this._rawData=this._rawData.slice(r+t.TWO_CRLF.length);continue}}}break}},t.prototype.dispatch=function(e){var t=JSON.parse(e);if("undefined"==typeof t.request_seq)this.emit(t.event,t);else{var n=this._pendingRequests[t.request_seq];n&&(delete this._pendingRequests[t.request_seq],n(t))}},t.TWO_CRLF="\r\n\r\n",t}(n.EventEmitter);t.V8Protocol=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/rawDebugSession",["require","exports","vs/base/monoHelper.native","vs/base/lib/winjs.base","vs/base/severity","vs/workbench/contrib/debug/debug","vs/workbench/contrib/debug/v8Protocol","child_process","fs","net"],function(e,t,n,r,i,o,s,a,l,c){var u=function(t){function s(e,n){t.call(this),this.messageService=e,this.initArgs=n,this.socket=null,this.type=n.adapterID}return __extends(s,t),s.prototype.init=function(){var e=this;if(this.cachedInit)return this.cachedInit;var n;return n=process.env[s.OPENDEBUG_SOCKET_ENV]?this.connectServer():this.startServer(),this.cachedInit=n.then(function(){return t.prototype.send.call(e,"initialize",e.initArgs).then(function(){e.startTime=(new Date).getTime()})},function(t){return e.cachedInit=null,r.Promise.wrapError(t)}),this.cachedInit},s.prototype.send=function(e,n){var r=this;return this.init().then(function(){return t.prototype.send.call(r,e,n)})},s.prototype.configure=function(e){return this.send("configure",e)},s.prototype.launch=function(e){return this.sendAndLazyEmit("launch",e)},s.prototype.attach=function(e){return this.sendAndLazyEmit("attach",e)},s.prototype.stepOver=function(){return this.sendAndLazyEmit("next",null)},s.prototype.stepIn=function(){return this.sendAndLazyEmit("stepIn",null)},s.prototype.stepOut=function(){return this.sendAndLazyEmit("stepOut",null)},s.prototype.continue=function(){return this.sendAndLazyEmit("continue",null)},s.prototype.sendAndLazyEmit=function(e,t,n){var r=this;void 0===n&&(n=o.SessionEvents.RUNNING);var i=this.emittedCount;return this.send(e,t).then(function(e){return setTimeout(function(){r.emittedCount===i&&r.emit(n)},500),e})},s.prototype.pause=function(){return this.send("pause",null)},s.prototype.stop=function(){var e=this;return!this.serverProcess&&!this.socket||this.stopServerPending?r.Promise.as(null):this.send("disconnect",null).then(function(){return e.stopServer()},function(){return e.stopServer()})},s.prototype.setBreakpoints=function(e){return this.send("setBreakpoints",e)},s.prototype.setExceptionBreakpoints=function(e){return this.send("setExceptionBreakpoints",e)},s.prototype.stackTrace=function(e){return this.send("stackTrace",e)},s.prototype.resolveVariables=function(e){return this.send("variables",e)},s.prototype.resolveSource=function(e){return this.send("source",e)},s.prototype.threads=function(){return this.send("threads",null)},s.prototype.evaluate=function(e){return this.send("evaluate",e)},s.prototype.getLengthInSeconds=function(){return((new Date).getTime()-this.startTime)/1e3},s.prototype.connectServer=function(){var e=this;return new r.Promise(function(t,n){e.socket=c.createConnection({port:4711},function(){e.connect(e.socket,e.socket),t(null)}),e.socket.on("error",function(e){n(e)})})},s.prototype.startServer=function(){var e=this;return this.checkForRuntime().then(function(){return e.getLaunchDetails()}).then(function(t){return e.launchServer(t)})},s.prototype.launchServer=function(e){var t=this;this.serverProcess=a.spawn(e.command,e.argv,{stdio:["pipe","pipe","pipe"]}),this.connect(this.serverProcess.stdout,this.serverProcess.stdin);var n=function(e){return e.toString().replace(/\r?\n$/gm,"")};this.serverProcess.stderr.on("data",function(e){console.log(n(e))}),this.serverProcess.on("error",function(e){return t.onServerError(e)}),this.serverProcess.on("exit",function(){return t.onServerExit()})},s.prototype.checkForRuntime=function(){return/^win/.test(process.platform)?r.TPromise.as(null):n.hasMono(">=3.10.0").then(function(e){if(!e)throw new Error("Cannot start OpenDebug because Mono (or a Mono version >= 3.10.0) is required")})},s.prototype.stopServer=function(){var e=this;if(null!==this.socket&&(this.socket.end(),this.cachedInit=null,this.emit(o.SessionEvents.SERVER_EXIT)),!this.serverProcess)return r.TPromise.as(void 0);this.stopServerPending=!0;var t;return/^win/.test(process.platform)?t=new r.Promise(function(t,n){var r=a.exec("taskkill /F /T /PID "+e.serverProcess.pid,function(e){return e?n(e):void 0});r.on("exit",t),r.on("error",n)}):(this.serverProcess.kill("SIGTERM"),t=r.TPromise.as(void 0)),t},s.prototype.getLaunchDetails=function(){return new r.TPromise(function(t,n){var r=e.toUrl("vs/workbench/contrib/debug/bin/OpenDebug.exe").replace(/^file:\/\//,"");l.exists(r,function(e){if(e)t(r);else{var i=process.env[s.OPENDEBUG_ENV];"string"==typeof i?l.exists(i,function(e){e?t(i):n(new Error("OpenDebug folder specified in OPENDEBUG env variable not found"))}):n(new Error("Local OpenDebug bin folder not found and OPENDEBUG env variable not set"))}})}).then(function(e){return/^win/.test(process.platform)?{command:e}:{command:"mono",argv:[e]}})},s.prototype.onServerError=function(e){this.stopServer().done(),this.messageService.show(i.Error,e.message)},s.prototype.onServerExit=function(){this.serverProcess=null,this.cachedInit=null,this.stopServerPending||this.messageService.show(i.Error,"OpenDebug process has terminated unexpectedly"),this.emit(o.SessionEvents.SERVER_EXIT)},s.OPENDEBUG_ENV="OPENDEBUG",s.OPENDEBUG_SOCKET_ENV="OPENDEBUG_USE_SOCKET",s}(s.V8Protocol);t.RawDebugSession=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/debugModel",["require","exports","vs/base/lifecycle","vs/base/eventEmitter","vs/base/strings","vs/workbench/contrib/debug/debug"],function(e,t,n,r,i,o){var s=function(){function e(e,t,n,r){this.name=e,this.reference=t,this.callStack=n,this.exception=r}return e.prototype.getId=function(){return i.format("thread:{0}:{1}",this.name,this.reference)},e}();t.Thread=s;var a=function(){function e(e,t,n,r,i,o){this.threadReference=e,this.parentRef=t,this.scopeName=n,this.reference=r,this.name=i,this.value=o,this.variables=null}return e.prototype.getId=function(){return i.format("var:{0}:{1}:{2}:{3}:{4}",this.threadReference,this.parentRef,this.reference,this.name,this.scopeName)},e.prototype.getReadableValue=function(){if(this.value){var e=this.value.indexOf("{")+1,t=this.value.replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e>0?t.substr(0,e):t}return this.value},e.prototype.getVariables=function(e){return this.variables||(this.variables=e.resolveVariables(this.reference,this.scopeName,this.threadReference)),this.variables},e}();t.Variable=a;var l=function(){function e(e,t,n,r){this.threadReference=e,this.name=t,this.reference=n,this.expensive=r,this.variables=null}return e.prototype.getId=function(){return i.format("scope:{0}:{1}:{2}:{3}",this.threadReference,this.name,this.reference)},e.prototype.getVariables=function(e){return this.variables||(this.variables=e.resolveVariables(this.reference,this.name,this.threadReference)),this.variables},e}();t.Scope=l;var c=function(){function e(e,t,n,r,i,o,s){this.threadReference=e,this.level=t,this.source=n,this.name=r,this.lineNumber=i,this.column=o,this.scopes=s}return e.prototype.getId=function(){return i.format("stackframe:{0}:{1}:{2}:{3}:{4}",this.threadReference,this.level,this.lineNumber,this.source.uri.toString(),this.name)},e}();t.StackFrame=c;var u=function(){function e(e,t,n){this.source=e,this.lineNumber=t,this.enabled=n}return e.prototype.getId=function(){return i.format("brekapoint:{0}:{1}",this.lineNumber,this.source.uri.toString())},e}();t.Breakpoint=u;var d=function(){function e(e,t){this.name=e,this.enabled=t}return e.prototype.getId=function(){return i.format("exceptionbreakpoint:{0}",this.name)},e}();t.ExceptionBreakpoint=d;var p=function(){function e(e,t,n,r){this.source=e,this.lineNumber=t,this.column=n,this.message=r}return e}();t.Exception=p;var h=function(e){function t(t,n){e.call(this),this.threads={},this.toDispose=[],this.breakpoints=t,this.exceptionBreakpoints=n}return __extends(t,e),t.prototype.getId=function(){return"root"},t.prototype.getThreads=function(){return this.threads},t.prototype.clearThreads=function(e,t){if(void 0===t&&(t=void 0),t)e?delete this.threads[t]:(this.threads[t].callStack=[],this.threads[t].exception=null);else if(e)this.threads={};else for(var n in this.threads)this.threads.hasOwnProperty(n)&&(this.threads[n].callStack=[],this.threads[n].exception=null);this.emit(o.ModelEvents.THREADS_UPDATED)},t.prototype.getBreakpoints=function(){return this.breakpoints},t.prototype.getExceptionBreakpoints=function(){return this.exceptionBreakpoints},t.prototype.toggleBreakpoint=function(e,t){for(var n=!1,r=0,i=this.breakpoints.length;i>r&&!n;r++)this.breakpoints[r].lineNumber===t&&this.breakpoints[r].source.uri.toString()===e.toString()&&(this.breakpoints.splice(r,1),n=!0);n||this.breakpoints.push(new u(o.Source.fromUri(e),t,!0)),this.emit(o.ModelEvents.BREAKPOINTS_UPDATED,e)},t.prototype.toggleEnablement=function(e){if(e.enabled=!e.enabled,e instanceof u){var t=e;this.emit(o.ModelEvents.BREAKPOINTS_UPDATED,t.source.uri)}else this.emit(o.ModelEvents.EXCEPTION_BREAKPOINT_UPDATED)},t.prototype.enableAllBreakpoints=function(){this.setBreakpointsEnablement(!0)},t.prototype.disableAllBreakpoints=function(){this.setBreakpointsEnablement(!1)},t.prototype.setBreakpointsEnablement=function(e){for(var t=0;t<this.breakpoints.length;t++)this.breakpoints[t].enabled=e;this.emit(o.ModelEvents.BREAKPOINTS_UPDATED,null)},t.prototype.setBreakpointsForModel=function(e,t){this.clearBreakpoints(e);for(var n=0,r=t.length;r>n;n++)this.breakpoints.push(new u(o.Source.fromUri(e),t[n].lineNumber,t[n].enabled));this.emit(o.ModelEvents.BREAKPOINTS_UPDATED,null)},t.prototype.clearBreakpoints=function(e){this.breakpoints=e?this.breakpoints.filter(function(t){return t.source.uri.toString()!==e.toString()}):[],this.emit(o.ModelEvents.BREAKPOINTS_UPDATED,null)},t.prototype.rawUpdate=function(e){e.thread&&(this.threads[e.threadReference]=new s(e.thread.name,e.thread.reference,[],null)),e.callStack&&(this.threads[e.threadReference].callStack=e.callStack.map(function(t,n){return new c(e.threadReference,n,o.Source.fromRawSource(t.source),t.name,t.line,t.column,t.scopes.map(function(t){return new l(e.threadReference,t.name,t.reference,t.expensive)}))})),this.threads[e.threadReference].exception=e.exception?new p(o.Source.fromRawSource(e.exception.body.source),e.exception.body.line,e.exception.body.column,e.exception.body.text):null,this.emit(o.ModelEvents.THREADS_UPDATED)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.threads=null,this.breakpoints=null,this.toDispose=n.disposeAll(this.toDispose)},t}(r.EventEmitter);t.Model=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/debugViewModel",["require","exports","vs/base/eventEmitter","vs/workbench/contrib/debug/debug"],function(e,t,n,r){var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getFocusedStackFrame=function(){return this.focusedStackFrame},t.prototype.setFocusedStackFrame=function(e){this.focusedStackFrame=e,this.emit(r.ViewModelEvents.FOCUSED_STACK_FRAME_UPDATED)},t.prototype.getId=function(){return"root"},t}(n.EventEmitter);t.ViewModel=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/debugService",["require","exports","path","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/lifecycle","vs/base/mime","vs/base/env","vs/base/paths","vs/base/eventEmitter","vs/base/uri","vs/base/errors","vs/base/severity","vs/base/lib/winjs.base","vs/platform/services","vs/workbench/ui/parts/editor/stringEditorInput","vs/workbench/ui/parts/editor/editorOptions","vs/workbench/ui/parts/editor/baseEditor","vs/workbench/contrib/debug/debug","vs/workbench/contrib/debug/rawDebugSession","vs/workbench/contrib/debug/debugModel","vs/workbench/contrib/debug/debugViewModel"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_){var w="debug.breakpoint",E="debug.exceptionbreakpoint",S="debug.selectedconfigname",T=function(e){function t(t,n,r,i,s,a){void 0===s&&(s=o.MIME_TEXT),e.call(this,t,r,i,s,a),this.resourceUrl=n}return __extends(t,e),t.prototype.getResource=function(){return this.resourceUrl},t}(m.StringEditorInput),k=function(t){function l(e){t.call(this),this.toDispose=[],this.toDisposeOnSessionEnd=[],this.session=null,this.state=g.State.Inactive,this.storageService=e.storageService,this.editorService=e.editorService,this.textFileService=e.textFileService,this.viewletService=e.viewletService,this.nativeContextService=e.contextService,this.fileService=e.fileService,this.messageService=e.messageService,this.configurationService=e.configurationService,this.windowService=e.windowService,this.telemetryService=e.telemetryService,this.inDebugMode=e.keybindingService.createKey(g.CONTEXT_IN_DEBUG_MODE,!1),this.model=new y.Model(this.loadBreakpoints(),this.loadExceptionBreakpoints()),this.viewModel=new _.ViewModel,this.selectedConfigName=this.storageService.get(S,h.StorageScope.WORKSPACE,"null"),this.registerListeners(e)}return __extends(l,t),l.prototype.registerListeners=function(e){var t=this;this.toDispose.push(e.eventService.addListener2(h.Files.EventType.FILE_CHANGES,function(e){return t.onFileChanges(e)})),this.toDispose.push(this.model.addListener2(g.ModelEvents.BREAKPOINTS_UPDATED,function(e){e?t.sendBreakpoints(e):t.sendAllBreakpoints()})),this.toDispose.push(this.model.addListener2(g.ModelEvents.EXCEPTION_BREAKPOINT_UPDATED,function(){t.sendExceptionBreakpoints()})),e.lifecycleService.onShutdown.add(this.store,this),e.lifecycleService.onShutdown.add(this.dispose,this)},l.prototype.registerSessionListeners=function(){var e=this;this.toDispose.push(this.session.addListener2(g.SessionEvents.STOPPED,function(t){e.setStateAndEmit(g.State.Stopped);var n=t.body.thread;e.getThreadData(n).then(function(){e.session.stackTrace({thread:n,levels:20}).done(function(r){var i=null;t.body&&"exception"===t.body.reason&&(i=t),e.model.rawUpdate({threadReference:n,callStack:r.body.stackFrames,exception:i}),e.windowService.getWindow().flashFrame();var o=e.model.getThreads()[n].callStack;o.length>0?(e.viewModel.setFocusedStackFrame(o[0]),e.openOrRevealEditor(o[0].source,o[0].lineNumber,!1,!1)):e.viewModel.setFocusedStackFrame(null)})})})),this.toDispose.push(this.session.addListener2(g.SessionEvents.RUNNING,function(){e.model.clearThreads(!1),e.getViewModel().setFocusedStackFrame(null),e.setStateAndEmit(g.State.Running)})),this.toDispose.push(this.session.addListener2(g.SessionEvents.THREAD,function(t){"started"===t.body.reason?e.session.threads().done(function(n){var r=n.body.threads.filter(function(e){return e.reference===t.body.reference});1===r.length&&e.model.rawUpdate({threadReference:r[0].reference,thread:r[0]})}):"exited"===t.body.reason&&e.model.clearThreads(!0,t.body.reference)})),this.toDispose.push(this.session.addListener2(g.SessionEvents.DEBUGEE_TERMINATED,function(){e.session&&e.session.stop()})),this.toDispose.push(this.session.addListener2(g.SessionEvents.SERVER_EXIT,function(){e.onSessionEnd()}))},l.prototype.getThreadData=function(e){var t=this;return new p.Promise(function(n,r){t.model.getThreads()[e]?n(null):t.session.threads().then(function(i){var o=i.body.threads.filter(function(t){return t.reference===e});1!==o.length&&r(new Error("Did not get exactly one thread from OpenDebug server with reference "+e)),t.model.rawUpdate({threadReference:o[0].reference,thread:o[0]}),n(null)})})},l.prototype.loadBreakpoints=function(){try{return JSON.parse(this.storageService.get(w,h.StorageScope.WORKSPACE,"[]")).map(function(e){return new y.Breakpoint(new g.Source(e.source.name,e.source.uri,e.source.reference),e.lineNumber,e.enabled)})}catch(e){return[]}},l.prototype.loadExceptionBreakpoints=function(){var e=null;try{e=JSON.parse(this.storageService.get(E,h.StorageScope.WORKSPACE,"[]")).map(function(e){return new y.ExceptionBreakpoint(e.name,e.enabled)})}catch(t){e=[]}return e.length>0?e:[new y.ExceptionBreakpoint("all",!1),new y.ExceptionBreakpoint("uncaught",!1)]},l.prototype.beforeShutdown=function(){return null},l.prototype.getState=function(){return this.state},l.prototype.setStateAndEmit=function(e){this.state!==e&&(this.state=e,this.emit(g.ServiceEvents.STATE_CHANGED))},l.prototype.openConfigFile=function(t){var n=this;return this.fileService.resolveFileStat("/.settings/launch.json").then(function(e){return e},function(){var t=c.parse(e.toUrl("vs/workbench/contrib/debug/launchConfigSample.json"));return n.fileService.resolveContent(t).then(function(e){return n.fileService.createFile("/.settings/launch.json",e.value)})}).then(function(e){return n.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}},t)},function(){throw new Error(r.localize("vs_workbench_contrib_debug_debugService",0))})},l.prototype.createSession=function(){var e=this;return null===this.nativeContextService.getWorkspace()?p.Promise.as(null):(this.textFileService.saveAll().done(null,u.onUnexpectedError),this.configurationService.loadConfiguration("launch").then(function(t){if(!t||!t.configurations)return e.messageService.show(d.Info,r.localize("vs_workbench_contrib_debug_debugService",1,s.applicationName)),e.openConfigFile(!1);var n=t.configurations.filter(function(t){return t.name===e.selectedConfigName});if(1!==n.length)return e.messageService.show(d.Warning,r.localize("vs_workbench_contrib_debug_debugService",2)),e.openConfigFile(!1);var i=n[0];return e.setStateAndEmit(g.State.Initializing),e.session=new b.RawDebugSession(e.messageService,{adapterID:i.type}),e.registerSessionListeners(),e.session.configure({linesStartAt1:!0,pathFormat:"uri"}).then(function(){return e.sendAllBreakpoints(),e.sendExceptionBreakpoints(),i.port?e.session.attach({address:i.address||"localhost",port:i.port}):e.session.launch({program:e.toEncodedUri(i.program),stopOnEntry:void 0===i.stopOnEntry?!0:i.stopOnEntry,arguments:i.args&&i.args.length>0?i.args.join(" "):null,workingDirectory:e.toEncodedUri(i.cwd||"."),runtimeExecutable:e.toEncodedUri(i.runtimeExecutable),environmentVariables:i.env})}).then(function(){e.sendAllBreakpoints(),e.sendExceptionBreakpoints(),e.viewletService.openViewlet(g.VIEWLET_ID,!0),e.nativeContextService.updateOptions("readOnly",!0),e.nativeContextService.updateOptions("editor",{hover:!1,glyphMargin:!0}),e.inDebugMode.set(!0),e.telemetryService.publicLog("debugSessionStart",{success:!0,type:i.type,breakpointCount:e.model.getBreakpoints().length})},function(t){return e.telemetryService.publicLog("debugSessionStart",{success:!1,type:i.type}),e.session&&e.session.stop(),e.onSessionEnd(),u.onUnexpectedError(t),p.Promise.wrapError(t)})}))},l.prototype.getActiveSession=function(){return this.session},l.prototype.onSessionEnd=function(){try{this.toDisposeOnSessionEnd=i.disposeAll(this.toDisposeOnSessionEnd)}catch(e){}this.session&&this.telemetryService.publicLog("debugSessionStop",{type:this.session.type,sessionLengthInSeconds:this.session.getLengthInSeconds(),breakpointCount:this.model.getBreakpoints().length}),this.session=null,this.nativeContextService.updateOptions("readOnly",!1),this.nativeContextService.updateOptions("editor",{hover:!0}),this.editorService.focusEditor(),this.model.clearThreads(!0),this.viewModel.setFocusedStackFrame(null),this.setStateAndEmit(g.State.Inactive),this.inDebugMode.reset()},l.prototype.getModel=function(){return this.model},l.prototype.getViewModel=function(){return this.viewModel},l.prototype.resolveVariables=function(e,t,n){return this.session?this.session.resolveVariables({reference:e}).then(function(r){return r.body.variables.map(function(r){return new y.Variable(n,e,t,r.reference,r.name,r.value)})}):p.TPromise.wrapError(new Error("No active session"))},l.prototype.openOrRevealEditor=function(e,t,n,r){var i=this,s=this.editorService.getVisibleEditors();if(s)for(var a=0;a<s.length;a++){var l=e.uri.toString(),c=v.asFileEditorInput(s[a].input);if(c&&c.getResource().toString()===l||s[a].input instanceof T&&s[a].input.getResource()&&s[a].input.getResource().toString()===l){var u=s[a].getControl();return u&&u.revealLineInCenterIfOutsideViewport(t),n||this.editorService.focusEditor(s[a]),void 0}}if(e.isInMemory())if(0!==e.reference&&this.session)this.session.resolveSource({sourceReference:e.reference}).then(function(s){var a=o.guessMimeTypes(e.name)[0],l=new T(e.name,e.uri,"internal module",s.body.content,a);i.toDisposeOnSessionEnd.push(l),i.editorService.openEditor(l,f.TextEditorOptions.create({selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1},preserveFocus:n}),r)});else{var d=new T(e.name,null,"","Source is not available.");this.editorService.openEditor(d,f.TextEditorOptions.create({preserveFocus:n}),r)}else this.editorService.openEditor({resource:e.uri,options:{selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1},preserveFocus:n}},r)},l.prototype.toEncodedUri=function(e){return e?n.isAbsolute(e)?encodeURI(c.file(e).toString()):encodeURI(a.join(this.nativeContextService.getWorkspace().resource.toString(),e)):null},l.prototype.sendAllBreakpoints=function(){if(this.session){for(var e=this.model.getBreakpoints(),t={},n=0;n<e.length;n++){var r=e[n].source.uri.toString();t[r]||(t[r]=[]),e[n].enabled&&t[r].push(e[n].lineNumber)}for(var i in t)t.hasOwnProperty(i)&&this.session.setBreakpoints({source:g.Source.fromUri(c.parse(i)).toRawSource(),lines:t[i]})}},l.prototype.sendBreakpoints=function(e){if(this.session){var t=this.model.getBreakpoints().filter(function(t){return t.enabled&&t.source.uri.toString()===e.toString()});this.session.setBreakpoints({source:g.Source.fromUri(e).toRawSource(),lines:t.map(function(e){return e.lineNumber})})}},l.prototype.sendExceptionBreakpoints=function(){if(this.session){var e=this.model.getExceptionBreakpoints().filter(function(e){return e.enabled});this.session.setExceptionBreakpoints({filters:e.map(function(e){return e.name})})}},l.prototype.onFileChanges=function(e){for(var t=this.getModel(),n=t.getBreakpoints(),r={},i=0;i<n.length;i++){var o=n[i].source.uri;e.contains(o,h.Files.FileChangeType.DELETED)&&!r[o.toString()]&&(t.clearBreakpoints(o),r[o.toString()]=!0)}},l.prototype.store=function(){this.storageService.store(w,JSON.stringify(this.model.getBreakpoints()),h.StorageScope.WORKSPACE),this.storageService.store(E,JSON.stringify(this.model.getExceptionBreakpoints()),h.StorageScope.WORKSPACE),this.storageService.store(S,this.selectedConfigName,h.StorageScope.WORKSPACE)
},l.prototype.dispose=function(){this.session&&(this.session.stop(),this.session=null),this.model.dispose(),this.toDispose=i.disposeAll(this.toDispose)},l}(l.EventEmitter);t.DebugService=k});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/debugActions",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/ui/actions","vs/base/lifecycle","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/platform/platform","vs/platform/configuration/keybindings","vs/workbench/ui/actionRegistry","vs/workbench/contrib/debug/debug"],function(e,t,n,r,i,o,s,a,l,c,u){var d=(a.Registry.as(c.Extensions.WorkbenchActions),function(e){function t(t,r,i,o){var s=this;e.call(this,r,i,o,!1),this.debugService=t.debugService,this.keybindingService=t.keybindingService,this.toDispose=[],this.toDispose.push(this.debugService.addListener2(u.ServiceEvents.STATE_CHANGED,function(){return s.updateEnablement()}));var a=null,c=l.lookupKeyBindingsAsLabels(this.keybindingService,r);c&&c.length&&(a=c[0]),this.label=a?n.localize("vs_workbench_contrib_debug_debugActions",0,i,a):i,this.updateEnablement()}return __extends(t,e),t.prototype.run=function(){throw new Error("implement me")},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!0},t.prototype.dispose=function(){this.debugService=null,this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(r.Action));t.AbstractDebugAction=d;var p=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action configure")}return __extends(t,e),t.prototype.run=function(e){var t=!(!e||!e.ctrlKey&&!e.metaKey);return this.debugService.openConfigFile(t)},t.prototype.isEnabled=function(){return!0},t.ID="workbench.action.debug.configure",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",1),t}(d);t.ConfigureAction=p;var h=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action select-active-config")}return __extends(t,e),t.prototype.run=function(e){return this.debugService.selectedConfigName=e,o.Promise.as(null)},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Inactive},t.ID="workbench.debug.action.setActiveConfig",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",2),t}(d);t.SelectConfigAction=h;var m=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action launch"),e.prototype.updateEnablement.call(this)}return __extends(t,e),t.prototype.run=function(){return this.debugService.createSession()},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Inactive},t.ID="workbench.action.debug.start",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",3),t}(d);t.StartDebugAction=m;var f=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action step-over")}return __extends(t,e),t.prototype.run=function(){return this.debugService.getActiveSession().stepOver()},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Stopped},t.ID="workbench.action.debug.stepOver",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",4),t}(d);t.StepOverDebugAction=f;var v=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action step-into")}return __extends(t,e),t.prototype.run=function(){return this.debugService.getActiveSession().stepIn()},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Stopped},t.ID="workbench.action.debug.stepInto",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",5),t}(d);t.StepIntoDebugAction=v;var g=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action step-out")}return __extends(t,e),t.prototype.run=function(){return this.debugService.getActiveSession().stepOut()},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Stopped},t.ID="workbench.action.debug.stepOut",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",6),t}(d);t.StepOutDebugAction=g;var b=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action stop")}return __extends(t,e),t.prototype.run=function(){return this.debugService.getActiveSession().stop()},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Running||this.debugService.getState()===u.State.Stopped},t.ID="workbench.action.debug.stop",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",7),t}(d);t.StopDebugAction=b;var y=function(e){function t(n,r,i){void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action play")}return __extends(t,e),t.prototype.run=function(){var e=this.debugService.getState();return e===u.State.Stopped?this.debugService.getActiveSession().continue():e===u.State.Running?this.debugService.getActiveSession().pause():o.Promise.as(null)},t.prototype.updateEnablement=function(){e.prototype.updateEnablement.call(this);var n=this.debugService.getState();n===u.State.Stopped?(this.class="debug-action play",this.label=t.LABEL):n===u.State.Running&&(this.class="debug-action pause",this.label=t.PAUSE_LABEL)},t.prototype.isEnabled=function(){return this.debugService.getState()===u.State.Running||this.debugService.getState()===u.State.Stopped},t.ID="workbench.action.debug.play",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",8),t.PAUSE_LABEL=n.localize("vs_workbench_contrib_debug_debugActions",9),t}(d);t.PlayAction=y;var _=function(e){function t(n,r,i,o){void 0===i&&(i=t.ID),void 0===o&&(o=t.LABEL),e.call(this,n,i,o,"debug-action remove-breakpoint"),this.breakpoint=r}return __extends(t,e),t.prototype.run=function(){return this.debugService.getModel().toggleBreakpoint(this.breakpoint.source.uri,this.breakpoint.lineNumber),o.Promise.as(null)},t.prototype.isEnabled=function(){return!0},t.ID="workbench.debug.viewlet.action.removeBreakpoint",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",10),t}(d);t.RemoveBreakpointAction=_;var w=function(e){function t(n,r,i){var o=this;void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action remove-breakpoint"),this.toDispose.push(this.debugService.getModel().addListener2(u.ModelEvents.BREAKPOINTS_UPDATED,function(){return o.updateEnablement()}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.getModel().clearBreakpoints(),o.Promise.as(null)},t.prototype.isEnabled=function(){return this.debugService.getModel().getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.removeAllBreakpoints",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",11),t}(d);t.RemoveAllBreakpointsAction=w;var E=function(e){function t(n,r,i,o){void 0===i&&(i=t.ID),void 0===o&&(o=t.LABEL),e.call(this,n,i,o,"debug-action toggle-enablement"),this.element=r}return __extends(t,e),t.prototype.run=function(){return this.debugService.getModel().toggleEnablement(this.element),o.Promise.as(null)},t.prototype.isEnabled=function(){return!0},t.ID="workbench.debug.viewlet.action.toggleBreakpointEnablement",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",12),t}(d);t.ToggleEnablementAction=E;var S=function(e){function t(n,r,i){var o=this;void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action enable-all-breakpoints"),this.toDispose.push(this.debugService.getModel().addListener2(u.ModelEvents.BREAKPOINTS_UPDATED,function(){return o.updateEnablement()}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.getModel().enableAllBreakpoints(),o.Promise.as(null)},t.prototype.isEnabled=function(){for(var e=this.debugService.getModel().getBreakpoints(),t=0;t<e.length;t++)if(!e[t].enabled)return!0;return!1},t.ID="workbench.debug.viewlet.action.enableAllBreakpoints",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",13),t}(d);t.EnableAllBreakpointsAction=S;var T=function(e){function t(n,r,i){var o=this;void 0===r&&(r=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,r,i,"debug-action disable-all-breakpoints"),this.toDispose.push(this.debugService.getModel().addListener2(u.ModelEvents.BREAKPOINTS_UPDATED,function(){return o.updateEnablement()}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.getModel().disableAllBreakpoints(),o.Promise.as(null)},t.prototype.isEnabled=function(){for(var e=this.debugService.getModel().getBreakpoints(),t=0;t<e.length;t++)if(e[t].enabled)return!0;return!1},t.ID="workbench.debug.viewlet.action.disableAllBreakpoints",t.LABEL=n.localize("vs_workbench_contrib_debug_debugActions",14),t}(d);t.DisableAllBreakpointsActions=T;var k=function(e){function t(t,n,r){e.call(this,t,n,r,s.Behaviour.TextFocus),this.debugService=t.debugService}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getPosition().lineNumber,t=this.editor.getModel().getAssociatedResource();return u.canSetBreakpointIn(this.editor.getModel(),e)&&this.debugService.getModel().toggleBreakpoint(t,e),o.TPromise.as(!0)},t.ID="editor.debug.action.toggleBreakpoint",t}(s.EditorAction);t.ToggleBreakpointAction=k}),define("vs/workbench/contrib/debug/debugActionsWidget",["require","exports","vs/base/lifecycle","vs/base/errors","vs/base/severity","vs/base/dom/builder","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/workbench/constants","vs/workbench/contrib/debug/debug","vs/workbench/contrib/debug/debugActions"],function(e,t,n,r,i,o,s,a,l,c,u){var d=o.$,p=function(){function e(e){this.$el=d().div().addClass("debug-actions-widget"),this.messageService=e.messageService,this.telemetryService=e.telemetryService,this.debugService=e.debugService,this.toDispose=[],this.actionBar=new a.ActionBar(this.$el,{orientation:a.ActionsOrientation.HORIZONTAL}),this.actionBar.push(this.getActions(e.instantiationService),{icon:!0,label:!1}),this.toDispose.push(this.actionBar),this.registerListeners(),this.hide(),this.isBuilt=!1}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.addListener2(c.ServiceEvents.STATE_CHANGED,function(){e.onDebugStateChange()})),this.toDispose.push(this.actionBar.actionRunner.addListener2(s.EventType.RUN,function(t){t.error&&!r.isPromiseCanceledError(t.error)&&e.messageService.show(i.Error,t.error),e.telemetryService&&e.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"debugActionsWidget"})}))},e.prototype.getId=function(){return e.ID},e.prototype.beforeShutdown=function(){return null},e.prototype.onDebugStateChange=function(){this.debugService.getState()===c.State.Inactive?this.hide():this.show()},e.prototype.show=function(){this.isVisible||(this.isBuilt||(this.isBuilt=!0,this.$el.build(o.withElementById(l.Identifiers.WORKBENCH_CONTAINER).getHTMLElement())),this.isVisible=!0,this.$el.show())},e.prototype.hide=function(){this.isVisible=!1,this.$el.hide()},e.prototype.getActions=function(e){var t=this,n=[e.createInstance(u.PlayAction),e.createInstance(u.StepOverDebugAction),e.createInstance(u.StepIntoDebugAction),e.createInstance(u.StepOutDebugAction),e.createInstance(u.StopDebugAction)];return n.forEach(function(e){t.toDispose.push(e)}),n},e.prototype.dispose=function(){this.toDispose=n.disposeAll(this.toDispose),this.$el&&(this.$el.destroy(),delete this.$el)},e.ID="debug.actionsWidget",e}();t.DebugActionsWidget=p}),define("vs/css!vs/workbench/contrib/debug/media/debug.contribution",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/debug/debug.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/lib/winjs.base","vs/base/dom/htmlContentRenderer","vs/base/strings","vs/base/lifecycle","vs/editor/core/constants","vs/editor/editor","vs/editor/editorExtensions","vs/editor/modes/modesExtensions","vs/platform/actionRegistry","vs/platform/platform","vs/platform/configuration/keybindings","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/viewlet","vs/workbench/core/extensions","vs/workbench/contrib/files/files","vs/workbench/contrib/debug/debugEditorModelManager","vs/workbench/contrib/debug/debugService","vs/workbench/contrib/debug/debug","vs/workbench/contrib/debug/debugActions","vs/workbench/contrib/debug/debugActionsWidget","vs/platform/configuration/configurationRegistry","vs/css!./media/debug.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T){var k=function(e){function t(n){e.call(this,n,t.ID,t.LABEL,w.VIEWLET_ID)}return __extends(t,e),t.ID=w.VIEWLET_ID,t.LABEL=n.localize("vs_workbench_contrib_debug_debug.contribution",0),t}(v.ToggleViewletAction),C=function(){function e(e,t){this.editor=t,this.debugService=e.debugService,this.breakpointHintDecoration=[],this.toDispose=[],this.registerListeners(),this.hoverWidget=new x(this.editor,this.debugService)}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editor.addListener2(l.EventType.MouseDown,function(t){if(t.target.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN&&!t.target.detail&&w.canSetBreakpointIn(e.editor.getModel(),t.target.position.lineNumber)){var n=e.editor.getModel().getAssociatedResource();e.debugService.getModel().toggleBreakpoint(n,t.target.position.lineNumber)}})),this.toDispose.push(this.editor.addListener2(l.EventType.MouseMove,function(t){var n=-1;t.target.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN&&w.canSetBreakpointIn(e.editor.getModel(),t.target.position.lineNumber)&&(t.target.detail||(n=t.target.position.lineNumber)),e.ensureBreakpointHintDecoration(n)})),this.toDispose.push(this.editor.addListener2(l.EventType.MouseLeave,function(){e.ensureBreakpointHintDecoration(-1)})),this.toDispose.push(this.debugService.addListener2(w.ServiceEvents.STATE_CHANGED,function(){return e.onDebugStateUpdate()})),this.toDispose.push(this.editor.addListener2(l.EventType.MouseDown,function(t){return e.onEditorMouseDown(t)})),this.toDispose.push(this.editor.addListener2(l.EventType.MouseMove,function(t){return e.onEditorMouseMove(t)})),this.toDispose.push(this.editor.addListener2(l.EventType.MouseLeave,function(){return e.hoverWidget.hide()})),this.toDispose.push(this.editor.addListener2(l.EventType.KeyDown,function(t){return e.onKeyDown(t)})),this.toDispose.push(this.editor.addListener2(l.EventType.ModelChanged,function(){return e.onModelChanged()})),this.toDispose.push(this.editor.addListener2("scroll",function(){return e.hoverWidget.hide()}))},e.prototype.getId=function(){return e.ID},e.prototype.ensureBreakpointHintDecoration=function(t){var n=[];-1!==t&&n.push({options:e.BREAKPOINT_HELPER_DECORATION,range:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}}),this.breakpointHintDecoration=this.editor.deltaDecorations(this.breakpointHintDecoration,n)},e.prototype.onDebugStateUpdate=function(){this.debugService.getState()===w.State.Inactive&&this.hoverWidget.hide()},e.prototype.onModelChanged=function(){this.hoverWidget.hide()},e.prototype.onEditorMouseDown=function(e){var t=e.target.type;(t!==c.MouseTargetType.CONTENT_WIDGET||e.target.detail!==x.ID)&&this.hoverWidget.hide()},e.prototype.onEditorMouseMove=function(e){if(this.debugService.getState()!==w.State.Inactive){var t=e.target.type,n=r.isMacintosh?"metaKey":"ctrlKey";(t!==c.MouseTargetType.CONTENT_WIDGET||e.target.detail!==x.ID||e.event[n])&&(t===c.MouseTargetType.CONTENT_TEXT?this.hoverWidget.showAt(e.target.range):this.hoverWidget.hide())}},e.prototype.onKeyDown=function(e){var t=r.isMacintosh?"Meta":"Ctrl";e.key!==t&&this.hoverWidget.hide()},e.prototype.dispose=function(){this.toDispose=a.disposeAll(this.toDispose)},e.ID="editor.contrib.debug",e.BREAKPOINT_HELPER_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph-hint",stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e}(),x=function(){function e(e,t){this.allowEditorOverflow=!0,this.editor=e,this.debugService=t,this.domNode=document.createElement("div"),this.domNode.className="debug-hover-widget monaco-editor-background",this.isVisible=!1,this.showAtPosition=null,this.hoveringOver=null,this.highlightDecorations=[],this.domNode.innerHTML="INSPECTING!",this.editor.addContentWidget(this)}return e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.showAt=function(e){var t=this,n=e.getStartPosition(),r=this.editor.getModel().getLineContext(n.lineNumber),o=r.findIndexOfOffset(n.column-1),a=r.getTokenText(o);if(-1===r.getTokenType(o).indexOf("identifier"))return this.hide(),void 0;if(!this.isVisible||a!==this.hoveringOver){var l=this.debugService.getModel().getThreads(),c=Object.keys(l).filter(function(e){return l[e].callStack&&l[e].callStack.length>0}).map(function(e){return l[e].callStack[0].scopes}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.expensive}).map(function(e){return e.getVariables(t.debugService).then(function(e){return e=e.filter(function(e){return a===e.name||a===e.name.substr(e.name.lastIndexOf(" ")+1)}),1===e.length?e[0]:null})});i.Promise.join(c).done(function(e){if(e=e.filter(function(e){return!!e}),1!==e.length)return t.hide(),void 0;var i=e[0];if(t.highlightDecorations=t.editor.deltaDecorations(t.highlightDecorations,[{range:{startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:r.getTokenStartIndex(o)+1,endColumn:r.getTokenEndIndex(o)+1},options:{className:"hoverHighlight"}}]),t.hoveringOver=a,t.domNode.innerHTML="",i.reference>0&&-1===i.value.indexOf("function")){var l="{";i.getVariables(t.debugService).then(function(e){if(!e)return t.hide(),void 0;for(var n=0;n<e.length;n++)l+=s.format(" {0}: {1}",e[n].name,e[n].value).substr(0,80),n<e.length-1&&(l+=",\n ");return l+=" }"}).done(function(e){return t.doShow(n,e,i.value)},function(){return t.hide()})}else t.doShow(n,i.value,i.name)})}},e.prototype.doShow=function(e,t,n){if(t){for(var r=0,i=0;i<t.length;i++)"\n"===t[i]&&r++;r>10&&(t=n),this.domNode.appendChild(o.renderHtml(d.TextToHtmlTokenizer.tokenizeToHtmlContent(t,this.editor.getModel().getMode()))),this.showAtPosition=e,this.isVisible=!0,this.editor.layoutContentWidget(this)}},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this.editor.deltaDecorations(this.highlightDecorations,[]),this.highlightDecorations=[],this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.isVisible?{position:this.showAtPosition,preference:[c.ContentWidgetPositionPreference.ABOVE,c.ContentWidgetPositionPreference.BELOW]}:null},e.ID="debug.hoverWidget",e}();if(r.enableDebug){u.registerEditorContribution(C),u.registerEditorActionContribution(E.ToggleBreakpointAction,E.ToggleBreakpointAction.ID,n.localize("vs_workbench_contrib_debug_debug.contribution",1),!0,{key:"F9"}),h.Registry.as(g.Extensions.Services).registerService(new g.WorkbenchServiceDescriptor(_.DebugService,w.DEBUG_SERVICE_ID,[b.TEXT_FILE_SERVICE_ID])),h.Registry.as(v.Extensions.Viewlets).registerViewlet(new v.ViewletDescriptor("vs/workbench/contrib/debug/debugViewlet","DebugViewlet",w.VIEWLET_ID,n.localize("vs_workbench_contrib_debug_debug.contribution",2),"debug",40));var A=h.Registry.as(f.Extensions.WorkbenchActions);A.registerWorkbenchAction(new p.SyncActionDescriptor(k,k.ID,k.LABEL,{ctrlCmd:r.isNative||!r.isMacintosh,winCtrl:!r.isNative&&r.isMacintosh,shift:!0,key:"D"}),n.localize("vs_workbench_contrib_debug_debug.contribution",3)),h.Registry.as(g.Extensions.Workbench).registerWorkbenchExtension(y.DebugEditorModelManager),h.Registry.as(g.Extensions.Workbench).registerWorkbenchExtension(S.DebugActionsWidget);var L=n.localize("vs_workbench_contrib_debug_debug.contribution",4);A.registerWorkbenchAction(new p.SyncActionDescriptor(E.StartDebugAction,E.StartDebugAction.ID,E.StartDebugAction.LABEL,[{key:"F5"}],[{key:w.CONTEXT_IN_DEBUG_MODE,operator:m.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.StepOverDebugAction,E.StepOverDebugAction.ID,E.StepOverDebugAction.LABEL,[{key:"F10"}],[{key:w.CONTEXT_IN_DEBUG_MODE}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.StepIntoDebugAction,E.StepIntoDebugAction.ID,E.StepIntoDebugAction.LABEL,[{key:"F11"}],[{key:w.CONTEXT_IN_DEBUG_MODE}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.StepOutDebugAction,E.StepOutDebugAction.ID,E.StepOutDebugAction.LABEL,[{shift:!0,key:"F11"}],[{key:w.CONTEXT_IN_DEBUG_MODE}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.StopDebugAction,E.StopDebugAction.ID,E.StopDebugAction.LABEL,[{shift:!0,key:"F5"}],[{key:w.CONTEXT_IN_DEBUG_MODE}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.PlayAction,E.PlayAction.ID,E.PlayAction.LABEL,[{key:"F5"}],[{key:w.CONTEXT_IN_DEBUG_MODE}]),L),A.registerWorkbenchAction(new p.SyncActionDescriptor(E.ConfigureAction,E.ConfigureAction.ID,E.ConfigureAction.LABEL),L);var N=h.Registry.as(T.Extensions.Configuration);N.registerConfiguration({id:"launch",workspace:!0,container:!0,type:"object",title:n.localize("vs_workbench_contrib_debug_debug.contribution",5),required:["version","configurations"],default:{version:"0.1.0",configurations:[{name:"Launch",type:"node"}]},properties:{version:{type:"string",description:n.localize("vs_workbench_contrib_debug_debug.contribution",6),default:"0.1.0"},configurations:{type:"array",description:n.localize("vs_workbench_contrib_debug_debug.contribution",7),items:{required:["name","type"],type:"object",properties:{name:{type:"string",description:n.localize("vs_workbench_contrib_debug_debug.contribution",8),default:"Launch"},type:{enum:["node","mono"],description:n.localize("vs_workbench_contrib_debug_debug.contribution",9),default:"node"},program:{type:"string",description:n.localize("vs_workbench_contrib_debug_debug.contribution",10),default:"app.js"},stopOnEntry:{type:"boolean",description:n.localize("vs_workbench_contrib_debug_debug.contribution",11),default:!0},args:{type:"array",description:n.localize("vs_workbench_contrib_debug_debug.contribution",12),items:{type:"string"},default:[]},cwd:{type:"string",description:n.localize("vs_workbench_contrib_debug_debug.contribution",13),default:"."},runtimeExecutable:{type:["string","null"],description:n.localize("vs_workbench_contrib_debug_debug.contribution",14),default:null},env:{type:"object",description:n.localize("vs_workbench_contrib_debug_debug.contribution",15),default:{}},address:{type:"string",description:n.localize("vs_workbench_contrib_debug_debug.contribution",16),default:void 0},port:{type:"number",description:n.localize("vs_workbench_contrib_debug_debug.contribution",17),default:void 0}}}}}})}}),define("vs/workbench/contrib/emmet/editorAccessor",["require","exports","vs/editor/core/range","vs/base/strings","vs/editor/contrib/snippet/snippet","vs/editor/core/command/replaceCommand","vs/editor/core/internalConstants"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this.lineStarts=null,this.emmetSupportedModes=["html","razor","css","less","sass","xml","xsl","jade"],this.editor=e}return e.prototype.noExpansionOccurred=function(){this.editor.trigger("emmet",s.Handler.Tab,{})},e.prototype.isEmmetEnabledMode=function(){var e=this.getSyntax();return-1!==this.emmetSupportedModes.indexOf(e)},e.prototype.getSelectionRange=function(){var e=this.editor.getSelection();return{start:this.getOffsetFromPosition(e.getStartPosition()),end:this.getOffsetFromPosition(e.getEndPosition())}},e.prototype.getCurrentLineRange=function(){var e=this.editor.getSelection().startLineNumber,t=this.getLineStarts(),n=t[e-1],r=t[e];return{start:n,end:r}},e.prototype.getCaretPos=function(){var e=this.editor.getSelection().getStartPosition();return this.getOffsetFromPosition(e)},e.prototype.setCaretPos=function(){},e.prototype.getCurrentLine=function(){var e=this.editor.getSelection().getStartPosition();return this.editor.getModel().getLineContent(e.lineNumber)},e.prototype.replaceContent=function(e,t,r){var s=this.getPositionFromOffset(t),a=this.getPositionFromOffset(r),l=new n.Range(s.lineNumber,s.column+1,a.lineNumber,a.column+1),c=0;if(l.startLineNumber===l.endLineNumber)c=l.endColumn-l.startColumn;else{var u=new o.ReplaceCommand(l,"");this.editor.executeCommand("emmet",u),c=0}var d=i.CodeSnippet.convertExternalSnippet(e,i.ExternalSnippetType.EmmetSnippet),p=new i.CodeSnippet(d);i.get(this.editor).run(p,c,0)},e.prototype.getContent=function(){return this.editor.getModel().getValue()},e.prototype.createSelection=function(){},e.prototype.getSyntax=function(){var e=this.editor.getSelection().getStartPosition(),t=this.editor.getModel().getModeAtPosition(e.lineNumber,e.column),n=t.getId().split(".").pop();return"razor"===n?"html":n},e.prototype.getProfileName=function(){return null},e.prototype.prompt=function(){},e.prototype.getSelection=function(){return""},e.prototype.getFilePath=function(){return""},e.prototype.flushCache=function(){this.lineStarts=null},e.prototype.getPositionFromOffsetSlow=function(e){for(var t=this.getLineStarts(),n=0;n<t.length&&!(t[n]>e);n++);return{lineNumber:n,column:e-t[n-1]}},e.prototype.getPositionFromOffset=function(e){for(var t,n=this.getLineStarts(),r=0,i=n.length-1;i>=r;)t=r+(i-r)/2|0,n[t]>e?i=t-1:r=t+1;return{lineNumber:r,column:e-n[r-1]}},e.prototype.getOffsetFromPosition=function(e){var t=this.getLineStarts();return t[e.lineNumber-1]+e.column-1},e.prototype.getLineStarts=function(){return null===this.lineStarts&&(this.lineStarts=this.computeLineStarts()),this.lineStarts},e.prototype.computeLineStarts=function(){var e=this.editor.getModel().getValue();return r.computeLineStarts(e)},e}();t.EditorAccessor=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/emmet/emmetActions",["require","exports","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/workbench/contrib/emmet/editorAccessor"],function(e,t,n,r,i){var o=function(t){function o(e,n,o){t.call(this,e,n,o,r.Behaviour.TextFocus),this.editorAccessor=new i.EditorAccessor(o)}return __extends(o,t),o.prototype.run=function(){var t=this;return new n.TPromise(function(n,r){e(["emmet"],function(e){try{if(!t.editorAccessor.isEmmetEnabledMode())return t.editorAccessor.noExpansionOccurred(),void 0;e.run("expand_abbreviation",t.editorAccessor)||t.editorAccessor.noExpansionOccurred()}catch(n){}finally{t.editorAccessor.flushCache()}},r)})},o.ID="editor.emmet.action.expandAbbreviation",o}(r.EditorAction);t.ExpandAbbreviationAction=o}),define("vs/workbench/contrib/emmet/emmet.contribution",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/editor/editorExtensions","vs/editor/editor","vs/workbench/contrib/emmet/emmetActions","vs/base/env","vs/platform/configuration/keybindings"],function(e,t,n,r,i,o,s,a){s.isNative&&(r.registerEditorActionContribution(o.ExpandAbbreviationAction,o.ExpandAbbreviationAction.ID,n.localize("vs_workbench_contrib_emmet_emmet.contribution",0)),a.registerCommand(o.ExpandAbbreviationAction.ID,r.triggerEditorAction.bind(null,o.ExpandAbbreviationAction.ID),[{key:"tab"},{key:"F9"}],a.WEIGHT.editorContrib(),[{key:i.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:i.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,operator:a.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0},{key:i.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,operator:a.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0},{key:i.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,operator:a.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]))}),define("vs/languages/csharp/omnisharp",["require","exports"],function(e,t){function n(e){var t=e.indexOf("+");return e.substr(t+1)}var r;!function(e){e.ProjectAdded="ProjectAdded",e.ProjectChanged="ProjectChanged",e.PackageRestoreStarted="PackageRestoreStarted",e.PackageRestoreFinished="PackageRestoreFinished",e.Error="Error",e.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",e.UnresolvedDependencies="UnresolvedDependencies"}(r=t.Events||(t.Events={}));var i;!function(e){e.GoToDefinition="/gotoDefinition",e.CodeCheck="/codecheck",e.AutoComplete="/autocomplete",e.CurrentFileMembersAsTree="/currentfilemembersastree",e.TypeLookup="/typelookup",e.AddToProject="/addtoproject",e.RemoveFromProject="/removefromproject",e.FindUsages="/findusages",e.FindSymbols="/findsymbols",e.CodeFormat="/codeformat",e.GetCodeActions="/getcodeactions",e.RunCodeAction="/runcodeaction",e.FormatAfterKeystroke="/formatAfterKeystroke",e.FormatRange="/formatRange",e.UpdateBuffer="/updatebuffer",e.ChangeBuffer="/changebuffer",e.Projects="/projects",e.Rename="/rename",e.FilesChanged="/filesChanged",e.SignatureHelp="/signatureHelp"}(i=t.Protocol||(t.Protocol={})),t.asProjectLabel=n,function(e){e[e.Unknown=0]="Unknown",e[e.Starting=3]="Starting",e[e.Started=4]="Started",e[e.Failed=5]="Failed"}(t.OmnisharpServerState||(t.OmnisharpServerState={}));var o,o=t.OmnisharpServerState;!function(e){function t(e){return n[e]||"<?>"}var n=Object.create(null);n[e.Unknown]="Unknown",n[e.Starting]="Starting",n[e.Started]="Started",n[e.Failed]="Failed",e.toString=t}(o=t.OmnisharpServerState||(t.OmnisharpServerState={}));var s;!function(e){e.OmnisharpDebugLog="OmniSharp Log",e.OmnisharpPackageRestore="Package Manager"}(s=t.Channels||(t.Channels={}))}),define("vs/base/trie",["require","exports","vs/base/collections","vs/base/assert"],function(e,t,n,r){function i(e,t){void 0===t&&(t=m);var r,i;return r={_key:null,_parent:null,_children:{},parent:function(){return null},children:function(e){return void 0===e&&(e=!1),l(this,e)}},i={insert:function(e,n){return o(r,t(e),n)},lookUp:function(e,n){return void 0===n&&(n=!1),s(r,t(e),n)},roots:function(){return l(r,!1)},values:function(){return c(r)},fringe:function(){return u(r)},remove:function(e){return d(e)},forEach:function(e){return p(r,e)}},"undefined"!=typeof e&&n.forEach(e,function(e){i.insert(e.key,e.value)}),i}function o(e,t,n){for(var r=0,i=t.length,o=e;i>r&&(o=e._children[t[r]]);)e=o,r+=1;for(;i>r;)o={_key:t[r],_parent:e,_children:{},parent:function(){return a(this)},children:function(e){return void 0===e&&(e=!1),l(this,e)}},e._children[t[r]]=o,e=o,r+=1;return o.element=n,o}function s(e,t,n){for(var r=0,i=t.length,o=e,s=void 0!==o.element?o:void 0;i>r&&(o=e._children[t[r]]);)e=o,r+=1,void 0!==o.element&&(s=o);return o&&void 0!==o.element?o:n&&void 0!==s?s:null}function a(e){for(;e._parent;){if("undefined"!=typeof e._parent.element)return e._parent;e=e._parent}return null}function l(e,t){for(var r=[],i=n.values(e._children);i.length>0;)e=i.shift(),void 0!==e.element&&r.push(e),(t||void 0===e.element)&&i.push.apply(i,n.values(e._children));return r}function c(e){for(var t=[],r=[e];r.length>0;)e=r.pop(),void 0!==e.element&&t.push(e.element),n.forEach(e._children,function(e){r.push(e.value)});return t}function u(e){for(var t=[e],i=[];t.length>0;){var o=t.pop(),s=t.length;n.forEach(o._children,function(e){t.push(e.value)}),s===t.length&&null!==o._key&&(r.ok("undefined"!=typeof o.element),i.push(o))}return i}function d(e){return e._parent?e._parent._children[e._key]!==e?!1:(delete e._parent._children[e._key],"undefined"==typeof e._parent.element&&h(e._parent._children)&&d(e._parent),!0):!1}function p(e,t){n.forEach(e._children,function(e){void 0!==e.value.element&&t(e.value),p(e.value,t)})}function h(e){if(!e)return!0;for(var t in e)if(f.call(e,t))return!1;return!0}var m=function(e){return e.split("")};t.newTrie=i;var f=Object.prototype.hasOwnProperty}),define("vs/languages/csharp/features/solutionPathAndFolderFinder",["require","exports","vs/base/lib/winjs.base","vs/base/arrays","vs/base/collections","vs/base/strings","vs/base/uri","vs/base/trie","vs/base/paths","vs/platform/services","vs/base/eventSource"],function(e,t,n,r,i,o,s,a,l,c,u){function d(e,t){if(r.isFalsyOrEmpty(e))return[];
var n=[],i=!1,a=!1,c=!1;return i=e.some(function(e){return/\.csproj$/.test(e.path)}),e.forEach(function(e){if(i&&/\.sln$/.test(e.path)&&n.push({resource:e,target:e,directory:s.file(l.dirname(e.path))}),/project.json$/.test(e.path)){var r=l.dirname(e.path);a=!0,c=c||r===t.path,n.push({resource:e,target:s.file(r),directory:s.file(r)})}}),a&&!c&&n.push({resource:t,target:t,directory:t}),n.sort(function(e,t){return o.localeCompare(e.directory.path,t.directory.path)})}function p(e,t){if(r.isFalsyOrEmpty(e))return[];var n=Object.create(null),a=Object.create(null),c=0;return e.filter(function(e){return/\.sln$/.test(e.path)}).forEach(function(e){var t=l.dirname(e.path);a[t]=!0,n[e.path]={directory:s.file(t),target:e,resource:e}}),e.filter(function(e){return/global.json$/.test(e.path)}).forEach(function(e){var t=l.dirname(e.path);a[t]||(a[t]=!0,n[e.path]={directory:s.file(t),target:s.file(t),resource:e})}),e.filter(function(e){return/project.json$/.test(e.path)}).forEach(function(e){for(var r=l.dirname(e.path),i=!0;i&&r.length>=t.path.length;)i=!a[r],r=l.dirname(r);i&&(c+=1,r=l.dirname(e.path),r!==t.path&&(n[e.path]={directory:s.file(r),target:s.file(r),resource:e}))}),c>0&&(n[t.path]={directory:t,target:t,resource:t}),i.values(n).sort(function(e,t){return o.localeCompare(e.directory.path,t.directory.path)})}function h(e,t){if(r.isFalsyOrEmpty(e))return[];var n,i,o=[];n=a.newTrie(null,function(e){return e.split(/\\|\//)}),i=Object.create(null);for(var s=0,c=e.length;c>s;s++){var u,d,p=e[s].path;n.insert(p,e[s]),/\.sln$|global\.json$/.test(p)&&(u=l.dirname(p),n.insert(u,e[s].withPath(u)),i[u]=!0)}for(var h in i){var d=n.lookUp(h);if(d){var m=d.children(!1).filter(function(e){return/\.sln$|global\.json$/.test(e.element.path)});1===m.length?o.push(m[0].element):o.push(d.element),n.remove(d)}}var f=!1;return n.forEach(function(e){return f=f||/project\.json/.test(e.element.path)}),f&&t&&o.push(t),o}var m=function(){function e(e){var t=this;this._fileService=e.fileService,this._callOnDispose=e.eventService.addListener(c.Files.EventType.FILE_CHANGES,function(e){return t._onFileChanges(e)}),this._workspace=e.contextService.getWorkspace(),this._onTargetsChanged=new u}return e.prototype.dispose=function(){this._callOnDispose()},Object.defineProperty(e.prototype,"onTargetsChanged",{get:function(){return this._onTargetsChanged.value},enumerable:!0,configurable:!0}),e.prototype._onFileChanges=function(t){var n=t.changes.some(e._isAdditionOfInterestingFile);n&&(this._targets=null,this._onTargetsChanged.fire())},e.prototype.targets=function(){var e=this;return this._workspace?(this._targets||(this._targets=this._fileService.resolveFileStats("/",f).then(function(t){return d(t.map(function(e){return e.resource}),e._workspace.resource)})),this._targets):n.TPromise.as([])},e._isAdditionOfInterestingFile=function(e){return e.type===c.Files.FileChangeType.ADDED&&/(project\.json|\.sln)$/.test(e.resource.path)},e}();t.Finder=m;var f="{**/*.sln,**/*.csproj,**/project.json}";t.select2=p,t.select=h}),define("vs/css!vs/languages/csharp/ui/statusIcon",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/languages/csharp/ui/octicons/octicons",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/languages/csharp/ui/statusIcon",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/strings","vs/base/types","vs/base/paths","vs/base/errors","vs/base/collections","vs/base/uri","vs/base/ui/labels","vs/base/dom/dom","vs/platform/services","vs/base/lifecycle","vs/languages/csharp/omnisharp","vs/languages/csharp/features/solutionPathAndFolderFinder","vs/css!./statusIcon","vs/css!./octicons/octicons"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(){function e(){this.serverState=h.OmnisharpServerState.Unknown,this.projects=Object.create(null),this.packageRestores=Object.create(null),this.solutionPathsAndFolders=[]}return e.prototype.isRunningPackageRestore=function(){return!i.isEmptyObject(this.packageRestores)},e.prototype.hasAmbigousSolutionPathsAndFolders=function(){return!this.selectedSolutionPathOrFolder&&this.solutionPathsAndFolders.length>1},e.prototype.getStatusText=function(){switch(this.serverState){case h.OmnisharpServerState.Starting:return n.localize("vs_languages_csharp_ui_statusIcon",0);case h.OmnisharpServerState.Started:return n.localize("vs_languages_csharp_ui_statusIcon",1);case h.OmnisharpServerState.Failed:return n.localize("vs_languages_csharp_ui_statusIcon",2);case h.OmnisharpServerState.Unknown:default:return n.localize("vs_languages_csharp_ui_statusIcon",3)}},e.prototype.getStatusClassName=function(){return this.hasAmbigousSolutionPathsAndFolders()?"needsInput":h.OmnisharpServerState[this.serverState].toLowerCase()},e}(),v=function(){function e(e,t){this._item=e,this._labelProvider=t}return Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){var e=this._item.resource||this._item.directory;return o.basename(e.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._labelProvider.getLabel(this._item.directory)},enumerable:!0,configurable:!0}),e}(),g=function(){function e(){}return Object.defineProperty(e.prototype,"label",{get:function(){return this.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return n.localize("vs_languages_csharp_ui_statusIcon",4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 25},enumerable:!0,configurable:!0}),e.prototype.render=function(e,t){return u.addClass(t,"omnisharp"),t.innerHTML=['<div class="change-solution-folder">',"<span>"+this.description+"</span>","</div>"].join(""),null},e}(),b=function(){function e(e,t,n){this._project=e,this._labelProvider=t;var r=n.getSolutionPathOrFolder().path;".sln"===o.extname(r)&&(r=o.dirname(r)),this._isOutsideProject=0!==l.file(e.Path).path.indexOf(r)}return Object.defineProperty(e.prototype,"project",{get:function(){return this._project},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){var e=this._project.Name||o.basename(this._project.Path);return this._isOutsideProject?e+"â":e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._labelProvider.getLabel(this._project.Path)},enumerable:!0,configurable:!0}),e.prototype.compareTo=function(e){return this._isOutsideProject===e._isOutsideProject?r.localeCompare(this._project.Path,e._project.Path):this._isOutsideProject?1:-1},e}(),y=function(){function e(e){this._eventService=e.eventService,this._quickOpenService=e.quickOpenService,this._editorService=e.editorService,this._omnisharpService=e.omnisharp,this._storageService=e.storageService,this._outputService=e.outputService,this._launchTargetFinder=e.instantiationService.createInstance(m.Finder),this._labelProvider=new c.PathLabelProvider(e.contextService),this._model=new f}return e.prototype.render=function(t){var r=this,i=[],o=document.createElement("div"),m=document.createElement("a"),f=document.createElement("span"),y=document.createElement("span");m.appendChild(f),m.appendChild(y),o.appendChild(m),u.addClass(o,"omnisharp-status"),u.addClass(m,"status-flame-label"),u.addClass(f,"status-flame octicon octicon-flame"),u.addClass(y,"status-label");var _="",w=function(){if(u.removeClass(o,_),_=r._model.getStatusClassName(),u.addClass(o,_),r._model.hasAmbigousSolutionPathsAndFolders())y.innerHTML=n.localize("vs_languages_csharp_ui_statusIcon",5);else if(r._model.isRunningPackageRestore())y.innerHTML=n.localize("vs_languages_csharp_ui_statusIcon",6);else if(r._model.serverState===h.OmnisharpServerState.Started){var e=0;for(var t in r._model.projects)e+=1;y.innerHTML=0===e?n.localize("vs_languages_csharp_ui_statusIcon",7):1===e?n.localize("vs_languages_csharp_ui_statusIcon",8):n.localize("vs_languages_csharp_ui_statusIcon",9,e)}else u.clearNode(y);y.title=r._omnisharpService.getSolutionPathOrFolder()?n.localize("vs_languages_csharp_ui_statusIcon",10,c.getPathLabel(r._omnisharpService.getSolutionPathOrFolder())):""},E=function(){var e=r._model.solutionPathsAndFolders.map(function(e){return new v(e,r._labelProvider)}),t={matchOnDescription:!0,placeHolder:n.localize("vs_languages_csharp_ui_statusIcon",11)};r._quickOpenService.pick(e,t).then(function(e){e&&(r._setAndRememberSolutionPathOrFolder(e.item.target),w())})};i.push(u.addListener(m,"click",function(e){if(r._model.hasAmbigousSolutionPathsAndFolders())return E(),void 0;if(r._model.isRunningPackageRestore())return r._outputService.showOutput(h.Channels.OmnisharpPackageRestore,e.ctrlKey||e.metaKey),void 0;if(r._model.serverState!==h.OmnisharpServerState.Starting){var t,i=a.values(r._model.projects),o=r._model.solutionPathsAndFolders;if(1===o.length&&1===i.length)r._editorService.openEditor({resource:l.file(i[0].Path)});else if(1===o.length)t=r._quickOpenService.pick(i.map(function(e){return new b(e,r._labelProvider,r._omnisharpService)}).sort(function(e,t){return e.compareTo(t)}),{matchOnDescription:!0,placeHolder:n.localize("vs_languages_csharp_ui_statusIcon",12)});else if(0===i.length)E();else{var s=new Array;s.push.apply(s,i.map(function(e){return new b(e,r._labelProvider,r._omnisharpService)}).sort(function(e,t){return e.compareTo(t)})),s.push(new g),t=r._quickOpenService.pick(s,{matchOnDescription:!0,placeHolder:n.localize("vs_languages_csharp_ui_statusIcon",13)})}t&&t.then(function(e){e instanceof g?setTimeout(E,0):e instanceof b&&r._editorService.openEditor({resource:l.file(e.project.Path)})})}}));var S=function(e){r._model.serverState=e,e===h.OmnisharpServerState.Starting&&(r._model.projects=Object.create(null)),w()},T=function(e,t){switch(e){case h.Events.ProjectAdded:case h.Events.ProjectChanged:var n=t;n.MsBuildProject&&(r._model.projects[n.MsBuildProject.Path]=n.MsBuildProject),n.AspNet5Project&&(r._model.projects[n.AspNet5Project.Path]=n.AspNet5Project),w();break;case h.Events.PackageRestoreStarted:r._model.packageRestores[t.FileName]=Date.now(),w();break;case h.Events.PackageRestoreFinished:delete r._model.packageRestores[t.FileName],w()}},k=function(){r._launchTargetFinder.targets().then(function(t){if(1===t.length)r._setAndRememberSolutionPathOrFolder(t[0].target);else{var n=r._storageService.get(e.SolutionPathOrFolderStorageKey,d.StorageScope.WORKSPACE),i=!1;i=n&&t.some(function(e){return e.target.toString()===n}),i&&r._setAndRememberSolutionPathOrFolder(l.parse(n))}r._model.solutionPathsAndFolders=t,w()},s.onUnexpectedError)};return w(),t.appendChild(o),k(),this._omnisharpService.onServerStateChanged.add(S),this._omnisharpService.onServerEvent.add(T),this._launchTargetFinder.onTargetsChanged.add(k),i.push(function(){r._omnisharpService.onServerStateChanged.remove(S),r._launchTargetFinder.onTargetsChanged.remove(k)}),{dispose:function(){return p.cAll(i)}}},e.prototype._setAndRememberSolutionPathOrFolder=function(t){var n=this._omnisharpService.getSolutionPathOrFolder();n&&n.path===t.path||(this._model.selectedSolutionPathOrFolder=t,this._omnisharpService.setSolutionPathOrFolder(t),this._storageService.store(e.SolutionPathOrFolderStorageKey,t.toString(),d.StorageScope.WORKSPACE))},e.SolutionPathOrFolderStorageKey="omnisharp.LastSolutionPathOrFolder",e}();t.StatusIcon=y}),define("vs/languages/csharp/connection/omnisharpService",["require","exports","vs/base/lib/winjs.base","vs/base/async","vs/base/strings","vs/base/errors","vs/base/lifecycle","vs/languages/csharp/omnisharp","vs/base/eventSource","vs/base/severity","vs/platform/plugins"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){this._eventService=e}return e.prototype.onStdout=function(e){this._emit(e)},e.prototype.onStderr=function(e){this._emit(e)},e.prototype._emit=function(t){var n,r,o=String(t);n=e.timing200Pattern.exec(o),n&&(o=o.substr(n[0].length)),i.isFalsyOrWhitespace(o)||(this._eventService.emit("output:data",{channel:a.Channels.OmnisharpDebugLog,output:o}),r=e.restorePattern.exec(o),r&&this._eventService.emit("output:data",{channel:a.Channels.OmnisharpPackageRestore,output:o.substr(r[0].length)}))},e.restorePattern=/^\[\w+:OmniSharp.AspNet5.PackagesRestoreTool\] /,e.timing200Pattern=/^\[INFORMATION:OmniSharp.Middleware.LoggingMiddleware\] \/\w+: 200 \d+ms/,e}(),p=function(){function e(e){this._instantiationService=e.instantiationService,this._threadService=e.threadService,this._messageService=e.messageService,this._outputHandler=new d(e.eventService),this._onServerStateChanged=new l,this._onServerEvent=new l,this._onSolutionPathOrFolderChanged=new l,this._disposables=[],e.lifecycleService.onShutdown.add(this.dispose,this,this._disposables)}return e.prototype.dispose=function(){this._disposables=s.disposeAll(this._disposables)},e.prototype.setSolutionPathOrFolder=function(e){var t=this;this._solutionPathOrFolder=e,this._onSolutionPathOrFolderChanged.fire(this._solutionPathOrFolder),this._startedServer?this._startedServer.then(function(e){return e.stop()},function(){return null}).then(function(){return t._startedServer=null},function(){return t._startedServer=null}).then(function(){return t.getStartedServer()}).done(void 0,function(e){return console.error(e)}):this.getStartedServer()},e.prototype.getSolutionPathOrFolder=function(){return this._solutionPathOrFolder},Object.defineProperty(e.prototype,"onSolutionPathOrFolderChanged",{get:function(){return this._onSolutionPathOrFolderChanged.value},enumerable:!0,configurable:!0}),e.prototype.getStartedServer=function(){return this._solutionPathOrFolder?(this._startedServer||(this._startedServer=new r.ShallowCancelThenPromise(this._doGetStartedServer())),this._startedServer):n.TPromise.wrapError(o.canceled())},e.prototype._createOmnisharpServerListener=function(){var e=this;return{onOmnisharpServerEvent:function(t,n){return"stdout"===t?(e._outputHandler.onStdout(n),void 0):"stderr"===t?(e._outputHandler.onStderr(n),void 0):(e._onServerEvent.fire(t,n),void 0)}}},e.prototype._doGetStartedServer=function(){var e=this;return this._onServerStateChanged.fire(a.OmnisharpServerState.Starting),this._instantiatedServer||(this._instantiatedServer=u.activateAndGet("vs.language.csharp.omnisharp").then(function(t){var n=e._createOmnisharpServerListener();return e._threadService.isProxyObject(t)&&(n=e._threadService.proxifyMethods("omnisharpService.listener",n)),t.addListener(n),e._disposables.push(s.fnToDisposable(function(){return t.stop()})),t})),this._instantiatedServer.then(function(t){return t.start(e._solutionPathOrFolder.path).then(function(){return e._onServerStateChanged.fire(a.OmnisharpServerState.Started,t),t})}).then(null,function(t){return e._messageService.show(c.Error,t),e._onServerStateChanged.fire(a.OmnisharpServerState.Failed),n.TPromise.wrapError(t)})},Object.defineProperty(e.prototype,"onServerStateChanged",{get:function(){return this._onServerStateChanged.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onServerEvent",{get:function(){return this._onServerEvent.value},enumerable:!0,configurable:!0}),e}();return p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/csharp/features/commandSupport",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/time/schedulers","vs/base/collections","vs/base/paths","vs/base/lib/winjs.base","vs/base/lifecycle","vs/platform/platform","vs/base/ui/actions","vs/languages/csharp/omnisharp","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(e){function t(t){e.call(this,arguments[1],arguments[2]),this._commandSupport=t["omnisharp.commandSupport"]}return __extends(t,e),t.prototype.run=function(){return this._commandSupport.run(this.id)},t}(u.Action),f=function(){function e(e){this._callOnWorkspaceInfo=[],this._omnisharpService=e.omnisharp,this._execService=e.executionService,this._actionRegistry=c.Registry.as(h.Extensions.WorkbenchActions),this._refreshWorkspace=new i.RunOnceScheduler(this._refreshWorkspaceRunner.bind(this),500),this._execService&&this._omnisharpService.onServerEvent.add(this._onServerEvent,this)}return e.prototype.run=function(e){return this._execInfo[e]?this._execInfo[e]():a.TPromise.wrapError(n.localize("vs_languages_csharp_features_commandSupport",0))},e.prototype.dispose=function(){this._omnisharpService.onServerEvent.remove(this._onServerEvent,this),this._callOnWorkspaceInfo=l.cAll(this._callOnWorkspaceInfo)},e.prototype._onServerEvent=function(e){switch(e){case d.Events.ProjectAdded:case d.Events.ProjectChanged:this._refreshWorkspace.schedule()}},e.prototype._refreshWorkspaceRunner=function(){var e=this;this._omnisharpService.getStartedServer().then(function(e){return e.makeRequest(d.Protocol.Projects)}).then(function(t){e._execInfo=Object.create(null),e._callOnWorkspaceInfo=l.cAll(e._callOnWorkspaceInfo),t.AspNet5.Projects.forEach(function(n){e._restoreAsAction(t.AspNet5,n),e._commandsAsActions(t.AspNet5,n)})})},e.prototype._restoreAsAction=function(e,t){var i,o,a=this,l=/(\\|\/)\.k\1/.test(e.RuntimePath),c=""+t.Name+"/restore";l?(i=n.localize("vs_languages_csharp_features_commandSupport",1,t.Name),o=s.join(e.RuntimePath,"bin/kpm")):(i=n.localize("vs_languages_csharp_features_commandSupport",2,t.Name),o=s.join(e.RuntimePath,"bin/dnu")),r.isWindows&&(o+=".cmd");var u=l?n.localize("vs_languages_csharp_features_commandSupport",3):n.localize("vs_languages_csharp_features_commandSupport",4);this._execInfo[c]=function(){return a._execService.exec(o,["restore"],s.dirname(t.Path))},this._actionRegistry.registerWorkbenchAction(new p.SyncActionDescriptor(m,c,i),u),this._callOnWorkspaceInfo.push(function(){return a._actionRegistry.unregisterWorkbenchAction(c)})},e.prototype._commandsAsActions=function(e,t){var i=this,a=/(\\|\/)\.k\1/.test(e.RuntimePath);o.forEach(t.Commands,function(o){var l,c,u=""+t.Name+"."+o.key+"."+o.value+"."+Date.now(),d=n.localize("vs_languages_csharp_features_commandSupport",5,o.key,t.Name,o.value);a?(l=s.join(e.RuntimePath,"bin/k"),c=[o.key]):(l=s.join(e.RuntimePath,"bin/dnx"),c=[".",o.key]),r.isWindows&&(l+=a?".cmd":".exe"),i._execInfo[u]=function(){return i._execService.exec(l,c,{cwd:s.dirname(t.Path),env:{}})};var h=a?n.localize("vs_languages_csharp_features_commandSupport",6):n.localize("vs_languages_csharp_features_commandSupport",7);i._actionRegistry.registerWorkbenchAction(new p.SyncActionDescriptor(m,u,d),h),i._callOnWorkspaceInfo.push(function(){return i._actionRegistry.unregisterWorkbenchAction(u)})})},e}();return f}),define("vs/languages/csharp/features/fileChangesSupport",["require","exports","vs/platform/services","vs/base/lifecycle","vs/languages/csharp/omnisharp"],function(e,t,n,r,i){var o=function(){function e(e){this._omnisharpService=e.omnisharp,this._eventService=e.eventService,this._callOnDispose=this._eventService.addListener(n.Files.EventType.FILE_CHANGES,this._onFileEvents.bind(this))}return e.prototype.dispose=function(){r.cAll(this._callOnDispose)},e.prototype._onFileEvents=function(t){this._omnisharpService.getStartedServer().then(function(n){var r=t.changes.filter(function(e){return-1===e.resource.path.indexOf(".git")}).map(function(t){return e._asRequest(t.resource)});0!==r.length&&n.makeRequest(i.Protocol.FilesChanged,r).done(void 0,function(e){console.warn("failed to forward file change events",r,e)})})},e._asRequest=function(e){return{Filename:e.path}},e}();return o}),define("vs/languages/csharp/features/projectStatus",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/ui/labels","vs/base/strings","vs/base/uri","vs/base/severity","vs/base/time/schedulers","vs/languages/csharp/omnisharp","vs/base/ui/actions"],function(e,t,n,r,i,o,s,a,l,c,u){var d=function(){function e(e){this._omnisharpService=e.omnisharp,this._messageService=e.messageService,this._markerService=e.markerService,this._outputService=e.outputService,this._labelProvider=new i.PathLabelProvider(e.contextService),this._showMessage=new l.RunOnceScheduler(this._doShowMessage.bind(this),1500),this._omnisharpService.onServerEvent.add(this._onServerEvent,this),this._omnisharpService.onServerStateChanged.add(this._onServerStateChanged,this)}return e.prototype.dispose=function(){this._omnisharpService.onServerEvent.remove(this._onServerEvent,this),this._omnisharpService.onServerStateChanged.remove(this._onServerStateChanged,this)},e.prototype._onServerStateChanged=function(){},e.prototype._onServerEvent=function(e,t){e===c.Events.MsBuildProjectDiagnostics?this._onMsBuildProjectDiagnostics(t):e===c.Events.Error?this._onErrorMessage(t):e===c.Events.UnresolvedDependencies&&this._onUnresolvedDependencies(t)},e.prototype._onMsBuildProjectDiagnostics=function(t){var n=this,r=t.Errors.length+t.Warnings.length;r>0&&(this._appendLine(t.FileName),t.Errors.forEach(function(t){return n._appendLine(e._asString(t,a.Error))}),t.Warnings.forEach(function(t){return n._appendLine(e._asString(t,a.Warning))}),this._appendLine(),this._showMessage.schedule())},e.prototype._onErrorMessage=function(e){e.FileName&&this._appendLine(o.format("{0}({1},{2})",e.FileName,e.Line,e.Column)),this._appendLine(e.Text),this._appendLine(),this._showMessage.schedule()},e.prototype._onUnresolvedDependencies=function(e){this._messageService.show(a.Info,n.localize("vs_languages_csharp_features_projectStatus",0,this._labelProvider.getLabel(e.FileName),r.applicationName))},e.prototype._appendLine=function(e){void 0===e&&(e=""),this._outputService.append(c.Channels.OmnisharpDebugLog,e+"\n")},e.prototype._doShowMessage=function(){var e,t=this,r=n.localize("vs_languages_csharp_features_projectStatus",1),i=[];i.push(new u.Action("showOutput",n.localize("vs_languages_csharp_features_projectStatus",2),null,!0,function(){return t._outputService.showOutput(c.Channels.OmnisharpDebugLog),null})),i.push(new u.Action("cancel",n.localize("vs_languages_csharp_features_projectStatus",3),null,!0,function(){return e(),null})),e=this._messageService.show(a.Warning,{message:r,actions:i})},e._asResourceMarker=function(e,t){return{resource:s.file(e.FileName),marker:{severity:t,message:e.Text,startLineNumber:e.StartLine,startColumn:e.StartColumn,endLineNumber:e.EndLine,endColumn:e.EndColumn}}},e._asString=function(e,t){return o.format("{0}({1},{2}): {3}: {4}",e.FileName,e.StartLine,e.StartColumn,a.toString(t),e.Text)},e}();return d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/csharp/features/restartOmnisharpAction",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/ui/actions","vs/platform/actionRegistry"],function(e,t,n,r,i){var o=function(e){function t(t){e.call(this,"languages.action.omnisharp.restart"),this._omnisharp=t.omnisharp}return __extends(t,e),t.prototype.run=function(){var e=this._omnisharp.getSolutionPathOrFolder();return e?(this._omnisharp.setSolutionPathOrFolder(e),null):null},t}(r.Action),s=new i.SyncActionDescriptor(o,"languages.action.omnisharp.restart",n.localize("vs_languages_csharp_features_restartOmnisharpAction",0));return s}),define("vs/languages/csharp/features/telemetrySupport",["require","exports","vs/languages/csharp/omnisharp"],function(e,t,n){var r=function(){function e(e){this._omnisharpService=e.omnisharp,this._telemetryService=e.telemetryService,this._omnisharpService.onServerEvent.add(this._onServerEvent,this),this._omnisharpService.onServerStateChanged.add(this._onServerStateChanged,this)}return e.prototype.dispose=function(){this._omnisharpService.onServerEvent.remove(this._onServerEvent,this),this._omnisharpService.onServerStateChanged.remove(this._onServerStateChanged,this)},e.prototype._onServerEvent=function(e,t){switch(e){case n.Events.Error:var r=/\.(csproj|sln)$/.test(t.FileName),i=/project\.json$/.test(t.FileName);this._telemetryService.publicLog("omnisharp.diagnostics",{isMsBuildish:r,isAsp5ish:i});break;case n.Events.MsBuildProjectDiagnostics:this._telemetryService.publicLog("omnisharp.diagnostics.msbuild",{errors:t.Errors.length,warnings:t.Warnings.length});break;case n.Events.UnresolvedDependencies:this._telemetryService.publicLog("omnisharp.unresolvedDependencies");break;case n.Events.PackageRestoreStarted:this._telemetryService.publicLog("omnisharp.packageRestoreStarted");break;case n.Events.PackageRestoreFinished:this._telemetryService.publicLog("omnisharp.packageRestoreFinished")}},e.prototype._onServerStateChanged=function(e){var t=this;this._telemetryService.publicLog("omnisharp.stateChanged",{timestamp:Date.now(),state:n.OmnisharpServerState.toString(e)}),e===n.OmnisharpServerState.Started&&this._omnisharpService.getStartedServer().then(function(e){return e.makeRequest(n.Protocol.Projects).then(function(e){t._telemetryService.publicLog("omnisharp.stats.projects",{msbuild:e.MSBuild?e.MSBuild.Projects.length:0,dnx:e.AspNet5?e.AspNet5.Projects.length:0})})},function(e){console.error(e)})},e}();return r}),define("vs/languages/csharp/csharp.workbench.contribution",["require","exports","vs/workbench/ui/parts/statusbar/statusbar","vs/workbench/contrib/output/output","vs/platform/platform","vs/languages/csharp/ui/statusIcon","vs/workbench/core/extensions","vs/languages/csharp/connection/omnisharpService","vs/languages/csharp/omnisharp","vs/languages/csharp/features/commandSupport","vs/languages/csharp/features/fileChangesSupport","vs/languages/csharp/features/projectStatus","vs/languages/csharp/features/restartOmnisharpAction","vs/languages/csharp/features/telemetrySupport","vs/platform/configuration/keybindings","vs/workbench/ui/actionRegistry","vs/editor/contrib/suggest/suggest","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g){i.Registry.as(n.Extensions.Statusbar).registerStatusbarItem(new n.StatusbarItemDescriptor(o.StatusIcon,n.StatusbarAlignment.LEFT,20)),i.Registry.as(s.Extensions.Services).registerService(new s.WorkbenchServiceDescriptor(a,"omnisharp")),i.Registry.as(s.Extensions.Services).registerService(new s.WorkbenchServiceDescriptor(u,"omnisharp.fileChangesSupport",["omnisharp"])),i.Registry.as(s.Extensions.Services).registerService(new s.WorkbenchServiceDescriptor(c,"omnisharp.commandSupport",["omnisharp"])),i.Registry.as(s.Extensions.Services).registerService(new s.WorkbenchServiceDescriptor(d,"omnisharp.projectStatus",["omnisharp","outputService"])),i.Registry.as(s.Extensions.Services).registerService(new s.WorkbenchServiceDescriptor(h,"omnisharp.telemetry",["omnisharp"])),i.Registry.as(f.Extensions.WorkbenchActions).registerWorkbenchAction(p);var b=i.Registry.as(r.Extensions.OutputChannels);b.registerChannel(l.Channels.OmnisharpDebugLog),b.registerChannel(l.Channels.OmnisharpPackageRestore),m.registerCommand("omnisharp.show.generalLog",function(e){var t=e.outputService;t.showOutput(l.Channels.OmnisharpDebugLog,!1,!0)},{ctrlCmd:!0,key:"U",chord:{key:"L"}},42),m.registerCommand("omnisharp.show.generalLogOnSide",function(e){var t=e.outputService;t.showOutput(l.Channels.OmnisharpDebugLog,!0,!0)},{ctrlCmd:!0,key:"U",chord:{ctrlCmd:!0,key:"L"}},42),m.registerCommandRule("^"+v.ACCEPT_SELECTED_SUGGESTION_CMD,[{key:"."},{shift:!0,key:"9"},{shift:!0,key:"0"}],m.WEIGHT.editorContrib(),[{key:g.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:v.CONTEXT_SUGGEST_WIDGET_VISIBLE},{key:g.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,operator:m.KEYBINDING_CONTEXT_OPERATOR_EQUAL,operand:"csharp"}])}),define("vs/platform/contextview/nativeContextmenuService",["require","exports","vs/base/severity","vs/base/ui/widgets/actionbar","vs/base/dom/dom","vs/base/dom/builder","vs/platform/configuration/keybindings","remote"],function(e,t,n,r,i,o,s,a){var l=o.$,c=a.require("menu"),u=a.require("menu-item"),d=function(){function e(e,t){this.messageService=e,this.telemetryService=t}return e.prototype.showContextMenu=function(e){var t=this,o=new c,d=null;e.getActions().done(function(t){t.forEach(function(t){if(t instanceof r.Separator)o.append(new u({type:"separator"}));else{var n,i=e.getKeyBinding?e.getKeyBinding(t):void 0;i&&(n=s.toAtomAccelerator(i));var a=new u({label:t.label,accelerator:n,click:function(){d=t}});a.enabled=t.enabled,o.append(a)}})});var p,h,m=e.getAnchor();if(i.isHTMLElement(m)){var f=l(m),v=f.getPosition(),g=f.getTotalSize();p=v.left,h=v.top+g.height}else{var b=m;p=b.x,h=b.y}if(o.popup(a.getCurrentWindow(),Math.floor(p),Math.floor(h)),e.onHide&&e.onHide(!1),d){this.telemetryService.publicLog("workbenchActionExecuted",{id:d.id,from:"contextMenu"});var y=d.run(e.getActionsContext?e.getActionsContext():null);y&&y.done(null,function(e){return t.messageService.show(n.Error,e)})}},e}();t.ContextMenuService=d}),define("vs/css!vs/base/ui/widgets/modalview/modalView",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/ui/widgets/modalview/modalView",["require","exports","vs/base/dom/dom","vs/base/uuid","vs/base/lifecycle","vs/css!./modalView"],function(e,t,n,r,i){var o=function(){function e(e){this.container=e,this.el=document.createElement("div"),this.el.className="monaco-modal-view";var t=document.createElement("div");t.className="monaco-modal-view-background",this.el.appendChild(t),e.appendChild(this.el),this.delegates={},this.eventListenersToDispose=[]}return e.prototype.showModalView=function(e){var t=this,i=document.createElement("div");i.className="monaco-modal-view-layer",i.tabIndex=0,this.el.appendChild(i),i.focus(),0===Object.keys(this.delegates).length&&(this.setupEventListeners(),n.addClass(this.el,"visible"));var o=r.v4().asHex();this.delegates[o]=e;var s=e.render(i);return function(){t.el.removeChild(i),s&&s.dispose(),delete t.delegates[o],0===Object.keys(t.delegates).length&&(n.removeClass(t.el,"visible"),t.clearEventListeners())}},e.prototype.isVisible=function(){return n.hasClass(this.el,"visible")},e.prototype.onBeforeUnload=function(){var e=this,t=null;return Object.keys(this.delegates).some(function(n){var r=e.delegates[n];return r.onBeforeUnload?!!(t=r.onBeforeUnload()):!1}),t},e.prototype.setupEventListeners=function(){var e=this;this.eventListenersToDispose=[n.addStandardDisposableListener(this.container,"focus",function(t){return e.onContainerFocus(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyEvent(t)})]},e.prototype.clearEventListeners=function(){this.eventListenersToDispose=i.disposeAll(this.eventListenersToDispose)},Object.defineProperty(e.prototype,"visibleLayer",{get:function(){return this.el.lastChild},enumerable:!0,configurable:!0}),e.prototype.onContainerFocus=function(e){this.visibleLayer&&!n.isAncestor(document.activeElement,this.visibleLayer)&&(this.visibleLayer.focus(),e.stopPropagation())},e.prototype.onKeyCaptureEvent=function(e){this.visibleLayer&&!n.isAncestor(e.target,this.visibleLayer)&&(e.stopPropagation(),e.preventDefault())},e.prototype.onKeyEvent=function(e){e.stopPropagation()},e.prototype.dispose=function(){this.clearEventListeners()},e}();t.ModalView=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/changeTheme",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/ui/actions","vs/base/ui/widgets/shell/shell"],function(e,t,n,r,i,o,s){t.THEME_SETTING_ID="workbench.theme";
var a=function(e){function i(t,n,r){void 0===r&&(r="workbench.action.change-theme"),e.call(this,r),this.enabled=!0,this.storageService=t.storageService,this.theme=n}return __extends(i,e),Object.defineProperty(i.prototype,"class",{get:function(){var e=this.storageService.get(t.THEME_SETTING_ID,r.StorageScope.GLOBAL,s.toString(s.Theme.VS));return e===s.toString(this.theme)?"check":"uncheck"},enumerable:!0,configurable:!0}),i.prototype.run=function(){return this.storageService.store(t.THEME_SETTING_ID,s.toString(this.theme),r.StorageScope.GLOBAL),n.Promise.as(null)},i}(o.Action);t.ChangeThemeAction=a;var l=function(e){function t(n){e.call(this,n,s.Theme.VS,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",0)}return __extends(t,e),t.ID="workbench.action.changeToLightTheme",t}(a);t.ChangeThemeToLightAction=l;var c=function(e){function t(n){e.call(this,n,s.Theme.VS_DARK,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",1)}return __extends(t,e),t.ID="workbench.action.changeToDarkTheme",t}(a);t.ChangeThemeToDarkAction=c;var u=function(e){function t(n){e.call(this,n,s.Theme.HIGH_CONTRAST,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",2)}return __extends(t,e),t.ID="workbench.action.changeToHighContrastTheme",t}(a);t.ChangeThemeToHighContrastAction=u}),define("vs/css!vs/editor/css/vs-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/editor/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/editor/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/workbench/css/vs-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/workbench/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/css!vs/workbench/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/baseWorkbenchShell",["require","exports","vs/base/dom/builder","vs/base/env","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/platform","vs/platform/actionRegistry","vs/base/ui/widgets/modalview/modalView","vs/workbench/ui/services","vs/workbench/ui/actionRegistry","vs/base/ui/widgets/shell/shell","vs/monaco/contrib/actions/changeTheme","vs/css!vs/editor/css/vs-theme","vs/css!vs/editor/css/vs-dark-theme","vs/css!vs/editor/css/hc-black-theme","vs/css!vs/workbench/css/vs-theme","vs/css!vs/workbench/css/vs-dark-theme","vs/css!vs/workbench/css/hc-black-theme"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=n.$,h=function(e){function t(t){e.call(this,t),this.shellContainer=t}return __extends(t,e),t.prototype.createContents=function(e){this.modalView=new a.ModalView(this.shellContainer);var t=p(e).div();return t},t}(u.Shell);t.BaseWorkbenchShell=h;var m=function(e){function t(t,n){e.call(this,t),this.modalView=n}return __extends(t,e),t.prototype.show=function(t,n){if(!n.render)return e.prototype.show.call(this,t,n);var r=n;return this.modalView.showModalView({render:function(e){var t=null,n=p(".monaco-notification-container").appendTo(e),i=p(".notification").appendTo(n);p("h2.notification-title").text(r.message).appendTo(i);var o=p(".notification-body").appendTo(i);return r.render&&(t=r.render(o.getHTMLElement())),t},onBeforeUnload:n.onBeforeUnload})},t}(l.WorkbenchMessageService);t.WorkbenchShellMessageService=m;var f=i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",0),v=o.Registry.as(c.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToLightAction,d.ChangeThemeToLightAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",1)),f),v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToDarkAction,d.ChangeThemeToDarkAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",2)),f),(!r.isNative||r.isWindows)&&v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToHighContrastAction,d.ChangeThemeToHighContrastAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",3)),f)}),define("vs/monaco/ui/workbench/native/nativeWindow",["require","exports","vs/base/env","vs/workbench/constants","vs/workbench/events","vs/workbench/ui/parts/editor/baseEditor","vs/base/dom/dom","vs/base/dom/builder","vs/base/ui/widgets/contextview/contextview","remote","ipc"],function(e,t,n,r,i,o,s,a,l,c,u){var d=a.$,p=c.require("shell"),h=c.require("dialog"),m=function(){function e(e,t){this.win=t,this.contextService=e.contextService,this.eventService=e.eventService,this.storageService=e.storageService,this.editorService=e.editorService,this.viewletService=e.viewletService,this.contextViewService=e.contextViewService,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;n.platform===n.Platform.Mac&&this.eventService.addListener(i.EventType.EDITOR_INPUT_CHANGED,function(t){var n=o.asFileEditorInput(t.editorInput,!0);n?e.win.setRepresentedFilename(n.getResource().path):e.win.setRepresentedFilename("")}),window.document.body.addEventListener("dragover",function(e){e.preventDefault()}),window.document.body.addEventListener("drop",function(t){t.preventDefault();var n=window.document.getElementById(r.Identifiers.EDITOR_PART);if(s.isAncestor(t.toElement,n)&&t.dataTransfer&&t.dataTransfer.files){for(var i=[],o=0;o<t.dataTransfer.files.length;o++)t.dataTransfer.files[o]&&t.dataTransfer.files[o].path&&i.push(t.dataTransfer.files[o].path);i.length&&e.open(i)}}),n.isWindows&&(window.document.body.addEventListener("mousemove",function(t){e.mousePosition={x:t.x,y:t.y};var n=t.target.title;n?e.currentHoverTitle===n||(e.clearHover(),e.currentHoverTitle=n,e.hoverTimeout=setTimeout(function(){e.contextViewService.showContextView({getAnchor:function(){return{x:e.mousePosition.x,y:e.mousePosition.y-4,width:20,height:28}},anchorAlignment:l.AnchorAlignment.LEFT,render:function(t){return d(t).div({class:"tooltip customhover"}).safeInnerHtml(e.currentHoverTitle),null},onDOMEvent:function(){e.clearHover()}})},800)):e.clearHover()}),window.document.body.addEventListener("mouseleave",function(){e.clearHover()}),window.document.body.addEventListener("mouseout",function(){e.clearHover()})),window.open=function(e){return p.openExternal(e),null}},e.prototype.clearHover=function(){"string"==typeof this.currentHoverTitle&&(this.contextViewService.hideContextView(),clearTimeout(this.hoverTimeout),this.currentHoverTitle=null)},e.prototype.open=function(e){var t;t=Array.isArray(e)?e:"string"==typeof e?[e]:[e.path],u.send("ticino:windowOpen",t)},e.prototype.openNew=function(){u.send("ticino:openNewWindow")},e.prototype.close=function(){this.win.close()},e.prototype.showMessageBox=function(e){return h.showMessageBox(this.win,e)},e.prototype.setFullScreen=function(e){this.win.setFullScreen(e)},e.prototype.openDevTools=function(){this.win.openDevTools()},e.prototype.isFullScreen=function(){return this.win.isFullScreen()},e.prototype.setMenuBarVisibility=function(e){this.win.setMenuBarVisibility(e)},e.prototype.flashFrame=function(){this.win.flashFrame(!this.win.isFocused())},e}();t.NativeWindow=m}),define("vs/monaco/ui/workbench/native/nativeIntegration",["require","exports","vs/base/errors","vs/base/arrays","vs/monaco/ui/workbench/native/nativeWindow","remote","ipc"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this.instantiationService=e.instantiationService,this.windowService=e.windowService,this.partService=e.partService,this.contextService=e.contextService,this.telemetryService=e.telemetryService,this.messageService=e.messageService,this.keybindingService=e.keybindingService}return e.prototype.integrate=function(){var e=this,t=this.instantiationService.createInstance(i.NativeWindow,o.getCurrentWindow());this.windowService.registerWindow(t),s.on("ticino:runAction",function(t){e.keybindingService.executeCommand(t,{from:"menu"})}),s.on("ticino:optionsChange",function(t){var n=JSON.parse(t);for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];e.contextService.updateOptions(r,i)}}),s.on("ticino:resolveKeybindings",function(t){var r=[];try{r=JSON.parse(t)}catch(i){}e.resolveKeybindings(r).done(function(e){e.length&&s.send("ticino:keybindingsResolved",JSON.stringify(e))},function(){return n.onUnexpectedError})}),s.on("ticino:reportMenuActionTelemetry",function(t){e.telemetryService.publicLog("workbenchActionExecuted",{id:t,from:"menu"})}),this.partService.joinCreation().then(function(){s.send("ticino:workbenchLoaded")})},e.prototype.resolveKeybindings=function(e){var t=this;return this.partService.joinCreation().then(function(){return r.coalesce(e.map(function(e){var n=t.keybindingService.lookupKeybinding(e);return n.length?{id:e,binding:n[0].keybinding}:null}))})},e}();t.NativeIntegration=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/native/nativeUpdate",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/severity","vs/base/lib/winjs.base","vs/base/ui/actions","ipc"],function(e,t,n,r,i,o,s){var a=function(e){function t(t){e.call(this,"nativeupdate.applyUpdate",n.localize("vs_monaco_ui_workbench_native_nativeUpdate",0),null,!0),this.update=t}return __extends(t,e),t.prototype.run=function(){return s.send("ticino:update-apply"),i.Promise.as(null)},t}(o.Action),l=(function(e){function t(t){e.call(this,"nativeupdate.showReleaseNotes",n.localize("vs_monaco_ui_workbench_native_nativeUpdate",1),null,!0),this.update=t}return __extends(t,e),t.prototype.run=function(){return i.Promise.as(null)},t}(o.Action),function(){function e(t){var i=this;this.messageService=t.messageService,s.on("ticino:update-downloaded",function(t){i.messageService.show(r.Info,{message:n.localize("vs_monaco_ui_workbench_native_nativeUpdate",2),actions:[e.NotNowAction,new a(t)]})}),s.on("ticino:update-not-available",function(){i.messageService.show(r.Info,n.localize("vs_monaco_ui_workbench_native_nativeUpdate",3))})}return e.NotNowAction=new o.Action("nativeupdate.later",n.localize("vs_monaco_ui_workbench_native_nativeUpdate",4),null,!0,function(){return i.Promise.as(!0)}),e}());t.NativeUpdate=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/native/nativeServices",["require","exports","vs/base/lib/winjs.base","fs","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/objects","vs/base/env","vs/workbench/events","vs/monaco/ui/workbench/baseWorkbenchShell","vs/platform/configuration/configurationService","vs/platform/configuration/configurationRegistry","vs/platform/configuration/keybindingService","vs/workbench/ui/parts/statusbar/statusbar","vs/platform/platform","vs/base/dom/dom"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){var f=function(){function e(){}return e.prototype.getWindow=function(){return this.win},e.prototype.registerWindow=function(e){this.win=e},e}();t.NativeWindowService=f;var v=function(){function e(e,t,n){var r=this;this.papa=e,this.message=t,n>=0&&setTimeout(function(){return r.dispose()},n)}return e.prototype.dispose=function(){this.papa.remove(this)},e}(),g=function(){function e(e){var t=e.messageService;t instanceof y&&t.setStatusBarMessageRenderer(this),this._messages=[]}return e.prototype.render=function(e){return this._element=e,{dispose:function(){}}},e.prototype.remove=function(e){for(var t=0;t<this._messages.length;t++)if(this._messages[t]===e)return this._messages.splice(t,1),this._render(),void 0},e.prototype.setMessage=function(e,t){var n=new v(this,e,t);return this._messages.push(n),this._render(),n},e.prototype._render=function(){if(m.clearNode(this._element),this._messages.length>0){var e=this._messages[this._messages.length-1].message,t=document.createElement("span");t.className="message-status-item",t.appendChild(document.createTextNode(e)),this._element.appendChild(t)}},e}(),b=h.Registry.as(p.Extensions.Statusbar);b.registerStatusbarItem(new p.StatusbarItemDescriptor(g,p.StatusbarAlignment.LEFT,1e3));var y=function(e){function t(t,n){e.call(this,t,n),this.windowService=t.windowService,this.statusbarMessageRenderer=null}return __extends(t,e),t.prototype.setStatusBarMessageRenderer=function(e){this.statusbarMessageRenderer=e},t.prototype.confirm=function(e){e.primaryButton||(e.primaryButton=i.localize("vs_monaco_ui_workbench_native_nativeServices",0)),e.secondaryButton||(e.secondaryButton="Cancel");var t={message:e.message,buttons:[e.primaryButton,e.secondaryButton]};e.detail&&(s.isWindows&&(e.detail="\n"+e.detail),t.detail=e.detail);var n=this.windowService.getWindow().showMessageBox(t);return 0===n?!0:!1},t.prototype.setStatusMessage=function(e,t){return void 0===t&&(t=-1),this.statusbarMessageRenderer?this.statusbarMessageRenderer.setMessage(e,t):(console.warn("Cannot render status message: ",e),{dispose:function(){}})},t}(l.WorkbenchShellMessageService);t.NativeMessageService=y;var _=function(e){function t(t){e.call(this,t),this.registerListeners()}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose=this._eventService.addListener(a.EventType.WORKBENCH_OPTIONS_CHANGED,function(t){return e.onOptionsChanged(t)})},t.prototype.onOptionsChanged=function(e){"globalSettings"===e.key&&this._reloadAndEmit()},t.prototype.hasWorkspaceConfiguration=function(){return this.hasWorkspaceSettingsFolder?e.prototype.hasWorkspaceConfiguration.call(this):!1},t.prototype.loadWorkspaceConfiguration=function(t){var i=this,o=this._contextService.toResource(this._workspaceSettingsRootFolder);return o?new n.Promise(function(n,s,a){r.exists(o.path,function(r){return i.hasWorkspaceSettingsFolder=r,r?e.prototype.loadWorkspaceConfiguration.call(i,t).then(n,s,a):n({})})}):n.Promise.as({})},t.prototype.loadGlobalConfiguration=function(){var t=this;return e.prototype.loadGlobalConfiguration.call(this).then(function(e){var n=t._contextService.getOptions().globalSettings;return{contents:o.mixin(e.contents,n.settings,!0),parseErrors:n.settingsParseErrors}})},t.prototype.dispose=function(){this.toDispose()},t}(c.ConfigurationService);t.NativeConfigurationService=_;var w=function(e){function t(t,n){var r=this;this._contextService=t.contextService,e.call(this,n),this._eventService=t.eventService,this._telemetryService=t.telemetryService,this.toDispose=this._eventService.addListener(a.EventType.WORKBENCH_OPTIONS_CHANGED,function(e){return r.onOptionsChanged(e)})}return __extends(t,e),t.prototype.customKeybindingsCount=function(){var e=this._contextService.getOptions();return e.globalSettings&&e.globalSettings.keybindings&&Array.isArray(e.globalSettings.keybindings)?e.globalSettings.keybindings.length:0},t.prototype._getExtraKeybindings=function(e){var t=[],n=this._contextService.getOptions();if(n.globalSettings&&n.globalSettings.keybindings){if(!e){var r=0;Array.isArray(n.globalSettings.keybindings)&&(r=n.globalSettings.keybindings.length),this._telemetryService.publicLog("customKeybindingsChanged",{keyCount:r})}t=n.globalSettings.keybindings}return t.map(function(e){return d.IOSupport.readKeybindingItem(e)})},t.prototype.onOptionsChanged=function(e){"globalSettings"===e.key&&this.updateResolver()},t.prototype.dispose=function(){this.toDispose()},t}(d.KeybindingService);t.NativeKeybindingService=w;var E=h.Registry.as(u.Extensions.Configuration);E.registerConfiguration({id:"keybindings",workspace:!1,container:!0,type:"array",title:i.localize("vs_monaco_ui_workbench_native_nativeServices",1),items:{required:["key"],type:"object",default:{key:"{{_}}",command:"{{_}}",when:"{{_}}"},properties:{key:{type:"string",description:i.localize("vs_monaco_ui_workbench_native_nativeServices",2)},command:{description:i.localize("vs_monaco_ui_workbench_native_nativeServices",3)},when:{type:"string",description:i.localize("vs_monaco_ui_workbench_native_nativeServices",4)}}}})}),define("vs/monaco/core/remoteEvents",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/time/idleMonitor"],function(e,t,n,r,i,o){function s(e,t,n,r){c&&(console.log("Client: "+t+" "+n),r&&console.log(r)),r&&(r=JSON.stringify(r));var i={type:t,url:n,data:r,customRequestConfiguration:{timeout:h}};return r&&(i.headers={"Content-Type":"application/json"}),e.makeRequest(i).then(function(e){var r=JSON.parse(e.responseText);return c&&(console.log("Server, in reply to: "+t+" "+n),console.log(r)),r})}function a(){var e={promise:null,onComplete:null,onError:null,onProgress:null,onCancel:null};return e.promise=new r.Promise(function(t,n,r){e.onComplete=t,e.onError=n,e.onProgress=r},function(){e.onCancel&&e.onCancel()}),e}var l,c=!1,u="connect",d="longpoll",p=2e4,h=3*p,m=[{minWait:1,maxWait:3},{minWait:3,maxWait:10},{minWait:10,maxWait:30},{minWait:30,maxWait:60},{minWait:60,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},null];!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(l||(l={}));var f=function(){function e(e){this.requestService=e,this.url=this.requestService.getRequestUrl("events"),this.delegateEventEmitter=new i.EventEmitter,this.stateChangeEventEmitter=new i.EventEmitter,this.idleMonitor=new o.IdleMonitor,this.disconnectedStatePromise=null,this.setState(l.IDLE,!1),this.clientId=null,this.lastEventId="0",this.outgoingQueue=new b}return e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addListener=function(e,t){return this.state===l.IDLE&&this.setStateToDisconnected(!1),this.delegateEventEmitter.addListener(e,t)},e.prototype.addStateChangeListener=function(e){return this.stateChangeEventEmitter.addListener2("stateChanged",e)},e.prototype.emit=function(e,t){this.state===l.IDLE&&this.setStateToDisconnected(!1);var n=a(),r={event:e,data:t,pc:n.onComplete,pe:n.onError,timestamp:(new Date).getTime()};return this.emitToServer(r),n.promise},e.prototype.setStateToConnected=function(){var e=this;this.state!==l.CONNECTED&&(this.setState(l.CONNECTED,!0),c&&console.log("CLIENT ENTERING CONNECTED STATE"),this._connect().then(null,function(){e.setStateToDisconnected(!0)},function(t){e.lastEventId=t.lastEventId;for(var n=t.events,r=0,i=n.length;i>r;r++)e.delegateEventEmitter.emit(n[r].event,n[r].data)}),this.outgoingQueue.isEmpty()||this.emitToServerWhileConnected(this.outgoingQueue.popAll()))},e.prototype._connect=function(){return v.beginLongPoll(this.requestService,this.idleMonitor,this.url+d,this.clientId,this.lastEventId)},e.prototype.setState=function(e,t){this.state=e,t&&this._emitStateChanged(this.state===l.CONNECTED)},e.prototype._emitStateChanged=function(e,t){void 0===t&&(t=0);var r={state:e?n.ConnectionState.CONNECTED:n.ConnectionState.DISCONNECTED,canReconnect:!0,nextConnectAttempt:t};this.stateChangeEventEmitter.emit("stateChanged",r)},e.prototype.setStateToDisconnected=function(e){this.state!==l.DISCONNECTED&&(this.setState(l.DISCONNECTED,e),c&&console.log("CLIENT ENTERING DISCONNECTED STATE"),this.disconnectedStatePromise=this._connectNow())},e.prototype.tryReconnectNow=function(){this.state===l.DISCONNECTED&&(this.disconnectedStatePromise.cancel(),this._emitStateChanged(!1),this.disconnectedStatePromise=this._connectNow())},e.prototype._connectNow=function(){var e=this;return this._reallyConnectNow().then(function(t){c&&console.log("CLIENT had clientId: "+e.clientId+", gets new clientId: "+t),e.clientId=t,e.setStateToConnected()},function(t){"tooManyRetries"===t&&(console.warn("Server connection is lost since more than 30mins. Giving up."),e._emitStateChanged(!1,-1))},function(t){console.warn("Server connection is lost. Reconnecting in "+t+" ms."),e._emitStateChanged(!1,t)})},e.prototype._reallyConnectNow=function(){return g.connect(this.requestService,this.url+u,this.clientId)},e.prototype.emitToServerWhileConnected=function(e){var t=this;this._emitToServerWhileConnected(e).then(function(){for(var t=0,n=e.length;n>t;t++)e[t].pc(null)},function(){t.outgoingQueue.pushEvents(e),t.setStateToDisconnected(!0)})},e.prototype._emitToServerWhileConnected=function(e){return v.sendOutgoingEvents(this.requestService,this.url,this.clientId,e)},e.prototype.emitToServer=function(e){this.state===l.CONNECTED?this.emitToServerWhileConnected([e]):this.outgoingQueue.pushEvents([e])},e}();t.RemoteEvents=f;var v=function(){function e(){}return e.sendOutgoingEvents=function(e,t,n,r){for(var i=[],o=0,a=r.length;a>o;o++)i[o]={timestamp:r[o].timestamp,event:r[o].event,data:r[o].data};var l={clientId:n,events:i};return s(e,"POST",t,l).then(function(e){if(!e.success)throw new Error(e.reason);return e})},e._createLongPollRequest=function(e,t,n,r){var i={clientId:n,lastEventId:r};return s(e,"POST",t,i)},e._recursiveLongPoll=function(t,n,r,i,s,a,l){e._createLongPollRequest(t,r,i,s).then(function(s){if(!s.success)return l(s.reason),void 0;var c=s.lastEventId;n.getStatus()===o.UserStatus.Idle?n.addOneTimeActiveListener(function(){e._recursiveLongPoll(t,n,r,i,c,a,l)}):e._recursiveLongPoll(t,n,r,i,c,a,l),setTimeout(function(){a(s)},0)}).done(null,l)},e.beginLongPoll=function(t,n,r,i,o){var s=a();return e._recursiveLongPoll(t,n,r,i,o,s.onProgress,s.onError),s.promise},e}(),g=function(){function e(){}return e.createConnectRequest=function(e,t,n){var r={clientId:n};return s(e,"POST",t,r)},e._recursiveConnect=function(t,n,r,i,o,s,a){var l=-1,u=!1,d=!1,p=null,h=function(){c&&console.info("onCancel..."),u||(u=!0,d=!0,p.cancel(),-1!==l&&(clearTimeout(l),l=-1))},f=function(){p=e.createConnectRequest(t,r,i),p.then(function(e){u=!0,s(e.clientId)}).done(null,function(){if(!d){var e=m[Math.min(n,m.length-1)];if(e){var t=e.maxWait-e.minWait,r=e.minWait+t*Math.random(),i=Math.round(1e3*r);o(i),l=setTimeout(function(){l=-1,n++,f()},i)}else u=!0,a("tooManyRetries")}})};return f(),h},e.connect=function(t,n,r){var i=a();return i.onCancel=e._recursiveConnect(t,0,n,r,i.onProgress,i.onComplete,i.onError),i.promise},e}(),b=function(){function e(){this.events=[]}return e.prototype.pushEvents=function(e){this.events=this.events.concat(e),this.events.sort(function(e,t){return e.timestamp-t.timestamp})},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.popAll=function(){var e=this.events;return this.events=[],e},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/longPollRemoteEvents",["require","exports","vs/monaco/core/remoteEvents"],function(e,t,n){var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(n.RemoteEvents);t.RemoteEvents=r}),define("vs/monaco/core/remoteEventChannels",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/errors","vs/platform/services"],function(e,t,n,r,i,o){function s(e,t,n){return{type:p,payload:n,handshakeToken:e,route:t}}function a(e,t){return{type:m,payload:t,channelId:e}}function l(e,t,n){return{type:f,payload:n,channelId:e,requestId:t}}function c(e,t){return{type:g,payload:t,channelId:e}}function u(e,t){return{type:h,payload:t,handshakeToken:e,channelId:null}}var d="eventChannel",p=1,h=2,m=3,f=4,v=5,g=6,b=function(){function e(e,t){this.isClosed=!1,this.channelId=t,this.remoteEventsChannels=e,this.listenerDelegate=new r.EventEmitter,this.lastRequestId=0,this.pendingRequests={}}return e.prototype.addListener=function(e,t){return this.isClosed?null:this.listenerDelegate.addListener(e,t)},e.prototype.emit=function(e){if(!this.isClosed){var t=a(this.channelId,e);this.remoteEventsChannels.emit(t).done(null,i.onUnexpectedError)}},e.prototype.onServerEventMessage=function(e){this.isClosed||this.listenerDelegate.emit("server",e)},e.prototype.onServerReplyMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pc(t)}},e.prototype.onServerReplyErrorMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pe(t)}},e.prototype.request=function(e){var t=this;if(this.isClosed)return n.Promise.wrapError("event channel is closed");var r=(++this.lastRequestId).toString(),o=null,s=new n.Promise(function(e,t,n){o={pc:e,pe:t,pp:n}},function(){}),a=l(this.channelId,r,e);return this.remoteEventsChannels.emit(a).then(null,function(e){t.onServerReplyErrorMessage(r,e)}).done(null,i.onUnexpectedError),this.pendingRequests[r]=o,s},e.prototype.doClose=function(e,t){if(!this.isClosed){if(this.isClosed=!0,"clientClose"===e){var n=c(this.channelId,t);this.remoteEventsChannels.emit(n).done(null,i.onUnexpectedError)}("serverClose"===e||"socketDisconnect"===e)&&this.listenerDelegate.emit("close",{reason:e,detail:t});for(var r in this.pendingRequests)this.pendingRequests.hasOwnProperty(r)&&this.pendingRequests[r].pe({reason:e,detail:t});this.pendingRequests={},this.remoteEventsChannels.onCloseChannel(this.channelId),this.listenerDelegate.dispose(),this.listenerDelegate=null,this.remoteEventsChannels=null}},e.prototype.onServerCloseChannelMessage=function(e){this.doClose("serverClose",e)},e.prototype.onDisconnect=function(e){this.doClose("socketDisconnect",e)},e.prototype.close=function(e){void 0===e&&(e=""),this.doClose("clientClose",e)},e}(),y=function(){function e(e){var t=this;this.remoteEvents=e,this.channels={},this.pendingChannels={},this.remoteEvents.on(d,function(e){return t.onServerMessage(e)}),this.remoteEvents.addStateChangeListener(function(e){if(e.state!==o.ConnectionState.CONNECTED){for(var n in t.pendingChannels)t.pendingChannels.hasOwnProperty(n)&&t.pendingChannels[n].pp(e);for(var r=Object.keys(t.channels),i=0;i<r.length;i++)t.channels[r[i]].onDisconnect("")}})}return e.prototype.establishPrivateChannel=function(t,r){var o=this,a=(++e.LAST_HANDSHAKE_KEY).toString(),l=null,c=new n.Promise(function(e,t,n){l={pc:e,pe:t,pp:n}});this.pendingChannels[a]=l;var p=s(a,t,r);return this.remoteEvents.emit(d,p).then(null,function(e){o.onServerCreateChannelErrorMessage(u(a,e))}).done(null,i.onUnexpectedError),c},e.prototype.onCloseChannel=function(e){this.channels.hasOwnProperty(e)&&delete this.channels[e]},e.prototype.emit=function(e){return this.remoteEvents.emit(d,e)},e.prototype.onServerMessage=function(e){switch(e.type){case p:this.onServerCreateChannelMessage(e);break;case h:this.onServerCreateChannelErrorMessage(e);break;case m:this.onServerEventMessage(e);break;case f:this.onServerReplyMessage(e);break;case v:this.onServerReplyErrorMessage(e);break;case g:this.onServerCloseChannelMessage(e)}},e.prototype.onServerCreateChannelMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken];var n=new b(this,e.channelId);this.channels[e.channelId]=n,t.pc(n)}},e.prototype.onServerCreateChannelErrorMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken],t.pe(e.payload)}},e.prototype.onServerEventMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerEventMessage(e.payload)},e.prototype.onServerReplyMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyMessage(e.requestId,e.payload)},e.prototype.onServerReplyErrorMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyErrorMessage(e.requestId,e.payload)},e.prototype.onServerCloseChannelMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerCloseChannelMessage(e.payload)},e.LAST_HANDSHAKE_KEY=0,e}();t.RemoteEventChannels=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/requestService",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/monaco/core/longPollRemoteEvents","vs/monaco/core/remoteEventChannels"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r,i){e.call(this,t,n,r),this.isRemoteEventsSupported=!!this.getRequestUrl("events"),this.eventService=i||t.eventService,this.initRemoteEvents()}return __extends(t,e),t.prototype.initRemoteEvents=function(){var e=this,t=this.getRequestUrl("events");t&&(this.remoteEvents=new i.RemoteEvents(this),this.remoteEventChannels=new o.RemoteEventChannels(this.remoteEvents),this.remoteEvents.addStateChangeListener(function(t){return e.onRemoteEventsStateChange(t)}))},t.prototype.onRemoteEventsStateChange=function(e){this.eventService&&(this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,e),e.state!==r.ConnectionState.CONNECTED?this.wasDisconnected=!0:this.wasDisconnected&&(this.wasDisconnected=!1,this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_RECONNECTED)))},t.prototype.getRemoteEventsImpl=function(){return this.remoteEvents},t.prototype.supportsPrivateChannel=function(){return this.isRemoteEventsSupported},t.prototype.supportsRemoteEvents=function(){return this.isRemoteEventsSupported},t.prototype.establishPrivateChannel=function(e,t){return this.remoteEventChannels?this.remoteEventChannels.establishPrivateChannel(e,t):n.Promise.as(null)},t.prototype.addRemoteListener=function(e,t){return this.remoteEvents?this.remoteEvents.addListener(e,t):null},t.prototype.reconnect=function(){this.remoteEvents&&this.remoteEvents.tryReconnectNow()},t.prototype.makeRequest=function(t){var i=this;return e.prototype.makeRequest.call(this,t).then(null,function(e){return i.eventService&&440===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.SESSION_OVER}),i.eventService&&449===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.OUTDATED_CLIENT}),n.Promise.wrapError(e)})},t}(r.BaseRequestService);t.RequestService=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/nativeRequestService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/monaco/core/requestService","vs/base/lib/winjs.base","vs/base/performance/timer","vs/base/async","vs/base/strings"],function(e,t,n,r,i,o,s,a){var l=function(t){function r(n){t.call(this,n),n.threadService.registerInstance(this),this._nodeJSXHRFunctionPromise=new i.TPromise(function(t,n){e(["vs/native!server/contrib/http/rawHttpService"],function(e){t(e.xhr)},n)})}return __extends(r,t),r.prototype.getId=function(){return"NativeRequestService"},r.prototype.makeRequest=function(e){var r=e.url;if(!r)throw new Error("IRequestService.makeRequest: Url is required");return a.startsWith(r,"file://")?i.xhr(e).then(null,function(e){return 0===e.status&&e.responseText?e:i.Promise.wrapError(new Error(n.localize("vs_monaco_core_nativeRequestService",0)))}):t.prototype.makeRequest.call(this,e)},r.prototype.makeCrossOriginRequest=function(e){if(e.url.indexOf("localhost")>0)return null;var t=o.nullEvent;return this._telemetryService&&(t=this._telemetryService.start("NativeXHR",{url:e.url},!1)),this._nodeJSXHRFunctionPromise.then(function(n){return s.always(n(e),function(e){t.data&&(t.data.status=e.status),t.stop()})})},r}(r.RequestService);t.NativeRequestService=l}),define("vs/platform/files/nativeFileService",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/paths","vs/base/errors","vs/base/strings","vs/base/arrays","vs/base/diagnostics","vs/base/performance/timer","remote"],function(e,t,n,r,i,o,s,a,l,c,u){function d(e,t){return n.Files.FileStatImpl.fromRAW(e,e.path,t)
}function p(e){return new n.Files.Content(e.resource,e.path,e.value,e.name,e.mtime,e.mime,e.charset,e.etag)}var h=u.require("shell"),m=function(){function t(t,n){var i=this;this.eventService=t.eventService,this.telemetryService=t.telemetryService,this.workspace=n,this.updateTracker={},this.resolveTracker={},this.raw=new r.TPromise(function(t,n){e(["vs/native!server/contrib/files/fileService"],function(e){t(e.createService(i.workspace?i.workspace.resource.path:void 0,i.eventService,{errorLogger:function(e){return o.onUnexpectedError(e)},enableDirtyWriteProtection:!0}))},n)}),this.raw.done(function(){i.eventService.addListener("files:rawFileChanges",function(e){return i.onFileChanges(e)})},o.onUnexpectedError)}return t.prototype.onFileChanges=function(e){e&&(e=a.coalesce(e)).length>0&&this.eventService.emit(n.Files.EventType.FILE_CHANGES,n.Files.FileChangesEvent.fromRaw(e))},t.prototype.resolveFileStat=function(e,t,n){return this.raw.then(function(r){return r.resolveFileStat(e,t,n).then(function(e){return d(e,t)})})},t.prototype.resolveContent=function(e,t,n){var r=this,o=e.toString();this.resolveTracker[o]?v(f.PARALLEL_RESOLVE,new Date,o):this.updateTracker[o]&&v(f.PARALLEL_UPDATE_RESOLVE,new Date,o),this.resolveTracker[o]=!0;var a=c.start(c.Topic.WORKBENCH,s.format("Load {0}",o));return this.raw.then(function(o){return o.resolveContent(e,t,n).then(function(e){a.stop(),v(f.RESOLVE,new Date,e.resource.path,e.mtime);var t=i.extname(e.resource.path);return r.telemetryService.publicLog("fileGet",{mimeType:e.mime,ext:t}),p(e)})})},t.prototype.resolveFileStats=function(e,t){return this.raw.then(function(n){return n.resolveFileStats(e,t).then(function(e){return e.map(function(e){return d(e)})})})},t.prototype.resolveContents=function(e){return this.raw.then(function(t){return t.resolveContents(e).then(function(e){return e.map(function(e){return p(e)})})})},t.prototype.updateContent=function(e,t){var n=this,o=e.resource.toString();this.updateTracker[o]?v(f.PARALLEL_UPDATE,new Date,o,e.mtime):this.resolveTracker[o]&&v(f.PARALLEL_UPDATE_RESOLVE,new Date,o),this.updateTracker[o]=!0;var a=c.start(c.Topic.WORKBENCH,s.format("Save {0}",o));return this.raw.then(function(s){return s.updateContent(e,t).then(function(t){a.stop(),n.updateTracker[o]=!1,v(f.UPDATE,new Date,o,e.mtime,t.mtime);var r=i.extname(t.resource.path);return n.telemetryService.publicLog("filePUT",{mimeType:t.mime,ext:r}),d(t)},function(e){return n.updateTracker[o]=!1,v(f.ERROR,new Date,e),r.Promise.wrapError(e)})})},t.prototype.moveFile=function(e,t,n){return this.raw.then(function(r){return r.moveFile(e,t,n).then(function(e){return d(e)})})},t.prototype.copyFile=function(e,t){return this.raw.then(function(n){return n.copyFile(e,t).then(function(e){return d(e)})})},t.prototype.createFile=function(e,t,n){return this.raw.then(function(r){return r.createFile(e,t,n).then(function(e){return d(e)})})},t.prototype.createFolder=function(e,t){return this.raw.then(function(n){return n.createFolder(e,t).then(function(e){return d(e)})})},t.prototype.createFileOrFolder=function(e,t){return this.raw.then(function(n){return n.createFileOrFolder(e,t).then(function(e){return d(e)})})},t.prototype.renameFile=function(e,t){return this.raw.then(function(n){return n.renameFile(e,t).then(function(e){return d(e)})})},t.prototype.renameFolder=function(e,t){return this.raw.then(function(n){return n.renameFolder(e,t).then(function(e){return d(e)})})},t.prototype.deleteFile=function(e,t){return t?this.doMoveItemToTrash(e):this.raw.then(function(t){return t.deleteFile(e).then(function(e){return d(e)})})},t.prototype.deleteFolder=function(e,t){return t?this.doMoveItemToTrash(e):this.raw.then(function(t){return t.deleteFolder(e).then(function(e){return d(e)})})},t.prototype.doMoveItemToTrash=function(e){if(!this.workspace)return r.Promise.wrapError("Need a workspace to use this");var t=i.normalize(i.join(this.workspace.resource.path,e.path),!0);return h.moveItemToTrash(t),r.TPromise.as(e)},t.prototype.uploadData=function(e,t){return this.raw.then(function(n){return n.uploadData(e,t).then(function(e){return{isNew:e&&e.isNew,stat:e&&d(e.stat)}})})},t.prototype.dispose=function(){this.raw.done(function(e){return e.dispose()})},t}();t.NativeFileService=m;var f;!function(e){e[e.ERROR=0]="ERROR",e[e.MESSAGE=1]="MESSAGE",e[e.PARALLEL_UPDATE=2]="PARALLEL_UPDATE",e[e.PARALLEL_RESOLVE=3]="PARALLEL_RESOLVE",e[e.PARALLEL_UPDATE_RESOLVE=4]="PARALLEL_UPDATE_RESOLVE",e[e.RESOLVE=5]="RESOLVE",e[e.UPDATE=6]="UPDATE"}(f||(f={}));var v;v||(v=l.register("FileServiceDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(" ### FileServices ###");var n=e[0];switch(n){case f.ERROR:console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")"),console.log("            Error: "+e[2]);break;case f.MESSAGE:console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")"),console.log("          Message: "+e[2]);break;case f.PARALLEL_UPDATE:var r=e[2],i=e[3];console.log("   !!! PARALLEL UPDATE ERROR !!!   "),console.log("             Path: "+r),console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")"),console.log("            Mtime: "+i+" ("+new Date(i).toUTCString()+")");break;case f.PARALLEL_RESOLVE:var r=e[2];console.log("   !!! PARALLEL RESOLVE ERROR !!!   "),console.log("             Path: "+r),console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")");break;case f.PARALLEL_UPDATE_RESOLVE:var r=e[2];console.log("   !!! PARALLEL UPDATE & RESOLVE ERROR !!!   "),console.log("             Path: "+r),console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")");break;case f.RESOLVE:var r=e[2],i=e[3];console.log("          Resolve: "+r),console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")"),console.log("            Mtime: "+i+" ("+new Date(i).toUTCString()+")");break;case f.UPDATE:var r=e[2],i=e[3],o=e[4];console.log("           Update: "+r),console.log("               At: "+e[1].getTime()+" ("+e[1].toUTCString()+")"),console.log("   Mtime (before): "+i+" ("+new Date(i).toUTCString()+")"),console.log("    Mtime (after): "+o+" ("+new Date(o).toUTCString()+")")}}))}),define("vs/platform/search/nativeSearchService",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/uri","vs/platform/search/search"],function(e,t,n,r,i,o){var s=function(){function t(t){this._workspace=t,this._raw=new r.TPromise(function(t,n){e(["vs/native!server/contrib/search/ipcRawSearchService"],function(e){t(e.createService())},n)})}return t.prototype.search=function(e){var t,s=[],a=[];return e.extraResources&&(a=a.concat(e.extraResources)),this._workspace&&a.push(this._workspace.resource),t=e.type===n.Search.QueryType.File?this._raw.then(function(t){return t.fileSearch(a.map(function(e){return e.toString()}),e.filePatterns,e.excludeResources.map(function(e){return e.toString()}),e.includeResources.map(function(e){return e.toString()}))}):this._raw.then(function(t){return t.textSearch(a.map(function(e){return e.toString()}),e.filePatterns,e.excludeResources.map(function(e){return e.toString()}),e.includeResources.map(function(e){return e.toString()}),e.contentPattern,e.maxResults)}),new r.PPromise(function(e,n,r){t.done(function(){e(s)},n,function(e){if(e.resource){var t=new o.FileMatch(i.parse(e.resource));if(s.push(t),e.lineMatches)for(var n=0;n<e.lineMatches.length;n++)t.lineMatches.push(new o.LineMatch(e.lineMatches[n].preview,e.lineMatches[n].lineNumber,e.lineMatches[n].offsetAndLengths));r(t)}else r(e)})},function(){return t.cancel()})},t}();t.NativeSearchService=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/lifecycle/nativeLifecycleService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/platform/lifecycle/mainThreadLifecycleService"],function(e,t,n,r){var i=function(e){function t(t){e.call(this),this.messageService=t.messageService}return __extends(t,e),t.prototype.onBeforeUnload=function(){var t=!0,r=e.prototype.collectVeto.call(this);if("string"==typeof r){var i=this.messageService.confirm({message:r,primaryButton:n.localize("vs_platform_lifecycle_nativeLifecycleService",0),secondaryButton:n.localize("vs_platform_lifecycle_nativeLifecycleService",1)});t=!i}else t=!r;return t&&this.fireShutdown(),t},t}(r);t.NativeLifecycleService=i}),define("vs/base/native/servant",["require","exports","vs/base/lib/winjs.base","vs/base/worker/marshalling","ipc"],function(e,t,n,r,i){var o=function(){function e(e,t){var n=this;this._id=e,this._extra=t,this._isDisposed=!1,this._messageHandler=function(e){e.$tbw_id===n._id&&n._extra.onMessage(e.payload)},this._onCrashed=function(e){e.$tbw_id===n._id&&(n._dispose(!1),t.onCrashed())},i.on("tbw",this._messageHandler),i.on("ticino:servant:crashed",this._onCrashed)}return e.create=function(t,o){var s,a,l=100*process.pid+ ++e._instanceCount,c=!0,u=function(t){t.reqId===l&&(c=!1,i.removeListener("ticino:servant:opened",u),s(new e(t.id,o)))},d=function(){c&&(c=!1,i.removeListener("ticino:servant:opened",u),i.send("ticino:servant:cancelOpen",{reqId:l}))},p=new n.TPromise(function(e,t){s=e,a=t},d);return i.on("ticino:servant:opened",u),t.pid=process.pid,t.reqId=l,t.initData=r.serialize(t.initData),i.send("ticino:servant:open",t),p},e.prototype._dispose=function(e){this._isDisposed=!0,i.removeListener("tbw",this._messageHandler),i.removeListener("ticino:servant:crashed",this._onCrashed),e&&i.send("ticino:servant:dispose",{$tbw_id:this._id}),this._messageHandler=null,this._onCrashed=null,this._extra=null,this._id=null},e.prototype.dispose=function(){this._dispose(!0)},e.prototype.send=function(e){if(this._isDisposed)throw new Error("Servant.send: object is disposed!");i.send("ticino:totbw",{$tbw_id:this._id,payload:e})},e.prototype.reveal=function(){if(this._isDisposed)throw new Error("Servant.reveal: object is disposed!");i.send("ticino:servant:reveal",{$tbw_id:this._id})},e.prototype.hide=function(){if(this._isDisposed)throw new Error("Servant.hide: object is disposed!");i.send("ticino:servant:hide",{$tbw_id:this._id})},e._instanceCount=0,e}();t.Servant=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/worker/nativeWorker",["require","exports","vs/base/env","vs/base/errors","vs/base/worker/workerClient","vs/base/native/servant"],function(e,t,n,r,i,o){var s=function(){function e(e,t,n,i){var s=this;this.id=e,this.processDiedCallback=i,this._resolvedBrowserWindow=null,this.browserWindow=o.Servant.create({name:"Process Worker - "+e,module:"vs/base/worker/workerServer",initData:null},{onMessage:function(e){return n(e)},onCrashed:function(){return i(s,!0)}}),this.browserWindow.then(function(e){s._resolvedBrowserWindow=e}).done(null,r.onUnexpectedError),t.onShutdown.add(function(){s.terminate()})}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){n.logWorkerMessages&&(console.log("Dispatching message to process host: "+this.getId()),console.log(e)),this.browserWindow?this.browserWindow.then(function(t){t.send(e)}).done(null,r.onUnexpectedError):console.warn("Cannot send message to the browser window because it was terminated")},e.prototype.terminate=function(){this._resolvedBrowserWindow?(this._resolvedBrowserWindow.dispose(),this._resolvedBrowserWindow=null):this.browserWindow?(this.browserWindow.cancel(),this.browserWindow=null):console.warn("Cannot terminate the browser window because it was terminated"),this.processDiedCallback(this,!1)},e.prototype.openDevTools=function(){this.browserWindow?this.browserWindow.then(function(e){e.reveal()}).done(null,r.onUnexpectedError):console.warn("Cannot terminate openDevTools() on the browser window because it was terminated")},e.prototype.closeDevTools=function(){this.browserWindow?this.browserWindow.then(function(e){e.hide()}).done(null,r.onUnexpectedError):console.warn("Cannot terminate closeDevTools() on the browser window because it was terminated")},e}(),a=function(e){function t(t){e.call(this),this.lifecycleService=t,this.workers=[]}return __extends(t,e),t.prototype.create=function(t,n,r){var i=this;try{var o=new s(t,this.lifecycleService,n,function(e,t){for(var n=0;n<i.workers.length;n++)if(i.workers[n]===e){i.workers.splice(n,1);break}t&&r()});return this.workers.push(o),o}catch(a){return e.prototype.create.call(this,t,n)}},t.prototype.openDevTools=function(){this.workers.forEach(function(e){e.openDevTools()})},t.prototype.closeDevTools=function(){this.workers.forEach(function(e){e.closeDevTools()})},t}(i.DefaultWorkerFactory);t.NativeWorkerFactory=a}),define("vs/platform/plugin/pluginsIPC",["require","exports","vs/base/lib/winjs.base","vs/base/worker/marshalling","vs/base/remote/remote","vs/base/errors"],function(e,t,n,r,i,o){function s(e){var t=0;return function(r,i,o){var s=String(++t),a={c:null,e:null,p:null},c=new n.TPromise(function(e,t,n){a.c=e,a.e=t,a.p=n},function(){e({cancel:s})});return l[s]=a,e({req:s,rpcId:r,method:i,args:o}),c}}function a(e){function t(t){e(r.marshallObject(t,h))}function a(e,t,r){try{return n.TPromise.as(u.handle(e,t,r))}catch(i){return n.TPromise.wrapError(i)}}var c=s(t),u=null,d=Object.create(null),p={callOnRemote:c,registerBigHandler:function(e){u=e},handle:function(e){var n=r.demarshallObject(e,h);if(n.seq){if(!l.hasOwnProperty(n.seq))return console.warn("Got reply to unknown seq"),void 0;var i=l[n.seq];return delete l[n.seq],n.err?(i.e(n.err),void 0):(i.c(n.res),void 0)}if(n.cancel)return d[n.cancel]&&d[n.cancel].cancel(),void 0;if(n.err)return console.error(n.err),void 0;var s=n.rpcId;if(!u)throw new Error("got message before big handler attached!");var c=n.req;d[c]=a(s,n.method,n.args),d[c].then(function(e){delete d[c],t({seq:c,res:e})},function(e){delete d[c],t({seq:c,err:o.transformErrorForSerialization(e)})})}},h=new i.ProxiesMarshallingContribution(p);return p}var l={};t.create=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/thread/nativeThreadService",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/native/servant","vs/platform/thread/mainThreadService","vs/base/worker/nativeWorker","vs/platform/plugin/pluginsIPC","vs/base/errors","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c){var u=function(e){function t(t,n,r,i,o){this.__lifecycleService=n,this.__contextService=r,this.__telemetryService=i,this.__messageService=o,t&&(this.workerFactory=new s.NativeWorkerFactory(n)),e.call(this,r,i,this.workerFactory)}return __extends(t,e),t.prototype.startPluginHost=function(){return this.pluginHost=new d({messageService:this.__messageService,lifecycleService:this.__lifecycleService,contextService:this.__contextService,telemetryService:this.__telemetryService},4),this.pluginHost.getPluginsRemoteCom().registerBigHandler(this),this.pluginHost.getPluginsRemoteCom()},t.prototype.openDevTools=function(){this.pluginHost&&this.pluginHost.openDevTools(),this.workerFactory&&this.workerFactory.openDevTools()},t.prototype.closeDevTools=function(){this.pluginHost&&this.pluginHost.closeDevTools(),this.workerFactory&&this.workerFactory.closeDevTools()},t.prototype.registerAndInstantiatePluginHostActor=function(e,t){return this._createAndRegisterProxyInstance(this.pluginHost.getPluginsRemoteCom(),e,t)},t}(o.MainThreadService);t.NativeMainThreadService=u;var d=function(){function e(e,t){var o=this;this.id=t;var s=function(e){return o.remoteCom.handle(e)},u=function(){e.messageService.show(c.Error,n.localize("vs_platform_thread_nativeThreadService",0))};this._resolvedBrowserWindow=null,this.browserWindow=i.Servant.create({name:"Plugin Host - "+t,module:"vs/monaco/ui/workbench/native/native.plugin",initData:{appSettingsHome:r.appSettingsHome,telemetryService:{enableTelemetry:r.enableTelemetry,enablePrivateTelemetry:r.enablePrivateTelemetry,telemetrySessionID:e.telemetryService.sessionID},contextService:{workspace:e.contextService.getWorkspace(),configuration:e.contextService.getConfiguration(),options:e.contextService.getOptions()}}},{onMessage:s,onCrashed:u}),this.browserWindow.then(function(e){o._resolvedBrowserWindow=e}).done(null,l.onUnexpectedError),e.lifecycleService.onShutdown.add(function(){o.terminate()}),this.remoteCom=a.create(function(e){return o.postMessage(e)})}return e.prototype.getPluginsRemoteCom=function(){return this.remoteCom},e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){r.logWorkerMessages&&(console.log("Dispatching message to plugin host: "+this.getId()),console.log(e)),this.browserWindow?this.browserWindow.then(function(t){t.send(e)}).done(null,l.onUnexpectedError):console.warn("Cannot send message to the browser window because it was terminated")},e.prototype.terminate=function(){this._resolvedBrowserWindow?(this._resolvedBrowserWindow.dispose(),this._resolvedBrowserWindow=null):this.browserWindow?(this.browserWindow.cancel(),this.browserWindow=null):console.warn("Cannot terminate the browser window because it was terminated")},e.prototype.openDevTools=function(){this.browserWindow?this.browserWindow.then(function(e){e.reveal()}).done(null,l.onUnexpectedError):console.warn("Cannot terminate openDevTools() on the browser window because it was terminated")},e.prototype.closeDevTools=function(){this.browserWindow?this.browserWindow.then(function(e){e.hide()}).done(null,l.onUnexpectedError):console.warn("Cannot terminate closeDevTools() on the browser window because it was terminated")},e}()}),define("vs/editor/worker/workerCodeLoader",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/platform/plugins"],function(e,t,n,r,i){var o=function(){function e(e,t){t(e)}return e}(),s=function(){function t(e){this._threadService=e.threadService,this._instantiationService=e.instantiationService}return t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerSideWorkerCodeLoader",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.loadAMDCode=function(t){var r,s,a=this,l=new n.TPromise(function(e,t){r=e,s=t});if(!/^file\:\/\//.test(t)){var c=t.match(/.*(\/plugins\/.*)\.js$/i);c&&(t="vs"+c[1])}return e([t],function(e){"function"==typeof e.activate?a._instantiationService.createInstance(o,function(n){i.PluginManager.callActivateWithCtx(e,n).done(function(e){r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))})}):r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))},s),l},t}();t.WorkerSideWorkerCodeLoader=s}),define("vs/editor/api/base.api",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/base/network","vs/base/uri","vs/base/strings","vs/base/paths","vs/base/severity","vs/platform/plugins","vs/editor/core/range","vs/editor/modes/monarch/monarch","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t;t=new g(e),define("monaco",[],t)}var v=function(){function e(e){this.Promise=r.TPromise,this.URL=i.URL,this.URI=o,this.Models_EndOfLinePreference=m.EndOfLinePreference,this.Modes_Bracket=p.Bracket,this._pathTranslator=new S(e),this.Services_Severity=l}return e.prototype.Range_containsPosition=function(e,t){return u.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return h.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return h.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){d.registerMonarchDefinition(e,t)},e.prototype.Paths_toAbsoluteFilePath=function(e){return this._pathTranslator.asAbsolutePath(e)},e.prototype.Paths_getAppRoot=function(){return n.appRoot},e}();t.BaseMonacoAPI=v,t.createAPI=f;var g=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new b(e),this.Paths=new _(e),this.Plugins=new E(e),this.Services=new w(e)}return e}(),b=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new y(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),y=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)}return e}(),_=function(){function e(e){this.toAbsoluteFilePath=e.Paths_toAbsoluteFilePath.bind(e),this.getAppRoot=e.Paths_getAppRoot.bind(e)}return e}(),w=function(){function e(e){this.Severity=e.Services_Severity}return e}(),E=function(){function e(){this.get=c.get.bind(c)}return e}(),S=function(){function e(e){this._baseFileUrl=e.requestService.getRequestUrl("root",s.empty,!0),this._workspacePath=e.contextService.getWorkspace()?e.contextService.getWorkspace().resource.path:void 0}return e.prototype.asRelativePath=function(e){return this._workspacePath&&s.startsWith(e,this._workspacePath)?e.substr(this._workspacePath.length):null},e.prototype.asUrl=function(e){var t=this.asRelativePath(e);return t?i.URL.fromValue(a.join(this._baseFileUrl,a.normalize(t))):null},e.prototype.asRelativeUrl=function(e){var t=e.toString();return s.startsWith(t,this._baseFileUrl)?t.substr(this._baseFileUrl.length):null},e.prototype.asAbsolutePath=function(e){var t=this.asRelativeUrl(e);return t&&this._workspacePath?a.normalize(a.join(this._workspacePath,t),!0):null},e.prototype.toAbsolutePath=function(e){return e&&this._workspacePath?a.normalize(a.join(this._workspacePath,e),!0):null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/baseRemote.api",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/modesExtensions","vs/editor/api/base.api"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["nonWordTokenTypes","wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","textAfterBrackets","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(i.BaseMonacoAPI);t.RemoteMonacoAPI=o;var s=function(){function e(e){this._threadService=e}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){r.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){n.registerMonarchDefinition(e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){r.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){r.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){r.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){r.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){r.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){r.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){r.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){r.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){r.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return i}}r.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){r.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){r.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){r.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){r.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){r.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){r.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/ticino.api",["require","exports","vs/editor/worker/workerCodeLoader","vs/base/errors","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o,s){var a=function(e){function t(t){var n=this;e.call(this,t,l.getInstance(t.threadService)),r.setUnexpectedErrorHandler(function(e){n._proxy.onUnexpectedPluginHostError(r.transformErrorForSerialization(e))}),o.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiatePluginHostActor("PluginHostTicinoAPI",new i.SyncDescriptor(t))},t.prototype.Modes_loadInBackgroundWorker=function(e){return this._proxy.Modes_loadInBackgroundWorker(e)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t}(s.RemoteMonacoAPI);t.PluginHostTicinoAPI=a;var l=function(e){function t(t){e.call(this,t.threadService),this._proxy=a.getInstance(t.threadService),this._workerCodeLoader=n.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessTicinoAPIHelper",new i.SyncDescriptor(t))},t.prototype.Modes_loadInBackgroundWorker=function(e){var t=this;return this._workerCodeLoader.loadAMDCode(e).then(function(n){return t._threadService.proxifyMethods("workerCodeLoader/"+e,n)})},t.prototype.onUnexpectedPluginHostError=function(e){r.onUnexpectedError(e)},t}(s.RemoteMonacoAPIHost);t.MainProcessTicinoAPIHelper=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.api",["require","exports","vs/editor/modes/modesExtensions","vs/editor/worker/workerCodeLoader","./base.api"],function(e,t,n,r,i){function o(e){i.createAPI(new s(e))
}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=r.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){n.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t.prototype.Modes_DeclarationSupport_register=function(e,t){n.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){n.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){n.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){n.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){n.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){n.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){n.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){n.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var r={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(r.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(r.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;r.getAutoFormatTriggerCharacters=function(){return i}}n.registerFormattingSupport(e,r)},t.prototype.Modes_SuggestSupport_register=function(e,t){n.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){n.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){n.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){n.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){n.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){n.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){n.registerDeclarativeCharacterPairSupport(e,t)},t}(i.BaseMonacoAPI),a=function(){function e(e){o(e)}return e}();t.MonacoAPISetup=a,t.setup=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.worker.api",["require","exports","vs/editor/modes/supports","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t,a.getInstance(t.threadService)),this._resourceService=t.resourceService,i.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.InplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(o.RemoteMonacoAPI);t.WorkerMonacoAPI=s;var a=function(e){function t(t){e.call(this,t.threadService)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new r.SyncDescriptor(t))},t}(o.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/plugin/nativePluginManager",["require","exports","vs/platform/plugins","vs/platform/services"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,!1),this._threadService=t.threadService,this._proxy=o.getInstance(this._threadService)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessPluginManager",new r.SyncDescriptor(t))},t.prototype.$onPluginHostReady=function(e){this.registrationDone(e)},t.prototype.$onPluginActivatedInPluginHost=function(e,t){this.activatedPlugins[e]=t},t.prototype.$registerPlugins=function(t){t.forEach(function(e){e.forceLoadingInUI=e.forceLoadingInUI||!1}),e.prototype.registerPlugins.call(this,t)},t.prototype.$registerPlugin=function(t){t.forceLoadingInUI=t.forceLoadingInUI||!1,e.prototype.registerPlugin.call(this,t)},t.prototype._actualActivatePlugin=function(t){var n=this;return t.forceLoadingInUI?e.prototype._actualActivatePlugin.call(this,t).then(function(e){return n._proxy.$onPluginActivatedInMain(t.pluginId,n._threadService.proxifyMethods("pluginAPI/"+t.pluginId,e)),e}):this._proxy.$activatePlugin(t).then(function(){return n.activatedPlugins[t.pluginId]})},t}(n.PluginManager);t.MainProcessPluginManager=i;var o=function(e){function t(t){e.call(this,!0),this._threadService=t.threadService,this._proxy=i.getInstance(this._threadService)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiatePluginHostActor("PluginHostPluginManager",new r.SyncDescriptor(t))},t.prototype.registrationDone=function(t){e.prototype.registrationDone.call(this,[]),this._proxy.$onPluginHostReady(t)},t.prototype.registerPlugins=function(t){e.prototype.registerPlugins.call(this,t),this._proxy.$registerPlugins(t)},t.prototype.registerPlugin=function(t){e.prototype.registerPlugin.call(this,t),this._proxy.$registerPlugin(t)},t.prototype.$activatePlugin=function(e){return this._activatePlugin(e)},t.prototype.$onPluginActivatedInMain=function(e,t){this.activatedPlugins[e]=t},t.prototype._actualActivatePlugin=function(t){var n=this;return e.prototype._actualActivatePlugin.call(this,t).then(function(e){return n._proxy.$onPluginActivatedInPluginHost(t.pluginId,n._threadService.proxifyMethods("pluginAPI/"+t.pluginId,e)),e})},t}(n.PluginManager);t.PluginHostPluginManager=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/pluginHostModel",["require","exports","vs/editor/core/model/textModelWithTokens","vs/editor/core/model/modelLine"],function(e,t,n,r){var i=function(e){function t(t,n,r,i){e.call(this,[],n,!1,null),this._setVersionId(t),this._url=i,this._modeId=r}return __extends(t,e),t.prototype.getValue=function(t,n){return e.prototype.getValue.call(this,t,n)},t.prototype.getValueInRange=function(t,n){return e.prototype.getValueInRange.call(this,t,n)},t.prototype.getURL=function(){return this._url},t.prototype.getModeId=function(){return this._modeId},t.prototype.getWordAtPosition=function(t,n){return e.prototype.getWordAtPosition.call(this,t,n,!0)},t.prototype.acceptEvents=function(e){for(var t=-1,n=0,r=e.length;r>n;n++){var i=e[n];this._acceptDeleteRange(i.range),this._acceptInsertText({lineNumber:i.range.startLineNumber,column:i.range.startColumn},i.text),t=Math.max(t,i.versionId)}-1!==t&&this._setVersionId(t),this._onContentChanged.fire(e)},t.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return this._lines[e.startLineNumber-1].removeText({},e.startColumn,e.endColumn,!1,!1),void 0}var t=this._lines[e.endLineNumber-1].removeText({},e.endColumn,Number.MAX_VALUE,!1,!1).text;this._lines[e.startLineNumber-1].removeText({},e.startColumn,Number.MAX_VALUE,!1,!1),this._lines[e.startLineNumber-1].insertText({},e.startColumn,{markers:[],text:t},!1),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber)},t.prototype._acceptInsertText=function(e,t){0===t.length;var n=t.split(/\r\n|\r|\n/);if(1===n.length)return this._lines[e.lineNumber-1].insertText({},e.column,{markers:[],text:n[0]},!1),void 0;var i=this._lines[e.lineNumber-1].removeText({},e.column,Number.MAX_VALUE,!1,!1).text;n[n.length-1]+=i,this._lines[e.lineNumber-1].insertText({},e.column,{markers:[],text:n[0]},!1);for(var o=1;o<n.length;o++)this._lines.splice(e.lineNumber+o-1,0,new r.ModelLine(e.lineNumber+o,n[o]))},t}(n.TextModelWithTokens);t.PluginHostModel=i}),define("vs/editor/api/pluginHostModelService",["require","exports","vs/base/eventSource","vs/platform/services","vs/editor/core/constants","vs/editor/api/pluginHostModel"],function(e,t,n,r,i,o){var s=function(){function e(){this._onModelAddedEventSource=new n,this._onModelRemovedEventSource=new n,this.onModelAdded=this._onModelAddedEventSource.value,this.onModelRemoved=this._onModelRemovedEventSource.value,this._models=Object.create(null)}return e.getInstance=function(t){return t.registerAndInstantiatePluginHostActor("PluginHostModelService",new r.SyncDescriptor(e))},e.prototype.addModel=function(e){var t=e.getURL().toString();if(this._models[t])throw new Error("Model `"+t+"` already exists.");this._models[t]=e,this._onModelAddedEventSource.fire(e)},e.prototype.removeModel=function(e){var t=e.getURL().toString();if(!this._models[t])throw new Error("Model `"+t+"` does not exist.");delete this._models[t],this._onModelRemovedEventSource.fire(e)},e.prototype.getModels=function(){var e=[];for(var t in this._models)e.push(this._models[t]);return e},e.prototype.getModel=function(e){return e?this._models[e.toString()]||null:null},e.prototype._onModelAdded=function(e){var t=new o.PluginHostModel(e.versionId,e.value,e.modeId,e.url);this.addModel(t)},e.prototype._onModelRemoved=function(e){var t=this.getModel(e);this.removeModel(t)},e.prototype._onModelEvents=function(e,t){var n=this.getModel(e);if(!(n instanceof o.PluginHostModel))throw new Error("Illegal model events!");n.acceptEvents(t)},e}();t.PluginHostModelService=s;var a=function(){function e(e){this._modelService=e.modelService,this._modelService.onModelAdded.add(this._onModelAdded,this),this._modelService.onModelRemoved.add(this._onModelRemoved,this),this._toDispose=Object.create(null),this._proxy=s.getInstance(e.threadService)}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("MainProcessModelServiceHelper",new r.SyncDescriptor(e))},e.prototype._onModelAdded=function(e){var t=this,n=e.getAssociatedResource();this._toDispose[n.toString()]=e.addBulkListener2(function(e){return t._onModelEvents(n,e)}),this._proxy._onModelAdded({url:e.getAssociatedResource(),versionId:e.getVersionId(),value:e.toRawText(),modeId:e.getMode().getId()})},e.prototype._onModelRemoved=function(e){var t=e.getAssociatedResource();this._toDispose[t.toString()].dispose(),delete this._toDispose[t.toString()],this._proxy._onModelRemoved(t)},e.prototype._onModelEvents=function(e,t){for(var n=[],r=0,o=t.length;o>r;r++){var s=t[r];switch(s.getType()){case i.EventType.ModelContentChanged2:n.push(s.getData())}}n.length>0&&this._proxy._onModelEvents(e,n)},e}();t.MainProcessModelServiceHelper=a}),define("vs/editor/native/textMate/first-mate",[],function(){var e=!1,t=void 0,n={doLoadFirstMate:function(){if(e)return t;e=!0;try{var r=require.__$__nodeRequire("first-mate");for(var i in r)n[i]=r[i];t=!0}catch(o){t=!1}return t}};return n}),define("vs/editor/native/textMate/TMSyntax",["require","exports","vs/editor/modes/modes","vs/editor/modes/modesExtensions","vs/editor/modes/supports","vs/base/collections","./first-mate","vs/platform/services"],function(e,t,n,r,i,o,s,a){function l(e,t,n,r,i,o){var s=u.getInstance(e.threadService);return s.registerDefinition(t,n,r,i,o),null}function c(e,t,n){var r=new p(t,n);return{shouldGenerateEmbeddedModels:!1,getInitialState:function(){return new d(e,null,null)},tokenize:function(e,t,n,i){return r.tokenize(e,t,n,i)}}}t.activate=l;var u=function(){function e(){this._grammarRegistry=null}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("MainProcessTextMateSyntax",new a.SyncDescriptor(e))},e.prototype.registerDefinition=function(e,t,n,i,o){if(!s.doLoadFirstMate())return console.warn("Not registering grammar definition for `"+e+"` because `first-mate` was not found"),void 0;this._grammarRegistry||(this._grammarRegistry=new s.GrammarRegistry);var a=this._grammarRegistry.loadGrammarSync(n);r.registerTokenizationSupport(e,function(e){return c(e,a,o?o:t)})},e}();t.MainProcessTextMateSyntax=u;var d=function(){function e(e,t,n){this._mode=e,this._parentEmbedderState=t,this._ruleStack=n}return e.prototype.clone=function(){return new e(this._mode,this._parentEmbedderState.clone(),this._ruleStack.slice(0))},e.prototype.equals=function(t){if(t===this)return!0;if(!(t&&t instanceof e))return!1;if(!this._parentEmbedderState!=!t.getStateData())return!1;if(this._parentEmbedderState&&!this._parentEmbedderState.equals(t.getStateData()))return!1;if(null===this._ruleStack!=(null===t._ruleStack))return!1;if(this._ruleStack.length!==t._ruleStack.length)return!1;for(var n=0;n<this._ruleStack.length;++n)if(this._ruleStack[n]!==t._ruleStack[n])return!1;return!0},e.prototype.getMode=function(){return this._mode},e.prototype.tokenize=function(){throw new Error},e.prototype.getStateData=function(){return this._parentEmbedderState},e.prototype.setStateData=function(e){this._parentEmbedderState=e},e.prototype.getRuleStack=function(){return this._ruleStack},e}(),p=function(){function e(e,t){this._grammar=e,this._scopeName=t;var n=t.split(".");this._languageSuffix=n[n.length-1]}return e.prototype.detectBracket=function(e){var t=e.charCodeAt(0),r=1===e.length&&h[t]||n.Bracket.None;return r!==n.Bracket.None?r:n.Bracket.None},e.prototype.tokenize=function(e,t,n){var r=this;void 0===n&&(n=0);var o=this._grammar.tokenizeLine(e,t.getRuleStack(),!1),s={tokens:[],actualStopOffset:n+e.length,endState:new d(t.getMode(),t.getStateData(),o.ruleStack),modeTransitions:[{startIndex:n,mode:t.getMode()}]},a=n;return o.tokens.forEach(function(e){for(var t=[],n=1;n<e.scopes.length;++n)for(var o=e.scopes[n].split("."),l=0;l<o.length;++l)t.indexOf(o[l])<0&&t.push(o[l]);var c=r.detectBracket(e.value,t),u=t.join("."),d=a;a+=e.value.length,s.tokens.push(new i.Token(d,u,c))}),s},e}(),h=o.createNumberDictionary();h["(".charCodeAt(0)]=n.Bracket.Open,h[")".charCodeAt(0)]=n.Bracket.Close,h["{".charCodeAt(0)]=n.Bracket.Open,h["}".charCodeAt(0)]=n.Bracket.Close,h["[".charCodeAt(0)]=n.Bracket.Open,h["]".charCodeAt(0)]=n.Bracket.Close}),define("vs/editor/native/textMate/TMSnippets",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/editor/contrib/snippet/snippet","vs/base/json","vs/editor/modes/modesExtensions","fs"],function(e,t,n,r,i,o,s,a){function l(e,t,n){{var r=e.threadService;e.modelService}return c(n).then(function(e){e=o.stripComments(e);var i;try{i=JSON.parse(e)}catch(s){throw new Error("Failed to parse "+n)}var a=d.adapt(i);u.getInstance(r).registerSnippets(t,a)})}function c(e){return new n.TPromise(function(t,n){a.readFile(e,function(e,r){return e?n(e):(t(r.toString()),void 0)})})}t.activate=l;var u=function(){function e(e){this._modelService=e.modelService}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("MainProcessTextMateSnippet",new r.SyncDescriptor(e))},e.prototype.registerSnippets=function(e,t){s.registerSnippets(e,t)},e}();t.MainProcessTextMateSnippet=u;var d=function(){function e(){}return e.adapt=function(t){for(var n=Object.keys(t),r=[],i=0;i<n.length;++i)for(var o=t[n[i]],s=Object.keys(o),a=0;a<s.length;++a){var l=o[s[a]].body,c=o[s[a]].prefix;if("string"==typeof c&&("string"==typeof l||Array.isArray(l)&&l.length>0&&"string"==typeof l[0])){var u="string"==typeof l?l:l.join("\n"),d=e.convertSnippet(u);null!==d&&r.push({type:"snippet",label:c,documentationLabel:s[a],codeSnippet:d})}}return r},e.convertSnippet=function(t){return e.hasRegexReplacementsOrShell(t)?null:i.CodeSnippet.convertExternalSnippet(t,i.ExternalSnippetType.TextMateSnippet)},e.hasRegexReplacementsOrShell=function(e){return/\${\d+\//.test(e)?!0:e.replace(/\\\`/,"q").indexOf("`")>=0},e}()}),define("vs/editor/api/pluginHostMarkerService",["require","exports","vs/platform/services"],function(e,t,n){var r=function(){function e(e){this._proxy=i.getInstance(e.threadService)}return e.prototype.changeOne=function(e,t,n){this._proxy.changeOne(e,t,n)},e.prototype.changeAll=function(e,t){this._proxy.changeAll(e,t)},e.prototype.remove=function(e,t){this._proxy.remove(e,t)},e.prototype.removeAll=function(e){this._proxy.removeAll(e)},e}();t.PluginHostMarkerService=r;var i=function(){function e(e){this._markerService=e.markerService}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("MainProcessMarkerServiceHelper",new n.SyncDescriptor(e))},e.prototype.changeOne=function(e,t,n){this._markerService.changeOne(e,t,n)},e.prototype.changeAll=function(e,t){this._markerService.changeAll(e,t)},e.prototype.remove=function(e,t){this._markerService.remove(e,t)},e.prototype.removeAll=function(e){this._markerService.removeAll(e)},e}();t.MainProcessMarkerServiceHelper=i}),define("vs/editor/api/pluginHostConfigurationService",["require","exports","vs/platform/services"],function(e,t,n){var r=function(){function e(e){this._proxy=i.getInstance(e.threadService)}return e.prototype.loadConfiguration=function(e){return this._proxy.loadConfiguration(e)},e}();t.PluginHostConfigurationService=r;var i=function(){function e(e){this._configurationService=e.configurationService}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("MainProcessConfigurationServiceHelper",new n.SyncDescriptor(e))},e.prototype.loadConfiguration=function(e){return this._configurationService.loadConfiguration(e)},e}();t.MainProcessConfigurationServiceHelper=i}),define("vs/css!vs/monaco/ui/workbench/native/media/nativeshell",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/native/nativeShell",["require","exports","vs/platform/services","vs/base/dom/builder","vs/base/objects","vs/base/ui/widgets/shell/shell","vs/base/env","vs/platform/contextview/contextviewService","vs/platform/contextview/nativeContextmenuService","vs/workbench/constants","vs/workbench/ui/workbench","vs/workbench/ui/services","vs/platform/storage/storage","vs/platform/telemetry/mainTelemetryService","vs/monaco/ui/workbench/baseWorkbenchShell","vs/monaco/ui/workbench/native/nativeIntegration","vs/monaco/ui/workbench/native/nativeUpdate","vs/monaco/ui/workbench/native/nativeServices","vs/monaco/core/nativeRequestService","vs/platform/files/nativeFileService","vs/platform/search/nativeSearchService","vs/platform/lifecycle/nativeLifecycleService","vs/platform/thread/nativeThreadService","vs/base/severity","vs/platform/plugins","vs/editor/api/ticino.api","vs/editor/api/monaco.api","vs/editor/api/monaco.worker.api","vs/platform/plugin/nativePluginManager","vs/editor/api/pluginHostModelService","vs/editor/native/textMate/TMSyntax","vs/editor/native/textMate/TMSnippets","vs/editor/api/pluginHostMarkerService","vs/editor/api/pluginHostConfigurationService","vs/platform/eventService","vs/css!./media/nativeshell"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,N,I,O,R,P){var D=r.$,M=function(e){function t(t,n,r,o){e.call(this,t),this.workspace=n,this.configuration=r,this.options=i.mixin({},o)}return __extends(t,e),t.prototype.createContents=function(t){var n=this,r=e.prototype.createContents.call(this,t);D(r).element("input").attr({type:"file",id:"vs.native.folderpicker",nwdirectory:"nwdirectory"}).hide(),D(r).element("input").attr({type:"file",id:"vs.native.filepicker"}).hide();var i=this.initServices();return this.workbench=new u.Workbench(r.getHTMLElement(),this.workspace,this.configuration,this.options,i),this.workbench.startup({onBeforeUnload:function(){return n.modalView.onBeforeUnload()},onServicesCreated:function(){return n.initPluginSystem()}}),this.workbench.getInstantiationService().createInstance(f.NativeIntegration).integrate(),this.workbench.getInstantiationService().createInstance(v.NativeUpdate),r},t.prototype.initServices=function(){var e=new P.EventService,t=new d.WorkspaceContextService({eventService:e},this.workspace,this.configuration,this.options);t.getConfiguration().additionalWorkerServices=[{serviceId:"requestService",moduleName:"vs/platform/request/nativeWorkerRequestService",ctorName:"NativeWorkerRequestService"}];var n=new h.MainTelemetryService(t,{enableTelemetry:s.enableTelemetry,publicOnly:s.enablePrivateTelemetry?!1:!0});this.windowService=new g.NativeWindowService,this.storageService=new p.Storage(this.workspace);var r=new y.NativeFileService({eventService:e,telemetryService:n},this.workspace),i=new g.NativeConfigurationService({contextService:t,eventService:e,fileService:r}),o=new g.NativeKeybindingService({contextService:t,eventService:e,telemetryService:n},window);this.messageService=new g.NativeMessageService({eventService:e,windowService:this.windowService,telemetryService:n,keybindingService:o},this.modalView),o.setMessageService(this.messageService),this.contextViewService=new a.ContextViewService(this.shellContainer,n,this.messageService);var c=new w.NativeLifecycleService({messageService:this.messageService});c.onShutdown.add(function(){return r.dispose()}),this.threadService=new E.NativeMainThreadService(this.configuration.processWorkers,c,t,n,this.messageService);var u={telemetryService:n,eventService:e,requestService:new b.NativeRequestService({threadService:this.threadService,contextService:t,telemetryService:n,eventService:e}),contextService:t,contextViewService:this.contextViewService,contextMenuService:new l.ContextMenuService(this.messageService,n),messageService:this.messageService,storageService:this.storageService,lifecycleService:c,threadService:this.threadService,fileService:r,searchService:new _.NativeSearchService(this.workspace),windowService:this.windowService,configurationService:i,keybindingService:o};return u},t.prototype.initPluginSystem=function(){if(this.threadService instanceof E.NativeMainThreadService){this.threadService.startPluginHost();var e=A.MainProcessPluginManager.getInstance(this.threadService);T.replacePluginManager(e),k.MainProcessTicinoAPIHelper.getInstance(this.threadService),x.MainProcessWorkerAPIHelper.getInstance(this.threadService),L.MainProcessModelServiceHelper.getInstance(this.threadService),N.MainProcessTextMateSyntax.getInstance(this.threadService),I.MainProcessTextMateSnippet.getInstance(this.threadService),O.MainProcessMarkerServiceHelper.getInstance(this.threadService),R.MainProcessConfigurationServiceHelper.getInstance(this.threadService),this.workbench.getInstantiationService().createInstance(C.MonacoAPISetup)}else console.warn("Plugins will not work because there is no plugin process!")},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var r=this.storageService.get(c.Preferences.THEME,n.StorageScope.GLOBAL,null);r||(r=o.toString(o.Theme.VS_DARK),this.storageService.store(c.Preferences.THEME,r,n.StorageScope.GLOBAL)),this.setTheme(r,!1),this.toUnbind.push(this.storageService.addListener(n.StorageEventType.STORAGE,function(e){e.key===c.Preferences.THEME&&t.setTheme(e.newValue)}))},t.prototype.onUnexpectedError=function(t){e.prototype.onUnexpectedError.call(this,t),t.friendlyMessage&&this.messageService&&this.messageService.show(S.Error,t.friendlyMessage)},t.prototype.layout=function(){e.prototype.layout.call(this),this.contextViewService.layout(),this.workbench.layout()},t.prototype.joinCreation=function(){return this.workbench.joinCreation()},t.prototype.dispose=function(t){if(this.workbench){var n=this.workbench.shutdown(t);if(n)return}this.contextViewService.dispose(),this.storageService.dispose(),e.prototype.dispose.call(this)},t}(m.BaseWorkbenchShell);t.WorkbenchShell=M}),define("vs/monaco/ui/workbench/native/run-native",["require","exports","vs/base/lib/winjs.base","vs/monaco/ui/workbench/native/nativeShell","vs/base/errors","vs/base/env","vs/base/paths","vs/base/performance/timer","vs/base/uri","path","fs","child_process"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e,t){var n={processWorkers:e.enableSelfhost},r=e.filesToOpen&&e.filesToOpen.length?e.filesToOpen.map(function(e){return{resource:l.file(e)}}):null,i={statusBar:!0,singleFileMode:!e.workspacePath||!!r,filesToOpen:r,autoSaveDelay:e.autoSaveDelay,globalSettings:t},o=h(e);if(f(o,n,i),e.enableSelfhost&&o){var a=Math.floor(5e3*Math.random()+1e4),c="http://localhost:"+a;o.events=c+"/api/events/"+o.name+"/",o.build=c+"/api/build/"+o.name+"/";var u=m(e.appRoot,s.normalize(o.resource.path,!0),a);window.addEventListener("beforeunload",function(){u&&u.kill()})}}function h(e){if(!e.workspacePath)return null;var t=c.normalize(u.realpathSync(e.workspacePath)),n=l.file(t),r=c.basename(t),i=u.statSync(t),s={resource:n,id:o.isCaseSensitiveFs?t:t.toLowerCase(),name:r,ctime:i.birthtime.getTime(),mtime:i.mtime.getTime(),root:n.toString()+"/"};return s}function m(e,t,n,r){var i;switch(process.platform){case"win32":i=c.join(e,"tools","bin","win","node.exe");break;case"darwin":i=c.join(e,"tools","bin","osx","node");break;default:i="node"}var o=c.join(e,"server","run-monaco.js"),s=[o,"--slim","-m","-p",""+n,"-w",c.dirname(t)];console.log("%cServer output: %cstdout%c, %cstderr","font-weight: bold;","background: #ddd; font-style: italic;","","background: #edd; font-style: italic;","");var a=function(e){return e.toString().replace(/\r?\n$/gm,"")},l=d.spawn(i,s);return l.stdout.on("data",function(e){console.log("%c"+a(e),"background: #ddd; font-style: italic;"),/running at port/.test(e)&&r&&r()}),l.stderr.on("data",function(e){console.log("%c"+a(e),"background: #edd; font-style: italic;")}),l.on("close",function(e){console.warn("[node.js]: exited with code "+e)}),process.on("exit",function(){l.kill()}),l}function f(e,t,o){window.MonacoEnvironment.timers.beforeReady=new Date,n.Utilities.ready(function(){window.MonacoEnvironment.timers.afterReady=new Date;var n=new Date,s=new r.WorkbenchShell(document.body,e,t,o);s.open(),s.joinCreation().then(function(){a.start(a.Topic.STARTUP,"Open Shell, Viewlet & Editor",n,"Workbench has opened after this event with viewlet and editor restored").stop()}),self.require.config({onError:function(e){"load"===e.errorCode&&s.onUnexpectedError(i.loaderError())}})},!0).done(null,function(e){console.error(i.toErrorMessage(e,!0))})}t.startup=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/native/nativeActions",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/base/performance/timer","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/platform/thread/nativeThreadService","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","remote","web-frame"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h="workbench.action.closeActiveEditor",m=c.localize("vs_monaco_ui_workbench_native_nativeActions",0),f=function(e){function t(t){e.call(this,h,m),this.editorService=t.editorService,this.windowService=t.windowService}return __extends(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e?this.editorService.closeEditor(e):(this.windowService.getWindow().close(),n.Promise.as(!1))},t}(o.Action);t.CloseEditorAction=f;var v="workbench.action.closeWindow",g=c.localize("vs_monaco_ui_workbench_native_nativeActions",1),b=function(e){function t(t){e.call(this,v,g),this.windowService=t.windowService}return __extends(t,e),t.prototype.run=function(){return this.windowService.getWindow().close(),n.Promise.as(!0)},t}(o.Action),y="workbench.action.newWindow",_=c.localize("vs_monaco_ui_workbench_native_nativeActions",2),w=function(e){function t(t){e.call(this,y,_),this.windowService=t.windowService}return __extends(t,e),t.prototype.run=function(){return this.windowService.getWindow().openNew(),n.Promise.as(!0)},t}(o.Action),E="workbench.action.toggleFullScreen",S=c.localize("vs_monaco_ui_workbench_native_nativeActions",3),T=function(e){function t(t){e.call(this,E,S),this.windowService=t.windowService}return __extends(t,e),t.prototype.run=function(){var e=this.windowService.getWindow(),t=e.isFullScreen();return e.setFullScreen(!t),e.setMenuBarVisibility(t),n.Promise.as(!0)},t}(o.Action),k="workbench.action.zoomIn",C=c.localize("vs_monaco_ui_workbench_native_nativeActions",4),x=function(e){function t(){e.call(this,k,C)}return __extends(t,e),t.prototype.run=function(){return p.setZoomLevel(p.getZoomLevel()+1),n.Promise.as(!0)},t}(o.Action),A="workbench.action.zoomOut",L=c.localize("vs_monaco_ui_workbench_native_nativeActions",5),N=function(e){function t(){e.call(this,A,L)}return __extends(t,e),t.prototype.run=function(){return p.setZoomLevel(p.getZoomLevel()-1),n.Promise.as(!0)},t}(o.Action),I="workbench.action.appPerf",O=c.localize("vs_monaco_ui_workbench_native_nativeActions",6),R=function(e){function t(t){e.call(this,I,O),this.windowService=t.windowService}return __extends(t,e),t.prototype.run=function(){var e,t=[],r=Math.round(d.getGlobal("programStart")||d.getGlobal("ticinoStart")),o=Math.round(d.getGlobal("windowShow")),s=i.getTimeKeeper().getCollectedEvents();s.forEach(function(n){if("Startup"===n.topic){e=n;var i={};i.Event=n.name,i["Took (ms)"]=n.stopTime.getTime()-n.startTime.getTime(),i["Start (ms)"]=Math.max(n.startTime.getTime()-r,0),i["End (ms)"]=n.stopTime.getTime()-r,t.push(i)}}),t.push({Event:"---------------------------"});var a={};a.Event="Show Window at",a["Start (ms)"]=o-r,t.push(a);var l={};return l.Event="Total",l["Took (ms)"]=e.stopTime.getTime()-r,t.push(l),this.windowService.getWindow().openDevTools(),setTimeout(function(){console.warn("Run the action again if you do not see the numbers!"),console.table(t)},1e3),n.Promise.as(!0)},t}(o.Action),P=function(e){function t(n){e.call(this,t.ID,t.LABEL),this.threadService=n.threadService}return __extends(t,e),t.prototype.run=function(){return this.threadService.isInMainThread&&this.threadService instanceof l.NativeMainThreadService&&this.threadService.openDevTools(),n.Promise.as(null)},t.ID="workbench.action.openWorkerDevTools",t.LABEL="Show workers",t}(o.Action),D=function(e){function t(t){e.call(this,P.ID,P.LABEL),this.threadService=t.threadService}return __extends(t,e),t.prototype.run=function(){return this.threadService.isInMainThread&&this.threadService instanceof l.NativeMainThreadService&&this.threadService.closeDevTools(),n.Promise.as(null)},t.ID="workbench.action.closeWorkerDevTools",t.LABEL="Hide workers",t}(o.Action),M=function(e){function t(){e.call(this,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){return d.getCurrentWindow().reload(),n.Promise.as(null)},t.ID="workbench.action.reloadWindow",t.LABEL="Reload Window",t}(o.Action),F=c.localize("vs_monaco_ui_workbench_native_nativeActions",7),V=r.Registry.as(a.Extensions.WorkbenchActions);V.registerWorkbenchAction(new s.SyncActionDescriptor(w,y,_,{ctrlCmd:!0,shift:!0,key:"N"})),V.registerWorkbenchAction(new s.SyncActionDescriptor(b,v,g,{ctrlCmd:!0,shift:!0,key:"W"})),V.registerWorkbenchAction(new s.SyncActionDescriptor(T,E,S,u.isMacintosh?{ctrlCmd:!0,winCtrl:!0,key:"F"}:{key:"F11"}),F),V.registerWorkbenchAction(new s.SyncActionDescriptor(x,k,C,{ctrlCmd:!0,shift:!1,key:"="}),F),V.registerWorkbenchAction(new s.SyncActionDescriptor(N,A,L,{ctrlCmd:!0,shift:!1,key:"-"}),F),u.enablePerformanceEvents&&V.registerWorkbenchAction(new s.SyncActionDescriptor(R,I,I,{key:"F2"})),V.registerWorkbenchAction(new s.SyncActionDescriptor(P,P.ID,null,{ctrlCmd:!0,shift:!0,key:"F12"})),V.registerWorkbenchAction(new s.SyncActionDescriptor(D,D.ID,null,{ctrlCmd:!0,shift:!0,key:"F11"})),V.registerWorkbenchAction(new s.SyncActionDescriptor(M,M.ID,M.LABEL)),V.registerWorkbenchAction(new s.SyncActionDescriptor(f,h,m,{ctrlCmd:!0,key:"W"}))
}),define("vs/css!vs/base/performance/timerRenderer",["vs/css!vs/monaco/ui/workbench/native/native.main"],{}),define("vs/base/performance/timerRenderer",["require","exports","./timer","vs/base/dom/dom","vs/css!./timerRenderer"],function(e,t,n,r){var i=function(){function e(e){var t=this;this.timeKeeper=n.getTimeKeeper(),this.onHide=e,this.lastEventIndex=0,this.renderedEvents={},this.renderCnt=0,this.listenersToRemove=[],this.domNode=this._createDomNode(),this.intervalTokenId=window.setInterval(function(){return t._render()},500)}return e.prototype.destroy=function(){document.body.removeChild(this.outerDomNode),window.clearInterval(this.intervalTokenId),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype._createDomNode=function(){var e=this;this.outerDomNode=document.createElement("div"),this.outerDomNode.className="benchmarktimerbox";var t=document.createElement("input");t.type="button",t.value="Clear",this.listenersToRemove.push(r.addListener(t,"click",function(){return e._onClear()})),this.outerDomNode.appendChild(t),this.textFilterDomNode=document.createElement("input"),this.textFilterDomNode.type="text",this.textFilterDomNode.className="textFilter",this.listenersToRemove.push(r.addListener(this.textFilterDomNode,"keydown",function(){return e.onTextFilterChange()})),this.textFilter="",this.outerDomNode.appendChild(document.createTextNode("Filter")),this.outerDomNode.appendChild(this.textFilterDomNode),this.timeFilterDomNode=document.createElement("input"),this.timeFilterDomNode.type="text",this.timeFilterDomNode.value="0",this.timeFilterDomNode.className="timeFilter",this.listenersToRemove.push(r.addListener(this.timeFilterDomNode,"keydown",function(){return e.onTimeFilterChange()})),this.timeFilter=0,this.outerDomNode.appendChild(document.createTextNode("Hide time under")),this.outerDomNode.appendChild(this.timeFilterDomNode);var n=document.createElement("input");n.type="button",n.value="Close",this.listenersToRemove.push(r.addListener(n,"click",function(){e.onHide()})),this.outerDomNode.appendChild(n);var i=document.createElement("pre");i.appendChild(document.createTextNode(this.renderRow("TOPIC","NAME","TOOK","START","END"))),this.outerDomNode.appendChild(i),this.outerDomNode.appendChild(document.createElement("hr"));var o=document.createElement("div");return o.className="inner",this.outerDomNode.appendChild(o),document.body.appendChild(this.outerDomNode),o},e.prototype.onTextFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.onTimeFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.matchesTextFilter=function(e){return this.textFilter?e.topic.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:e.name.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:!1:!0},e.prototype.matchesTimeFilter=function(e){return this.timeFilter?e.timeTaken()>=this.timeFilter?!0:!1:!0},e.prototype.shouldShow=function(e){return this.matchesTextFilter(e)&&this.matchesTimeFilter(e)},e.prototype.refilter=function(){this.textFilter=this.textFilterDomNode.value,this.timeFilter=parseInt(this.timeFilterDomNode.value,10);for(var e=Array.prototype.slice.call(this.domNode.children,0),t=0;t<e.length;t++){var n=e[t].getAttribute("data-event-id"),r=this.renderedEvents[n];e[t].style.display=this.shouldShow(r)?"inherit":"none"}},e.prototype._onClear=function(){this.lastEventIndex=this.timeKeeper.getCollectedEvents().length,this.renderedEvents={},this.renderCnt=0,r.clearNode(this.domNode)},e.prototype.leftPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return r+n},e.prototype.rightPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return n+r},e.prototype.renderRow=function(e,t,n,r){var i=" ";return i+=this.rightPaddedString(10," ",e),i+=this.rightPaddedString(30," ",t),i+=" "+this.leftPaddedString(15," ",n),i+=" "+this.leftPaddedString(13," ",r)},e.prototype._suffix0=function(e){return"."===e.charAt(e.length-3)?e:"."===e.charAt(e.length-2)?e+"0":e+".00"},e.prototype._twoPrecision=function(e){return this._suffix0(Math.round(100*e)/100+"")},e.prototype._absoluteTime=function(e){return 1e3>e?this._twoPrecision(e)+" ms":(e/=1e3,60>e?this._twoPrecision(e)+" s":(e/=60,60>e?this._twoPrecision(e)+" m":(e/=60,this._twoPrecision(e)+" h")))},e.prototype._renderEvent=function(e,t){var r=t.startTime.getTime()-n.TimeKeeper.PARSE_TIME.getTime(),i=this.renderRow(t.topic,t.name,this._twoPrecision(t.timeTaken()),this._absoluteTime(r)+"",this._absoluteTime(r+t.timeTaken()));e.textContent="",e.appendChild(document.createTextNode(i))},e.prototype._renderStartTimerEvent=function(e){var t=document.createElement("pre");this._renderEvent(t,e),this.domNode.appendChild(t);var n=e.id.toString();t.setAttribute("data-event-id",n),t.className="timer-event-"+e.id%2,this.renderedEvents[n]=e,t.style.display=this.shouldShow(this.renderedEvents[n])?"inherit":"none",this.renderCnt++},e.prototype._render=function(){for(var e=this.timeKeeper.getCollectedEvents(),t=!1,n=this.lastEventIndex;n<e.length;n++){var r=e[n];if(!r.stopTime)return this.lastEventIndex=n,t&&(this.domNode.scrollTop=1e5),void 0;this._renderStartTimerEvent(r),t=!0}t&&(this.domNode.scrollTop=1e5),this.lastEventIndex=e.length},e.prototype._repeatStr=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},e}();t.TimeKeeperRenderer=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/showPerformanceBox",["require","exports","vs/base/lib/winjs.base","vs/base/performance/timerRenderer","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.showPerfBox",u="Display Performance Box",d=null,p=function(e){function t(){e.call(this,c,u,null,!0)}return __extends(t,e),t.prototype.run=function(){return null===d&&(d=new r.TimeKeeperRenderer(function(){d.destroy(),d=null})),n.Promise.as(!0)},t}(o.Action);if(t.ShowPerformanceBox=p,s.enablePerformanceTools){var h=i.Registry.as(l.Extensions.WorkbenchActions);h.registerWorkbenchAction(new a.SyncActionDescriptor(p,c,u))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/openSettings",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/uri","vs/base/severity","vs/base/network","vs/base/ui/labels","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/editor/stringEditorInput","vs/platform/configuration/model"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(e){function t(t,n,r){e.call(this,n,r),this.editorService=t.editorService,this.fileService=t.fileService,this.contextService=t.contextService,this.textFileService=t.textFileService,this.configurationService=t.configurationService,this.messageSerivce=t.messageService,this.instantiationService=t.instantiationService,this.enabled=!0}return __extends(t,e),t.prototype.createIfNotExists=function(e,t){var o=this;return this.fileService.resolveContent(e,!0).then(null,function(s){return s.fileOperationResult===r.Files.FileOperationResult.FILE_NOT_FOUND?o.fileService.updateContent({resource:e,value:t}).then(null,function(){return n.Promise.wrapError(new Error(i.localize("vs_monaco_contrib_actions_openSettings",0,c.getPathLabel(e,o.contextService))))}):n.Promise.wrapError(s)})},t.prototype.openTwoEditors=function(e,t,n){var i=this,o={resource:t};return this.textFileService.getWorkingFilesModel().addEntry(t),this.createIfNotExists(t,n).then(function(){return i.editorService.inputToType(o).then(function(t){return i.editorService.setEditors([e,t]).then(function(){return i.editorService.focusEditor(r.Position.CENTER)})})})},t}(d.Action);t.BaseTwoEditorsAction=v;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.open=function(e,t){var n=f.getDefaultValuesContent(),r="// "+i.localize("vs_monaco_contrib_actions_openSettings",1),o=new w(i.localize("vs_monaco_contrib_actions_openSettings",2),null,r+"\n"+n,"application/json");return this.openTwoEditors(o,t,e)},t}(v);t.BaseOpenSettingsAction=g;var b=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){if(this.configurationService.hasWorkspaceConfiguration()){var e=this.messageSerivce.show(a.Info,{message:i.localize("vs_monaco_contrib_actions_openSettings",3),actions:[this.instantiationService.createInstance(_)]});setTimeout(function(){return e()},1e4)}var t=i.localize("vs_monaco_contrib_actions_openSettings",4);return this.open("// "+t+"\n{\n}",s.file(o.appSettingsPath))},t.ID="workbench.action.openGlobalSettings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",5),t}(g);t.OpenGlobalSettingsAction=b;var y=function(e){function t(n){e.call(this,n,t.ID,t.LABEL),this.keybindingService=n.keybindingService}return __extends(t,e),t.prototype.run=function(){var e="// "+i.localize("vs_monaco_contrib_actions_openSettings",6)+"\n[\n]",t="// "+i.localize("vs_monaco_contrib_actions_openSettings",7),n=this.keybindingService.getDefaultKeybindings(),r=new E(i.localize("vs_monaco_contrib_actions_openSettings",8),null,t+"\n"+n,"application/json");return this.openTwoEditors(r,s.file(o.appKeybindingsPath),e)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",9),t}(v);t.OpenGlobalKeybindingsAction=y;var _=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){if(!this.contextService.getWorkspace())return this.messageSerivce.show(a.Info,i.localize("vs_monaco_contrib_actions_openSettings",10)),void 0;var e=["// "+i.localize("vs_monaco_contrib_actions_openSettings",11),"{","}"].join("\n");return this.open(e,this.contextService.toResource("/.settings/settings.json"))},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=o.isNative?i.localize("vs_monaco_contrib_actions_openSettings",12):i.localize("vs_monaco_contrib_actions_openSettings",13),t}(g);t.OpenWorkspaceSettingsAction=_;var w=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.settings/defaults.json")},t}(m.StringEditorInput),E=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.keybindings/defaults.json")},t}(m.StringEditorInput),S=i.localize("vs_monaco_contrib_actions_openSettings",14),T=u.Registry.as(h.Extensions.WorkbenchActions);o.isNative&&(T.registerWorkbenchAction(new p.SyncActionDescriptor(b,b.ID,b.LABEL,o.isMacintosh?{ctrlCmd:!0,key:","}:void 0),S),T.registerWorkbenchAction(new p.SyncActionDescriptor(y,y.ID,y.LABEL),S)),T.registerWorkbenchAction(new p.SyncActionDescriptor(_,_.ID,_.LABEL),S)}),define("vs/css!vs/monaco/contrib/feedback/feedback",["vs/css!vs/monaco/ui/workbench/native/native.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/feedback/feedback",["require","exports","vs/nls!vs/monaco/ui/workbench/native/native.main","vs/base/env","vs/base/types","vs/base/dom/builder","vs/base/errors","vs/base/dom/dom","vs/base/http","vs/base/lib/winjs.base","vs/base/ui/widgets/dropdown/dropdown","vs/css!./feedback"],function(e,t,n,r,i,o,s,a,l,c,u){var d=o.$,p=500,h=function(){function e(e){this.requestService=e.requestService,this.telemetryService=e.telemetryService}return e.prototype.submitFeedback=function(e){return this.telemetryService.publicLog("feedbackSubmitted",{sentiment:e.sentiment}),this.requestService.makeRequest({type:l.POST,url:this.requestService.getRequestUrl("feedback"),headers:{"Content-Type":l.Mime.JSON},data:JSON.stringify({contact:e.alias,description:e.feedback,sentiment:e.sentiment})})},e}();t.DefaultFeedbackService=h;var m;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(m||(m={}));var f=function(e){function t(t,n,r){e.call(this,n,{contextViewProvider:r.contextViewProvider,labelRenderer:function(e){return d(e).addClass("send-feedback"),null}}),this.$el.addClass("send-feedback"),this.feedbackService=i.isUndefined(r.feedbackService)?t.instantiationService.createInstance(h):r.feedbackService,this.feedback="",this.alias="",this.aliasEnabled=!1,this.sentiment=1,this.feedbackForm=null,this.feedbackDescriptionInput=null,this.feedbackAliasInput=null,this.smileyInput=null,this.frownyInput=null,this.sendButton=null}return __extends(t,e),t.prototype.renderContents=function(e){var t=this,i=d("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);d(e).addClass("monaco-menu-container"),this.feedbackForm=i.getHTMLElement(),d("h2.title").text(n.localize("vs_monaco_contrib_feedback_feedback",0)).appendTo(i),this.invoke(d("div.cancel"),function(){t.hide()}).appendTo(i),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",1)).appendTo(i);var o=d("div.feedback-sentiment").appendTo(i);this.smileyInput=d("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",2),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(o),this.frownyInput=d("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",3),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(o),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true"),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",4)).appendTo(i),this.feedbackDescriptionInput=d("textarea.feedback-description").attr({rows:8,"aria-label":n.localize("vs_monaco_contrib_feedback_feedback",5)}).text(this.feedback).attr("required","required").on("keyup",function(){t.feedbackDescriptionInput.value?t.sendButton.removeAttribute("disabled"):t.sendButton.attr("disabled","")}).appendTo(i).domFocus().getHTMLElement();var s=n.localize("vs_monaco_contrib_feedback_feedback",6);this.feedbackAliasInput=d("input.feedback-alias").type("text").text(s).attr("type","email").attr("placeholder",n.localize("vs_monaco_contrib_feedback_feedback",7)).value(this.alias).attr("aria-label",s).appendTo(i).getHTMLElement();var a=d("div.form-buttons").appendTo(i);return r.privacyLink&&d("a").addClass("privacyLink").attr("target","_BLANK").href(r.privacyLink).text(n.localize("vs_monaco_contrib_feedback_feedback",8)).appendTo(a),this.sendButton=this.invoke(d("input.send").type("submit").attr("disabled","").value(n.localize("vs_monaco_contrib_feedback_feedback",9)).appendTo(a),function(){t.isSendingFeedback||t.onSubmit().then(null,function(){})}),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.feedbackAliasInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var n=e;(13===n.keyCode||32===n.keyCode)&&t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.feedbackAliasInput&&(this.alias=this.feedbackAliasInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;if(27===n.keyCode)return this.hide(),void 0}a.isAncestor(t,this.feedbackForm)||this.hide()},t.prototype.onSubmit=function(){var e=this;return this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()?c.Promise.as(null):(this.changeFormStatus(m.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,alias:this.feedbackAliasInput.value,sentiment:this.sentiment}).then(function(){return setTimeout(function(){e.changeFormStatus(m.SENT)},p),""},function(t){return setTimeout(function(){e.changeFormStatus(m.SEND_ERROR)},p),c.Promise.wrapError(new s.ConnectionError(t))}))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case m.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(n.localize("vs_monaco_contrib_feedback_feedback",10));break;case m.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(n.localize("vs_monaco_contrib_feedback_feedback",11)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])});break;case m.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(n.localize("vs_monaco_contrib_feedback_feedback",12))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput.value="",this.feedbackAliasInput.value="",this.sentiment=1,this.aliasEnabled=!1},t}(u.Dropdown);t.FeedbackDropdown=f}),define("vs/monaco/contrib/feedback/feedback.native.contribution",["require","exports","vs/base/env","vs/platform/platform","vs/workbench/ui/parts/statusbar/statusbar","./feedback","remote"],function(e,t,n,r,i,o,s){var a=s.require("app"),l=function(){function e(e){this.requestService=e.requestService}return e.prototype.submitFeedback=function(t){var n=JSON.stringify({version:1,user:t.alias,userType:"External",text:t.feedback,source:"Send a smile",sentiment:t.sentiment,tags:[{type:"product",value:"Ticino"},{type:"product-version",value:a.getVersion()}]});return this.requestService.makeRequest({type:"POST",url:e.ServiceUrl,data:n,headers:{"Content-Type":"application/json; charset=utf8","Content-Length":n.length}})},e.ServiceUrl="https://sendvsfeedback.cloudapp.net/api/verbatim",e}(),c=function(){function e(e){this.instantiationService=e.instantiationService,this.contextViewService=e.contextViewService}return e.prototype.render=function(e){return this.instantiationService.createInstance(o.FeedbackDropdown,e,{contextViewProvider:this.contextViewService,feedbackService:this.instantiationService.createInstance(l)})},e}();n.enableFeedback&&r.Registry.as(i.Extensions.Statusbar).registerStatusbarItem(new i.StatusbarItemDescriptor(c,i.StatusbarAlignment.RIGHT,-10))}),define("vs/monaco/ui/workbench/native/native.main",["vs/base/strings","vs/base/errors","vs/base/cookiesUtil","vs/editor/editor.all","vs/workbench/workbench.native","vs/workbench/contrib/git/native/git.native.contribution","vs/workbench/contrib/debug/debug.contribution","vs/workbench/contrib/emmet/emmet.contribution","vs/languages/csharp/csharp.workbench.contribution","vs/monaco/ui/workbench/native/run-native","vs/monaco/ui/workbench/native/nativeActions","vs/monaco/contrib/actions/showPerformanceBox","vs/monaco/contrib/actions/openSettings","vs/monaco/contrib/feedback/feedback.native.contribution"],function(){});